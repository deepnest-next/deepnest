(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function s(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(i){if(i.ep)return;i.ep=!0;const r=s(i);fetch(i.href,r)}})();const rs=!1,as=(t,e)=>t===e,oe=Symbol("solid-proxy"),Ge=Symbol("solid-track"),Ae={equals:as};let Et=jt;const ie=1,Ee=2,Rt={owned:null,cleanups:null,context:null,owner:null};var P=null;let He=null,os=null,A=null,V=null,ee=null,Ke=0;function Ne(t,e){const s=A,n=P,i=t.length===0,r=e===void 0?n:e,a=i?Rt:{owned:null,cleanups:null,context:r?r.context:null,owner:r},o=i?t:()=>t(()=>W(()=>xe(a)));P=a,A=null;try{return pe(o,!0)}finally{A=s,P=n}}function te(t,e){e=e?Object.assign({},Ae,e):Ae;const s={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0},n=i=>(typeof i=="function"&&(i=i(s.value)),Dt(s,i));return[Tt.bind(s),n]}function D(t,e,s){const n=st(t,e,!1,ie);Le(n)}function ls(t,e,s){Et=gs;const n=st(t,e,!1,ie);n.user=!0,ee?ee.push(n):Le(n)}function M(t,e,s){s=s?Object.assign({},Ae,s):Ae;const n=st(t,e,!0,0);return n.observers=null,n.observerSlots=null,n.comparator=s.equals||void 0,Le(n),Tt.bind(n)}function us(t){return pe(t,!1)}function W(t){if(A===null)return t();const e=A;A=null;try{return t()}finally{A=e}}function tt(t){ls(()=>W(t))}function It(t){return P===null||(P.cleanups===null?P.cleanups=[t]:P.cleanups.push(t)),t}function Qe(){return A}function cs(t,e){const s=Symbol("context");return{id:s,Provider:ms(s),defaultValue:t}}function fs(t){let e;return P&&P.context&&(e=P.context[t.id])!==void 0?e:t.defaultValue}function Ft(t){const e=M(t),s=M(()=>Xe(e()));return s.toArray=()=>{const n=s();return Array.isArray(n)?n:n!=null?[n]:[]},s}function Tt(){if(this.sources&&this.state)if(this.state===ie)Le(this);else{const t=V;V=null,pe(()=>Ie(this),!1),V=t}if(A){const t=this.observers?this.observers.length:0;A.sources?(A.sources.push(this),A.sourceSlots.push(t)):(A.sources=[this],A.sourceSlots=[t]),this.observers?(this.observers.push(A),this.observerSlots.push(A.sources.length-1)):(this.observers=[A],this.observerSlots=[A.sources.length-1])}return this.value}function Dt(t,e,s){let n=t.value;return(!t.comparator||!t.comparator(n,e))&&(t.value=e,t.observers&&t.observers.length&&pe(()=>{for(let i=0;i<t.observers.length;i+=1){const r=t.observers[i],a=He&&He.running;a&&He.disposed.has(r),(a?!r.tState:!r.state)&&(r.pure?V.push(r):ee.push(r),r.observers&&Ut(r)),a||(r.state=ie)}if(V.length>1e6)throw V=[],new Error},!1)),e}function Le(t){if(!t.fn)return;xe(t);const e=Ke;ds(t,t.value,e)}function ds(t,e,s){let n;const i=P,r=A;A=P=t;try{n=t.fn(e)}catch(a){return t.pure&&(t.state=ie,t.owned&&t.owned.forEach(xe),t.owned=null),t.updatedAt=s+1,Mt(a)}finally{A=r,P=i}(!t.updatedAt||t.updatedAt<=s)&&(t.updatedAt!=null&&"observers"in t?Dt(t,n):t.value=n,t.updatedAt=s)}function st(t,e,s,n=ie,i){const r={fn:t,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:P,context:P?P.context:null,pure:s};return P===null||P!==Rt&&(P.owned?P.owned.push(r):P.owned=[r]),r}function Re(t){if(t.state===0)return;if(t.state===Ee)return Ie(t);if(t.suspense&&W(t.suspense.inFallback))return t.suspense.effects.push(t);const e=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<Ke);)t.state&&e.push(t);for(let s=e.length-1;s>=0;s--)if(t=e[s],t.state===ie)Le(t);else if(t.state===Ee){const n=V;V=null,pe(()=>Ie(t,e[0]),!1),V=n}}function pe(t,e){if(V)return t();let s=!1;e||(V=[]),ee?s=!0:ee=[],Ke++;try{const n=t();return hs(s),n}catch(n){s||(ee=null),V=null,Mt(n)}}function hs(t){if(V&&(jt(V),V=null),t)return;const e=ee;ee=null,e.length&&pe(()=>Et(e),!1)}function jt(t){for(let e=0;e<t.length;e++)Re(t[e])}function gs(t){let e,s=0;for(e=0;e<t.length;e++){const n=t[e];n.user?t[s++]=n:Re(n)}for(e=0;e<s;e++)Re(t[e])}function Ie(t,e){t.state=0;for(let s=0;s<t.sources.length;s+=1){const n=t.sources[s];if(n.sources){const i=n.state;i===ie?n!==e&&(!n.updatedAt||n.updatedAt<Ke)&&Re(n):i===Ee&&Ie(n,e)}}}function Ut(t){for(let e=0;e<t.observers.length;e+=1){const s=t.observers[e];s.state||(s.state=Ee,s.pure?V.push(s):ee.push(s),s.observers&&Ut(s))}}function xe(t){let e;if(t.sources)for(;t.sources.length;){const s=t.sources.pop(),n=t.sourceSlots.pop(),i=s.observers;if(i&&i.length){const r=i.pop(),a=s.observerSlots.pop();n<i.length&&(r.sourceSlots[a]=n,i[n]=r,s.observerSlots[n]=a)}}if(t.tOwned){for(e=t.tOwned.length-1;e>=0;e--)xe(t.tOwned[e]);delete t.tOwned}if(t.owned){for(e=t.owned.length-1;e>=0;e--)xe(t.owned[e]);t.owned=null}if(t.cleanups){for(e=t.cleanups.length-1;e>=0;e--)t.cleanups[e]();t.cleanups=null}t.state=0}function ps(t){return t instanceof Error?t:new Error(typeof t=="string"?t:"Unknown error",{cause:t})}function Mt(t,e=P){throw ps(t)}function Xe(t){if(typeof t=="function"&&!t.length)return Xe(t());if(Array.isArray(t)){const e=[];for(let s=0;s<t.length;s++){const n=Xe(t[s]);Array.isArray(n)?e.push.apply(e,n):e.push(n)}return e}return t}function ms(t,e){return function(n){let i;return D(()=>i=W(()=>(P.context={...P.context,[t]:n.value},Ft(()=>n.children))),void 0),i}}const vs=Symbol("fallback");function dt(t){for(let e=0;e<t.length;e++)t[e]()}function bs(t,e,s={}){let n=[],i=[],r=[],a=0,o=e.length>1?[]:null;return It(()=>dt(r)),()=>{let l=t()||[],u=l.length,c,f;return l[Ge],W(()=>{let h,g,m,v,w,_,C,y,$;if(u===0)a!==0&&(dt(r),r=[],n=[],i=[],a=0,o&&(o=[])),s.fallback&&(n=[vs],i[0]=Ne(F=>(r[0]=F,s.fallback())),a=1);else if(a===0){for(i=new Array(u),f=0;f<u;f++)n[f]=l[f],i[f]=Ne(d);a=u}else{for(m=new Array(u),v=new Array(u),o&&(w=new Array(u)),_=0,C=Math.min(a,u);_<C&&n[_]===l[_];_++);for(C=a-1,y=u-1;C>=_&&y>=_&&n[C]===l[y];C--,y--)m[y]=i[C],v[y]=r[C],o&&(w[y]=o[C]);for(h=new Map,g=new Array(y+1),f=y;f>=_;f--)$=l[f],c=h.get($),g[f]=c===void 0?-1:c,h.set($,f);for(c=_;c<=C;c++)$=n[c],f=h.get($),f!==void 0&&f!==-1?(m[f]=i[c],v[f]=r[c],o&&(w[f]=o[c]),f=g[f],h.set($,f)):r[c]();for(f=_;f<u;f++)f in m?(i[f]=m[f],r[f]=v[f],o&&(o[f]=w[f],o[f](f))):i[f]=Ne(d);i=i.slice(0,a=u),n=l.slice(0)}return i});function d(h){if(r[f]=h,o){const[g,m]=te(f);return o[f]=m,e(l[f],g)}return e(l[f])}}}function L(t,e){return W(()=>t(e||{}))}const Vt=t=>`Stale read from <${t}>.`;function zt(t){const e="fallback"in t&&{fallback:()=>t.fallback};return M(bs(()=>t.each,t.children,e||void 0))}function de(t){const e=t.keyed,s=M(()=>t.when,void 0,void 0),n=e?s:M(s,void 0,{equals:(i,r)=>!i==!r});return M(()=>{const i=n();if(i){const r=t.children;return typeof r=="function"&&r.length>0?W(()=>r(e?i:()=>{if(!W(n))throw Vt("Show");return s()})):r}return t.fallback},void 0,void 0)}function ys(t){const e=Ft(()=>t.children),s=M(()=>{const n=e(),i=Array.isArray(n)?n:[n];let r=()=>{};for(let a=0;a<i.length;a++){const o=a,l=i[a],u=r,c=M(()=>u()?void 0:l.when,void 0,void 0),f=l.keyed?c:M(c,void 0,{equals:(d,h)=>!d==!h});r=()=>u()||(f()?[o,c,l]:void 0)}return r});return M(()=>{const n=s()();if(!n)return t.fallback;const[i,r,a]=n,o=a.children;return typeof o=="function"&&o.length>0?W(()=>o(a.keyed?r():()=>{if(W(s)()?.[0]!==i)throw Vt("Match");return r()})):o},void 0,void 0)}function Pe(t){return t}const Je=t=>M(()=>t());function Ss(t,e,s){let n=s.length,i=e.length,r=n,a=0,o=0,l=e[i-1].nextSibling,u=null;for(;a<i||o<r;){if(e[a]===s[o]){a++,o++;continue}for(;e[i-1]===s[r-1];)i--,r--;if(i===a){const c=r<n?o?s[o-1].nextSibling:s[r-o]:l;for(;o<r;)t.insertBefore(s[o++],c)}else if(r===o)for(;a<i;)(!u||!u.has(e[a]))&&e[a].remove(),a++;else if(e[a]===s[r-1]&&s[o]===e[i-1]){const c=e[--i].nextSibling;t.insertBefore(s[o++],e[a++].nextSibling),t.insertBefore(s[--r],c),e[i]=s[r]}else{if(!u){u=new Map;let f=o;for(;f<r;)u.set(s[f],f++)}const c=u.get(e[a]);if(c!=null)if(o<c&&c<r){let f=a,d=1,h;for(;++f<i&&f<r&&!((h=u.get(e[f]))==null||h!==c+d);)d++;if(d>c-o){const g=e[a];for(;o<c;)t.insertBefore(s[o++],g)}else t.replaceChild(s[o++],e[a++])}else a++;else e[a++].remove()}}}const ht="_$DX_DELEGATE";function xs(t,e,s,n={}){let i;return Ne(r=>{i=r,e===document?t():p(e,t(),e.firstChild?null:void 0,s)},n.owner),()=>{i(),e.textContent=""}}function E(t,e,s,n){let i;const r=()=>{const o=document.createElement("template");return o.innerHTML=t,o.content.firstChild},a=()=>(i||(i=r())).cloneNode(!0);return a.cloneNode=a,a}function ke(t,e=window.document){const s=e[ht]||(e[ht]=new Set);for(let n=0,i=t.length;n<i;n++){const r=t[n];s.has(r)||(s.add(r),e.addEventListener(r,ws))}}function he(t,e,s){s==null?t.removeAttribute(e):t.setAttribute(e,s)}function nt(t,e){e==null?t.removeAttribute("class"):t.className=e}function gt(t,e,s){return W(()=>t(e,s))}function p(t,e,s,n){if(s!==void 0&&!n&&(n=[]),typeof e!="function")return Fe(t,e,n,s);D(i=>Fe(t,e(),i,s),n)}function ws(t){let e=t.target;const s=`$$${t.type}`,n=t.target,i=t.currentTarget,r=l=>Object.defineProperty(t,"target",{configurable:!0,value:l}),a=()=>{const l=e[s];if(l&&!e.disabled){const u=e[`${s}Data`];if(u!==void 0?l.call(e,u,t):l.call(e,t),t.cancelBubble)return}return e.host&&typeof e.host!="string"&&!e.host._$host&&e.contains(t.target)&&r(e.host),!0},o=()=>{for(;a()&&(e=e._$host||e.parentNode||e.host););};if(Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return e||document}}),t.composedPath){const l=t.composedPath();r(l[0]);for(let u=0;u<l.length-2&&(e=l[u],!!a());u++){if(e._$host){e=e._$host,o();break}if(e.parentNode===i)break}}else o();r(n)}function Fe(t,e,s,n,i){for(;typeof s=="function";)s=s();if(e===s)return s;const r=typeof e,a=n!==void 0;if(t=a&&s[0]&&s[0].parentNode||t,r==="string"||r==="number"){if(r==="number"&&(e=e.toString(),e===s))return s;if(a){let o=s[0];o&&o.nodeType===3?o.data!==e&&(o.data=e):o=document.createTextNode(e),s=ue(t,s,n,o)}else s!==""&&typeof s=="string"?s=t.firstChild.data=e:s=t.textContent=e}else if(e==null||r==="boolean")s=ue(t,s,n);else{if(r==="function")return D(()=>{let o=e();for(;typeof o=="function";)o=o();s=Fe(t,o,s,n)}),()=>s;if(Array.isArray(e)){const o=[],l=s&&Array.isArray(s);if(Ye(o,e,s,i))return D(()=>s=Fe(t,o,s,n,!0)),()=>s;if(o.length===0){if(s=ue(t,s,n),a)return s}else l?s.length===0?pt(t,o,n):Ss(t,s,o):(s&&ue(t),pt(t,o));s=o}else if(e.nodeType){if(Array.isArray(s)){if(a)return s=ue(t,s,n,e);ue(t,s,null,e)}else s==null||s===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);s=e}}return s}function Ye(t,e,s,n){let i=!1;for(let r=0,a=e.length;r<a;r++){let o=e[r],l=s&&s[t.length],u;if(!(o==null||o===!0||o===!1))if((u=typeof o)=="object"&&o.nodeType)t.push(o);else if(Array.isArray(o))i=Ye(t,o,l)||i;else if(u==="function")if(n){for(;typeof o=="function";)o=o();i=Ye(t,Array.isArray(o)?o:[o],Array.isArray(l)?l:[l])||i}else t.push(o),i=!0;else{const c=String(o);l&&l.nodeType===3&&l.data===c?t.push(l):t.push(document.createTextNode(c))}}return i}function pt(t,e,s=null){for(let n=0,i=e.length;n<i;n++)t.insertBefore(e[n],s)}function ue(t,e,s,n){if(s===void 0)return t.textContent="";const i=n||document.createTextNode("");if(e.length){let r=!1;for(let a=e.length-1;a>=0;a--){const o=e[a];if(i!==o){const l=o.parentNode===t;!r&&!a?l?t.replaceChild(i,o):t.insertBefore(i,s):l&&o.remove()}else r=!0}}else t.insertBefore(i,s);return[i]}const b=t=>typeof t=="string",me=()=>{let t,e;const s=new Promise((n,i)=>{t=n,e=i});return s.resolve=t,s.reject=e,s},mt=t=>t==null?"":""+t,_s=(t,e,s)=>{t.forEach(n=>{e[n]&&(s[n]=e[n])})},$s=/###/g,vt=t=>t&&t.indexOf("###")>-1?t.replace($s,"."):t,bt=t=>!t||b(t),Se=(t,e,s)=>{const n=b(e)?e.split("."):e;let i=0;for(;i<n.length-1;){if(bt(t))return{};const r=vt(n[i]);!t[r]&&s&&(t[r]=new s),Object.prototype.hasOwnProperty.call(t,r)?t=t[r]:t={},++i}return bt(t)?{}:{obj:t,k:vt(n[i])}},yt=(t,e,s)=>{const{obj:n,k:i}=Se(t,e,Object);if(n!==void 0||e.length===1){n[i]=s;return}let r=e[e.length-1],a=e.slice(0,e.length-1),o=Se(t,a,Object);for(;o.obj===void 0&&a.length;)r=`${a[a.length-1]}.${r}`,a=a.slice(0,a.length-1),o=Se(t,a,Object),o&&o.obj&&typeof o.obj[`${o.k}.${r}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${r}`]=s},Cs=(t,e,s,n)=>{const{obj:i,k:r}=Se(t,e,Object);i[r]=i[r]||[],i[r].push(s)},Te=(t,e)=>{const{obj:s,k:n}=Se(t,e);if(s)return s[n]},Ls=(t,e,s)=>{const n=Te(t,s);return n!==void 0?n:Te(e,s)},Kt=(t,e,s)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?b(t[n])||t[n]instanceof String||b(e[n])||e[n]instanceof String?s&&(t[n]=e[n]):Kt(t[n],e[n],s):t[n]=e[n]);return t},ce=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var ks={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Ps=t=>b(t)?t.replace(/[&<>"'\/]/g,e=>ks[e]):t;class Os{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const s=this.regExpMap.get(e);if(s!==void 0)return s;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const Ns=[" ",",","?","!",";"],As=new Os(20),Es=(t,e,s)=>{e=e||"",s=s||"";const n=Ns.filter(a=>e.indexOf(a)<0&&s.indexOf(a)<0);if(n.length===0)return!0;const i=As.getRegExp(`(${n.map(a=>a==="?"?"\\?":a).join("|")})`);let r=!i.test(t);if(!r){const a=t.indexOf(s);a>0&&!i.test(t.substring(0,a))&&(r=!0)}return r},Ze=function(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const n=e.split(s);let i=t;for(let r=0;r<n.length;){if(!i||typeof i!="object")return;let a,o="";for(let l=r;l<n.length;++l)if(l!==r&&(o+=s),o+=n[l],a=i[o],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&l<n.length-1)continue;r+=l-r+1;break}i=a}return i},De=t=>t&&t.replace("_","-"),Rs={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class je{constructor(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,s)}init(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=s.prefix||"i18next:",this.logger=e||Rs,this.options=s,this.debug=s.debug}log(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return this.forward(s,"log","",!0)}warn(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return this.forward(s,"warn","",!0)}error(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return this.forward(s,"error","")}deprecate(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return this.forward(s,"warn","WARNING DEPRECATED: ",!0)}forward(e,s,n,i){return i&&!this.debug?null:(b(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[s](e))}create(e){return new je(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new je(this.logger,e)}}var Q=new je;class Be{constructor(){this.observers={}}on(e,s){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const i=this.observers[n].get(s)||0;this.observers[n].set(s,i+1)}),this}off(e,s){if(this.observers[e]){if(!s){delete this.observers[e];return}this.observers[e].delete(s)}}emit(e){for(var s=arguments.length,n=new Array(s>1?s-1:0),i=1;i<s;i++)n[i-1]=arguments[i];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(a=>{let[o,l]=a;for(let u=0;u<l;u++)o(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(a=>{let[o,l]=a;for(let u=0;u<l;u++)o.apply(o,[e,...n])})}}class St extends Be{constructor(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const s=this.options.ns.indexOf(e);s>-1&&this.options.ns.splice(s,1)}getResource(e,s,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const r=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,a=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,s],n&&(Array.isArray(n)?o.push(...n):b(n)&&r?o.push(...n.split(r)):o.push(n)));const l=Te(this.data,o);return!l&&!s&&!n&&e.indexOf(".")>-1&&(e=o[0],s=o[1],n=o.slice(2).join(".")),l||!a||!b(n)?l:Ze(this.data&&this.data[e]&&this.data[e][s],n,r)}addResource(e,s,n,i){let r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const a=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let o=[e,s];n&&(o=o.concat(a?n.split(a):n)),e.indexOf(".")>-1&&(o=e.split("."),i=s,s=o[1]),this.addNamespaces(s),yt(this.data,o,i),r.silent||this.emit("added",e,s,n,i)}addResources(e,s,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const r in n)(b(n[r])||Array.isArray(n[r]))&&this.addResource(e,s,r,n[r],{silent:!0});i.silent||this.emit("added",e,s,n)}addResourceBundle(e,s,n,i,r){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},o=[e,s];e.indexOf(".")>-1&&(o=e.split("."),i=n,n=s,s=o[1]),this.addNamespaces(s);let l=Te(this.data,o)||{};a.skipCopy||(n=JSON.parse(JSON.stringify(n))),i?Kt(l,n,r):l={...l,...n},yt(this.data,o,l),a.silent||this.emit("added",e,s,n)}removeResourceBundle(e,s){this.hasResourceBundle(e,s)&&delete this.data[e][s],this.removeNamespaces(s),this.emit("removed",e,s)}hasResourceBundle(e,s){return this.getResource(e,s)!==void 0}getResourceBundle(e,s){return s||(s=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,s)}:this.getResource(e,s)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const s=this.getDataByLanguage(e);return!!(s&&Object.keys(s)||[]).find(i=>s[i]&&Object.keys(s[i]).length>0)}toJSON(){return this.data}}var Bt={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,s,n,i){return t.forEach(r=>{this.processors[r]&&(e=this.processors[r].process(e,s,n,i))}),e}};const xt={};class Ue extends Be{constructor(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),_s(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Q.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const n=this.resolve(e,s);return n&&n.res!==void 0}extractFromKey(e,s){let n=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let r=s.ns||this.options.defaultNS||[];const a=n&&e.indexOf(n)>-1,o=!this.options.userDefinedKeySeparator&&!s.keySeparator&&!this.options.userDefinedNsSeparator&&!s.nsSeparator&&!Es(e,n,i);if(a&&!o){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:b(r)?[r]:r};const u=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(u[0])>-1)&&(r=u.shift()),e=u.join(i)}return{key:e,namespaces:b(r)?[r]:r}}translate(e,s,n){if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof s=="object"&&(s={...s}),s||(s={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const i=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,r=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:a,namespaces:o}=this.extractFromKey(e[e.length-1],s),l=o[o.length-1],u=s.lng||this.language,c=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u&&u.toLowerCase()==="cimode"){if(c){const y=s.nsSeparator||this.options.nsSeparator;return i?{res:`${l}${y}${a}`,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(s)}:`${l}${y}${a}`}return i?{res:a,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:l,usedParams:this.getUsedParamsDetails(s)}:a}const f=this.resolve(e,s);let d=f&&f.res;const h=f&&f.usedKey||a,g=f&&f.exactUsedKey||a,m=Object.prototype.toString.apply(d),v=["[object Number]","[object Function]","[object RegExp]"],w=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,_=!this.i18nFormat||this.i18nFormat.handleAsObject,C=!b(d)&&typeof d!="boolean"&&typeof d!="number";if(_&&d&&C&&v.indexOf(m)<0&&!(b(w)&&Array.isArray(d))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const y=this.options.returnedObjectHandler?this.options.returnedObjectHandler(h,d,{...s,ns:o}):`key '${a} (${this.language})' returned an object instead of string.`;return i?(f.res=y,f.usedParams=this.getUsedParamsDetails(s),f):y}if(r){const y=Array.isArray(d),$=y?[]:{},F=y?g:h;for(const R in d)if(Object.prototype.hasOwnProperty.call(d,R)){const se=`${F}${r}${R}`;$[R]=this.translate(se,{...s,joinArrays:!1,ns:o}),$[R]===se&&($[R]=d[R])}d=$}}else if(_&&b(w)&&Array.isArray(d))d=d.join(w),d&&(d=this.extendTranslation(d,e,s,n));else{let y=!1,$=!1;const F=s.count!==void 0&&!b(s.count),R=Ue.hasDefaultValue(s),se=F?this.pluralResolver.getSuffix(u,s.count,s):"",X=s.ordinal&&F?this.pluralResolver.getSuffix(u,s.count,{ordinal:!1}):"",re=F&&!s.ordinal&&s.count===0&&this.pluralResolver.shouldUseIntlApi(),K=re&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${se}`]||s[`defaultValue${X}`]||s.defaultValue;!this.isValidLookup(d)&&R&&(y=!0,d=K),this.isValidLookup(d)||($=!0,d=a);const O=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&$?void 0:d,j=R&&K!==d&&this.options.updateMissing;if($||y||j){if(this.logger.log(j?"updateKey":"missingKey",u,l,a,j?K:d),r){const T=this.resolve(a,{...s,keySeparator:!1});T&&T.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let B=[];const U=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&U&&U[0])for(let T=0;T<U.length;T++)B.push(U[T]);else this.options.saveMissingTo==="all"?B=this.languageUtils.toResolveHierarchy(s.lng||this.language):B.push(s.lng||this.language);const G=(T,J,x)=>{const z=R&&x!==d?x:O;this.options.missingKeyHandler?this.options.missingKeyHandler(T,l,J,z,j,s):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(T,l,J,z,j,s),this.emit("missingKey",T,l,J,d)};this.options.saveMissing&&(this.options.saveMissingPlurals&&F?B.forEach(T=>{const J=this.pluralResolver.getSuffixes(T,s);re&&s[`defaultValue${this.options.pluralSeparator}zero`]&&J.indexOf(`${this.options.pluralSeparator}zero`)<0&&J.push(`${this.options.pluralSeparator}zero`),J.forEach(x=>{G([T],a+x,s[`defaultValue${x}`]||K)})}):G(B,a,K))}d=this.extendTranslation(d,e,s,f,n),$&&d===a&&this.options.appendNamespaceToMissingKey&&(d=`${l}:${a}`),($||y)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?d=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${a}`:a,y?d:void 0):d=this.options.parseMissingKeyHandler(d))}return i?(f.res=d,f.usedParams=this.getUsedParamsDetails(s),f):d}extendTranslation(e,s,n,i,r){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const u=b(e)&&(n&&n.interpolation&&n.interpolation.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let c;if(u){const d=e.match(this.interpolator.nestingRegexp);c=d&&d.length}let f=n.replace&&!b(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),e=this.interpolator.interpolate(e,f,n.lng||this.language||i.usedLng,n),u){const d=e.match(this.interpolator.nestingRegexp),h=d&&d.length;c<h&&(n.nest=!1)}!n.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(n.lng=this.language||i.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var d=arguments.length,h=new Array(d),g=0;g<d;g++)h[g]=arguments[g];return r&&r[0]===h[0]&&!n.context?(a.logger.warn(`It seems you are nesting recursively key: ${h[0]} in key: ${s[0]}`),null):a.translate(...h,s)},n)),n.interpolation&&this.interpolator.reset()}const o=n.postProcess||this.options.postProcess,l=b(o)?[o]:o;return e!=null&&l&&l.length&&n.applyPostProcessor!==!1&&(e=Bt.handle(l,e,s,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n,i,r,a,o;return b(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(n))return;const u=this.extractFromKey(l,s),c=u.key;i=c;let f=u.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const d=s.count!==void 0&&!b(s.count),h=d&&!s.ordinal&&s.count===0&&this.pluralResolver.shouldUseIntlApi(),g=s.context!==void 0&&(b(s.context)||typeof s.context=="number")&&s.context!=="",m=s.lngs?s.lngs:this.languageUtils.toResolveHierarchy(s.lng||this.language,s.fallbackLng);f.forEach(v=>{this.isValidLookup(n)||(o=v,!xt[`${m[0]}-${v}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(o)&&(xt[`${m[0]}-${v}`]=!0,this.logger.warn(`key "${i}" for languages "${m.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),m.forEach(w=>{if(this.isValidLookup(n))return;a=w;const _=[c];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(_,c,w,v,s);else{let y;d&&(y=this.pluralResolver.getSuffix(w,s.count,s));const $=`${this.options.pluralSeparator}zero`,F=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(d&&(_.push(c+y),s.ordinal&&y.indexOf(F)===0&&_.push(c+y.replace(F,this.options.pluralSeparator)),h&&_.push(c+$)),g){const R=`${c}${this.options.contextSeparator}${s.context}`;_.push(R),d&&(_.push(R+y),s.ordinal&&y.indexOf(F)===0&&_.push(R+y.replace(F,this.options.pluralSeparator)),h&&_.push(R+$))}}let C;for(;C=_.pop();)this.isValidLookup(n)||(r=C,n=this.getResource(w,v,C,s))}))})}),{res:n,usedKey:i,exactUsedKey:r,usedLng:a,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,s,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,s,n,i):this.resourceStore.getResource(e,s,n,i)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const s=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!b(e.replace);let i=n?e.replace:e;if(n&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!n){i={...i};for(const r of s)delete i[r]}return i}static hasDefaultValue(e){const s="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&s===n.substring(0,s.length)&&e[n]!==void 0)return!0;return!1}}const We=t=>t.charAt(0).toUpperCase()+t.slice(1);class wt{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Q.create("languageUtils")}getScriptPartFromCode(e){if(e=De(e),!e||e.indexOf("-")<0)return null;const s=e.split("-");return s.length===2||(s.pop(),s[s.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(s.join("-"))}getLanguagePartFromCode(e){if(e=De(e),!e||e.indexOf("-")<0)return e;const s=e.split("-");return this.formatLanguageCode(s[0])}formatLanguageCode(e){if(b(e)&&e.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let i=Intl.getCanonicalLocales(e)[0];if(i&&this.options.lowerCaseLng&&(i=i.toLowerCase()),i)return i}catch{}const s=["hans","hant","latn","cyrl","cans","mong","arab"];let n=e.split("-");return this.options.lowerCaseLng?n=n.map(i=>i.toLowerCase()):n.length===2?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),s.indexOf(n[1].toLowerCase())>-1&&(n[1]=We(n[1].toLowerCase()))):n.length===3&&(n[0]=n[0].toLowerCase(),n[1].length===2&&(n[1]=n[1].toUpperCase()),n[0]!=="sgn"&&n[2].length===2&&(n[2]=n[2].toUpperCase()),s.indexOf(n[1].toLowerCase())>-1&&(n[1]=We(n[1].toLowerCase())),s.indexOf(n[2].toLowerCase())>-1&&(n[2]=We(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let s;return e.forEach(n=>{if(s)return;const i=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(i))&&(s=i)}),!s&&this.options.supportedLngs&&e.forEach(n=>{if(s)return;const i=this.getLanguagePartFromCode(n);if(this.isSupportedCode(i))return s=i;s=this.options.supportedLngs.find(r=>{if(r===i)return r;if(!(r.indexOf("-")<0&&i.indexOf("-")<0)&&(r.indexOf("-")>0&&i.indexOf("-")<0&&r.substring(0,r.indexOf("-"))===i||r.indexOf(i)===0&&i.length>1))return r})}),s||(s=this.getFallbackCodes(this.options.fallbackLng)[0]),s}getFallbackCodes(e,s){if(!e)return[];if(typeof e=="function"&&(e=e(s)),b(e)&&(e=[e]),Array.isArray(e))return e;if(!s)return e.default||[];let n=e[s];return n||(n=e[this.getScriptPartFromCode(s)]),n||(n=e[this.formatLanguageCode(s)]),n||(n=e[this.getLanguagePartFromCode(s)]),n||(n=e.default),n||[]}toResolveHierarchy(e,s){const n=this.getFallbackCodes(s||this.options.fallbackLng||[],e),i=[],r=a=>{a&&(this.isSupportedCode(a)?i.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return b(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&r(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&r(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&r(this.getLanguagePartFromCode(e))):b(e)&&r(this.formatLanguageCode(e)),n.forEach(a=>{i.indexOf(a)<0&&r(this.formatLanguageCode(a))}),i}}let Is=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Fs={1:t=>+(t>1),2:t=>+(t!=1),3:t=>0,4:t=>t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,5:t=>t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5,6:t=>t==1?0:t>=2&&t<=4?1:2,7:t=>t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,8:t=>t==1?0:t==2?1:t!=8&&t!=11?2:3,9:t=>+(t>=2),10:t=>t==1?0:t==2?1:t<7?2:t<11?3:4,11:t=>t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3,12:t=>+(t%10!=1||t%100==11),13:t=>+(t!==0),14:t=>t==1?0:t==2?1:t==3?2:3,15:t=>t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2,16:t=>t%10==1&&t%100!=11?0:t!==0?1:2,17:t=>t==1||t%10==1&&t%100!=11?0:1,18:t=>t==0?0:t==1?1:2,19:t=>t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3,20:t=>t==1?0:t==0||t%100>0&&t%100<20?1:2,21:t=>t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0,22:t=>t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3};const Ts=["v1","v2","v3"],Ds=["v4"],_t={zero:0,one:1,two:2,few:3,many:4,other:5},js=()=>{const t={};return Is.forEach(e=>{e.lngs.forEach(s=>{t[s]={numbers:e.nr,plurals:Fs[e.fc]}})}),t};class Us{constructor(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=s,this.logger=Q.create("pluralResolver"),(!this.options.compatibilityJSON||Ds.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=js(),this.pluralRulesCache={}}addRule(e,s){this.rules[e]=s}clearCache(){this.pluralRulesCache={}}getRule(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const n=De(e==="dev"?"en":e),i=s.ordinal?"ordinal":"cardinal",r=JSON.stringify({cleanedCode:n,type:i});if(r in this.pluralRulesCache)return this.pluralRulesCache[r];let a;try{a=new Intl.PluralRules(n,{type:i})}catch{if(!e.match(/-|_/))return;const l=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(l,s)}return this.pluralRulesCache[r]=a,a}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(e,s);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(e,s){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,n).map(i=>`${s}${i}`)}getSuffixes(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(e,s);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((i,r)=>_t[i]-_t[r]).map(i=>`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${i}`):n.numbers.map(i=>this.getSuffix(e,i,s)):[]}getSuffix(e,s){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(e,n);return i?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i.select(s)}`:this.getSuffixRetroCompatible(i,s):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,s){const n=e.noAbs?e.plurals(s):e.plurals(Math.abs(s));let i=e.numbers[n];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const r=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?`_plural_${i.toString()}`:r():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?r():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!Ts.includes(this.options.compatibilityJSON)}}const $t=function(t,e,s){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,r=Ls(t,e,s);return!r&&i&&b(s)&&(r=Ze(t,s,n),r===void 0&&(r=Ze(e,s,n))),r},qe=t=>t.replace(/\$/g,"$$$$");class Ms{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Q.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(s=>s),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:s,escapeValue:n,useRawValueToEscape:i,prefix:r,prefixEscaped:a,suffix:o,suffixEscaped:l,formatSeparator:u,unescapeSuffix:c,unescapePrefix:f,nestingPrefix:d,nestingPrefixEscaped:h,nestingSuffix:g,nestingSuffixEscaped:m,nestingOptionsSeparator:v,maxReplaces:w,alwaysFormat:_}=e.interpolation;this.escape=s!==void 0?s:Ps,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=r?ce(r):a||"{{",this.suffix=o?ce(o):l||"}}",this.formatSeparator=u||",",this.unescapePrefix=c?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":c||"",this.nestingPrefix=d?ce(d):h||ce("$t("),this.nestingSuffix=g?ce(g):m||ce(")"),this.nestingOptionsSeparator=v||",",this.maxReplaces=w||1e3,this.alwaysFormat=_!==void 0?_:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(s,n)=>s&&s.source===n?(s.lastIndex=0,s):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,s,n,i){let r,a,o;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},u=h=>{if(h.indexOf(this.formatSeparator)<0){const w=$t(s,l,h,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(w,void 0,n,{...i,...s,interpolationkey:h}):w}const g=h.split(this.formatSeparator),m=g.shift().trim(),v=g.join(this.formatSeparator).trim();return this.format($t(s,l,m,this.options.keySeparator,this.options.ignoreJSONStructure),v,n,{...i,...s,interpolationkey:m})};this.resetRegExp();const c=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,f=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:h=>qe(h)},{regex:this.regexp,safeValue:h=>this.escapeValue?qe(this.escape(h)):qe(h)}].forEach(h=>{for(o=0;r=h.regex.exec(e);){const g=r[1].trim();if(a=u(g),a===void 0)if(typeof c=="function"){const v=c(e,r,i);a=b(v)?v:""}else if(i&&Object.prototype.hasOwnProperty.call(i,g))a="";else if(f){a=r[0];continue}else this.logger.warn(`missed to pass in variable ${g} for interpolating ${e}`),a="";else!b(a)&&!this.useRawValueToEscape&&(a=mt(a));const m=h.safeValue(a);if(e=e.replace(r[0],m),f?(h.regex.lastIndex+=a.length,h.regex.lastIndex-=r[0].length):h.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,s){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,r,a;const o=(l,u)=>{const c=this.nestingOptionsSeparator;if(l.indexOf(c)<0)return l;const f=l.split(new RegExp(`${c}[ ]*{`));let d=`{${f[1]}`;l=f[0],d=this.interpolate(d,a);const h=d.match(/'/g),g=d.match(/"/g);(h&&h.length%2===0&&!g||g.length%2!==0)&&(d=d.replace(/'/g,'"'));try{a=JSON.parse(d),u&&(a={...u,...a})}catch(m){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,m),`${l}${c}${d}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,l};for(;i=this.nestingRegexp.exec(e);){let l=[];a={...n},a=a.replace&&!b(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;let u=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const c=i[1].split(this.formatSeparator).map(f=>f.trim());i[1]=c.shift(),l=c,u=!0}if(r=s(o.call(this,i[1].trim(),a),a),r&&i[0]===e&&!b(r))return r;b(r)||(r=mt(r)),r||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),r=""),u&&(r=l.reduce((c,f)=>this.format(c,f,n.lng,{...n,interpolationkey:i[1].trim()}),r.trim())),e=e.replace(i[0],r),this.regexp.lastIndex=0}return e}}const Vs=t=>{let e=t.toLowerCase().trim();const s={};if(t.indexOf("(")>-1){const n=t.split("(");e=n[0].toLowerCase().trim();const i=n[1].substring(0,n[1].length-1);e==="currency"&&i.indexOf(":")<0?s.currency||(s.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?s.range||(s.range=i.trim()):i.split(";").forEach(a=>{if(a){const[o,...l]=a.split(":"),u=l.join(":").trim().replace(/^'+|'+$/g,""),c=o.trim();s[c]||(s[c]=u),u==="false"&&(s[c]=!1),u==="true"&&(s[c]=!0),isNaN(u)||(s[c]=parseInt(u,10))}})}return{formatName:e,formatOptions:s}},fe=t=>{const e={};return(s,n,i)=>{let r=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(r={...r,[i.interpolationkey]:void 0});const a=n+JSON.stringify(r);let o=e[a];return o||(o=t(De(n),i),e[a]=o),o(s)}};class zs{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Q.create("formatter"),this.options=e,this.formats={number:fe((s,n)=>{const i=new Intl.NumberFormat(s,{...n});return r=>i.format(r)}),currency:fe((s,n)=>{const i=new Intl.NumberFormat(s,{...n,style:"currency"});return r=>i.format(r)}),datetime:fe((s,n)=>{const i=new Intl.DateTimeFormat(s,{...n});return r=>i.format(r)}),relativetime:fe((s,n)=>{const i=new Intl.RelativeTimeFormat(s,{...n});return r=>i.format(r,n.range||"day")}),list:fe((s,n)=>{const i=new Intl.ListFormat(s,{...n});return r=>i.format(r)})},this.init(e)}init(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=s.interpolation.formatSeparator||","}add(e,s){this.formats[e.toLowerCase().trim()]=s}addCached(e,s){this.formats[e.toLowerCase().trim()]=fe(s)}format(e,s,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const r=s.split(this.formatSeparator);if(r.length>1&&r[0].indexOf("(")>1&&r[0].indexOf(")")<0&&r.find(o=>o.indexOf(")")>-1)){const o=r.findIndex(l=>l.indexOf(")")>-1);r[0]=[r[0],...r.splice(1,o)].join(this.formatSeparator)}return r.reduce((o,l)=>{const{formatName:u,formatOptions:c}=Vs(l);if(this.formats[u]){let f=o;try{const d=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},h=d.locale||d.lng||i.locale||i.lng||n;f=this.formats[u](o,h,{...c,...i,...d})}catch(d){this.logger.warn(d)}return f}else this.logger.warn(`there was no format function for ${u}`);return o},e)}}const Ks=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class Bs extends Be{constructor(e,s,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=s,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=Q.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,i.backend,i)}queueLoad(e,s,n,i){const r={},a={},o={},l={};return e.forEach(u=>{let c=!0;s.forEach(f=>{const d=`${u}|${f}`;!n.reload&&this.store.hasResourceBundle(u,f)?this.state[d]=2:this.state[d]<0||(this.state[d]===1?a[d]===void 0&&(a[d]=!0):(this.state[d]=1,c=!1,a[d]===void 0&&(a[d]=!0),r[d]===void 0&&(r[d]=!0),l[f]===void 0&&(l[f]=!0)))}),c||(o[u]=!0)}),(Object.keys(r).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(r),pending:Object.keys(a),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(l)}}loaded(e,s,n){const i=e.split("|"),r=i[0],a=i[1];s&&this.emit("failedLoading",r,a,s),!s&&n&&this.store.addResourceBundle(r,a,n,void 0,void 0,{skipCopy:!0}),this.state[e]=s?-1:2,s&&n&&(this.state[e]=0);const o={};this.queue.forEach(l=>{Cs(l.loaded,[r],a),Ks(l,e),s&&l.errors.push(s),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(u=>{o[u]||(o[u]={});const c=l.loaded[u];c.length&&c.forEach(f=>{o[u][f]===void 0&&(o[u][f]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(l=>!l.done)}read(e,s,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:s,fcName:n,tried:i,wait:r,callback:a});return}this.readingCalls++;const o=(u,c)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(u&&c&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,s,n,i+1,r*2,a)},r);return}a(u,c)},l=this.backend[n].bind(this.backend);if(l.length===2){try{const u=l(e,s);u&&typeof u.then=="function"?u.then(c=>o(null,c)).catch(o):o(null,u)}catch(u){o(u)}return}return l(e,s,o)}prepareLoading(e,s){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();b(e)&&(e=this.languageUtils.toResolveHierarchy(e)),b(s)&&(s=[s]);const r=this.queueLoad(e,s,n,i);if(!r.toLoad.length)return r.pending.length||i(),null;r.toLoad.forEach(a=>{this.loadOne(a)})}load(e,s,n){this.prepareLoading(e,s,{},n)}reload(e,s,n){this.prepareLoading(e,s,{reload:!0},n)}loadOne(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=e.split("|"),i=n[0],r=n[1];this.read(i,r,"read",void 0,void 0,(a,o)=>{a&&this.logger.warn(`${s}loading namespace ${r} for language ${i} failed`,a),!a&&o&&this.logger.log(`${s}loaded namespace ${r} for language ${i}`,o),this.loaded(e,a,o)})}saveMissing(e,s,n,i,r){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(s)){this.logger.warn(`did not save key "${n}" as the namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend&&this.backend.create){const l={...a,isUpdate:r},u=this.backend.create.bind(this.backend);if(u.length<6)try{let c;u.length===5?c=u(e,s,n,i,l):c=u(e,s,n,i),c&&typeof c.then=="function"?c.then(f=>o(null,f)).catch(o):o(null,c)}catch(c){o(c)}else u(e,s,n,i,o,l)}!e||!e[0]||this.store.addResource(e[0],s,n,i)}}}const Ct=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),b(t[1])&&(e.defaultValue=t[1]),b(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const s=t[3]||t[2];Object.keys(s).forEach(n=>{e[n]=s[n]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),Lt=t=>(b(t.ns)&&(t.ns=[t.ns]),b(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),b(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t),Oe=()=>{},Hs=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(s=>{typeof t[s]=="function"&&(t[s]=t[s].bind(t))})};class we extends Be{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Lt(e),this.services={},this.logger=Q,this.modules={external:[]},Hs(this),s&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,s),this;setTimeout(()=>{this.init(e,s)},0)}}init(){var e=this;let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof s=="function"&&(n=s,s={}),!s.defaultNS&&s.defaultNS!==!1&&s.ns&&(b(s.ns)?s.defaultNS=s.ns:s.ns.indexOf("translation")<0&&(s.defaultNS=s.ns[0]));const i=Ct();this.options={...i,...this.options,...Lt(s)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),s.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=s.keySeparator),s.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=s.nsSeparator);const r=c=>c?typeof c=="function"?new c:c:null;if(!this.options.isClone){this.modules.logger?Q.init(r(this.modules.logger),this.options):Q.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:typeof Intl<"u"&&(c=zs);const f=new wt(this.options);this.store=new St(this.options.resources,this.options);const d=this.services;d.logger=Q,d.resourceStore=this.store,d.languageUtils=f,d.pluralResolver=new Us(f,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),c&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(d.formatter=r(c),d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new Ms(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new Bs(r(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",function(h){for(var g=arguments.length,m=new Array(g>1?g-1:0),v=1;v<g;v++)m[v-1]=arguments[v];e.emit(h,...m)}),this.modules.languageDetector&&(d.languageDetector=r(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=r(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new Ue(this.services,this.options),this.translator.on("*",function(h){for(var g=arguments.length,m=new Array(g>1?g-1:0),v=1;v<g;v++)m[v-1]=arguments[v];e.emit(h,...m)}),this.modules.external.forEach(h=>{h.init&&h.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Oe),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=function(){return e.store[c](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=function(){return e.store[c](...arguments),e}});const l=me(),u=()=>{const c=(f,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(d),n(f,d)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initImmediate?u():setTimeout(u,0),l}loadResources(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Oe;const i=b(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const r=[],a=o=>{if(!o||o==="cimode")return;this.services.languageUtils.toResolveHierarchy(o).forEach(u=>{u!=="cimode"&&r.indexOf(u)<0&&r.push(u)})};i?a(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>a(l)),this.options.preload&&this.options.preload.forEach(o=>a(o)),this.services.backendConnector.load(r,this.options.ns,o=>{!o&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(o)})}else n(null)}reloadResources(e,s,n){const i=me();return typeof e=="function"&&(n=e,e=void 0),typeof s=="function"&&(n=s,s=void 0),e||(e=this.languages),s||(s=this.options.ns),n||(n=Oe),this.services.backendConnector.reload(e,s,r=>{i.resolve(),n(r)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Bt.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let s=0;s<this.languages.length;s++){const n=this.languages[s];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}changeLanguage(e,s){var n=this;this.isLanguageChangingTo=e;const i=me();this.emit("languageChanging",e);const r=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},a=(l,u)=>{u?(r(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,i.resolve(function(){return n.t(...arguments)}),s&&s(l,function(){return n.t(...arguments)})},o=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const u=b(l)?l:this.services.languageUtils.getBestMatchFromCodes(l);u&&(this.language||r(u),this.translator.language||this.translator.changeLanguage(u),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(u)),this.loadResources(u,c=>{a(c,u)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),i}getFixedT(e,s,n){var i=this;const r=function(a,o){let l;if(typeof o!="object"){for(var u=arguments.length,c=new Array(u>2?u-2:0),f=2;f<u;f++)c[f-2]=arguments[f];l=i.options.overloadTranslationOptionHandler([a,o].concat(c))}else l={...o};l.lng=l.lng||r.lng,l.lngs=l.lngs||r.lngs,l.ns=l.ns||r.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||n||r.keyPrefix);const d=i.options.keySeparator||".";let h;return l.keyPrefix&&Array.isArray(a)?h=a.map(g=>`${l.keyPrefix}${d}${g}`):h=l.keyPrefix?`${l.keyPrefix}${d}${a}`:a,i.t(h,l)};return b(e)?r.lng=e:r.lngs=e,r.ns=s,r.keyPrefix=n,r}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=s.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,r=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const a=(o,l)=>{const u=this.services.backendConnector.state[`${o}|${l}`];return u===-1||u===0||u===2};if(s.precheck){const o=s.precheck(this,a);if(o!==void 0)return o}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(n,e)&&(!i||a(r,e)))}loadNamespaces(e,s){const n=me();return this.options.ns?(b(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{n.resolve(),s&&s(i)}),n):(s&&s(),Promise.resolve())}loadLanguages(e,s){const n=me();b(e)&&(e=[e]);const i=this.options.preload||[],r=e.filter(a=>i.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return r.length?(this.options.preload=i.concat(r),this.loadResources(a=>{n.resolve(),s&&s(a)}),n):(s&&s(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const s=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services&&this.services.languageUtils||new wt(Ct());return s.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;return new we(e,s)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Oe;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},r=new we(i);return(e.debug!==void 0||e.prefix!==void 0)&&(r.logger=r.logger.clone(e)),["store","services","language"].forEach(o=>{r[o]=this[o]}),r.services={...this.services},r.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},n&&(r.store=new St(this.store.data,i),r.services.resourceStore=r.store),r.translator=new Ue(r.services,i),r.translator.on("*",function(o){for(var l=arguments.length,u=new Array(l>1?l-1:0),c=1;c<l;c++)u[c-1]=arguments[c];r.emit(o,...u)}),r.init(i,s),r.translator.options=i,r.translator.backendConnector.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const I=we.createInstance();I.createInstance=we.createInstance;I.createInstance;I.dir;I.init;I.loadResources;I.reloadResources;I.use;I.changeLanguage;I.getFixedT;I.t;I.exists;I.setDefaultNamespace;I.hasLoadedNamespace;I.loadNamespaces;I.loadLanguages;function Js(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _e(t){"@babel/helpers - typeof";return _e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_e(t)}function Ws(t,e){if(_e(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e);if(_e(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function qs(t){var e=Ws(t,"string");return _e(e)=="symbol"?e:e+""}function Gs(t,e){for(var s=0;s<e.length;s++){var n=e[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qs(n.key),n)}}function Qs(t,e,s){return e&&Gs(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}var Ht=[],Xs=Ht.forEach,Ys=Ht.slice;function Zs(t){return Xs.call(Ys.call(arguments,1),function(e){if(e)for(var s in e)t[s]===void 0&&(t[s]=e[s])}),t}var kt=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,en=function(e,s,n){var i=n||{};i.path=i.path||"/";var r=encodeURIComponent(s),a="".concat(e,"=").concat(r);if(i.maxAge>0){var o=i.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");a+="; Max-Age=".concat(Math.floor(o))}if(i.domain){if(!kt.test(i.domain))throw new TypeError("option domain is invalid");a+="; Domain=".concat(i.domain)}if(i.path){if(!kt.test(i.path))throw new TypeError("option path is invalid");a+="; Path=".concat(i.path)}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+="; Expires=".concat(i.expires.toUTCString())}if(i.httpOnly&&(a+="; HttpOnly"),i.secure&&(a+="; Secure"),i.sameSite){var l=typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite;switch(l){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a},Pt={create:function(e,s,n,i){var r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(r.expires=new Date,r.expires.setTime(r.expires.getTime()+n*60*1e3)),i&&(r.domain=i),document.cookie=en(e,encodeURIComponent(s),r)},read:function(e){for(var s="".concat(e,"="),n=document.cookie.split(";"),i=0;i<n.length;i++){for(var r=n[i];r.charAt(0)===" ";)r=r.substring(1,r.length);if(r.indexOf(s)===0)return r.substring(s.length,r.length)}return null},remove:function(e){this.create(e,"",-1)}},tn={name:"cookie",lookup:function(e){var s;if(e.lookupCookie&&typeof document<"u"){var n=Pt.read(e.lookupCookie);n&&(s=n)}return s},cacheUserLanguage:function(e,s){s.lookupCookie&&typeof document<"u"&&Pt.create(s.lookupCookie,e,s.cookieMinutes,s.cookieDomain,s.cookieOptions)}},sn={name:"querystring",lookup:function(e){var s;if(typeof window<"u"){var n=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(n=window.location.hash.substring(window.location.hash.indexOf("?")));for(var i=n.substring(1),r=i.split("&"),a=0;a<r.length;a++){var o=r[a].indexOf("=");if(o>0){var l=r[a].substring(0,o);l===e.lookupQuerystring&&(s=r[a].substring(o+1))}}}return s}},ve=null,Ot=function(){if(ve!==null)return ve;try{ve=window!=="undefined"&&window.localStorage!==null;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{ve=!1}return ve},nn={name:"localStorage",lookup:function(e){var s;if(e.lookupLocalStorage&&Ot()){var n=window.localStorage.getItem(e.lookupLocalStorage);n&&(s=n)}return s},cacheUserLanguage:function(e,s){s.lookupLocalStorage&&Ot()&&window.localStorage.setItem(s.lookupLocalStorage,e)}},be=null,Nt=function(){if(be!==null)return be;try{be=window!=="undefined"&&window.sessionStorage!==null;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{be=!1}return be},rn={name:"sessionStorage",lookup:function(e){var s;if(e.lookupSessionStorage&&Nt()){var n=window.sessionStorage.getItem(e.lookupSessionStorage);n&&(s=n)}return s},cacheUserLanguage:function(e,s){s.lookupSessionStorage&&Nt()&&window.sessionStorage.setItem(s.lookupSessionStorage,e)}},an={name:"navigator",lookup:function(e){var s=[];if(typeof navigator<"u"){if(navigator.languages)for(var n=0;n<navigator.languages.length;n++)s.push(navigator.languages[n]);navigator.userLanguage&&s.push(navigator.userLanguage),navigator.language&&s.push(navigator.language)}return s.length>0?s:void 0}},on={name:"htmlTag",lookup:function(e){var s,n=e.htmlTag||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(s=n.getAttribute("lang")),s}},ln={name:"path",lookup:function(e){var s;if(typeof window<"u"){var n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(n instanceof Array)if(typeof e.lookupFromPathIndex=="number"){if(typeof n[e.lookupFromPathIndex]!="string")return;s=n[e.lookupFromPathIndex].replace("/","")}else s=n[0].replace("/","")}return s}},un={name:"subdomain",lookup:function(e){var s=typeof e.lookupFromSubdomainIndex=="number"?e.lookupFromSubdomainIndex+1:1,n=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(n)return n[s]}},Jt=!1;try{document.cookie,Jt=!0}catch{}var Wt=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];Jt||Wt.splice(1,1);function cn(){return{order:Wt,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(e){return e}}}var qt=function(){function t(e){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Js(this,t),this.type="languageDetector",this.detectors={},this.init(e,s)}return Qs(t,[{key:"init",value:function(s){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=s||{languageUtils:{}},this.options=Zs(n,this.options||{},cn()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(r){return r.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=i,this.addDetector(tn),this.addDetector(sn),this.addDetector(nn),this.addDetector(rn),this.addDetector(an),this.addDetector(on),this.addDetector(ln),this.addDetector(un)}},{key:"addDetector",value:function(s){return this.detectors[s.name]=s,this}},{key:"detect",value:function(s){var n=this;s||(s=this.options.order);var i=[];return s.forEach(function(r){if(n.detectors[r]){var a=n.detectors[r].lookup(n.options);a&&typeof a=="string"&&(a=[a]),a&&(i=i.concat(a))}}),i=i.map(function(r){return n.options.convertDetectedLanguage(r)}),this.services.languageUtils.getBestMatchFromCodes?i:i.length>0?i[0]:null}},{key:"cacheUserLanguage",value:function(s,n){var i=this;n||(n=this.options.caches),n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(s)>-1||n.forEach(function(r){i.detectors[r]&&i.detectors[r].cacheUserLanguage(s,i.options)}))}}])}();qt.type="languageDetector";const fn={page_title:"deepnest - Industrial nesting",parts:"Parts",nests:"Nests",sheets:"Sheets",settings:"Settings"},dn={stop_nest:"Stop nest",export:"Export",export_svg:"SVG file",export_dxf:"DXF file",export_json:"JSON file",back:"Back",import:"Import",start_nest:"Start nest",deselect:"Deselect",select:"Select",all:"all",add:"Add",cancel:"Cancel",save_preset:"Save Preset",load:"Load",delete:"Delete",save:"Save",reset_defaults:"set all to default"},hn={size:"Size",sheet:"Sheet",quantity:"Quantity",add_sheet:"Add Sheet",width:"width",height:"height",nesting_config:"Nesting configuration",display_units:"Display units",inches:"inches",mm:"mm",space_between_parts:"Space between parts",curve_tolerance:"Curve tolerance",part_rotations:"Part rotations",optimization_type:"Optimization type",gravity:"Gravity",bounding_box:"Bounding Box",squeeze:"Squeeze",use_rough_approximation:"Use rough approximation",cpu_cores:"CPU cores",import_export:"Import/Export",use_svg_normalizer:"Use SVG Normalizer?",svg_scale:"SVG scale",units_per:"units/",endpoint_tolerance:"Endpoint tolerance",dxf_import_units:"DXF import units",points:"Points",picas:"Picas",inches_cap:"Inches",cm:"cm",dxf_export_units:"DXF export units",export_with_sheet_boundaries:"Export with Sheet Boundborders?",export_with_sheets_space:"Export with Space between Sheets?",distance_between_sheets:"Distance between Sheets?",laser_options:"Laser options",merge_common_lines:"Merge common lines",optimization_ratio:"Optimization ratio",meta_heuristic_tuning:"Meta-heuristic fine tuning",ga_population:"GA population",ga_mutation_rate:"GA mutation rate",other_settings:"Other Settings",use_quantity_from_filename:"Use Quantity from filename",presets:"Presets",save_config_presets:"Save Configuration Presets",load_delete_presets:"Load/Delete Configuration Presets",select_preset_default:"-- Select a preset --",save_preset_title:"Save Preset",enter_preset_name:"Enter preset name"},gn={nesting_in_progress:"Nesting in progress...",error_occurred:"Error occurred",processing:"Processing...",ready:"Ready",threads_active:"{{count}} threads active",parts_loaded:"{{count}} parts loaded",nests_available:"{{count}} nests available"},pn={navigation:fn,actions:dn,labels:hn,status:gn},mn="Please enter a preset name",vn="Preset saved successfully!",bn="Error saving preset",yn="Please select a preset to load",Sn="Preset loaded successfully!",xn="Selected preset not found",wn="Error loading preset",_n="Please select a preset to delete",$n='Are you sure you want to delete the preset "{{presetName}}"?',Cn="Preset deleted successfully!",Ln="Error deleting preset",kn="Please import some parts first",Pn="Please mark at least one part as the sheet",On="No file selected",Nn="An error occurred reading the file",An="Error processing SVG",En="could not contact file conversion server",Rn="There was an Error while converting",In={enter_preset_name:mn,preset_saved:vn,error_saving_preset:bn,select_preset_to_load:yn,preset_loaded:Sn,preset_not_found:xn,error_loading_preset:wn,select_preset_to_delete:_n,confirm_delete_preset:$n,preset_deleted:Cn,error_deleting_preset:Ln,import_parts_first:kn,mark_part_as_sheet:Pn,no_file_selected:On,file_read_error:Nn,svg_processing_error:An,conversion_server_error:En,conversion_error:Rn},Fn="Parts",Tn="Import Parts",Dn="Export Parts",jn="Export Selected",Un="Delete Selected",Mn="No parts selected",Vn="Failed to import parts",zn="Failed to export parts",Kn="Total Parts",Bn="Total Quantity",Hn="Select All",Jn="Deselect All",Wn="No Parts Loaded",qn="Import SVG or DXF files to get started",Gn="Search parts...",Qn="Sort by",Xn="Name",Yn="Quantity",Zn="Size",ei="Rotation",ti="Dimensions",si="Area",ni="Preview Error",ii={parts_title:Fn,import:"Import",export:"Export",delete:"Delete",import_parts:Tn,export_parts:Dn,export_selected:jn,delete_selected:Un,no_parts_selected:Mn,import_failed:Vn,export_failed:zn,total_parts:Kn,total_quantity:Bn,select_all:Hn,deselect_all:Jn,no_parts_loaded:Wn,import_parts_to_get_started:qn,search_parts:Gn,sort_by:Qn,name:Xn,quantity:Yn,size:Zn,rotation:ei,dimensions:ti,area:si,preview_error:ni},ri={fallbackLng:"en",debug:!1,detection:{order:["localStorage","navigator"],caches:["localStorage"],lookupLocalStorage:"deepnest-language"},interpolation:{escapeValue:!1},resources:{en:{common:pn,messages:In,parts:ii}}},ai={t:t=>t,changeLanguage:async t=>{},language:()=>"en",ready:()=>!1},Gt=cs(ai),q=(t="common")=>{const e=fs(Gt);return e?[(n,i)=>{if(!e.ready())return n;const r=`${t}.${n}`;return e.t(r,i)},{changeLanguage:e.changeLanguage,language:e.language}]:[n=>n,{changeLanguage:async n=>{},language:()=>"en"}]},oi=t=>{const[e,s]=te("en"),[n,i]=te(!1);tt(async()=>{try{await I.use(qt).init(ri),s(I.language||"en"),i(!0)}catch(l){console.error("Failed to initialize i18n:",l),i(!0)}});const o={t:(l,u)=>n()&&I.t(l,u)||l,changeLanguage:async l=>{try{await I.changeLanguage(l),s(l)}catch(u){console.error("Failed to change language:",u)}},language:e,ready:n};return Gt.Provider({value:o,children:t.children})},et=Symbol("store-raw"),ge=Symbol("store-node"),Z=Symbol("store-has"),Qt=Symbol("store-self");function Xt(t){let e=t[oe];if(!e&&(Object.defineProperty(t,oe,{value:e=new Proxy(t,ci)}),!Array.isArray(t))){const s=Object.keys(t),n=Object.getOwnPropertyDescriptors(t);for(let i=0,r=s.length;i<r;i++){const a=s[i];n[a].get&&Object.defineProperty(t,a,{enumerable:n[a].enumerable,get:n[a].get.bind(e)})}}return e}function Me(t){let e;return t!=null&&typeof t=="object"&&(t[oe]||!(e=Object.getPrototypeOf(t))||e===Object.prototype||Array.isArray(t))}function $e(t,e=new Set){let s,n,i,r;if(s=t!=null&&t[et])return s;if(!Me(t)||e.has(t))return t;if(Array.isArray(t)){Object.isFrozen(t)?t=t.slice(0):e.add(t);for(let a=0,o=t.length;a<o;a++)i=t[a],(n=$e(i,e))!==i&&(t[a]=n)}else{Object.isFrozen(t)?t=Object.assign({},t):e.add(t);const a=Object.keys(t),o=Object.getOwnPropertyDescriptors(t);for(let l=0,u=a.length;l<u;l++)r=a[l],!o[r].get&&(i=t[r],(n=$e(i,e))!==i&&(t[r]=n))}return t}function Ve(t,e){let s=t[e];return s||Object.defineProperty(t,e,{value:s=Object.create(null)}),s}function Ce(t,e,s){if(t[e])return t[e];const[n,i]=te(s,{equals:!1,internal:!0});return n.$=i,t[e]=n}function li(t,e){const s=Reflect.getOwnPropertyDescriptor(t,e);return!s||s.get||!s.configurable||e===oe||e===ge||(delete s.value,delete s.writable,s.get=()=>t[oe][e]),s}function Yt(t){Qe()&&Ce(Ve(t,ge),Qt)()}function ui(t){return Yt(t),Reflect.ownKeys(t)}const ci={get(t,e,s){if(e===et)return t;if(e===oe)return s;if(e===Ge)return Yt(t),s;const n=Ve(t,ge),i=n[e];let r=i?i():t[e];if(e===ge||e===Z||e==="__proto__")return r;if(!i){const a=Object.getOwnPropertyDescriptor(t,e);Qe()&&(typeof r!="function"||t.hasOwnProperty(e))&&!(a&&a.get)&&(r=Ce(n,e,r)())}return Me(r)?Xt(r):r},has(t,e){return e===et||e===oe||e===Ge||e===ge||e===Z||e==="__proto__"?!0:(Qe()&&Ce(Ve(t,Z),e)(),e in t)},set(){return!0},deleteProperty(){return!0},ownKeys:ui,getOwnPropertyDescriptor:li};function ze(t,e,s,n=!1){if(!n&&t[e]===s)return;const i=t[e],r=t.length;s===void 0?(delete t[e],t[Z]&&t[Z][e]&&i!==void 0&&t[Z][e].$()):(t[e]=s,t[Z]&&t[Z][e]&&i===void 0&&t[Z][e].$());let a=Ve(t,ge),o;if((o=Ce(a,e,i))&&o.$(()=>s),Array.isArray(t)&&t.length!==r){for(let l=t.length;l<r;l++)(o=a[l])&&o.$();(o=Ce(a,"length",r))&&o.$(t.length)}(o=a[Qt])&&o.$()}function Zt(t,e){const s=Object.keys(e);for(let n=0;n<s.length;n+=1){const i=s[n];ze(t,i,e[i])}}function fi(t,e){if(typeof e=="function"&&(e=e(t)),e=$e(e),Array.isArray(e)){if(t===e)return;let s=0,n=e.length;for(;s<n;s++){const i=e[s];t[s]!==i&&ze(t,s,i)}ze(t,"length",n)}else Zt(t,e)}function ye(t,e,s=[]){let n,i=t;if(e.length>1){n=e.shift();const a=typeof n,o=Array.isArray(t);if(Array.isArray(n)){for(let l=0;l<n.length;l++)ye(t,[n[l]].concat(e),s);return}else if(o&&a==="function"){for(let l=0;l<t.length;l++)n(t[l],l)&&ye(t,[l].concat(e),s);return}else if(o&&a==="object"){const{from:l=0,to:u=t.length-1,by:c=1}=n;for(let f=l;f<=u;f+=c)ye(t,[f].concat(e),s);return}else if(e.length>1){ye(t[n],e,[n].concat(s));return}i=t[n],s=[n].concat(s)}let r=e[0];typeof r=="function"&&(r=r(i,s),r===i)||n===void 0&&r==null||(r=$e(r),n===void 0||Me(i)&&Me(r)&&!Array.isArray(r)?Zt(i,r):ze(t,n,r))}function di(...[t,e]){const s=$e(t||{}),n=Array.isArray(s),i=Xt(s);function r(...a){us(()=>{n&&a.length===1?fi(s,a[0]):ye(s,a)})}return[i,r]}const es={units:"inches",scale:72,spacing:0,rotations:4,populationSize:10,mutationRate:10,threads:4,placementType:"gravity",mergeLines:!0,timeRatio:.5,simplify:!1,tolerance:.72,endpointTolerance:.36,svgScale:72,dxfImportUnits:"mm",dxfExportUnits:"mm",exportSheetBounds:!1,exportSheetSpacing:!1,sheetSpacing:10,useQuantityFromFilename:!1,useSvgPreProcessor:!1,conversionServer:"https://converter.deepnest.app/convert"},At={activeTab:"parts",darkMode:!1,language:"en",modals:{presetModal:!1,helpModal:!1},panels:{partsWidth:300,resultsHeight:200}},ts={parts:[],sheets:[],nests:[],presets:{},importedFiles:[]},ss={isNesting:!1,progress:0,currentNest:null,workerStatus:{isRunning:!1,currentOperation:"",threadsActive:0},lastError:null},hi=()=>{try{if(typeof localStorage<"u"){const t=localStorage.getItem("deepnest-ui-state");if(t){const e=JSON.parse(t);return{...At,...e}}}}catch(t){console.warn("Failed to load UI state from localStorage:",t)}return At},gi={ui:hi(),config:es,app:ts,process:ss},[S,N]=di(gi),k={setActiveTab:t=>{N("ui","activeTab",t)},setDarkMode:t=>{if(N("ui","darkMode",t),typeof document<"u"&&document.body.classList.toggle("dark-mode",t),typeof localStorage<"u")try{localStorage.setItem("deepnest-ui-state",JSON.stringify(S.ui))}catch(e){console.warn("Failed to save UI state to localStorage:",e)}},setLanguage:t=>{if(N("ui","language",t),typeof localStorage<"u")try{localStorage.setItem("deepnest-ui-state",JSON.stringify(S.ui))}catch(e){console.warn("Failed to save UI state to localStorage:",e)}},setPanelWidth:(t,e)=>{if(N("ui","panels",t,e),typeof localStorage<"u")try{localStorage.setItem("deepnest-ui-state",JSON.stringify(S.ui))}catch(s){console.warn("Failed to save UI state to localStorage:",s)}},openModal:t=>{N("ui","modals",t,!0)},closeModal:t=>{N("ui","modals",t,!1)},updateConfig:t=>{N("config",t)},resetConfig:()=>{N("config",es)},setParts:t=>{N("app","parts",t)},addPart:t=>{N("app","parts",e=>[...e,t])},removePart:t=>{N("app","parts",e=>e.filter(s=>s.id!==t))},updatePart:(t,e)=>{N("app","parts",s=>s.id===t,e)},setNests:t=>{N("app","nests",t)},addNest:t=>{N("app","nests",e=>[...e,t])},setPresets:t=>{N("app","presets",t)},setNestingStatus:t=>{N("process","isNesting",t)},setNestingProgress:t=>{N("process","progress",t)},setWorkerStatus:t=>{N("process","workerStatus",t)},setError:t=>{N("process","lastError",t)},reset:()=>{N("app",ts),N("process",ss)}};class pi{eventListeners=new Map;get isAvailable(){return typeof window<"u"&&!!window.electronAPI}async invoke(e,...s){if(!this.isAvailable)throw new Error("IPC not available");try{return await window.electronAPI.ipcRenderer.invoke(e,...s)}catch(n){throw console.error(`IPC invoke error on channel ${String(e)}:`,n),n}}on(e,s){if(!this.isAvailable)return console.warn("IPC not available, listener not registered"),()=>{};const n=String(e);return this.eventListeners.has(n)||this.eventListeners.set(n,new Set),this.eventListeners.get(n).add(s),window.electronAPI.ipcRenderer.on(e,s),()=>{const i=this.eventListeners.get(n);i&&(i.delete(s),i.size===0&&(this.eventListeners.delete(n),window.electronAPI.ipcRenderer.removeAllListeners(e)))}}send(e,...s){if(!this.isAvailable){console.warn("IPC not available, message not sent");return}window.electronAPI.ipcRenderer.send(e,...s)}async readConfig(){return this.invoke("read-config")}async writeConfig(e){return this.invoke("write-config",JSON.stringify(e))}async savePreset(e,s){return this.invoke("save-preset",e,JSON.stringify(s))}async loadPresets(){return this.invoke("load-presets")}async deletePreset(e){return this.invoke("delete-preset",e)}async startNesting(e){return this.invoke("start-nesting",e)}async stopNesting(){return this.invoke("stop-nesting")}stopBackgroundWorker(){this.send("background-stop")}onNestProgress(e){return this.on("nest-progress",e)}onNestComplete(e){return this.on("nest-complete",e)}onBackgroundProgress(e){return this.on("background-progress",e)}onWorkerStatus(e){return this.on("worker-status",e)}onNestError(e){return this.on("nest-error",e)}cleanup(){if(this.isAvailable){for(const e of this.eventListeners.keys())window.electronAPI.ipcRenderer.removeAllListeners(e);this.eventListeners.clear()}}}const H=new pi;var mi=E('<header class=header><div class=header-left><h1 class=app-title></h1></div><div class=header-right><div class=language-selector><select><option value=en>English</option><option value=de>Deutsch</option><option value=fr>Franais</option><option value=es>Espaol</option></select></div><button class=dark-mode-toggle title="Toggle dark mode">');const vi=()=>{const[t,{changeLanguage:e}]=q("navigation"),s=()=>{k.setDarkMode(!S.ui.darkMode)},n=async i=>{k.setLanguage(i),await e(i)};return(()=>{var i=mi(),r=i.firstChild,a=r.firstChild,o=r.nextSibling,l=o.firstChild,u=l.firstChild,c=l.nextSibling;return p(a,()=>t("page_title")),u.addEventListener("change",f=>n(f.currentTarget.value)),c.$$click=s,p(c,()=>S.ui.darkMode?"":""),D(()=>u.value=S.ui.language),i})()};ke(["click"]);var bi=E("<nav class=navigation><div class=nav-tabs>"),yi=E("<button><span class=nav-tab-icon></span><span class=nav-tab-label>");const Si=()=>{const[t]=q("navigation"),e=[{id:"parts",labelKey:"parts",icon:""},{id:"nests",labelKey:"nests",icon:""},{id:"sheets",labelKey:"sheets",icon:""},{id:"settings",labelKey:"settings",icon:""}],s=n=>{k.setActiveTab(n)};return(()=>{var n=bi(),i=n.firstChild;return p(i,L(zt,{each:e,children:r=>(()=>{var a=yi(),o=a.firstChild,l=o.nextSibling;return a.$$click=()=>s(r.id),p(o,()=>r.icon),p(l,()=>t(r.labelKey)),D(u=>{var c=`nav-tab ${S.ui.activeTab===r.id?"active":""}`,f=t(r.labelKey);return c!==u.e&&nt(a,u.e=c),f!==u.t&&he(a,"title",u.t=f),u},{e:void 0,t:void 0}),a})()})),n})()};ke(["click"]);var xi=E('<div class=parts-list><div class=parts-controls><div class=search-box><input type=text class=search-input></div><div class=sort-controls><label>:</label><select class=sort-select><option value=name></option><option value=quantity></option><option value=size></option></select></div></div><div class=parts-table><div class=table-header><div class="table-cell checkbox-cell"><input type=checkbox></div><div class="table-cell name-cell sortable"> </div><div class="table-cell quantity-cell sortable"> </div><div class="table-cell size-cell sortable"> </div><div class="table-cell rotation-cell"></div></div><div class=table-body>'),wi=E('<div><div class="table-cell checkbox-cell"><input type=checkbox></div><div class="table-cell name-cell"><div class=part-name></div></div><div class="table-cell quantity-cell"><input type=number min=1 class=quantity-input></div><div class="table-cell size-cell"><span class=size-text></span></div><div class="table-cell rotation-cell"><input type=number min=0 max=360 step=90 class=rotation-input><span class=rotation-unit>');const _i=()=>{const[t]=q("parts"),[e,s]=te(""),[n,i]=te("name"),[r,a]=te("asc"),o=M(()=>{let h=S.app.parts;if(e()){const g=e().toLowerCase();h=h.filter(m=>m.name.toLowerCase().includes(g)||m.source.toLowerCase().includes(g))}return h=h.sort((g,m)=>{let v,w;switch(n()){case"name":v=g.name,w=m.name;break;case"quantity":v=g.quantity,w=m.quantity;break;case"size":v=g.bounds.width*g.bounds.height,w=m.bounds.width*m.bounds.height;break;default:v=g.name,w=m.name}return typeof v=="string"&&typeof w=="string"?r()==="asc"?v.localeCompare(w):w.localeCompare(v):r()==="asc"?v-w:w-v}),h}),l=h=>{k.updatePart(h.id,{selected:!h.selected})},u=(h,g)=>{g<1&&(g=1),k.updatePart(h,{quantity:g})},c=(h,g)=>{k.updatePart(h,{rotation:g})},f=h=>{n()===h?a(r()==="asc"?"desc":"asc"):(i(h),a("asc"))},d=h=>`${h.width.toFixed(1)}  ${h.height.toFixed(1)}`;return(()=>{var h=xi(),g=h.firstChild,m=g.firstChild,v=m.firstChild,w=m.nextSibling,_=w.firstChild,C=_.firstChild,y=_.nextSibling,$=y.firstChild,F=$.nextSibling,R=F.nextSibling,se=g.nextSibling,X=se.firstChild,re=X.firstChild,K=re.firstChild,ne=re.nextSibling,O=ne.firstChild,j=ne.nextSibling,B=j.firstChild,U=j.nextSibling,G=U.firstChild,T=U.nextSibling,J=X.nextSibling;return v.$$input=x=>s(x.currentTarget.value),p(_,()=>t("sort_by"),C),y.addEventListener("change",x=>i(x.currentTarget.value)),p($,()=>t("name")),p(F,()=>t("quantity")),p(R,()=>t("size")),K.addEventListener("change",x=>{const z=x.currentTarget.checked;S.app.parts.forEach(ae=>{k.updatePart(ae.id,{selected:z})})}),ne.$$click=()=>f("name"),p(ne,()=>t("name"),O),p(ne,(()=>{var x=Je(()=>n()==="name");return()=>x()&&(r()==="asc"?"":"")})(),null),j.$$click=()=>f("quantity"),p(j,()=>t("quantity"),B),p(j,(()=>{var x=Je(()=>n()==="quantity");return()=>x()&&(r()==="asc"?"":"")})(),null),U.$$click=()=>f("size"),p(U,()=>t("size"),G),p(U,(()=>{var x=Je(()=>n()==="size");return()=>x()&&(r()==="asc"?"":"")})(),null),p(T,()=>t("rotation")),p(J,L(zt,{get each(){return o()},children:x=>(()=>{var z=wi(),ae=z.firstChild,le=ae.firstChild,it=ae.nextSibling,rt=it.firstChild,at=it.nextSibling,ot=at.firstChild,lt=at.nextSibling,ns=lt.firstChild,is=lt.nextSibling,ut=is.firstChild;return le.addEventListener("change",()=>l(x)),p(rt,()=>x.name),ot.addEventListener("change",Y=>u(x.id,parseInt(Y.currentTarget.value))),p(ns,()=>d(x.bounds)),ut.addEventListener("change",Y=>c(x.id,parseInt(Y.currentTarget.value))),D(Y=>{var ct=`table-row ${x.selected?"selected":""}`,ft=x.source;return ct!==Y.e&&nt(z,Y.e=ct),ft!==Y.t&&he(rt,"title",Y.t=ft),Y},{e:void 0,t:void 0}),D(()=>le.checked=x.selected),D(()=>ot.value=x.quantity),D(()=>ut.value=x.rotation),z})()})),D(x=>{var z=t("search_parts"),ae=S.app.parts.some(le=>le.selected)&&!S.app.parts.every(le=>le.selected);return z!==x.e&&he(v,"placeholder",x.e=z),ae!==x.t&&(K.indeterminate=x.t=ae),x},{e:void 0,t:void 0}),D(()=>v.value=e()),D(()=>y.value=n()),D(()=>K.checked=S.app.parts.every(x=>x.selected)),h})()};ke(["input","click"]);var $i=E('<div class=parts-panel><div class=panel-header><h2></h2><div class=panel-actions><button class="button secondary"> </button><button class="button secondary"> </button><button class="button secondary"> </button></div></div><div class=parts-summary><div class=summary-item><span class=summary-label>:</span><span class=summary-value></span></div><div class=summary-item><span class=summary-label>:</span><span class=summary-value></span></div><div class=summary-actions><button class=button-link></button><span class=separator>|</span><button class=button-link></button></div></div><div class=panel-content>'),Ci=E('<div class=empty-state><div class=empty-icon></div><h3></h3><p></p><button class="button primary">');const Li=()=>{const[t]=q("parts"),e=M(()=>S.app.parts.length),s=M(()=>S.app.parts.reduce((l,u)=>l+u.quantity,0)),n=async()=>{if(!H.isAvailable){console.warn("IPC not available");return}try{const l=await H.openFileDialog({title:t("import_parts"),filters:[{name:"Vector Files",extensions:["svg","dxf"]},{name:"SVG Files",extensions:["svg"]},{name:"DXF Files",extensions:["dxf"]},{name:"All Files",extensions:["*"]}],properties:["openFile","multiSelections"]});if(l.canceled||!l.filePaths?.length)return;const u=await H.importParts(l.filePaths);k.setParts([...S.app.parts,...u])}catch(l){console.error("Failed to import parts:",l),k.setError(t("import_failed"))}},i=async()=>{const l=S.app.parts.filter(u=>u.selected);if(l.length===0){k.setError(t("no_parts_selected"));return}try{const u=await H.saveFileDialog({title:t("export_parts"),defaultPath:"parts.svg",filters:[{name:"SVG Files",extensions:["svg"]},{name:"DXF Files",extensions:["dxf"]},{name:"All Files",extensions:["*"]}]});if(u.canceled||!u.filePath)return;await H.exportParts(l,u.filePath)}catch(u){console.error("Failed to export parts:",u),k.setError(t("export_failed"))}},r=()=>{if(S.app.parts.filter(c=>c.selected).length===0){k.setError(t("no_parts_selected"));return}const u=S.app.parts.filter(c=>!c.selected);k.setParts(u)},a=()=>{S.app.parts.forEach(l=>{k.updatePart(l.id,{selected:!0})})},o=()=>{S.app.parts.forEach(l=>{k.updatePart(l.id,{selected:!1})})};return(()=>{var l=$i(),u=l.firstChild,c=u.firstChild,f=c.nextSibling,d=f.firstChild;d.firstChild;var h=d.nextSibling;h.firstChild;var g=h.nextSibling;g.firstChild;var m=u.nextSibling,v=m.firstChild,w=v.firstChild,_=w.firstChild,C=w.nextSibling,y=v.nextSibling,$=y.firstChild,F=$.firstChild,R=$.nextSibling,se=y.nextSibling,X=se.firstChild,re=X.nextSibling,K=re.nextSibling,ne=m.nextSibling;return p(c,()=>t("parts_title")),d.$$click=n,p(d,()=>t("import"),null),h.$$click=i,p(h,()=>t("export"),null),g.$$click=r,p(g,()=>t("delete"),null),p(w,()=>t("total_parts"),_),p(C,e),p($,()=>t("total_quantity"),F),p(R,s),X.$$click=a,p(X,()=>t("select_all")),K.$$click=o,p(K,()=>t("deselect_all")),p(ne,L(de,{get when(){return e()>0},get fallback(){return(()=>{var O=Ci(),j=O.firstChild,B=j.nextSibling,U=B.nextSibling,G=U.nextSibling;return p(B,()=>t("no_parts_loaded")),p(U,()=>t("import_parts_to_get_started")),G.$$click=n,p(G,()=>t("import_parts")),O})()},get children(){return L(_i,{})}})),D(O=>{var j=t("import_parts"),B=t("export_selected"),U=S.app.parts.filter(z=>z.selected).length===0,G=t("delete_selected"),T=S.app.parts.filter(z=>z.selected).length===0,J=e()===0,x=e()===0;return j!==O.e&&he(d,"title",O.e=j),B!==O.t&&he(h,"title",O.t=B),U!==O.a&&(h.disabled=O.a=U),G!==O.o&&he(g,"title",O.o=G),T!==O.i&&(g.disabled=O.i=T),J!==O.n&&(X.disabled=O.n=J),x!==O.s&&(K.disabled=O.s=x),O},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),l})()};ke(["click"]);var ki=E('<div class=nesting-panel><div class=panel-header><h2></h2><div class=panel-actions><button class="button primary"></button><button class="button secondary"></button></div></div><div class=panel-content><div class=nesting-results><p>Nesting results will be displayed here.</p><p>This will include:</p><ul><li>Real-time progress display</li><li>Results grid with thumbnails</li><li>Detailed result viewer</li><li>Statistics and efficiency metrics</li><li>Export options');const Pi=()=>{const[t]=q("navigation"),[e]=q("actions");return(()=>{var s=ki(),n=s.firstChild,i=n.firstChild,r=i.nextSibling,a=r.firstChild,o=a.nextSibling;return p(i,()=>t("nests")),p(a,()=>e("start_nest")),p(o,()=>e("stop_nest")),s})()};var Oi=E('<div class=sheets-panel><div class=panel-header><h2></h2><div class=panel-actions><button class="button primary"></button></div></div><div class=panel-content><div class=sheets-list><p>Sheet management will be implemented here.</p><p>This will include:</p><ul><li>Sheet configuration (size, margins)</li><li>Material settings</li><li>Sheet templates</li><li>Custom dimensions</li><li>Sheet preview');const Ni=()=>{const[t]=q("navigation"),[e]=q("actions");return(()=>{var s=Oi(),n=s.firstChild,i=n.firstChild,r=i.nextSibling,a=r.firstChild;return p(i,()=>t("sheets")),p(a,()=>e("add")),s})()};var Ai=E('<div class=settings-panel><div class=panel-header><h2></h2><div class=panel-actions><button class="button secondary"></button></div></div><div class=panel-content><div class=settings-sections><p>Settings and configuration will be implemented here.</p><p>This will include:</p><ul><li>Nesting algorithm parameters</li><li>Import/Export settings</li><li>UI preferences</li><li>Preset management</li><li>Advanced settings');const Ei=()=>{const[t]=q("navigation"),[e]=q("actions");return(()=>{var s=Ai(),n=s.firstChild,i=n.firstChild,r=i.nextSibling,a=r.firstChild;return p(i,()=>t("settings")),p(a,()=>e("reset_defaults")),s})()};var Ri=E("<main class=main-content>");const Ii=()=>(()=>{var t=Ri();return p(t,L(ys,{get children(){return[L(Pe,{get when(){return S.ui.activeTab==="parts"},get children(){return L(Li,{})}}),L(Pe,{get when(){return S.ui.activeTab==="nests"},get children(){return L(Pi,{})}}),L(Pe,{get when(){return S.ui.activeTab==="sheets"},get children(){return L(Ni,{})}}),L(Pe,{get when(){return S.ui.activeTab==="settings"},get children(){return L(Ei,{})}})]}})),t})();var Fi=E("<div class=progress-container><div class=progress-bar><div class=progress-fill></div></div><span class=progress-text>%"),Ti=E("<span class=thread-count>"),Di=E("<span class=parts-count>"),ji=E("<span class=nests-count>"),Ui=E("<div class=error-status><span class=error-icon></span><span class=error-text>"),Mi=E("<footer class=status-bar><div class=status-left><span class=status-text></span></div><div class=status-right>");const Vi=()=>{const[t]=q("common"),e=M(()=>{const{process:n}=S;return n.isNesting?t("status.nesting_in_progress"):n.lastError?t("status.error_occurred"):n.workerStatus.isRunning?n.workerStatus.currentOperation||t("status.processing"):t("status.ready")}),s=M(()=>Math.max(0,Math.min(100,S.process.progress)));return(()=>{var n=Mi(),i=n.firstChild,r=i.firstChild,a=i.nextSibling;return p(r,e),p(i,L(de,{get when(){return S.process.isNesting},get children(){var o=Fi(),l=o.firstChild,u=l.firstChild,c=l.nextSibling,f=c.firstChild;return p(c,()=>s().toFixed(1),f),D(d=>(d=`${s()}%`)!=null?u.style.setProperty("width",d):u.style.removeProperty("width")),o}}),null),p(a,L(de,{get when(){return S.process.workerStatus.threadsActive>0},get children(){var o=Ti();return p(o,()=>t("status.threads_active",{count:S.process.workerStatus.threadsActive})),o}}),null),p(a,L(de,{get when(){return S.app.parts.length>0},get children(){var o=Di();return p(o,()=>t("status.parts_loaded",{count:S.app.parts.length})),o}}),null),p(a,L(de,{get when(){return S.app.nests.length>0},get children(){var o=ji();return p(o,()=>t("status.nests_available",{count:S.app.nests.length})),o}}),null),p(a,L(de,{get when(){return S.process.lastError},get children(){var o=Ui(),l=o.firstChild,u=l.nextSibling;return p(u,()=>S.process.lastError),o}}),null),n})()};var zi=E('<div><div class=resizable-left></div><div class=resizable-handle title="Drag to resize"><div class=resizable-handle-line></div></div><div class=resizable-right>');const Ki=t=>{const{minLeftWidth:e=250,maxLeftWidth:s=500,defaultLeftWidth:n=300}=t,[i,r]=te(!1),[a,o]=te(S.ui.panels.partsWidth||n);let l,u;const c=h=>{h.preventDefault(),r(!0),document.addEventListener("mousemove",f),document.addEventListener("mouseup",d),document.body.style.cursor="col-resize",document.body.style.userSelect="none"},f=h=>{if(!i()||!l)return;const g=l.getBoundingClientRect(),m=h.clientX-g.left,v=Math.max(e,Math.min(s,m));o(v),k.setPanelWidth("partsWidth",v)},d=()=>{r(!1),document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",d),document.body.style.cursor="",document.body.style.userSelect=""};return tt(()=>{o(S.ui.panels.partsWidth||n)}),It(()=>{document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",d),document.body.style.cursor="",document.body.style.userSelect=""}),(()=>{var h=zi(),g=h.firstChild,m=g.nextSibling,v=m.nextSibling,w=l;typeof w=="function"?gt(w,h):l=h,p(g,()=>t.left),m.$$mousedown=c;var _=u;return typeof _=="function"?gt(_,m):u=m,p(v,()=>t.right),D(C=>{var y=`resizable-layout ${i()?"resizing":""}`,$=`${a()}px`;return y!==C.e&&nt(h,C.e=y),$!==C.t&&((C.t=$)!=null?g.style.setProperty("width",$):g.style.removeProperty("width")),C},{e:void 0,t:void 0}),h})()};ke(["mousedown"]);var Bi=E("<div class=layout><div class=layout-body>");const Hi=()=>(()=>{var t=Bi(),e=t.firstChild;return p(t,L(vi,{}),e),p(e,L(Ki,{get left(){return L(Si,{})},get right(){return L(Ii,{})},minLeftWidth:200,maxLeftWidth:600,defaultLeftWidth:300})),p(t,L(Vi,{}),null),t})();var Ji=E("<div class=app>");const Wi=()=>{tt(async()=>{if(k.setDarkMode(S.ui.darkMode),t(),H.isAvailable)try{const e=await H.readConfig();k.updateConfig(e)}catch(e){console.warn("Failed to load initial config:",e)}});const t=()=>{H.isAvailable&&(H.onNestProgress(e=>{k.setNestingProgress(e)}),H.onNestComplete(e=>{k.setNests(e),k.setNestingStatus(!1)}),H.onBackgroundProgress(e=>{k.setNestingProgress(e.progress)}),H.onWorkerStatus(e=>{k.setWorkerStatus(e)}),H.onNestError(e=>{k.setError(e),k.setNestingStatus(!1)}))};return L(oi,{get children(){var e=Ji();return p(e,L(Hi,{})),e}})},qi=document.getElementById("root");xs(()=>L(Wi,{}),qi);
