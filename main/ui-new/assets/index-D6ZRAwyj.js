(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function s(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(i){if(i.ep)return;i.ep=!0;const r=s(i);fetch(i.href,r)}})();const Cs=!1,ks=(t,e)=>t===e,xe=Symbol("solid-proxy"),bt=Symbol("solid-track"),Xe={equals:ks};let Qt=ss;const _e=1,Ye=2,Xt={owned:null,cleanups:null,context:null,owner:null};var V=null;let pt=null,Ps=null,W=null,te=null,me=null,ct=0;function Qe(t,e){const s=W,n=V,i=t.length===0,r=e===void 0?n:e,a=i?Xt:{owned:null,cleanups:null,context:r?r.context:null,owner:r},o=i?t:()=>t(()=>ue(()=>je(a)));V=a,W=null;try{return Ne(o,!0)}finally{W=s,V=n}}function ie(t,e){e=e?Object.assign({},Xe,e):Xe;const s={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0},n=i=>(typeof i=="function"&&(i=i(s.value)),ts(s,i));return[es.bind(s),n]}function K(t,e,s){const n=Ct(t,e,!1,_e);We(n)}function Ls(t,e,s){Qt=Fs;const n=Ct(t,e,!1,_e);n.user=!0,me?me.push(n):We(n)}function D(t,e,s){s=s?Object.assign({},Xe,s):Xe;const n=Ct(t,e,!0,0);return n.observers=null,n.observerSlots=null,n.comparator=s.equals||void 0,We(n),es.bind(n)}function Os(t){return Ne(t,!1)}function ue(t){if(W===null)return t();const e=W;W=null;try{return t()}finally{W=e}}function wt(t){Ls(()=>ue(t))}function Yt(t){return V===null||(V.cleanups===null?V.cleanups=[t]:V.cleanups.push(t)),t}function _t(){return W}function Ns(t,e){const s=Symbol("context");return{id:s,Provider:Ts(s),defaultValue:t}}function As(t){let e;return V&&V.context&&(e=V.context[t.id])!==void 0?e:t.defaultValue}function Zt(t){const e=D(t),s=D(()=>yt(e()));return s.toArray=()=>{const n=s();return Array.isArray(n)?n:n!=null?[n]:[]},s}function es(){if(this.sources&&this.state)if(this.state===_e)We(this);else{const t=te;te=null,Ne(()=>et(this),!1),te=t}if(W){const t=this.observers?this.observers.length:0;W.sources?(W.sources.push(this),W.sourceSlots.push(t)):(W.sources=[this],W.sourceSlots=[t]),this.observers?(this.observers.push(W),this.observerSlots.push(W.sources.length-1)):(this.observers=[W],this.observerSlots=[W.sources.length-1])}return this.value}function ts(t,e,s){let n=t.value;return(!t.comparator||!t.comparator(n,e))&&(t.value=e,t.observers&&t.observers.length&&Ne(()=>{for(let i=0;i<t.observers.length;i+=1){const r=t.observers[i],a=pt&&pt.running;a&&pt.disposed.has(r),(a?!r.tState:!r.state)&&(r.pure?te.push(r):me.push(r),r.observers&&ns(r)),a||(r.state=_e)}if(te.length>1e6)throw te=[],new Error},!1)),e}function We(t){if(!t.fn)return;je(t);const e=ct;Es(t,t.value,e)}function Es(t,e,s){let n;const i=V,r=W;W=V=t;try{n=t.fn(e)}catch(a){return t.pure&&(t.state=_e,t.owned&&t.owned.forEach(je),t.owned=null),t.updatedAt=s+1,is(a)}finally{W=r,V=i}(!t.updatedAt||t.updatedAt<=s)&&(t.updatedAt!=null&&"observers"in t?ts(t,n):t.value=n,t.updatedAt=s)}function Ct(t,e,s,n=_e,i){const r={fn:t,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:V,context:V?V.context:null,pure:s};return V===null||V!==Xt&&(V.owned?V.owned.push(r):V.owned=[r]),r}function Ze(t){if(t.state===0)return;if(t.state===Ye)return et(t);if(t.suspense&&ue(t.suspense.inFallback))return t.suspense.effects.push(t);const e=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<ct);)t.state&&e.push(t);for(let s=e.length-1;s>=0;s--)if(t=e[s],t.state===_e)We(t);else if(t.state===Ye){const n=te;te=null,Ne(()=>et(t,e[0]),!1),te=n}}function Ne(t,e){if(te)return t();let s=!1;e||(te=[]),me?s=!0:me=[],ct++;try{const n=t();return Rs(s),n}catch(n){s||(me=null),te=null,is(n)}}function Rs(t){if(te&&(ss(te),te=null),t)return;const e=me;me=null,e.length&&Ne(()=>Qt(e),!1)}function ss(t){for(let e=0;e<t.length;e++)Ze(t[e])}function Fs(t){let e,s=0;for(e=0;e<t.length;e++){const n=t[e];n.user?t[s++]=n:Ze(n)}for(e=0;e<s;e++)Ze(t[e])}function et(t,e){t.state=0;for(let s=0;s<t.sources.length;s+=1){const n=t.sources[s];if(n.sources){const i=n.state;i===_e?n!==e&&(!n.updatedAt||n.updatedAt<ct)&&Ze(n):i===Ye&&et(n,e)}}}function ns(t){for(let e=0;e<t.observers.length;e+=1){const s=t.observers[e];s.state||(s.state=Ye,s.pure?te.push(s):me.push(s),s.observers&&ns(s))}}function je(t){let e;if(t.sources)for(;t.sources.length;){const s=t.sources.pop(),n=t.sourceSlots.pop(),i=s.observers;if(i&&i.length){const r=i.pop(),a=s.observerSlots.pop();n<i.length&&(r.sourceSlots[a]=n,i[n]=r,s.observerSlots[n]=a)}}if(t.tOwned){for(e=t.tOwned.length-1;e>=0;e--)je(t.tOwned[e]);delete t.tOwned}if(t.owned){for(e=t.owned.length-1;e>=0;e--)je(t.owned[e]);t.owned=null}if(t.cleanups){for(e=t.cleanups.length-1;e>=0;e--)t.cleanups[e]();t.cleanups=null}t.state=0}function Is(t){return t instanceof Error?t:new Error(typeof t=="string"?t:"Unknown error",{cause:t})}function is(t,e=V){throw Is(t)}function yt(t){if(typeof t=="function"&&!t.length)return yt(t());if(Array.isArray(t)){const e=[];for(let s=0;s<t.length;s++){const n=yt(t[s]);Array.isArray(n)?e.push.apply(e,n):e.push(n)}return e}return t}function Ts(t,e){return function(n){let i;return K(()=>i=ue(()=>(V.context={...V.context,[t]:n.value},Zt(()=>n.children))),void 0),i}}const Ds=Symbol("fallback");function Nt(t){for(let e=0;e<t.length;e++)t[e]()}function Ms(t,e,s={}){let n=[],i=[],r=[],a=0,o=e.length>1?[]:null;return Yt(()=>Nt(r)),()=>{let l=t()||[],c=l.length,d,f;return l[bt],ue(()=>{let h,p,m,b,S,y,N,v,x;if(c===0)a!==0&&(Nt(r),r=[],n=[],i=[],a=0,o&&(o=[])),s.fallback&&(n=[Ds],i[0]=Qe(F=>(r[0]=F,s.fallback())),a=1);else if(a===0){for(i=new Array(c),f=0;f<c;f++)n[f]=l[f],i[f]=Qe(u);a=c}else{for(m=new Array(c),b=new Array(c),o&&(S=new Array(c)),y=0,N=Math.min(a,c);y<N&&n[y]===l[y];y++);for(N=a-1,v=c-1;N>=y&&v>=y&&n[N]===l[v];N--,v--)m[v]=i[N],b[v]=r[N],o&&(S[v]=o[N]);for(h=new Map,p=new Array(v+1),f=v;f>=y;f--)x=l[f],d=h.get(x),p[f]=d===void 0?-1:d,h.set(x,f);for(d=y;d<=N;d++)x=n[d],f=h.get(x),f!==void 0&&f!==-1?(m[f]=i[d],b[f]=r[d],o&&(S[f]=o[d]),f=p[f],h.set(x,f)):r[d]();for(f=y;f<c;f++)f in m?(i[f]=m[f],r[f]=b[f],o&&(o[f]=S[f],o[f](f))):i[f]=Qe(u);i=i.slice(0,a=c),n=l.slice(0)}return i});function u(h){if(r[f]=h,o){const[p,m]=ie(f);return o[f]=m,e(l[f],p)}return e(l[f])}}}function C(t,e){return ue(()=>t(e||{}))}const rs=t=>`Stale read from <${t}>.`;function ze(t){const e="fallback"in t&&{fallback:()=>t.fallback};return D(Ms(()=>t.each,t.children,e||void 0))}function Q(t){const e=t.keyed,s=D(()=>t.when,void 0,void 0),n=e?s:D(s,void 0,{equals:(i,r)=>!i==!r});return D(()=>{const i=n();if(i){const r=t.children;return typeof r=="function"&&r.length>0?ue(()=>r(e?i:()=>{if(!ue(n))throw rs("Show");return s()})):r}return t.fallback},void 0,void 0)}function Us(t){const e=Zt(()=>t.children),s=D(()=>{const n=e(),i=Array.isArray(n)?n:[n];let r=()=>{};for(let a=0;a<i.length;a++){const o=a,l=i[a],c=r,d=D(()=>c()?void 0:l.when,void 0,void 0),f=l.keyed?d:D(d,void 0,{equals:(u,h)=>!u==!h});r=()=>c()||(f()?[o,d,l]:void 0)}return r});return D(()=>{const n=s()();if(!n)return t.fallback;const[i,r,a]=n,o=a.children;return typeof o=="function"&&o.length>0?ue(()=>o(a.keyed?r():()=>{if(ue(s)()?.[0]!==i)throw rs("Match");return r()})):o},void 0,void 0)}function qe(t){return t}const Le=t=>D(()=>t());function js(t,e,s){let n=s.length,i=e.length,r=n,a=0,o=0,l=e[i-1].nextSibling,c=null;for(;a<i||o<r;){if(e[a]===s[o]){a++,o++;continue}for(;e[i-1]===s[r-1];)i--,r--;if(i===a){const d=r<n?o?s[o-1].nextSibling:s[r-o]:l;for(;o<r;)t.insertBefore(s[o++],d)}else if(r===o)for(;a<i;)(!c||!c.has(e[a]))&&e[a].remove(),a++;else if(e[a]===s[r-1]&&s[o]===e[i-1]){const d=e[--i].nextSibling;t.insertBefore(s[o++],e[a++].nextSibling),t.insertBefore(s[--r],d),e[i]=s[r]}else{if(!c){c=new Map;let f=o;for(;f<r;)c.set(s[f],f++)}const d=c.get(e[a]);if(d!=null)if(o<d&&d<r){let f=a,u=1,h;for(;++f<i&&f<r&&!((h=c.get(e[f]))==null||h!==d+u);)u++;if(u>d-o){const p=e[a];for(;o<d;)t.insertBefore(s[o++],p)}else t.replaceChild(s[o++],e[a++])}else a++;else e[a++].remove()}}}const At="_$DX_DELEGATE";function zs(t,e,s,n={}){let i;return Qe(r=>{i=r,e===document?t():g(e,t(),e.firstChild?null:void 0,s)},n.owner),()=>{i(),e.textContent=""}}function L(t,e,s,n){let i;const r=()=>{const o=n?document.createElementNS("http://www.w3.org/1998/Math/MathML","template"):document.createElement("template");return o.innerHTML=t,s?o.content.firstChild.firstChild:n?o.firstChild:o.content.firstChild},a=e?()=>ue(()=>document.importNode(i||(i=r()),!0)):()=>(i||(i=r())).cloneNode(!0);return a.cloneNode=a,a}function ve(t,e=window.document){const s=e[At]||(e[At]=new Set);for(let n=0,i=t.length;n<i;n++){const r=t[n];s.has(r)||(s.add(r),e.addEventListener(r,Vs))}}function z(t,e,s){s==null?t.removeAttribute(e):t.setAttribute(e,s)}function ut(t,e){e==null?t.removeAttribute("class"):t.className=e}function Et(t,e,s){return ue(()=>t(e,s))}function g(t,e,s,n){if(s!==void 0&&!n&&(n=[]),typeof e!="function")return tt(t,e,n,s);K(i=>tt(t,e(),i,s),n)}function Vs(t){let e=t.target;const s=`$$${t.type}`,n=t.target,i=t.currentTarget,r=l=>Object.defineProperty(t,"target",{configurable:!0,value:l}),a=()=>{const l=e[s];if(l&&!e.disabled){const c=e[`${s}Data`];if(c!==void 0?l.call(e,c,t):l.call(e,t),t.cancelBubble)return}return e.host&&typeof e.host!="string"&&!e.host._$host&&e.contains(t.target)&&r(e.host),!0},o=()=>{for(;a()&&(e=e._$host||e.parentNode||e.host););};if(Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return e||document}}),t.composedPath){const l=t.composedPath();r(l[0]);for(let c=0;c<l.length-2&&(e=l[c],!!a());c++){if(e._$host){e=e._$host,o();break}if(e.parentNode===i)break}}else o();r(n)}function tt(t,e,s,n,i){for(;typeof s=="function";)s=s();if(e===s)return s;const r=typeof e,a=n!==void 0;if(t=a&&s[0]&&s[0].parentNode||t,r==="string"||r==="number"){if(r==="number"&&(e=e.toString(),e===s))return s;if(a){let o=s[0];o&&o.nodeType===3?o.data!==e&&(o.data=e):o=document.createTextNode(e),s=Ce(t,s,n,o)}else s!==""&&typeof s=="string"?s=t.firstChild.data=e:s=t.textContent=e}else if(e==null||r==="boolean")s=Ce(t,s,n);else{if(r==="function")return K(()=>{let o=e();for(;typeof o=="function";)o=o();s=tt(t,o,s,n)}),()=>s;if(Array.isArray(e)){const o=[],l=s&&Array.isArray(s);if(St(o,e,s,i))return K(()=>s=tt(t,o,s,n,!0)),()=>s;if(o.length===0){if(s=Ce(t,s,n),a)return s}else l?s.length===0?Rt(t,o,n):js(t,s,o):(s&&Ce(t),Rt(t,o));s=o}else if(e.nodeType){if(Array.isArray(s)){if(a)return s=Ce(t,s,n,e);Ce(t,s,null,e)}else s==null||s===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);s=e}}return s}function St(t,e,s,n){let i=!1;for(let r=0,a=e.length;r<a;r++){let o=e[r],l=s&&s[t.length],c;if(!(o==null||o===!0||o===!1))if((c=typeof o)=="object"&&o.nodeType)t.push(o);else if(Array.isArray(o))i=St(t,o,l)||i;else if(c==="function")if(n){for(;typeof o=="function";)o=o();i=St(t,Array.isArray(o)?o:[o],Array.isArray(l)?l:[l])||i}else t.push(o),i=!0;else{const d=String(o);l&&l.nodeType===3&&l.data===d?t.push(l):t.push(document.createTextNode(d))}}return i}function Rt(t,e,s=null){for(let n=0,i=e.length;n<i;n++)t.insertBefore(e[n],s)}function Ce(t,e,s,n){if(s===void 0)return t.textContent="";const i=n||document.createTextNode("");if(e.length){let r=!1;for(let a=e.length-1;a>=0;a--){const o=e[a];if(i!==o){const l=o.parentNode===t;!r&&!a?l?t.replaceChild(i,o):t.insertBefore(i,s):l&&o.remove()}else r=!0}}else t.insertBefore(i,s);return[i]}const w=t=>typeof t=="string",Ie=()=>{let t,e;const s=new Promise((n,i)=>{t=n,e=i});return s.resolve=t,s.reject=e,s},Ft=t=>t==null?"":""+t,Ks=(t,e,s)=>{t.forEach(n=>{e[n]&&(s[n]=e[n])})},Bs=/###/g,It=t=>t&&t.indexOf("###")>-1?t.replace(Bs,"."):t,Tt=t=>!t||w(t),Ue=(t,e,s)=>{const n=w(e)?e.split("."):e;let i=0;for(;i<n.length-1;){if(Tt(t))return{};const r=It(n[i]);!t[r]&&s&&(t[r]=new s),Object.prototype.hasOwnProperty.call(t,r)?t=t[r]:t={},++i}return Tt(t)?{}:{obj:t,k:It(n[i])}},Dt=(t,e,s)=>{const{obj:n,k:i}=Ue(t,e,Object);if(n!==void 0||e.length===1){n[i]=s;return}let r=e[e.length-1],a=e.slice(0,e.length-1),o=Ue(t,a,Object);for(;o.obj===void 0&&a.length;)r=`${a[a.length-1]}.${r}`,a=a.slice(0,a.length-1),o=Ue(t,a,Object),o&&o.obj&&typeof o.obj[`${o.k}.${r}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${r}`]=s},Hs=(t,e,s,n)=>{const{obj:i,k:r}=Ue(t,e,Object);i[r]=i[r]||[],i[r].push(s)},st=(t,e)=>{const{obj:s,k:n}=Ue(t,e);if(s)return s[n]},Ws=(t,e,s)=>{const n=st(t,s);return n!==void 0?n:st(e,s)},as=(t,e,s)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?w(t[n])||t[n]instanceof String||w(e[n])||e[n]instanceof String?s&&(t[n]=e[n]):as(t[n],e[n],s):t[n]=e[n]);return t},ke=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Js={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const qs=t=>w(t)?t.replace(/[&<>"'\/]/g,e=>Js[e]):t;class Gs{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const s=this.regExpMap.get(e);if(s!==void 0)return s;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const Qs=[" ",",","?","!",";"],Xs=new Gs(20),Ys=(t,e,s)=>{e=e||"",s=s||"";const n=Qs.filter(a=>e.indexOf(a)<0&&s.indexOf(a)<0);if(n.length===0)return!0;const i=Xs.getRegExp(`(${n.map(a=>a==="?"?"\\?":a).join("|")})`);let r=!i.test(t);if(!r){const a=t.indexOf(s);a>0&&!i.test(t.substring(0,a))&&(r=!0)}return r},xt=function(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const n=e.split(s);let i=t;for(let r=0;r<n.length;){if(!i||typeof i!="object")return;let a,o="";for(let l=r;l<n.length;++l)if(l!==r&&(o+=s),o+=n[l],a=i[o],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&l<n.length-1)continue;r+=l-r+1;break}i=a}return i},nt=t=>t&&t.replace("_","-"),Zs={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class it{constructor(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,s)}init(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=s.prefix||"i18next:",this.logger=e||Zs,this.options=s,this.debug=s.debug}log(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return this.forward(s,"log","",!0)}warn(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return this.forward(s,"warn","",!0)}error(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return this.forward(s,"error","")}deprecate(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return this.forward(s,"warn","WARNING DEPRECATED: ",!0)}forward(e,s,n,i){return i&&!this.debug?null:(w(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[s](e))}create(e){return new it(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new it(this.logger,e)}}var ge=new it;class dt{constructor(){this.observers={}}on(e,s){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const i=this.observers[n].get(s)||0;this.observers[n].set(s,i+1)}),this}off(e,s){if(this.observers[e]){if(!s){delete this.observers[e];return}this.observers[e].delete(s)}}emit(e){for(var s=arguments.length,n=new Array(s>1?s-1:0),i=1;i<s;i++)n[i-1]=arguments[i];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(a=>{let[o,l]=a;for(let c=0;c<l;c++)o(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(a=>{let[o,l]=a;for(let c=0;c<l;c++)o.apply(o,[e,...n])})}}class Mt extends dt{constructor(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const s=this.options.ns.indexOf(e);s>-1&&this.options.ns.splice(s,1)}getResource(e,s,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const r=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,a=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,s],n&&(Array.isArray(n)?o.push(...n):w(n)&&r?o.push(...n.split(r)):o.push(n)));const l=st(this.data,o);return!l&&!s&&!n&&e.indexOf(".")>-1&&(e=o[0],s=o[1],n=o.slice(2).join(".")),l||!a||!w(n)?l:xt(this.data&&this.data[e]&&this.data[e][s],n,r)}addResource(e,s,n,i){let r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const a=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let o=[e,s];n&&(o=o.concat(a?n.split(a):n)),e.indexOf(".")>-1&&(o=e.split("."),i=s,s=o[1]),this.addNamespaces(s),Dt(this.data,o,i),r.silent||this.emit("added",e,s,n,i)}addResources(e,s,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const r in n)(w(n[r])||Array.isArray(n[r]))&&this.addResource(e,s,r,n[r],{silent:!0});i.silent||this.emit("added",e,s,n)}addResourceBundle(e,s,n,i,r){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},o=[e,s];e.indexOf(".")>-1&&(o=e.split("."),i=n,n=s,s=o[1]),this.addNamespaces(s);let l=st(this.data,o)||{};a.skipCopy||(n=JSON.parse(JSON.stringify(n))),i?as(l,n,r):l={...l,...n},Dt(this.data,o,l),a.silent||this.emit("added",e,s,n)}removeResourceBundle(e,s){this.hasResourceBundle(e,s)&&delete this.data[e][s],this.removeNamespaces(s),this.emit("removed",e,s)}hasResourceBundle(e,s){return this.getResource(e,s)!==void 0}getResourceBundle(e,s){return s||(s=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,s)}:this.getResource(e,s)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const s=this.getDataByLanguage(e);return!!(s&&Object.keys(s)||[]).find(i=>s[i]&&Object.keys(s[i]).length>0)}toJSON(){return this.data}}var os={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,s,n,i){return t.forEach(r=>{this.processors[r]&&(e=this.processors[r].process(e,s,n,i))}),e}};const Ut={};class rt extends dt{constructor(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Ks(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=ge.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const n=this.resolve(e,s);return n&&n.res!==void 0}extractFromKey(e,s){let n=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let r=s.ns||this.options.defaultNS||[];const a=n&&e.indexOf(n)>-1,o=!this.options.userDefinedKeySeparator&&!s.keySeparator&&!this.options.userDefinedNsSeparator&&!s.nsSeparator&&!Ys(e,n,i);if(a&&!o){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:w(r)?[r]:r};const c=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(c[0])>-1)&&(r=c.shift()),e=c.join(i)}return{key:e,namespaces:w(r)?[r]:r}}translate(e,s,n){if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof s=="object"&&(s={...s}),s||(s={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const i=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,r=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:a,namespaces:o}=this.extractFromKey(e[e.length-1],s),l=o[o.length-1],c=s.lng||this.language,d=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&c.toLowerCase()==="cimode"){if(d){const v=s.nsSeparator||this.options.nsSeparator;return i?{res:`${l}${v}${a}`,usedKey:a,exactUsedKey:a,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(s)}:`${l}${v}${a}`}return i?{res:a,usedKey:a,exactUsedKey:a,usedLng:c,usedNS:l,usedParams:this.getUsedParamsDetails(s)}:a}const f=this.resolve(e,s);let u=f&&f.res;const h=f&&f.usedKey||a,p=f&&f.exactUsedKey||a,m=Object.prototype.toString.apply(u),b=["[object Number]","[object Function]","[object RegExp]"],S=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,y=!this.i18nFormat||this.i18nFormat.handleAsObject,N=!w(u)&&typeof u!="boolean"&&typeof u!="number";if(y&&u&&N&&b.indexOf(m)<0&&!(w(S)&&Array.isArray(u))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const v=this.options.returnedObjectHandler?this.options.returnedObjectHandler(h,u,{...s,ns:o}):`key '${a} (${this.language})' returned an object instead of string.`;return i?(f.res=v,f.usedParams=this.getUsedParamsDetails(s),f):v}if(r){const v=Array.isArray(u),x=v?[]:{},F=v?p:h;for(const $ in u)if(Object.prototype.hasOwnProperty.call(u,$)){const I=`${F}${r}${$}`;x[$]=this.translate(I,{...s,joinArrays:!1,ns:o}),x[$]===I&&(x[$]=u[$])}u=x}}else if(y&&w(S)&&Array.isArray(u))u=u.join(S),u&&(u=this.extendTranslation(u,e,s,n));else{let v=!1,x=!1;const F=s.count!==void 0&&!w(s.count),$=rt.hasDefaultValue(s),I=F?this.pluralResolver.getSuffix(c,s.count,s):"",M=s.ordinal&&F?this.pluralResolver.getSuffix(c,s.count,{ordinal:!1}):"",B=F&&!s.ordinal&&s.count===0&&this.pluralResolver.shouldUseIntlApi(),P=B&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${I}`]||s[`defaultValue${M}`]||s.defaultValue;!this.isValidLookup(u)&&$&&(v=!0,u=P),this.isValidLookup(u)||(x=!0,u=a);const O=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&x?void 0:u,E=$&&P!==u&&this.options.updateMissing;if(x||v||E){if(this.logger.log(E?"updateKey":"missingKey",c,l,a,E?P:u),r){const U=this.resolve(a,{...s,keySeparator:!1});U&&U.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let T=[];const J=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&J&&J[0])for(let U=0;U<J.length;U++)T.push(J[U]);else this.options.saveMissingTo==="all"?T=this.languageUtils.toResolveHierarchy(s.lng||this.language):T.push(s.lng||this.language);const re=(U,Z,k)=>{const q=$&&k!==u?k:O;this.options.missingKeyHandler?this.options.missingKeyHandler(U,l,Z,q,E,s):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(U,l,Z,q,E,s),this.emit("missingKey",U,l,Z,u)};this.options.saveMissing&&(this.options.saveMissingPlurals&&F?T.forEach(U=>{const Z=this.pluralResolver.getSuffixes(U,s);B&&s[`defaultValue${this.options.pluralSeparator}zero`]&&Z.indexOf(`${this.options.pluralSeparator}zero`)<0&&Z.push(`${this.options.pluralSeparator}zero`),Z.forEach(k=>{re([U],a+k,s[`defaultValue${k}`]||P)})}):re(T,a,P))}u=this.extendTranslation(u,e,s,f,n),x&&u===a&&this.options.appendNamespaceToMissingKey&&(u=`${l}:${a}`),(x||v)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?u=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${l}:${a}`:a,v?u:void 0):u=this.options.parseMissingKeyHandler(u))}return i?(f.res=u,f.usedParams=this.getUsedParamsDetails(s),f):u}extendTranslation(e,s,n,i,r){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const c=w(e)&&(n&&n.interpolation&&n.interpolation.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(c){const u=e.match(this.interpolator.nestingRegexp);d=u&&u.length}let f=n.replace&&!w(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),e=this.interpolator.interpolate(e,f,n.lng||this.language||i.usedLng,n),c){const u=e.match(this.interpolator.nestingRegexp),h=u&&u.length;d<h&&(n.nest=!1)}!n.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(n.lng=this.language||i.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var u=arguments.length,h=new Array(u),p=0;p<u;p++)h[p]=arguments[p];return r&&r[0]===h[0]&&!n.context?(a.logger.warn(`It seems you are nesting recursively key: ${h[0]} in key: ${s[0]}`),null):a.translate(...h,s)},n)),n.interpolation&&this.interpolator.reset()}const o=n.postProcess||this.options.postProcess,l=w(o)?[o]:o;return e!=null&&l&&l.length&&n.applyPostProcessor!==!1&&(e=os.handle(l,e,s,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n,i,r,a,o;return w(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(n))return;const c=this.extractFromKey(l,s),d=c.key;i=d;let f=c.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const u=s.count!==void 0&&!w(s.count),h=u&&!s.ordinal&&s.count===0&&this.pluralResolver.shouldUseIntlApi(),p=s.context!==void 0&&(w(s.context)||typeof s.context=="number")&&s.context!=="",m=s.lngs?s.lngs:this.languageUtils.toResolveHierarchy(s.lng||this.language,s.fallbackLng);f.forEach(b=>{this.isValidLookup(n)||(o=b,!Ut[`${m[0]}-${b}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(o)&&(Ut[`${m[0]}-${b}`]=!0,this.logger.warn(`key "${i}" for languages "${m.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),m.forEach(S=>{if(this.isValidLookup(n))return;a=S;const y=[d];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(y,d,S,b,s);else{let v;u&&(v=this.pluralResolver.getSuffix(S,s.count,s));const x=`${this.options.pluralSeparator}zero`,F=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(u&&(y.push(d+v),s.ordinal&&v.indexOf(F)===0&&y.push(d+v.replace(F,this.options.pluralSeparator)),h&&y.push(d+x)),p){const $=`${d}${this.options.contextSeparator}${s.context}`;y.push($),u&&(y.push($+v),s.ordinal&&v.indexOf(F)===0&&y.push($+v.replace(F,this.options.pluralSeparator)),h&&y.push($+x))}}let N;for(;N=y.pop();)this.isValidLookup(n)||(r=N,n=this.getResource(S,b,N,s))}))})}),{res:n,usedKey:i,exactUsedKey:r,usedLng:a,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,s,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,s,n,i):this.resourceStore.getResource(e,s,n,i)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const s=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!w(e.replace);let i=n?e.replace:e;if(n&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!n){i={...i};for(const r of s)delete i[r]}return i}static hasDefaultValue(e){const s="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&s===n.substring(0,s.length)&&e[n]!==void 0)return!0;return!1}}const mt=t=>t.charAt(0).toUpperCase()+t.slice(1);class jt{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=ge.create("languageUtils")}getScriptPartFromCode(e){if(e=nt(e),!e||e.indexOf("-")<0)return null;const s=e.split("-");return s.length===2||(s.pop(),s[s.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(s.join("-"))}getLanguagePartFromCode(e){if(e=nt(e),!e||e.indexOf("-")<0)return e;const s=e.split("-");return this.formatLanguageCode(s[0])}formatLanguageCode(e){if(w(e)&&e.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let i=Intl.getCanonicalLocales(e)[0];if(i&&this.options.lowerCaseLng&&(i=i.toLowerCase()),i)return i}catch{}const s=["hans","hant","latn","cyrl","cans","mong","arab"];let n=e.split("-");return this.options.lowerCaseLng?n=n.map(i=>i.toLowerCase()):n.length===2?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),s.indexOf(n[1].toLowerCase())>-1&&(n[1]=mt(n[1].toLowerCase()))):n.length===3&&(n[0]=n[0].toLowerCase(),n[1].length===2&&(n[1]=n[1].toUpperCase()),n[0]!=="sgn"&&n[2].length===2&&(n[2]=n[2].toUpperCase()),s.indexOf(n[1].toLowerCase())>-1&&(n[1]=mt(n[1].toLowerCase())),s.indexOf(n[2].toLowerCase())>-1&&(n[2]=mt(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let s;return e.forEach(n=>{if(s)return;const i=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(i))&&(s=i)}),!s&&this.options.supportedLngs&&e.forEach(n=>{if(s)return;const i=this.getLanguagePartFromCode(n);if(this.isSupportedCode(i))return s=i;s=this.options.supportedLngs.find(r=>{if(r===i)return r;if(!(r.indexOf("-")<0&&i.indexOf("-")<0)&&(r.indexOf("-")>0&&i.indexOf("-")<0&&r.substring(0,r.indexOf("-"))===i||r.indexOf(i)===0&&i.length>1))return r})}),s||(s=this.getFallbackCodes(this.options.fallbackLng)[0]),s}getFallbackCodes(e,s){if(!e)return[];if(typeof e=="function"&&(e=e(s)),w(e)&&(e=[e]),Array.isArray(e))return e;if(!s)return e.default||[];let n=e[s];return n||(n=e[this.getScriptPartFromCode(s)]),n||(n=e[this.formatLanguageCode(s)]),n||(n=e[this.getLanguagePartFromCode(s)]),n||(n=e.default),n||[]}toResolveHierarchy(e,s){const n=this.getFallbackCodes(s||this.options.fallbackLng||[],e),i=[],r=a=>{a&&(this.isSupportedCode(a)?i.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return w(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&r(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&r(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&r(this.getLanguagePartFromCode(e))):w(e)&&r(this.formatLanguageCode(e)),n.forEach(a=>{i.indexOf(a)<0&&r(this.formatLanguageCode(a))}),i}}let en=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],tn={1:t=>+(t>1),2:t=>+(t!=1),3:t=>0,4:t=>t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,5:t=>t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5,6:t=>t==1?0:t>=2&&t<=4?1:2,7:t=>t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,8:t=>t==1?0:t==2?1:t!=8&&t!=11?2:3,9:t=>+(t>=2),10:t=>t==1?0:t==2?1:t<7?2:t<11?3:4,11:t=>t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3,12:t=>+(t%10!=1||t%100==11),13:t=>+(t!==0),14:t=>t==1?0:t==2?1:t==3?2:3,15:t=>t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2,16:t=>t%10==1&&t%100!=11?0:t!==0?1:2,17:t=>t==1||t%10==1&&t%100!=11?0:1,18:t=>t==0?0:t==1?1:2,19:t=>t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3,20:t=>t==1?0:t==0||t%100>0&&t%100<20?1:2,21:t=>t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0,22:t=>t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3};const sn=["v1","v2","v3"],nn=["v4"],zt={zero:0,one:1,two:2,few:3,many:4,other:5},rn=()=>{const t={};return en.forEach(e=>{e.lngs.forEach(s=>{t[s]={numbers:e.nr,plurals:tn[e.fc]}})}),t};class an{constructor(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=s,this.logger=ge.create("pluralResolver"),(!this.options.compatibilityJSON||nn.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=rn(),this.pluralRulesCache={}}addRule(e,s){this.rules[e]=s}clearCache(){this.pluralRulesCache={}}getRule(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const n=nt(e==="dev"?"en":e),i=s.ordinal?"ordinal":"cardinal",r=JSON.stringify({cleanedCode:n,type:i});if(r in this.pluralRulesCache)return this.pluralRulesCache[r];let a;try{a=new Intl.PluralRules(n,{type:i})}catch{if(!e.match(/-|_/))return;const l=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(l,s)}return this.pluralRulesCache[r]=a,a}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(e,s);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(e,s){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,n).map(i=>`${s}${i}`)}getSuffixes(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(e,s);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((i,r)=>zt[i]-zt[r]).map(i=>`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${i}`):n.numbers.map(i=>this.getSuffix(e,i,s)):[]}getSuffix(e,s){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(e,n);return i?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i.select(s)}`:this.getSuffixRetroCompatible(i,s):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,s){const n=e.noAbs?e.plurals(s):e.plurals(Math.abs(s));let i=e.numbers[n];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const r=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?`_plural_${i.toString()}`:r():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?r():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!sn.includes(this.options.compatibilityJSON)}}const Vt=function(t,e,s){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,r=Ws(t,e,s);return!r&&i&&w(s)&&(r=xt(t,s,n),r===void 0&&(r=xt(e,s,n))),r},vt=t=>t.replace(/\$/g,"$$$$");class on{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ge.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(s=>s),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:s,escapeValue:n,useRawValueToEscape:i,prefix:r,prefixEscaped:a,suffix:o,suffixEscaped:l,formatSeparator:c,unescapeSuffix:d,unescapePrefix:f,nestingPrefix:u,nestingPrefixEscaped:h,nestingSuffix:p,nestingSuffixEscaped:m,nestingOptionsSeparator:b,maxReplaces:S,alwaysFormat:y}=e.interpolation;this.escape=s!==void 0?s:qs,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=r?ke(r):a||"{{",this.suffix=o?ke(o):l||"}}",this.formatSeparator=c||",",this.unescapePrefix=d?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=u?ke(u):h||ke("$t("),this.nestingSuffix=p?ke(p):m||ke(")"),this.nestingOptionsSeparator=b||",",this.maxReplaces=S||1e3,this.alwaysFormat=y!==void 0?y:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(s,n)=>s&&s.source===n?(s.lastIndex=0,s):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,s,n,i){let r,a,o;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=h=>{if(h.indexOf(this.formatSeparator)<0){const S=Vt(s,l,h,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(S,void 0,n,{...i,...s,interpolationkey:h}):S}const p=h.split(this.formatSeparator),m=p.shift().trim(),b=p.join(this.formatSeparator).trim();return this.format(Vt(s,l,m,this.options.keySeparator,this.options.ignoreJSONStructure),b,n,{...i,...s,interpolationkey:m})};this.resetRegExp();const d=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,f=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:h=>vt(h)},{regex:this.regexp,safeValue:h=>this.escapeValue?vt(this.escape(h)):vt(h)}].forEach(h=>{for(o=0;r=h.regex.exec(e);){const p=r[1].trim();if(a=c(p),a===void 0)if(typeof d=="function"){const b=d(e,r,i);a=w(b)?b:""}else if(i&&Object.prototype.hasOwnProperty.call(i,p))a="";else if(f){a=r[0];continue}else this.logger.warn(`missed to pass in variable ${p} for interpolating ${e}`),a="";else!w(a)&&!this.useRawValueToEscape&&(a=Ft(a));const m=h.safeValue(a);if(e=e.replace(r[0],m),f?(h.regex.lastIndex+=a.length,h.regex.lastIndex-=r[0].length):h.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,s){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,r,a;const o=(l,c)=>{const d=this.nestingOptionsSeparator;if(l.indexOf(d)<0)return l;const f=l.split(new RegExp(`${d}[ ]*{`));let u=`{${f[1]}`;l=f[0],u=this.interpolate(u,a);const h=u.match(/'/g),p=u.match(/"/g);(h&&h.length%2===0&&!p||p.length%2!==0)&&(u=u.replace(/'/g,'"'));try{a=JSON.parse(u),c&&(a={...c,...a})}catch(m){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,m),`${l}${d}${u}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,l};for(;i=this.nestingRegexp.exec(e);){let l=[];a={...n},a=a.replace&&!w(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;let c=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const d=i[1].split(this.formatSeparator).map(f=>f.trim());i[1]=d.shift(),l=d,c=!0}if(r=s(o.call(this,i[1].trim(),a),a),r&&i[0]===e&&!w(r))return r;w(r)||(r=Ft(r)),r||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),r=""),c&&(r=l.reduce((d,f)=>this.format(d,f,n.lng,{...n,interpolationkey:i[1].trim()}),r.trim())),e=e.replace(i[0],r),this.regexp.lastIndex=0}return e}}const ln=t=>{let e=t.toLowerCase().trim();const s={};if(t.indexOf("(")>-1){const n=t.split("(");e=n[0].toLowerCase().trim();const i=n[1].substring(0,n[1].length-1);e==="currency"&&i.indexOf(":")<0?s.currency||(s.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?s.range||(s.range=i.trim()):i.split(";").forEach(a=>{if(a){const[o,...l]=a.split(":"),c=l.join(":").trim().replace(/^'+|'+$/g,""),d=o.trim();s[d]||(s[d]=c),c==="false"&&(s[d]=!1),c==="true"&&(s[d]=!0),isNaN(c)||(s[d]=parseInt(c,10))}})}return{formatName:e,formatOptions:s}},Pe=t=>{const e={};return(s,n,i)=>{let r=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(r={...r,[i.interpolationkey]:void 0});const a=n+JSON.stringify(r);let o=e[a];return o||(o=t(nt(n),i),e[a]=o),o(s)}};class cn{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=ge.create("formatter"),this.options=e,this.formats={number:Pe((s,n)=>{const i=new Intl.NumberFormat(s,{...n});return r=>i.format(r)}),currency:Pe((s,n)=>{const i=new Intl.NumberFormat(s,{...n,style:"currency"});return r=>i.format(r)}),datetime:Pe((s,n)=>{const i=new Intl.DateTimeFormat(s,{...n});return r=>i.format(r)}),relativetime:Pe((s,n)=>{const i=new Intl.RelativeTimeFormat(s,{...n});return r=>i.format(r,n.range||"day")}),list:Pe((s,n)=>{const i=new Intl.ListFormat(s,{...n});return r=>i.format(r)})},this.init(e)}init(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=s.interpolation.formatSeparator||","}add(e,s){this.formats[e.toLowerCase().trim()]=s}addCached(e,s){this.formats[e.toLowerCase().trim()]=Pe(s)}format(e,s,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const r=s.split(this.formatSeparator);if(r.length>1&&r[0].indexOf("(")>1&&r[0].indexOf(")")<0&&r.find(o=>o.indexOf(")")>-1)){const o=r.findIndex(l=>l.indexOf(")")>-1);r[0]=[r[0],...r.splice(1,o)].join(this.formatSeparator)}return r.reduce((o,l)=>{const{formatName:c,formatOptions:d}=ln(l);if(this.formats[c]){let f=o;try{const u=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},h=u.locale||u.lng||i.locale||i.lng||n;f=this.formats[c](o,h,{...d,...i,...u})}catch(u){this.logger.warn(u)}return f}else this.logger.warn(`there was no format function for ${c}`);return o},e)}}const un=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class dn extends dt{constructor(e,s,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=s,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=ge.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,i.backend,i)}queueLoad(e,s,n,i){const r={},a={},o={},l={};return e.forEach(c=>{let d=!0;s.forEach(f=>{const u=`${c}|${f}`;!n.reload&&this.store.hasResourceBundle(c,f)?this.state[u]=2:this.state[u]<0||(this.state[u]===1?a[u]===void 0&&(a[u]=!0):(this.state[u]=1,d=!1,a[u]===void 0&&(a[u]=!0),r[u]===void 0&&(r[u]=!0),l[f]===void 0&&(l[f]=!0)))}),d||(o[c]=!0)}),(Object.keys(r).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(r),pending:Object.keys(a),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(l)}}loaded(e,s,n){const i=e.split("|"),r=i[0],a=i[1];s&&this.emit("failedLoading",r,a,s),!s&&n&&this.store.addResourceBundle(r,a,n,void 0,void 0,{skipCopy:!0}),this.state[e]=s?-1:2,s&&n&&(this.state[e]=0);const o={};this.queue.forEach(l=>{Hs(l.loaded,[r],a),un(l,e),s&&l.errors.push(s),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(c=>{o[c]||(o[c]={});const d=l.loaded[c];d.length&&d.forEach(f=>{o[c][f]===void 0&&(o[c][f]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(l=>!l.done)}read(e,s,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:s,fcName:n,tried:i,wait:r,callback:a});return}this.readingCalls++;const o=(c,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(c&&d&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,s,n,i+1,r*2,a)},r);return}a(c,d)},l=this.backend[n].bind(this.backend);if(l.length===2){try{const c=l(e,s);c&&typeof c.then=="function"?c.then(d=>o(null,d)).catch(o):o(null,c)}catch(c){o(c)}return}return l(e,s,o)}prepareLoading(e,s){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();w(e)&&(e=this.languageUtils.toResolveHierarchy(e)),w(s)&&(s=[s]);const r=this.queueLoad(e,s,n,i);if(!r.toLoad.length)return r.pending.length||i(),null;r.toLoad.forEach(a=>{this.loadOne(a)})}load(e,s,n){this.prepareLoading(e,s,{},n)}reload(e,s,n){this.prepareLoading(e,s,{reload:!0},n)}loadOne(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=e.split("|"),i=n[0],r=n[1];this.read(i,r,"read",void 0,void 0,(a,o)=>{a&&this.logger.warn(`${s}loading namespace ${r} for language ${i} failed`,a),!a&&o&&this.logger.log(`${s}loaded namespace ${r} for language ${i}`,o),this.loaded(e,a,o)})}saveMissing(e,s,n,i,r){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(s)){this.logger.warn(`did not save key "${n}" as the namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend&&this.backend.create){const l={...a,isUpdate:r},c=this.backend.create.bind(this.backend);if(c.length<6)try{let d;c.length===5?d=c(e,s,n,i,l):d=c(e,s,n,i),d&&typeof d.then=="function"?d.then(f=>o(null,f)).catch(o):o(null,d)}catch(d){o(d)}else c(e,s,n,i,o,l)}!e||!e[0]||this.store.addResource(e[0],s,n,i)}}}const Kt=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),w(t[1])&&(e.defaultValue=t[1]),w(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const s=t[3]||t[2];Object.keys(s).forEach(n=>{e[n]=s[n]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),Bt=t=>(w(t.ns)&&(t.ns=[t.ns]),w(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),w(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t),Ge=()=>{},fn=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(s=>{typeof t[s]=="function"&&(t[s]=t[s].bind(t))})};class Ve extends dt{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Bt(e),this.services={},this.logger=ge,this.modules={external:[]},fn(this),s&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,s),this;setTimeout(()=>{this.init(e,s)},0)}}init(){var e=this;let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof s=="function"&&(n=s,s={}),!s.defaultNS&&s.defaultNS!==!1&&s.ns&&(w(s.ns)?s.defaultNS=s.ns:s.ns.indexOf("translation")<0&&(s.defaultNS=s.ns[0]));const i=Kt();this.options={...i,...this.options,...Bt(s)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),s.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=s.keySeparator),s.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=s.nsSeparator);const r=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?ge.init(r(this.modules.logger),this.options):ge.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:typeof Intl<"u"&&(d=cn);const f=new jt(this.options);this.store=new Mt(this.options.resources,this.options);const u=this.services;u.logger=ge,u.resourceStore=this.store,u.languageUtils=f,u.pluralResolver=new an(f,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),d&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(u.formatter=r(d),u.formatter.init(u,this.options),this.options.interpolation.format=u.formatter.format.bind(u.formatter)),u.interpolator=new on(this.options),u.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},u.backendConnector=new dn(r(this.modules.backend),u.resourceStore,u,this.options),u.backendConnector.on("*",function(h){for(var p=arguments.length,m=new Array(p>1?p-1:0),b=1;b<p;b++)m[b-1]=arguments[b];e.emit(h,...m)}),this.modules.languageDetector&&(u.languageDetector=r(this.modules.languageDetector),u.languageDetector.init&&u.languageDetector.init(u,this.options.detection,this.options)),this.modules.i18nFormat&&(u.i18nFormat=r(this.modules.i18nFormat),u.i18nFormat.init&&u.i18nFormat.init(this)),this.translator=new rt(this.services,this.options),this.translator.on("*",function(h){for(var p=arguments.length,m=new Array(p>1?p-1:0),b=1;b<p;b++)m[b-1]=arguments[b];e.emit(h,...m)}),this.modules.external.forEach(h=>{h.init&&h.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Ge),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=function(){return e.store[d](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=function(){return e.store[d](...arguments),e}});const l=Ie(),c=()=>{const d=(f,u)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(u),n(f,u)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initImmediate?c():setTimeout(c,0),l}loadResources(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ge;const i=w(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const r=[],a=o=>{if(!o||o==="cimode")return;this.services.languageUtils.toResolveHierarchy(o).forEach(c=>{c!=="cimode"&&r.indexOf(c)<0&&r.push(c)})};i?a(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>a(l)),this.options.preload&&this.options.preload.forEach(o=>a(o)),this.services.backendConnector.load(r,this.options.ns,o=>{!o&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(o)})}else n(null)}reloadResources(e,s,n){const i=Ie();return typeof e=="function"&&(n=e,e=void 0),typeof s=="function"&&(n=s,s=void 0),e||(e=this.languages),s||(s=this.options.ns),n||(n=Ge),this.services.backendConnector.reload(e,s,r=>{i.resolve(),n(r)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&os.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let s=0;s<this.languages.length;s++){const n=this.languages[s];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}changeLanguage(e,s){var n=this;this.isLanguageChangingTo=e;const i=Ie();this.emit("languageChanging",e);const r=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},a=(l,c)=>{c?(r(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,i.resolve(function(){return n.t(...arguments)}),s&&s(l,function(){return n.t(...arguments)})},o=l=>{!e&&!l&&this.services.languageDetector&&(l=[]);const c=w(l)?l:this.services.languageUtils.getBestMatchFromCodes(l);c&&(this.language||r(c),this.translator.language||this.translator.changeLanguage(c),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(c)),this.loadResources(c,d=>{a(d,c)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),i}getFixedT(e,s,n){var i=this;const r=function(a,o){let l;if(typeof o!="object"){for(var c=arguments.length,d=new Array(c>2?c-2:0),f=2;f<c;f++)d[f-2]=arguments[f];l=i.options.overloadTranslationOptionHandler([a,o].concat(d))}else l={...o};l.lng=l.lng||r.lng,l.lngs=l.lngs||r.lngs,l.ns=l.ns||r.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||n||r.keyPrefix);const u=i.options.keySeparator||".";let h;return l.keyPrefix&&Array.isArray(a)?h=a.map(p=>`${l.keyPrefix}${u}${p}`):h=l.keyPrefix?`${l.keyPrefix}${u}${a}`:a,i.t(h,l)};return w(e)?r.lng=e:r.lngs=e,r.ns=s,r.keyPrefix=n,r}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=s.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,r=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const a=(o,l)=>{const c=this.services.backendConnector.state[`${o}|${l}`];return c===-1||c===0||c===2};if(s.precheck){const o=s.precheck(this,a);if(o!==void 0)return o}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(n,e)&&(!i||a(r,e)))}loadNamespaces(e,s){const n=Ie();return this.options.ns?(w(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{n.resolve(),s&&s(i)}),n):(s&&s(),Promise.resolve())}loadLanguages(e,s){const n=Ie();w(e)&&(e=[e]);const i=this.options.preload||[],r=e.filter(a=>i.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return r.length?(this.options.preload=i.concat(r),this.loadResources(a=>{n.resolve(),s&&s(a)}),n):(s&&s(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const s=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services&&this.services.languageUtils||new jt(Kt());return s.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;return new Ve(e,s)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ge;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},r=new Ve(i);return(e.debug!==void 0||e.prefix!==void 0)&&(r.logger=r.logger.clone(e)),["store","services","language"].forEach(o=>{r[o]=this[o]}),r.services={...this.services},r.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},n&&(r.store=new Mt(this.store.data,i),r.services.resourceStore=r.store),r.translator=new rt(r.services,i),r.translator.on("*",function(o){for(var l=arguments.length,c=new Array(l>1?l-1:0),d=1;d<l;d++)c[d-1]=arguments[d];r.emit(o,...c)}),r.init(i,s),r.translator.options=i,r.translator.backendConnector.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const X=Ve.createInstance();X.createInstance=Ve.createInstance;X.createInstance;X.dir;X.init;X.loadResources;X.reloadResources;X.use;X.changeLanguage;X.getFixedT;X.t;X.exists;X.setDefaultNamespace;X.hasLoadedNamespace;X.loadNamespaces;X.loadLanguages;function gn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ke(t){"@babel/helpers - typeof";return Ke=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ke(t)}function hn(t,e){if(Ke(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e);if(Ke(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function pn(t){var e=hn(t,"string");return Ke(e)=="symbol"?e:e+""}function mn(t,e){for(var s=0;s<e.length;s++){var n=e[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pn(n.key),n)}}function vn(t,e,s){return e&&mn(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}var ls=[],bn=ls.forEach,_n=ls.slice;function yn(t){return bn.call(_n.call(arguments,1),function(e){if(e)for(var s in e)t[s]===void 0&&(t[s]=e[s])}),t}var Ht=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Sn=function(e,s,n){var i=n||{};i.path=i.path||"/";var r=encodeURIComponent(s),a="".concat(e,"=").concat(r);if(i.maxAge>0){var o=i.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");a+="; Max-Age=".concat(Math.floor(o))}if(i.domain){if(!Ht.test(i.domain))throw new TypeError("option domain is invalid");a+="; Domain=".concat(i.domain)}if(i.path){if(!Ht.test(i.path))throw new TypeError("option path is invalid");a+="; Path=".concat(i.path)}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+="; Expires=".concat(i.expires.toUTCString())}if(i.httpOnly&&(a+="; HttpOnly"),i.secure&&(a+="; Secure"),i.sameSite){var l=typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite;switch(l){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a},Wt={create:function(e,s,n,i){var r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(r.expires=new Date,r.expires.setTime(r.expires.getTime()+n*60*1e3)),i&&(r.domain=i),document.cookie=Sn(e,encodeURIComponent(s),r)},read:function(e){for(var s="".concat(e,"="),n=document.cookie.split(";"),i=0;i<n.length;i++){for(var r=n[i];r.charAt(0)===" ";)r=r.substring(1,r.length);if(r.indexOf(s)===0)return r.substring(s.length,r.length)}return null},remove:function(e){this.create(e,"",-1)}},xn={name:"cookie",lookup:function(e){var s;if(e.lookupCookie&&typeof document<"u"){var n=Wt.read(e.lookupCookie);n&&(s=n)}return s},cacheUserLanguage:function(e,s){s.lookupCookie&&typeof document<"u"&&Wt.create(s.lookupCookie,e,s.cookieMinutes,s.cookieDomain,s.cookieOptions)}},$n={name:"querystring",lookup:function(e){var s;if(typeof window<"u"){var n=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(n=window.location.hash.substring(window.location.hash.indexOf("?")));for(var i=n.substring(1),r=i.split("&"),a=0;a<r.length;a++){var o=r[a].indexOf("=");if(o>0){var l=r[a].substring(0,o);l===e.lookupQuerystring&&(s=r[a].substring(o+1))}}}return s}},Te=null,Jt=function(){if(Te!==null)return Te;try{Te=window!=="undefined"&&window.localStorage!==null;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{Te=!1}return Te},wn={name:"localStorage",lookup:function(e){var s;if(e.lookupLocalStorage&&Jt()){var n=window.localStorage.getItem(e.lookupLocalStorage);n&&(s=n)}return s},cacheUserLanguage:function(e,s){s.lookupLocalStorage&&Jt()&&window.localStorage.setItem(s.lookupLocalStorage,e)}},De=null,qt=function(){if(De!==null)return De;try{De=window!=="undefined"&&window.sessionStorage!==null;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{De=!1}return De},Cn={name:"sessionStorage",lookup:function(e){var s;if(e.lookupSessionStorage&&qt()){var n=window.sessionStorage.getItem(e.lookupSessionStorage);n&&(s=n)}return s},cacheUserLanguage:function(e,s){s.lookupSessionStorage&&qt()&&window.sessionStorage.setItem(s.lookupSessionStorage,e)}},kn={name:"navigator",lookup:function(e){var s=[];if(typeof navigator<"u"){if(navigator.languages)for(var n=0;n<navigator.languages.length;n++)s.push(navigator.languages[n]);navigator.userLanguage&&s.push(navigator.userLanguage),navigator.language&&s.push(navigator.language)}return s.length>0?s:void 0}},Pn={name:"htmlTag",lookup:function(e){var s,n=e.htmlTag||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(s=n.getAttribute("lang")),s}},Ln={name:"path",lookup:function(e){var s;if(typeof window<"u"){var n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(n instanceof Array)if(typeof e.lookupFromPathIndex=="number"){if(typeof n[e.lookupFromPathIndex]!="string")return;s=n[e.lookupFromPathIndex].replace("/","")}else s=n[0].replace("/","")}return s}},On={name:"subdomain",lookup:function(e){var s=typeof e.lookupFromSubdomainIndex=="number"?e.lookupFromSubdomainIndex+1:1,n=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(n)return n[s]}},cs=!1;try{document.cookie,cs=!0}catch{}var us=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];cs||us.splice(1,1);function Nn(){return{order:us,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(e){return e}}}var ds=function(){function t(e){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};gn(this,t),this.type="languageDetector",this.detectors={},this.init(e,s)}return vn(t,[{key:"init",value:function(s){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=s||{languageUtils:{}},this.options=yn(n,this.options||{},Nn()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(r){return r.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=i,this.addDetector(xn),this.addDetector($n),this.addDetector(wn),this.addDetector(Cn),this.addDetector(kn),this.addDetector(Pn),this.addDetector(Ln),this.addDetector(On)}},{key:"addDetector",value:function(s){return this.detectors[s.name]=s,this}},{key:"detect",value:function(s){var n=this;s||(s=this.options.order);var i=[];return s.forEach(function(r){if(n.detectors[r]){var a=n.detectors[r].lookup(n.options);a&&typeof a=="string"&&(a=[a]),a&&(i=i.concat(a))}}),i=i.map(function(r){return n.options.convertDetectedLanguage(r)}),this.services.languageUtils.getBestMatchFromCodes?i:i.length>0?i[0]:null}},{key:"cacheUserLanguage",value:function(s,n){var i=this;n||(n=this.options.caches),n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(s)>-1||n.forEach(function(r){i.detectors[r]&&i.detectors[r].cacheUserLanguage(s,i.options)}))}}])}();ds.type="languageDetector";const An={page_title:"deepnest - Industrial nesting",parts:"Parts",nests:"Nests",sheets:"Sheets",settings:"Settings"},En={stop_nest:"Stop nest",export:"Export",export_svg:"SVG file",export_dxf:"DXF file",export_json:"JSON file",back:"Back",import:"Import",start_nest:"Start nest",deselect:"Deselect",select:"Select",all:"all",add:"Add",cancel:"Cancel",save_preset:"Save Preset",load:"Load",delete:"Delete",save:"Save",reset_defaults:"set all to default"},Rn={size:"Size",sheet:"Sheet",quantity:"Quantity",add_sheet:"Add Sheet",width:"width",height:"height",nesting_config:"Nesting configuration",display_units:"Display units",inches:"inches",mm:"mm",space_between_parts:"Space between parts",curve_tolerance:"Curve tolerance",part_rotations:"Part rotations",optimization_type:"Optimization type",gravity:"Gravity",bounding_box:"Bounding Box",squeeze:"Squeeze",use_rough_approximation:"Use rough approximation",cpu_cores:"CPU cores",import_export:"Import/Export",use_svg_normalizer:"Use SVG Normalizer?",svg_scale:"SVG scale",units_per:"units/",endpoint_tolerance:"Endpoint tolerance",dxf_import_units:"DXF import units",points:"Points",picas:"Picas",inches_cap:"Inches",cm:"cm",dxf_export_units:"DXF export units",export_with_sheet_boundaries:"Export with Sheet Boundborders?",export_with_sheets_space:"Export with Space between Sheets?",distance_between_sheets:"Distance between Sheets?",laser_options:"Laser options",merge_common_lines:"Merge common lines",optimization_ratio:"Optimization ratio",meta_heuristic_tuning:"Meta-heuristic fine tuning",ga_population:"GA population",ga_mutation_rate:"GA mutation rate",other_settings:"Other Settings",use_quantity_from_filename:"Use Quantity from filename",presets:"Presets",save_config_presets:"Save Configuration Presets",load_delete_presets:"Load/Delete Configuration Presets",select_preset_default:"-- Select a preset --",save_preset_title:"Save Preset",enter_preset_name:"Enter preset name"},Fn={nesting_in_progress:"Nesting in progress...",error_occurred:"Error occurred",processing:"Processing...",ready:"Ready",threads_active:"{{count}} threads active",parts_loaded:"{{count}} parts loaded",nests_available:"{{count}} nests available"},In={navigation:An,actions:En,labels:Rn,status:Fn},Tn="Please enter a preset name",Dn="Preset saved successfully!",Mn="Error saving preset",Un="Please select a preset to load",jn="Preset loaded successfully!",zn="Selected preset not found",Vn="Error loading preset",Kn="Please select a preset to delete",Bn='Are you sure you want to delete the preset "{{presetName}}"?',Hn="Preset deleted successfully!",Wn="Error deleting preset",Jn="Please import some parts first",qn="Please mark at least one part as the sheet",Gn="No file selected",Qn="An error occurred reading the file",Xn="Error processing SVG",Yn="could not contact file conversion server",Zn="There was an Error while converting",ei={enter_preset_name:Tn,preset_saved:Dn,error_saving_preset:Mn,select_preset_to_load:Un,preset_loaded:jn,preset_not_found:zn,error_loading_preset:Vn,select_preset_to_delete:Kn,confirm_delete_preset:Bn,preset_deleted:Hn,error_deleting_preset:Wn,import_parts_first:Jn,mark_part_as_sheet:qn,no_file_selected:Gn,file_read_error:Qn,svg_processing_error:Xn,conversion_server_error:Yn,conversion_error:Zn},ti="Parts",si="Import Parts",ni="Export Parts",ii="Export Selected",ri="Delete Selected",ai="No parts selected",oi="Failed to import parts",li="Failed to export parts",ci="Total Parts",ui="Total Quantity",di="Select All",fi="Deselect All",gi="No Parts Loaded",hi="Import SVG or DXF files to get started",pi="Search parts...",mi="Sort by",vi="Name",bi="Quantity",_i="Size",yi="Rotation",Si="Dimensions",xi="Area",$i="Preview Error",wi={parts_title:ti,import:"Import",export:"Export",delete:"Delete",import_parts:si,export_parts:ni,export_selected:ii,delete_selected:ri,no_parts_selected:ai,import_failed:oi,export_failed:li,total_parts:ci,total_quantity:ui,select_all:di,deselect_all:fi,no_parts_loaded:gi,import_parts_to_get_started:hi,search_parts:pi,sort_by:mi,name:vi,quantity:bi,size:_i,rotation:yi,dimensions:Si,area:xi,preview_error:$i},Ci="Nesting",ki="Start Nesting",Pi="Stop Nesting",Li="Clear Results",Oi="Cannot start nesting: need parts and sheets",Ni="Failed to start nesting",Ai="Failed to stop nesting",Ei="Parts to Nest",Ri="Available Sheets",Fi="Results Count",Ii="No Nesting Results",Ti="Start nesting to see results here",Di="Add parts and sheets first to enable nesting",Mi="Nesting in Progress",Ui="Est. time remaining",ji="Current Operation",zi="Threads Active",Vi="Worker Status",Ki="Running",Bi="Stopped",Hi="Generation",Wi="Best Fitness",Ji="Refresh Status",qi="Nesting Results",Gi="Sorted by efficiency",Qi="Result",Xi="Best",Yi="Efficiency",Zi="Fitness",er="Sheets Used",tr="Parts Placed",sr="View Details",nr="Back to Results",ir="Result Details",rr="Export Result",ar="Export failed",or="Click to view",lr="Zoom Out",cr="Zoom In",ur="Reset View",dr="Sheet",fr="Statistics",gr="Material Efficiency",hr="Fitness Score",pr="Material Waste",mr="Total Parts Placed",vr="Total Material Used",br="Generation Time",_r="Generation Number",yr={nesting_title:Ci,start_nesting:ki,stop_nesting:Pi,clear_results:Li,cannot_start_nesting:Oi,start_nesting_failed:Ni,stop_nesting_failed:Ai,parts_to_nest:Ei,available_sheets:Ri,results_count:Fi,no_nesting_results:Ii,start_nesting_to_see_results:Ti,add_parts_and_sheets_first:Di,nesting_in_progress:Mi,estimated_time_remaining:Ui,current_operation:ji,threads_active:zi,worker_status:Vi,running:Ki,stopped:Bi,current_generation:Hi,best_fitness:Wi,refresh_status:Ji,nesting_results:qi,sorted_by_efficiency:Gi,result:Qi,best:Xi,efficiency:Yi,fitness:Zi,sheets_used:er,parts_placed:tr,view_details:sr,export:"Export",delete:"Delete",back_to_results:nr,result_details:ir,export_result:rr,export_failed:ar,click_to_view:or,zoom_out:lr,zoom_in:cr,reset_view:ur,sheet:dr,statistics:fr,material_efficiency:gr,fitness_score:hr,material_waste:pr,total_parts_placed:mr,total_material_used:vr,generation_time:br,generation_number:_r},Sr={fallbackLng:"en",debug:!1,detection:{order:["localStorage","navigator"],caches:["localStorage"],lookupLocalStorage:"deepnest-language"},interpolation:{escapeValue:!1},resources:{en:{common:In,messages:ei,parts:wi,nesting:yr}}},xr={t:t=>t,changeLanguage:async t=>{},language:()=>"en",ready:()=>!1},fs=Ns(xr),ce=(t="common")=>{const e=As(fs);return e?[(n,i)=>{if(!e.ready())return n;const r=`${t}.${n}`;return e.t(r,i)},{changeLanguage:e.changeLanguage,language:e.language}]:[n=>n,{changeLanguage:async n=>{},language:()=>"en"}]},$r=t=>{const[e,s]=ie("en"),[n,i]=ie(!1);wt(async()=>{try{await X.use(ds).init(Sr),s(X.language||"en"),i(!0)}catch(l){console.error("Failed to initialize i18n:",l),i(!0)}});const o={t:(l,c)=>n()&&X.t(l,c)||l,changeLanguage:async l=>{try{await X.changeLanguage(l),s(l)}catch(c){console.error("Failed to change language:",c)}},language:e,ready:n};return fs.Provider({value:o,children:t.children})},$t=Symbol("store-raw"),Oe=Symbol("store-node"),pe=Symbol("store-has"),gs=Symbol("store-self");function hs(t){let e=t[xe];if(!e&&(Object.defineProperty(t,xe,{value:e=new Proxy(t,kr)}),!Array.isArray(t))){const s=Object.keys(t),n=Object.getOwnPropertyDescriptors(t);for(let i=0,r=s.length;i<r;i++){const a=s[i];n[a].get&&Object.defineProperty(t,a,{enumerable:n[a].enumerable,get:n[a].get.bind(e)})}}return e}function at(t){let e;return t!=null&&typeof t=="object"&&(t[xe]||!(e=Object.getPrototypeOf(t))||e===Object.prototype||Array.isArray(t))}function Be(t,e=new Set){let s,n,i,r;if(s=t!=null&&t[$t])return s;if(!at(t)||e.has(t))return t;if(Array.isArray(t)){Object.isFrozen(t)?t=t.slice(0):e.add(t);for(let a=0,o=t.length;a<o;a++)i=t[a],(n=Be(i,e))!==i&&(t[a]=n)}else{Object.isFrozen(t)?t=Object.assign({},t):e.add(t);const a=Object.keys(t),o=Object.getOwnPropertyDescriptors(t);for(let l=0,c=a.length;l<c;l++)r=a[l],!o[r].get&&(i=t[r],(n=Be(i,e))!==i&&(t[r]=n))}return t}function ot(t,e){let s=t[e];return s||Object.defineProperty(t,e,{value:s=Object.create(null)}),s}function He(t,e,s){if(t[e])return t[e];const[n,i]=ie(s,{equals:!1,internal:!0});return n.$=i,t[e]=n}function wr(t,e){const s=Reflect.getOwnPropertyDescriptor(t,e);return!s||s.get||!s.configurable||e===xe||e===Oe||(delete s.value,delete s.writable,s.get=()=>t[xe][e]),s}function ps(t){_t()&&He(ot(t,Oe),gs)()}function Cr(t){return ps(t),Reflect.ownKeys(t)}const kr={get(t,e,s){if(e===$t)return t;if(e===xe)return s;if(e===bt)return ps(t),s;const n=ot(t,Oe),i=n[e];let r=i?i():t[e];if(e===Oe||e===pe||e==="__proto__")return r;if(!i){const a=Object.getOwnPropertyDescriptor(t,e);_t()&&(typeof r!="function"||t.hasOwnProperty(e))&&!(a&&a.get)&&(r=He(n,e,r)())}return at(r)?hs(r):r},has(t,e){return e===$t||e===xe||e===bt||e===Oe||e===pe||e==="__proto__"?!0:(_t()&&He(ot(t,pe),e)(),e in t)},set(){return!0},deleteProperty(){return!0},ownKeys:Cr,getOwnPropertyDescriptor:wr};function lt(t,e,s,n=!1){if(!n&&t[e]===s)return;const i=t[e],r=t.length;s===void 0?(delete t[e],t[pe]&&t[pe][e]&&i!==void 0&&t[pe][e].$()):(t[e]=s,t[pe]&&t[pe][e]&&i===void 0&&t[pe][e].$());let a=ot(t,Oe),o;if((o=He(a,e,i))&&o.$(()=>s),Array.isArray(t)&&t.length!==r){for(let l=t.length;l<r;l++)(o=a[l])&&o.$();(o=He(a,"length",r))&&o.$(t.length)}(o=a[gs])&&o.$()}function ms(t,e){const s=Object.keys(e);for(let n=0;n<s.length;n+=1){const i=s[n];lt(t,i,e[i])}}function Pr(t,e){if(typeof e=="function"&&(e=e(t)),e=Be(e),Array.isArray(e)){if(t===e)return;let s=0,n=e.length;for(;s<n;s++){const i=e[s];t[s]!==i&&lt(t,s,i)}lt(t,"length",n)}else ms(t,e)}function Me(t,e,s=[]){let n,i=t;if(e.length>1){n=e.shift();const a=typeof n,o=Array.isArray(t);if(Array.isArray(n)){for(let l=0;l<n.length;l++)Me(t,[n[l]].concat(e),s);return}else if(o&&a==="function"){for(let l=0;l<t.length;l++)n(t[l],l)&&Me(t,[l].concat(e),s);return}else if(o&&a==="object"){const{from:l=0,to:c=t.length-1,by:d=1}=n;for(let f=l;f<=c;f+=d)Me(t,[f].concat(e),s);return}else if(e.length>1){Me(t[n],e,[n].concat(s));return}i=t[n],s=[n].concat(s)}let r=e[0];typeof r=="function"&&(r=r(i,s),r===i)||n===void 0&&r==null||(r=Be(r),n===void 0||at(i)&&at(r)&&!Array.isArray(r)?ms(i,r):lt(t,n,r))}function Lr(...[t,e]){const s=Be(t||{}),n=Array.isArray(s),i=hs(s);function r(...a){Os(()=>{n&&a.length===1?Pr(s,a[0]):Me(s,a)})}return[i,r]}const vs={units:"inches",scale:72,spacing:0,rotations:4,populationSize:10,mutationRate:10,threads:4,placementType:"gravity",mergeLines:!0,timeRatio:.5,simplify:!1,tolerance:.72,endpointTolerance:.36,svgScale:72,dxfImportUnits:"mm",dxfExportUnits:"mm",exportSheetBounds:!1,exportSheetSpacing:!1,sheetSpacing:10,useQuantityFromFilename:!1,useSvgPreProcessor:!1,conversionServer:"https://converter.deepnest.app/convert"},Gt={activeTab:"parts",darkMode:!1,language:"en",modals:{presetModal:!1,helpModal:!1},panels:{partsWidth:300,resultsHeight:200}},bs={parts:[],sheets:[],nests:[],presets:{},importedFiles:[]},_s={isNesting:!1,progress:0,currentNest:null,workerStatus:{isRunning:!1,currentOperation:"",threadsActive:0},lastError:null},Or=()=>{try{if(typeof localStorage<"u"){const t=localStorage.getItem("deepnest-ui-state");if(t){const e=JSON.parse(t);return{...Gt,...e}}}}catch(t){console.warn("Failed to load UI state from localStorage:",t)}return Gt},Nr={ui:Or(),config:vs,app:bs,process:_s},[_,H]=Lr(Nr),R={setActiveTab:t=>{H("ui","activeTab",t)},setDarkMode:t=>{if(H("ui","darkMode",t),typeof document<"u"&&document.body.classList.toggle("dark-mode",t),typeof localStorage<"u")try{localStorage.setItem("deepnest-ui-state",JSON.stringify(_.ui))}catch(e){console.warn("Failed to save UI state to localStorage:",e)}},setLanguage:t=>{if(H("ui","language",t),typeof localStorage<"u")try{localStorage.setItem("deepnest-ui-state",JSON.stringify(_.ui))}catch(e){console.warn("Failed to save UI state to localStorage:",e)}},setPanelWidth:(t,e)=>{if(H("ui","panels",t,e),typeof localStorage<"u")try{localStorage.setItem("deepnest-ui-state",JSON.stringify(_.ui))}catch(s){console.warn("Failed to save UI state to localStorage:",s)}},openModal:t=>{H("ui","modals",t,!0)},closeModal:t=>{H("ui","modals",t,!1)},updateConfig:t=>{H("config",t)},resetConfig:()=>{H("config",vs)},setParts:t=>{H("app","parts",t)},addPart:t=>{H("app","parts",e=>[...e,t])},removePart:t=>{H("app","parts",e=>e.filter(s=>s.id!==t))},updatePart:(t,e)=>{H("app","parts",s=>s.id===t,e)},setNests:t=>{H("app","nests",t)},addNest:t=>{H("app","nests",e=>[...e,t])},setPresets:t=>{H("app","presets",t)},setNestingStatus:t=>{H("process","isNesting",t)},setNestingProgress:t=>{H("process","progress",t)},setWorkerStatus:t=>{H("process","workerStatus",t)},setError:t=>{H("process","lastError",t)},reset:()=>{H("app",bs),H("process",_s)}};class Ar{eventListeners=new Map;get isAvailable(){return typeof window<"u"&&!!window.electronAPI}async invoke(e,...s){if(!this.isAvailable)throw new Error("IPC not available");try{return await window.electronAPI.ipcRenderer.invoke(e,...s)}catch(n){throw console.error(`IPC invoke error on channel ${String(e)}:`,n),n}}on(e,s){if(!this.isAvailable)return console.warn("IPC not available, listener not registered"),()=>{};const n=String(e);return this.eventListeners.has(n)||this.eventListeners.set(n,new Set),this.eventListeners.get(n).add(s),window.electronAPI.ipcRenderer.on(e,s),()=>{const i=this.eventListeners.get(n);i&&(i.delete(s),i.size===0&&(this.eventListeners.delete(n),window.electronAPI.ipcRenderer.removeAllListeners(e)))}}send(e,...s){if(!this.isAvailable){console.warn("IPC not available, message not sent");return}window.electronAPI.ipcRenderer.send(e,...s)}async readConfig(){return this.invoke("read-config")}async writeConfig(e){return this.invoke("write-config",JSON.stringify(e))}async savePreset(e,s){return this.invoke("save-preset",e,JSON.stringify(s))}async loadPresets(){return this.invoke("load-presets")}async deletePreset(e){return this.invoke("delete-preset",e)}async startNesting(e){return this.invoke("start-nesting",e)}async stopNesting(){return this.invoke("stop-nesting")}stopBackgroundWorker(){this.send("background-stop")}onNestProgress(e){return this.on("nest-progress",e)}onNestComplete(e){return this.on("nest-complete",e)}onBackgroundProgress(e){return this.on("background-progress",e)}onWorkerStatus(e){return this.on("worker-status",e)}onNestError(e){return this.on("nest-error",e)}cleanup(){if(this.isAvailable){for(const e of this.eventListeners.keys())window.electronAPI.ipcRenderer.removeAllListeners(e);this.eventListeners.clear()}}}const Y=new Ar;var Er=L('<header class=header><div class=header-left><h1 class=app-title></h1></div><div class=header-right><div class=language-selector><select><option value=en>English</option><option value=de>Deutsch</option><option value=fr>Franais</option><option value=es>Espaol</option></select></div><button class=dark-mode-toggle title="Toggle dark mode">');const Rr=()=>{const[t,{changeLanguage:e}]=ce("navigation"),s=()=>{R.setDarkMode(!_.ui.darkMode)},n=async i=>{R.setLanguage(i),await e(i)};return(()=>{var i=Er(),r=i.firstChild,a=r.firstChild,o=r.nextSibling,l=o.firstChild,c=l.firstChild,d=l.nextSibling;return g(a,()=>t("page_title")),c.addEventListener("change",f=>n(f.currentTarget.value)),d.$$click=s,g(d,()=>_.ui.darkMode?"":""),K(()=>c.value=_.ui.language),i})()};ve(["click"]);var Fr=L("<nav class=navigation><div class=nav-tabs>"),Ir=L("<button><span class=nav-tab-icon></span><span class=nav-tab-label>");const Tr=()=>{const[t]=ce("navigation"),e=[{id:"parts",labelKey:"parts",icon:""},{id:"nests",labelKey:"nests",icon:""},{id:"sheets",labelKey:"sheets",icon:""},{id:"settings",labelKey:"settings",icon:""}],s=n=>{R.setActiveTab(n)};return(()=>{var n=Fr(),i=n.firstChild;return g(i,C(ze,{each:e,children:r=>(()=>{var a=Ir(),o=a.firstChild,l=o.nextSibling;return a.$$click=()=>s(r.id),g(o,()=>r.icon),g(l,()=>t(r.labelKey)),K(c=>{var d=`nav-tab ${_.ui.activeTab===r.id?"active":""}`,f=t(r.labelKey);return d!==c.e&&ut(a,c.e=d),f!==c.t&&z(a,"title",c.t=f),c},{e:void 0,t:void 0}),a})()})),n})()};ve(["click"]);var Dr=L('<div class=parts-list><div class=parts-controls><div class=search-box><input type=text class=search-input></div><div class=sort-controls><label>:</label><select class=sort-select><option value=name></option><option value=quantity></option><option value=size></option></select></div></div><div class=parts-table><div class=table-header><div class="table-cell checkbox-cell"><input type=checkbox></div><div class="table-cell name-cell sortable"> </div><div class="table-cell quantity-cell sortable"> </div><div class="table-cell size-cell sortable"> </div><div class="table-cell rotation-cell"></div></div><div class=table-body>'),Mr=L('<div><div class="table-cell checkbox-cell"><input type=checkbox></div><div class="table-cell name-cell"><div class=part-name></div></div><div class="table-cell quantity-cell"><input type=number min=1 class=quantity-input></div><div class="table-cell size-cell"><span class=size-text></span></div><div class="table-cell rotation-cell"><input type=number min=0 max=360 step=90 class=rotation-input><span class=rotation-unit>');const Ur=()=>{const[t]=ce("parts"),[e,s]=ie(""),[n,i]=ie("name"),[r,a]=ie("asc"),o=D(()=>{let h=_.app.parts;if(e()){const p=e().toLowerCase();h=h.filter(m=>m.name.toLowerCase().includes(p)||m.source.toLowerCase().includes(p))}return h=h.sort((p,m)=>{let b,S;switch(n()){case"name":b=p.name,S=m.name;break;case"quantity":b=p.quantity,S=m.quantity;break;case"size":b=p.bounds.width*p.bounds.height,S=m.bounds.width*m.bounds.height;break;default:b=p.name,S=m.name}return typeof b=="string"&&typeof S=="string"?r()==="asc"?b.localeCompare(S):S.localeCompare(b):r()==="asc"?b-S:S-b}),h}),l=h=>{R.updatePart(h.id,{selected:!h.selected})},c=(h,p)=>{p<1&&(p=1),R.updatePart(h,{quantity:p})},d=(h,p)=>{R.updatePart(h,{rotation:p})},f=h=>{n()===h?a(r()==="asc"?"desc":"asc"):(i(h),a("asc"))},u=h=>`${h.width.toFixed(1)}  ${h.height.toFixed(1)}`;return(()=>{var h=Dr(),p=h.firstChild,m=p.firstChild,b=m.firstChild,S=m.nextSibling,y=S.firstChild,N=y.firstChild,v=y.nextSibling,x=v.firstChild,F=x.nextSibling,$=F.nextSibling,I=p.nextSibling,M=I.firstChild,B=M.firstChild,P=B.firstChild,G=B.nextSibling,O=G.firstChild,E=G.nextSibling,T=E.firstChild,J=E.nextSibling,re=J.firstChild,U=J.nextSibling,Z=M.nextSibling;return b.$$input=k=>s(k.currentTarget.value),g(y,()=>t("sort_by"),N),v.addEventListener("change",k=>i(k.currentTarget.value)),g(x,()=>t("name")),g(F,()=>t("quantity")),g($,()=>t("size")),P.addEventListener("change",k=>{const q=k.currentTarget.checked;_.app.parts.forEach(oe=>{R.updatePart(oe.id,{selected:q})})}),G.$$click=()=>f("name"),g(G,()=>t("name"),O),g(G,(()=>{var k=Le(()=>n()==="name");return()=>k()&&(r()==="asc"?"":"")})(),null),E.$$click=()=>f("quantity"),g(E,()=>t("quantity"),T),g(E,(()=>{var k=Le(()=>n()==="quantity");return()=>k()&&(r()==="asc"?"":"")})(),null),J.$$click=()=>f("size"),g(J,()=>t("size"),re),g(J,(()=>{var k=Le(()=>n()==="size");return()=>k()&&(r()==="asc"?"":"")})(),null),g(U,()=>t("rotation")),g(Z,C(ze,{get each(){return o()},children:k=>(()=>{var q=Mr(),oe=q.firstChild,le=oe.firstChild,be=oe.nextSibling,fe=be.firstChild,he=be.nextSibling,ye=he.firstChild,$e=he.nextSibling,ft=$e.firstChild,Ae=$e.nextSibling,Je=Ae.firstChild;return le.addEventListener("change",()=>l(k)),g(fe,()=>k.name),ye.addEventListener("change",de=>c(k.id,parseInt(de.currentTarget.value))),g(ft,()=>u(k.bounds)),Je.addEventListener("change",de=>d(k.id,parseInt(de.currentTarget.value))),K(de=>{var we=`table-row ${k.selected?"selected":""}`,Ee=k.source;return we!==de.e&&ut(q,de.e=we),Ee!==de.t&&z(fe,"title",de.t=Ee),de},{e:void 0,t:void 0}),K(()=>le.checked=k.selected),K(()=>ye.value=k.quantity),K(()=>Je.value=k.rotation),q})()})),K(k=>{var q=t("search_parts"),oe=_.app.parts.some(le=>le.selected)&&!_.app.parts.every(le=>le.selected);return q!==k.e&&z(b,"placeholder",k.e=q),oe!==k.t&&(P.indeterminate=k.t=oe),k},{e:void 0,t:void 0}),K(()=>b.value=e()),K(()=>v.value=n()),K(()=>P.checked=_.app.parts.every(k=>k.selected)),h})()};ve(["input","click"]);var jr=L('<div class=parts-panel><div class=panel-header><h2></h2><div class=panel-actions><button class="button secondary"> </button><button class="button secondary"> </button><button class="button secondary"> </button></div></div><div class=parts-summary><div class=summary-item><span class=summary-label>:</span><span class=summary-value></span></div><div class=summary-item><span class=summary-label>:</span><span class=summary-value></span></div><div class=summary-actions><button class=button-link></button><span class=separator>|</span><button class=button-link></button></div></div><div class=panel-content>'),zr=L('<div class=empty-state><div class=empty-icon></div><h3></h3><p></p><button class="button primary">');const Vr=()=>{const[t]=ce("parts"),e=D(()=>_.app.parts.length),s=D(()=>_.app.parts.reduce((l,c)=>l+c.quantity,0)),n=async()=>{if(!Y.isAvailable){console.warn("IPC not available");return}try{const l=await Y.openFileDialog({title:t("import_parts"),filters:[{name:"Vector Files",extensions:["svg","dxf"]},{name:"SVG Files",extensions:["svg"]},{name:"DXF Files",extensions:["dxf"]},{name:"All Files",extensions:["*"]}],properties:["openFile","multiSelections"]});if(l.canceled||!l.filePaths?.length)return;const c=await Y.importParts(l.filePaths);R.setParts([..._.app.parts,...c])}catch(l){console.error("Failed to import parts:",l),R.setError(t("import_failed"))}},i=async()=>{const l=_.app.parts.filter(c=>c.selected);if(l.length===0){R.setError(t("no_parts_selected"));return}try{const c=await Y.saveFileDialog({title:t("export_parts"),defaultPath:"parts.svg",filters:[{name:"SVG Files",extensions:["svg"]},{name:"DXF Files",extensions:["dxf"]},{name:"All Files",extensions:["*"]}]});if(c.canceled||!c.filePath)return;await Y.exportParts(l,c.filePath)}catch(c){console.error("Failed to export parts:",c),R.setError(t("export_failed"))}},r=()=>{if(_.app.parts.filter(d=>d.selected).length===0){R.setError(t("no_parts_selected"));return}const c=_.app.parts.filter(d=>!d.selected);R.setParts(c)},a=()=>{_.app.parts.forEach(l=>{R.updatePart(l.id,{selected:!0})})},o=()=>{_.app.parts.forEach(l=>{R.updatePart(l.id,{selected:!1})})};return(()=>{var l=jr(),c=l.firstChild,d=c.firstChild,f=d.nextSibling,u=f.firstChild;u.firstChild;var h=u.nextSibling;h.firstChild;var p=h.nextSibling;p.firstChild;var m=c.nextSibling,b=m.firstChild,S=b.firstChild,y=S.firstChild,N=S.nextSibling,v=b.nextSibling,x=v.firstChild,F=x.firstChild,$=x.nextSibling,I=v.nextSibling,M=I.firstChild,B=M.nextSibling,P=B.nextSibling,G=m.nextSibling;return g(d,()=>t("parts_title")),u.$$click=n,g(u,()=>t("import"),null),h.$$click=i,g(h,()=>t("export"),null),p.$$click=r,g(p,()=>t("delete"),null),g(S,()=>t("total_parts"),y),g(N,e),g(x,()=>t("total_quantity"),F),g($,s),M.$$click=a,g(M,()=>t("select_all")),P.$$click=o,g(P,()=>t("deselect_all")),g(G,C(Q,{get when(){return e()>0},get fallback(){return(()=>{var O=zr(),E=O.firstChild,T=E.nextSibling,J=T.nextSibling,re=J.nextSibling;return g(T,()=>t("no_parts_loaded")),g(J,()=>t("import_parts_to_get_started")),re.$$click=n,g(re,()=>t("import_parts")),O})()},get children(){return C(Ur,{})}})),K(O=>{var E=t("import_parts"),T=t("export_selected"),J=_.app.parts.filter(q=>q.selected).length===0,re=t("delete_selected"),U=_.app.parts.filter(q=>q.selected).length===0,Z=e()===0,k=e()===0;return E!==O.e&&z(u,"title",O.e=E),T!==O.t&&z(h,"title",O.t=T),J!==O.a&&(h.disabled=O.a=J),re!==O.o&&z(p,"title",O.o=re),U!==O.i&&(p.disabled=O.i=U),Z!==O.n&&(M.disabled=O.n=Z),k!==O.s&&(P.disabled=O.s=k),O},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),l})()};ve(["click"]);var Kr=L("<div class=time-remaining>: "),Br=L("<div class=current-operation><span class=operation-label>:</span><span class=operation-text>"),Hr=L("<div class=current-nest-info><div class=info-item><span class=info-label>:</span><span class=info-value></span></div><div class=info-item><span class=info-label>:</span><span class=info-value>"),Wr=L('<div class=nesting-progress><div class=progress-header><h3></h3><div class=progress-percentage>%</div></div><div class=progress-bar-container><div class="progress-bar large"><div class=progress-fill></div></div></div><div class=progress-details><div class=worker-info><div class=info-item><span class=info-label>:</span><span class=info-value></span></div><div class=info-item><span class=info-label>:</span><span></span></div></div></div><div class=progress-actions><button class=button-link>');const Jr=()=>{const[t]=ce("nesting"),e=D(()=>Math.max(0,Math.min(100,_.process.progress))),s=D(()=>{const n=e();if(n===0)return null;const r=6e4*(100-n)/n;return r<6e4?`${Math.round(r/1e3)}s`:`${Math.round(r/6e4)}m`});return(()=>{var n=Wr(),i=n.firstChild,r=i.firstChild,a=r.nextSibling,o=a.firstChild,l=i.nextSibling,c=l.firstChild,d=c.firstChild,f=l.nextSibling,u=f.firstChild,h=u.firstChild,p=h.firstChild,m=p.firstChild,b=p.nextSibling,S=h.nextSibling,y=S.firstChild,N=y.firstChild,v=y.nextSibling,x=f.nextSibling,F=x.firstChild;return g(r,()=>t("nesting_in_progress")),g(a,()=>e().toFixed(1),o),g(l,C(Q,{get when(){return s()},get children(){var $=Kr(),I=$.firstChild;return g($,()=>t("estimated_time_remaining"),I),g($,s,null),$}}),null),g(f,C(Q,{get when(){return _.process.workerStatus.currentOperation},get children(){var $=Br(),I=$.firstChild,M=I.firstChild,B=I.nextSibling;return g(I,()=>t("current_operation"),M),g(B,()=>_.process.workerStatus.currentOperation),$}}),u),g(p,()=>t("threads_active"),m),g(b,()=>_.process.workerStatus.threadsActive),g(y,()=>t("worker_status"),N),g(v,(()=>{var $=Le(()=>!!_.process.workerStatus.isRunning);return()=>$()?t("running"):t("stopped")})()),g(f,C(Q,{get when(){return _.process.currentNest},get children(){var $=Hr(),I=$.firstChild,M=I.firstChild,B=M.firstChild,P=M.nextSibling,G=I.nextSibling,O=G.firstChild,E=O.firstChild,T=O.nextSibling;return g(M,()=>t("current_generation"),B),g(P,()=>_.process.currentNest?.generation||0),g(O,()=>t("best_fitness"),E),g(T,()=>_.process.currentNest?.fitness?.toFixed(2)||"N/A"),$}}),null),F.$$click=()=>window.location.reload(),g(F,()=>t("refresh_status")),K($=>{var I=`${e()}%`,M=`info-value ${_.process.workerStatus.isRunning?"running":"stopped"}`;return I!==$.e&&(($.e=I)!=null?d.style.setProperty("width",I):d.style.removeProperty("width")),M!==$.t&&ut(v,$.t=M),$},{e:void 0,t:void 0}),n})()};ve(["click"]);var qr=L("<div class=stat-row><span class=stat-title>:</span><span class=stat-data>ms"),Gr=L("<div class=stat-row><span class=stat-title>:</span><span class=stat-data>"),Qr=L('<div class=result-viewer><div class=viewer-controls><div class=zoom-controls><button class=control-button></button><span class=zoom-level>%</span><button class=control-button>+</button><button class=control-button></button></div></div><div class=viewer-content><div class=svg-viewer-container><svg class=result-svg width=100% height=400 viewBox="0 0 800 400"><g><defs><pattern id=grid width=20 height=20 patternUnits=userSpaceOnUse><path d="M 20 0 L 0 0 0 20"fill=none stroke=#e0e0e0 stroke-width=1></path></pattern></defs><rect width=800 height=400 fill=url(#grid)></rect></g></svg></div><div class=result-statistics><h4></h4><div class=stats-grid><div class=stat-card><div class="stat-value efficiency"></div><div class=stat-label></div></div><div class=stat-card><div class=stat-value></div><div class=stat-label></div></div><div class=stat-card><div class=stat-value></div><div class=stat-label></div></div><div class=stat-card><div class=stat-value>%</div><div class=stat-label></div></div></div><div class=detailed-stats><div class=stat-row><span class=stat-title>:</span><span class=stat-data></span></div><div class=stat-row><span class=stat-title>:</span><span class=stat-data>'),Xr=L('<svg><g class=sheet-group><rect fill="rgba(200, 200, 200, 0.3)"stroke=var(--border-color) stroke-width=2></rect><text font-size=12 fill=var(--text-secondary)> </svg>',!1,!0,!1),Yr=L('<svg><g class=part-group><rect fill="rgba(36, 199, 237, 0.7)"stroke=var(--button-primary) stroke-width=1></svg>',!1,!0,!1);const Zr=t=>{const[e]=ce("nesting"),[s,n]=ie(1),[i,r]=ie({x:0,y:0}),[a,o]=ie(!1),[l,c]=ie({x:0,y:0}),d=D(()=>t.result.sheets?.reduce((v,x)=>v+x.width*x.height,0)||0),f=D(()=>t.result.placedParts||0),u=D(()=>{const v=d(),x=f();return v===0?0:(v-x)/v*100}),h=()=>{n(v=>Math.min(v*1.2,5))},p=()=>{n(v=>Math.max(v/1.2,.1))},m=()=>{n(1),r({x:0,y:0})},b=v=>{o(!0),c({x:v.clientX-i().x,y:v.clientY-i().y})},S=v=>{if(!a())return;const x={x:v.clientX-l().x,y:v.clientY-l().y};r(x)},y=()=>{o(!1)},N=D(()=>{const v=s(),x=i();return`translate(${x.x}, ${x.y}) scale(${v})`});return(()=>{var v=Qr(),x=v.firstChild,F=x.firstChild,$=F.firstChild,I=$.nextSibling,M=I.firstChild,B=I.nextSibling,P=B.nextSibling,G=x.nextSibling,O=G.firstChild,E=O.firstChild,T=E.firstChild,J=T.firstChild;J.nextSibling;var re=O.nextSibling,U=re.firstChild,Z=U.nextSibling,k=Z.firstChild,q=k.firstChild,oe=q.nextSibling,le=k.nextSibling,be=le.firstChild,fe=be.nextSibling,he=le.nextSibling,ye=he.firstChild,$e=ye.nextSibling,ft=he.nextSibling,Ae=ft.firstChild,Je=Ae.firstChild,de=Ae.nextSibling,we=Z.nextSibling,Ee=we.firstChild,gt=Ee.firstChild,ys=gt.firstChild,Ss=gt.nextSibling,xs=Ee.nextSibling,ht=xs.firstChild,$s=ht.firstChild,ws=ht.nextSibling;return $.$$click=p,g(I,()=>Math.round(s()*100),M),B.$$click=h,P.$$click=m,E.addEventListener("mouseleave",y),E.$$mouseup=y,E.$$mousemove=S,E.$$mousedown=b,g(T,C(ze,{get each(){return t.result.sheets||[]},children:(A,se)=>(()=>{var ne=Xr(),j=ne.firstChild,ae=j.nextSibling,Se=ae.firstChild;return g(ae,()=>e("sheet"),Se),g(ae,()=>se()+1,null),K(ee=>{var Re=A.x||0,Fe=A.y||0,kt=A.width,Pt=A.height,Lt=(A.x||0)+10,Ot=(A.y||0)+25;return Re!==ee.e&&z(j,"x",ee.e=Re),Fe!==ee.t&&z(j,"y",ee.t=Fe),kt!==ee.a&&z(j,"width",ee.a=kt),Pt!==ee.o&&z(j,"height",ee.o=Pt),Lt!==ee.i&&z(ae,"x",ee.i=Lt),Ot!==ee.n&&z(ae,"y",ee.n=Ot),ee},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),ne})()}),null),g(T,C(ze,{get each(){return t.result.placements||[]},children:A=>(()=>{var se=Yr(),ne=se.firstChild;return K(j=>{var ae=A.x,Se=A.y,ee=A.width||50,Re=A.height||50,Fe=`rotate(${A.rotation||0} ${A.x+(A.width||50)/2} ${A.y+(A.height||50)/2})`;return ae!==j.e&&z(ne,"x",j.e=ae),Se!==j.t&&z(ne,"y",j.t=Se),ee!==j.a&&z(ne,"width",j.a=ee),Re!==j.o&&z(ne,"height",j.o=Re),Fe!==j.i&&z(ne,"transform",j.i=Fe),j},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),se})()}),null),g(U,()=>e("statistics")),g(q,(()=>{var A=Le(()=>!!t.result.efficiency);return()=>A()?`${(t.result.efficiency*100).toFixed(1)}%`:"N/A"})()),g(oe,()=>e("material_efficiency")),g(be,()=>t.result.fitness?.toFixed(2)||"N/A"),g(fe,()=>e("fitness_score")),g(ye,()=>t.result.sheets?.length||0),g($e,()=>e("sheets_used")),g(Ae,()=>u().toFixed(1),Je),g(de,()=>e("material_waste")),g(gt,()=>e("total_parts_placed"),ys),g(Ss,()=>t.result.placedParts||0),g(ht,()=>e("total_material_used"),$s),g(ws,()=>d().toFixed(2)),g(we,C(Q,{get when(){return t.result.generationTime},get children(){var A=qr(),se=A.firstChild,ne=se.firstChild,j=se.nextSibling,ae=j.firstChild;return g(se,()=>e("generation_time"),ne),g(j,()=>t.result.generationTime,ae),A}}),null),g(we,C(Q,{get when(){return t.result.generation},get children(){var A=Gr(),se=A.firstChild,ne=se.firstChild,j=se.nextSibling;return g(se,()=>e("generation_number"),ne),g(j,()=>t.result.generation),A}}),null),K(A=>{var se=e("zoom_out"),ne=e("zoom_in"),j=e("reset_view"),ae=a()?"grabbing":"grab",Se=N();return se!==A.e&&z($,"title",A.e=se),ne!==A.t&&z(B,"title",A.t=ne),j!==A.a&&z(P,"title",A.a=j),ae!==A.o&&((A.o=ae)!=null?E.style.setProperty("cursor",ae):E.style.removeProperty("cursor")),Se!==A.i&&z(T,"transform",A.i=Se),A},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),v})()};ve(["click","mousedown","mousemove","mouseup"]);var ea=L('<div class=result-detail-view><div class=detail-header><button class="button secondary"> </button><h3></h3><div class=detail-actions><button class="button secondary"> '),ta=L("<div class=results-header><h3> (<!>)</h3><div class=results-controls><label class=sort-label>"),sa=L("<div class=results-grid>"),na=L("<div class=results-grid-container>"),ia=L("<span class=best-badge>"),ra=L("<div class=stat-item><span class=stat-label>:</span><span class=stat-value>"),aa=L('<div class=result-card><div class=result-preview><div class=preview-placeholder><div class=preview-icon></div><div class=preview-text></div></div></div><div class=result-info><div class=result-title> #</div><div class=result-stats><div class=stat-item><span class=stat-label>:</span><span class="stat-value efficiency"></span></div><div class=stat-item><span class=stat-label>:</span><span class=stat-value></span></div><div class=stat-item><span class=stat-label>:</span><span class=stat-value></span></div></div><div class=result-actions><button class=button-link></button><button class=button-link></button><button class="button-link danger">');const oa=()=>{const[t]=ce("nesting"),[e,s]=ie(null),[n,i]=ie("grid"),r=D(()=>[..._.app.nests].sort((u,h)=>u.efficiency!==h.efficiency?(h.efficiency||0)-(u.efficiency||0):(h.fitness||0)-(u.fitness||0))),a=u=>{s(u),i("detail")},o=()=>{s(null),i("grid")},l=async u=>{if(Y.isAvailable)try{const h=await Y.saveFileDialog({title:t("export_result"),defaultPath:`nest_result_${u.id}.svg`,filters:[{name:"SVG Files",extensions:["svg"]},{name:"DXF Files",extensions:["dxf"]},{name:"All Files",extensions:["*"]}]});if(h.canceled||!h.filePath)return;await Y.exportNestResult(u,h.filePath)}catch(h){console.error("Failed to export result:",h),R.setError(t("export_failed"))}},c=u=>{const h=_.app.nests.filter(p=>p.id!==u.id);R.setNests(h)},d=u=>u?`${(u*100).toFixed(1)}%`:"N/A",f=u=>u?u.toFixed(2):"N/A";return(()=>{var u=na();return g(u,C(Q,{get when(){return Le(()=>n()==="detail")()&&e()},get children(){var h=ea(),p=h.firstChild,m=p.firstChild;m.firstChild;var b=m.nextSibling,S=b.nextSibling,y=S.firstChild;return y.firstChild,m.$$click=o,g(m,()=>t("back_to_results"),null),g(b,()=>t("result_details")),y.$$click=()=>l(e()),g(y,()=>t("export"),null),g(h,C(Zr,{get result(){return e()}}),null),h}}),null),g(u,C(Q,{get when(){return n()==="grid"},get children(){return[(()=>{var h=ta(),p=h.firstChild,m=p.firstChild,b=m.nextSibling;b.nextSibling;var S=p.nextSibling,y=S.firstChild;return g(p,()=>t("nesting_results"),m),g(p,()=>r().length,b),g(y,()=>t("sorted_by_efficiency")),h})(),(()=>{var h=sa();return g(h,C(ze,{get each(){return r()},children:(p,m)=>(()=>{var b=aa(),S=b.firstChild,y=S.firstChild,N=y.firstChild,v=N.nextSibling,x=S.nextSibling,F=x.firstChild,$=F.firstChild,I=F.nextSibling,M=I.firstChild,B=M.firstChild,P=B.firstChild,G=B.nextSibling,O=M.nextSibling,E=O.firstChild,T=E.firstChild,J=E.nextSibling,re=O.nextSibling,U=re.firstChild,Z=U.firstChild,k=U.nextSibling,q=I.nextSibling,oe=q.firstChild,le=oe.nextSibling,be=le.nextSibling;return S.$$click=()=>a(p),g(v,()=>t("click_to_view")),g(F,()=>t("result"),$),g(F,()=>m()+1,null),g(F,C(Q,{get when(){return m()===0},get children(){var fe=ia();return g(fe,()=>t("best")),fe}}),null),g(B,()=>t("efficiency"),P),g(G,()=>d(p.efficiency)),g(E,()=>t("fitness"),T),g(J,()=>f(p.fitness)),g(U,()=>t("sheets_used"),Z),g(k,()=>p.sheets?.length||0),g(I,C(Q,{get when(){return p.placedParts},get children(){var fe=ra(),he=fe.firstChild,ye=he.firstChild,$e=he.nextSibling;return g(he,()=>t("parts_placed"),ye),g($e,()=>p.placedParts),fe}}),null),oe.$$click=()=>a(p),g(oe,()=>t("view_details")),le.$$click=()=>l(p),g(le,()=>t("export")),be.$$click=()=>c(p),g(be,()=>t("delete")),b})()})),h})()]}}),null),u})()};ve(["click"]);var la=L('<button class="button secondary"> '),ca=L('<div class=nesting-panel><div class=panel-header><h2></h2><div class=panel-actions><button class="button primary"> </button><button class="button secondary"> </button></div></div><div class=nesting-summary><div class=summary-item><span class=summary-label>:</span><span class=summary-value></span></div><div class=summary-item><span class=summary-label>:</span><span class=summary-value></span></div><div class=summary-item><span class=summary-label>:</span><span class=summary-value></span></div></div><div class=panel-content>'),ua=L("<p class=warning-text>"),da=L("<div class=empty-state><div class=empty-icon></div><h3></h3><p>");const fa=()=>{const[t]=ce("nesting"),e=D(()=>_.app.parts.length>0&&_.app.sheets.length>0&&!_.process.isNesting),s=D(()=>_.app.nests.length>0),n=async()=>{if(e())try{R.setNestingStatus(!0),R.setNestingProgress(0),R.setError(null);const o={parts:_.app.parts.filter(l=>l.quantity>0),sheets:_.app.sheets,config:_.config};await Y.startNesting(o)}catch(o){console.error("Failed to start nesting:",o),R.setError(t("start_nesting_failed")),R.setNestingStatus(!1)}},i=async()=>{if(_.process.isNesting)try{await Y.stopNesting(),R.setNestingStatus(!1)}catch(o){console.error("Failed to stop nesting:",o),R.setError(t("stop_nesting_failed"))}},r=()=>{R.setNests([])},a=D(()=>_.app.parts.filter(o=>o.quantity>0).length);return(()=>{var o=ca(),l=o.firstChild,c=l.firstChild,d=c.nextSibling,f=d.firstChild;f.firstChild;var u=f.nextSibling;u.firstChild;var h=l.nextSibling,p=h.firstChild,m=p.firstChild,b=m.firstChild,S=m.nextSibling,y=p.nextSibling,N=y.firstChild,v=N.firstChild,x=N.nextSibling,F=y.nextSibling,$=F.firstChild,I=$.firstChild,M=$.nextSibling,B=h.nextSibling;return g(c,()=>t("nesting_title")),f.$$click=n,g(f,()=>t("start_nesting"),null),u.$$click=i,g(u,()=>t("stop_nesting"),null),g(d,C(Q,{get when(){return s()&&!_.process.isNesting},get children(){var P=la();return P.firstChild,P.$$click=r,g(P,()=>t("clear_results"),null),K(()=>z(P,"title",t("clear_results"))),P}}),null),g(m,()=>t("parts_to_nest"),b),g(S,a),g(N,()=>t("available_sheets"),v),g(x,()=>_.app.sheets.length),g($,()=>t("results_count"),I),g(M,()=>_.app.nests.length),g(B,C(Q,{get when(){return _.process.isNesting},get children(){return C(Jr,{})}}),null),g(B,C(Q,{get when(){return s()},get fallback(){return(()=>{var P=da(),G=P.firstChild,O=G.nextSibling,E=O.nextSibling;return g(O,()=>t("no_nesting_results")),g(E,()=>t("start_nesting_to_see_results")),g(P,C(Q,{get when(){return!e()},get children(){var T=ua();return g(T,()=>t("add_parts_and_sheets_first")),T}}),null),P})()},get children(){return C(oa,{})}}),null),K(P=>{var G=!e(),O=e()?t("start_nesting"):t("cannot_start_nesting"),E=!_.process.isNesting,T=t("stop_nesting");return G!==P.e&&(f.disabled=P.e=G),O!==P.t&&z(f,"title",P.t=O),E!==P.a&&(u.disabled=P.a=E),T!==P.o&&z(u,"title",P.o=T),P},{e:void 0,t:void 0,a:void 0,o:void 0}),o})()};ve(["click"]);var ga=L('<div class=sheets-panel><div class=panel-header><h2></h2><div class=panel-actions><button class="button primary"></button></div></div><div class=panel-content><div class=sheets-list><p>Sheet management will be implemented here.</p><p>This will include:</p><ul><li>Sheet configuration (size, margins)</li><li>Material settings</li><li>Sheet templates</li><li>Custom dimensions</li><li>Sheet preview');const ha=()=>{const[t]=ce("navigation"),[e]=ce("actions");return(()=>{var s=ga(),n=s.firstChild,i=n.firstChild,r=i.nextSibling,a=r.firstChild;return g(i,()=>t("sheets")),g(a,()=>e("add")),s})()};var pa=L('<div class=settings-panel><div class=panel-header><h2></h2><div class=panel-actions><button class="button secondary"></button></div></div><div class=panel-content><div class=settings-sections><p>Settings and configuration will be implemented here.</p><p>This will include:</p><ul><li>Nesting algorithm parameters</li><li>Import/Export settings</li><li>UI preferences</li><li>Preset management</li><li>Advanced settings');const ma=()=>{const[t]=ce("navigation"),[e]=ce("actions");return(()=>{var s=pa(),n=s.firstChild,i=n.firstChild,r=i.nextSibling,a=r.firstChild;return g(i,()=>t("settings")),g(a,()=>e("reset_defaults")),s})()};var va=L("<main class=main-content>");const ba=()=>(()=>{var t=va();return g(t,C(Us,{get children(){return[C(qe,{get when(){return _.ui.activeTab==="parts"},get children(){return C(Vr,{})}}),C(qe,{get when(){return _.ui.activeTab==="nests"},get children(){return C(fa,{})}}),C(qe,{get when(){return _.ui.activeTab==="sheets"},get children(){return C(ha,{})}}),C(qe,{get when(){return _.ui.activeTab==="settings"},get children(){return C(ma,{})}})]}})),t})();var _a=L("<div class=progress-container><div class=progress-bar><div class=progress-fill></div></div><span class=progress-text>%"),ya=L("<span class=thread-count>"),Sa=L("<span class=parts-count>"),xa=L("<span class=nests-count>"),$a=L("<div class=error-status><span class=error-icon></span><span class=error-text>"),wa=L("<footer class=status-bar><div class=status-left><span class=status-text></span></div><div class=status-right>");const Ca=()=>{const[t]=ce("common"),e=D(()=>{const{process:n}=_;return n.isNesting?t("status.nesting_in_progress"):n.lastError?t("status.error_occurred"):n.workerStatus.isRunning?n.workerStatus.currentOperation||t("status.processing"):t("status.ready")}),s=D(()=>Math.max(0,Math.min(100,_.process.progress)));return(()=>{var n=wa(),i=n.firstChild,r=i.firstChild,a=i.nextSibling;return g(r,e),g(i,C(Q,{get when(){return _.process.isNesting},get children(){var o=_a(),l=o.firstChild,c=l.firstChild,d=l.nextSibling,f=d.firstChild;return g(d,()=>s().toFixed(1),f),K(u=>(u=`${s()}%`)!=null?c.style.setProperty("width",u):c.style.removeProperty("width")),o}}),null),g(a,C(Q,{get when(){return _.process.workerStatus.threadsActive>0},get children(){var o=ya();return g(o,()=>t("status.threads_active",{count:_.process.workerStatus.threadsActive})),o}}),null),g(a,C(Q,{get when(){return _.app.parts.length>0},get children(){var o=Sa();return g(o,()=>t("status.parts_loaded",{count:_.app.parts.length})),o}}),null),g(a,C(Q,{get when(){return _.app.nests.length>0},get children(){var o=xa();return g(o,()=>t("status.nests_available",{count:_.app.nests.length})),o}}),null),g(a,C(Q,{get when(){return _.process.lastError},get children(){var o=$a(),l=o.firstChild,c=l.nextSibling;return g(c,()=>_.process.lastError),o}}),null),n})()};var ka=L('<div><div class=resizable-left></div><div class=resizable-handle title="Drag to resize"><div class=resizable-handle-line></div></div><div class=resizable-right>');const Pa=t=>{const{minLeftWidth:e=250,maxLeftWidth:s=500,defaultLeftWidth:n=300}=t,[i,r]=ie(!1),[a,o]=ie(_.ui.panels.partsWidth||n);let l,c;const d=h=>{h.preventDefault(),r(!0),document.addEventListener("mousemove",f),document.addEventListener("mouseup",u),document.body.style.cursor="col-resize",document.body.style.userSelect="none"},f=h=>{if(!i()||!l)return;const p=l.getBoundingClientRect(),m=h.clientX-p.left,b=Math.max(e,Math.min(s,m));o(b),R.setPanelWidth("partsWidth",b)},u=()=>{r(!1),document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",u),document.body.style.cursor="",document.body.style.userSelect=""};return wt(()=>{o(_.ui.panels.partsWidth||n)}),Yt(()=>{document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",u),document.body.style.cursor="",document.body.style.userSelect=""}),(()=>{var h=ka(),p=h.firstChild,m=p.nextSibling,b=m.nextSibling,S=l;typeof S=="function"?Et(S,h):l=h,g(p,()=>t.left),m.$$mousedown=d;var y=c;return typeof y=="function"?Et(y,m):c=m,g(b,()=>t.right),K(N=>{var v=`resizable-layout ${i()?"resizing":""}`,x=`${a()}px`;return v!==N.e&&ut(h,N.e=v),x!==N.t&&((N.t=x)!=null?p.style.setProperty("width",x):p.style.removeProperty("width")),N},{e:void 0,t:void 0}),h})()};ve(["mousedown"]);var La=L("<div class=layout><div class=layout-body>");const Oa=()=>(()=>{var t=La(),e=t.firstChild;return g(t,C(Rr,{}),e),g(e,C(Pa,{get left(){return C(Tr,{})},get right(){return C(ba,{})},minLeftWidth:200,maxLeftWidth:600,defaultLeftWidth:300})),g(t,C(Ca,{}),null),t})();var Na=L("<div class=app>");const Aa=()=>{wt(async()=>{if(R.setDarkMode(_.ui.darkMode),t(),Y.isAvailable)try{const e=await Y.readConfig();R.updateConfig(e)}catch(e){console.warn("Failed to load initial config:",e)}});const t=()=>{Y.isAvailable&&(Y.onNestProgress(e=>{R.setNestingProgress(e)}),Y.onNestComplete(e=>{R.setNests(e),R.setNestingStatus(!1)}),Y.onBackgroundProgress(e=>{R.setNestingProgress(e.progress)}),Y.onWorkerStatus(e=>{R.setWorkerStatus(e)}),Y.onNestError(e=>{R.setError(e),R.setNestingStatus(!1)}))};return C($r,{get children(){var e=Na();return g(e,C(Oa,{})),e}})},Ea=document.getElementById("root");zs(()=>C(Aa,{}),Ea);
