import{u as Ve,c as v,h as rt,t as u,i as t,b as h,F as pe,e as x,s as ge,S,f as ne,d as it,m as Xe,g as Ye,a as Ue,k as _e,l as ke}from"./index-DQLctXGg.js";var oe=u('<span class="text-red-500 dark:text-red-400 text-xs mt-1 block">'),at=u('<div class="text-sm text-gray-600 dark:text-gray-400">: <!> mm'),lt=u('<div class="p-6 overflow-y-auto max-h-[calc(90vh-120px)]"><div class=space-y-6><div class=space-y-4><h4 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h4><div class=space-y-2><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"for=sheet-name>:</label><input id=sheet-name type=text class="block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"></div><div class=space-y-2><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"for=material>:</label><select id=material class="block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"></select></div></div><div class=space-y-4><h4 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h4><div class="grid grid-cols-3 gap-2 mb-4"></div><div class="flex items-end gap-2"><div class=flex-1><label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"for=width> (mm):</label><input id=width type=number min=1 step=0.1></div><button type=button class="px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition-colors duration-200 mb-1">⇄</button><div class=flex-1><label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"for=height> (mm):</label><input id=height type=number min=1 step=0.1></div></div><div class="text-sm text-gray-600 dark:text-gray-400 mt-2">: <!> mm²</div></div><div class=space-y-4><h4 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h4><div class="grid grid-cols-3 gap-4"><div class=space-y-2><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"for=thickness> (mm):</label><input id=thickness type=number min=0.1 step=0.1></div><div class=space-y-2><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"for=quantity>:</label><input id=quantity type=number min=1></div><div class=space-y-2><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"for=margin> (mm):</label><input id=margin type=number min=0 step=0.1></div></div></div><div class=space-y-4><h4 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h4><div class="flex items-center gap-6"><div class=flex-shrink-0><div class="bg-white dark:bg-gray-600 border-2 border-gray-300 dark:border-gray-500 rounded shadow-sm relative"><div class="absolute border border-dashed border-gray-400 dark:border-gray-400 rounded-sm"></div></div></div><div class=space-y-2><div class="text-sm text-gray-900 dark:text-gray-100"> × <!> mm</div><div class="text-sm text-gray-600 dark:text-gray-400">: <!> mm²'),st=u('<div class="flex items-center justify-end gap-3 p-6 border-t border-gray-200 dark:border-gray-700"><button type=button class="px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition-colors duration-200"></button><button type=button class="px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition-colors duration-200">'),dt=u("<option>"),nt=u('<button type=button class="px-2 py-1 text-xs font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded hover:bg-gray-200 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition-colors duration-200">');const ot=l=>{const[i]=Ve("sheets"),[C,P]=v(""),[n,A]=v(200),[c,E]=v(200),[K,U]=v(3),[V,X]=v(1),[b,Y]=v(5),[he,s]=v("Generic"),[a,L]=v({}),we=["Generic","Wood - Plywood","Wood - MDF","Wood - Hardwood","Metal - Aluminum","Metal - Steel","Metal - Brass","Plastic - Acrylic","Plastic - ABS","Cardboard","Fabric","Leather","Paper"],B=[{name:"A4",width:210,height:297},{name:"A3",width:297,height:420},{name:"A2",width:420,height:594},{name:"A1",width:594,height:841},{name:"Letter",width:216,height:279},{name:"Legal",width:216,height:356},{name:'12×12"',width:305,height:305},{name:'24×24"',width:610,height:610},{name:'48×24"',width:1219,height:610}];rt(()=>{const r=l.sheet;r?(P(r.name||""),A(r.width),E(r.height),U(r.thickness||3),X(r.quantity||1),Y(r.margin||5),s(r.material||"Generic")):(P(""),A(200),E(200),U(3),X(1),Y(5),s("Generic")),L({})});const ce=()=>{const r={};return n()<=0&&(r.width=i("width_must_be_positive")),c()<=0&&(r.height=i("height_must_be_positive")),K()<=0&&(r.thickness=i("thickness_must_be_positive")),V()<=0&&(r.quantity=i("quantity_must_be_positive")),b()<0&&(r.margin=i("margin_cannot_be_negative")),L(r),Object.keys(r).length===0},Se=()=>{if(!ce())return;const r={id:l.sheet?.id||`sheet_${Date.now()}`,name:C().trim()||`Sheet ${Date.now()}`,width:n(),height:c(),thickness:K(),quantity:V(),margin:b(),material:he()};l.onSave(r)},ue=r=>{A(r.width),E(r.height),C().trim()||P(r.name)},Z=()=>{const r=n();A(c()),E(r)},be=()=>(n()*c()).toFixed(0);return[(()=>{var r=lt(),D=r.firstChild,$=D.firstChild,H=$.firstChild,ee=H.nextSibling,te=ee.firstChild,me=te.firstChild,m=te.nextSibling,_=ee.nextSibling,f=_.firstChild,k=f.firstChild,d=f.nextSibling,q=$.nextSibling,M=q.firstChild,G=M.nextSibling,y=G.nextSibling,o=y.firstChild,j=o.firstChild,F=j.firstChild,p=j.nextSibling,N=o.nextSibling,O=N.nextSibling,re=O.firstChild,Ce=re.firstChild,I=re.nextSibling,W=y.nextSibling,ye=W.firstChild,xe=ye.nextSibling;xe.nextSibling;var fe=q.nextSibling,Q=fe.firstChild,Pe=Q.nextSibling,ie=Pe.firstChild,ae=ie.firstChild,le=ae.firstChild,R=ae.nextSibling,w=ie.nextSibling,z=w.firstChild,Ae=z.firstChild,J=z.nextSibling,ve=w.nextSibling,qe=ve.firstChild,Ze=qe.firstChild,Me=qe.nextSibling,et=fe.nextSibling,Ge=et.firstChild,tt=Ge.nextSibling,We=tt.firstChild,se=We.firstChild,T=se.firstChild,ze=We.nextSibling,$e=ze.firstChild,Be=$e.firstChild,He=Be.nextSibling;He.nextSibling;var je=$e.nextSibling,Ne=je.firstChild,Oe=Ne.nextSibling;return Oe.nextSibling,t(H,()=>i("basic_information")),t(te,()=>i("sheet_name"),me),m.$$input=e=>P(e.currentTarget.value),t(f,()=>i("material"),k),d.addEventListener("change",e=>s(e.currentTarget.value)),t(d,h(pe,{each:we,children:e=>(()=>{var g=dt();return g.value=e,t(g,e),g})()})),t(M,()=>i("dimensions")),t(G,h(pe,{each:B,children:e=>(()=>{var g=nt();return g.$$click=()=>ue(e),t(g,()=>e.name),x(()=>ge(g,"title",`${e.width} × ${e.height} mm`)),g})()})),t(j,()=>i("width"),F),p.$$input=e=>A(parseFloat(e.currentTarget.value)||0),t(o,h(S,{get when(){return a().width},get children(){var e=oe();return t(e,()=>a().width),e}}),null),N.$$click=Z,t(re,()=>i("height"),Ce),I.$$input=e=>E(parseFloat(e.currentTarget.value)||0),t(O,h(S,{get when(){return a().height},get children(){var e=oe();return t(e,()=>a().height),e}}),null),t(W,()=>i("area"),ye),t(W,be,xe),t(Q,()=>i("properties")),t(ae,()=>i("thickness"),le),R.$$input=e=>U(parseFloat(e.currentTarget.value)||0),t(ie,h(S,{get when(){return a().thickness},get children(){var e=oe();return t(e,()=>a().thickness),e}}),null),t(z,()=>i("quantity"),Ae),J.$$input=e=>X(parseInt(e.currentTarget.value)||0),t(w,h(S,{get when(){return a().quantity},get children(){var e=oe();return t(e,()=>a().quantity),e}}),null),t(qe,()=>i("margin"),Ze),Me.$$input=e=>Y(parseFloat(e.currentTarget.value)||0),t(ve,h(S,{get when(){return a().margin},get children(){var e=oe();return t(e,()=>a().margin),e}}),null),t(Ge,()=>i("preview")),se.style.setProperty("width","120px"),se.style.setProperty("max-height","120px"),t($e,n,Be),t($e,c,He),t(je,()=>i("area"),Ne),t(je,be,Oe),t(ze,h(S,{get when(){return b()>0},get children(){var e=at(),g=e.firstChild,de=g.nextSibling;return de.nextSibling,t(e,()=>i("margin"),g),t(e,b,de),e}}),null),x(e=>{var g=i("enter_sheet_name"),de=`block w-full px-3 py-2 border rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 ${a().width?"border-red-500":"border-gray-300 dark:border-gray-600"}`,Ie=i("swap_dimensions"),Qe=`block w-full px-3 py-2 border rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 ${a().height?"border-red-500":"border-gray-300 dark:border-gray-600"}`,Re=`block w-full px-3 py-2 border rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 ${a().thickness?"border-red-500":"border-gray-300 dark:border-gray-600"}`,Je=`block w-full px-3 py-2 border rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 ${a().quantity?"border-red-500":"border-gray-300 dark:border-gray-600"}`,Ke=`block w-full px-3 py-2 border rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 ${a().margin?"border-red-500":"border-gray-300 dark:border-gray-600"}`,Fe=`${n()} / ${c()}`,Te=`${Math.max(b()/Math.max(n(),c())*100,2)}%`,Ee=`${Math.max(b()/Math.max(n(),c())*100,2)}%`,Le=`${Math.max(b()/Math.max(n(),c())*100,2)}%`,De=`${Math.max(b()/Math.max(n(),c())*100,2)}%`;return g!==e.e&&ge(m,"placeholder",e.e=g),de!==e.t&&ne(p,e.t=de),Ie!==e.a&&ge(N,"title",e.a=Ie),Qe!==e.o&&ne(I,e.o=Qe),Re!==e.i&&ne(R,e.i=Re),Je!==e.n&&ne(J,e.n=Je),Ke!==e.s&&ne(Me,e.s=Ke),Fe!==e.h&&((e.h=Fe)!=null?se.style.setProperty("aspect-ratio",Fe):se.style.removeProperty("aspect-ratio")),Te!==e.r&&((e.r=Te)!=null?T.style.setProperty("top",Te):T.style.removeProperty("top")),Ee!==e.d&&((e.d=Ee)!=null?T.style.setProperty("left",Ee):T.style.removeProperty("left")),Le!==e.l&&((e.l=Le)!=null?T.style.setProperty("right",Le):T.style.removeProperty("right")),De!==e.u&&((e.u=De)!=null?T.style.setProperty("bottom",De):T.style.removeProperty("bottom")),e},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0}),x(()=>m.value=C()),x(()=>d.value=he()),x(()=>p.value=n()),x(()=>I.value=c()),x(()=>R.value=K()),x(()=>J.value=V()),x(()=>Me.value=b()),r})(),(()=>{var r=st(),D=r.firstChild,$=D.nextSibling;return it(D,"click",l.onCancel,!0),t(D,()=>i("cancel")),$.$$click=Se,t($,(()=>{var H=Xe(()=>!!l.sheet);return()=>H()?i("update_sheet"):i("add_sheet")})()),r})()]};Ye(["input","click"]);var gt=u('<div class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"><div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden"><div class="flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700"><h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100"></h3><button class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 text-2xl leading-none">×'),ht=u('<div class="h-full flex flex-col"><div class="p-4 border-b border-gray-200 dark:border-gray-700"><h3 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h3></div><div class="flex-1 overflow-y-auto p-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">'),ct=u('<div class="h-full flex flex-col"><div class="flex items-center justify-between p-5 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"><h2 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h2><div class="flex gap-2"><button class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200">➕ </button></div></div><div class="flex items-center justify-between p-4 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700"><div class="flex gap-6"><div class="flex items-center gap-2"><span class="text-sm text-gray-600 dark:text-gray-400">:</span><span class="text-sm font-medium text-gray-900 dark:text-gray-100"></span></div><div class="flex items-center gap-2"><span class="text-sm text-gray-600 dark:text-gray-400">:</span><span class="text-sm font-medium text-gray-900 dark:text-gray-100"> mm²</span></div></div></div><div class="flex-1 overflow-hidden">'),ut=u('<div class="h-full flex flex-col items-center justify-center text-center gap-6 p-8"><div class="text-6xl opacity-30">📄</div><div><h3 class="text-lg font-medium text-gray-900 dark:text-gray-100 mb-2"></h3><p class="text-gray-600 dark:text-gray-400"></p></div><div class="w-full max-w-2xl"><h4 class="text-md font-medium text-gray-900 dark:text-gray-100 mb-4"></h4><div class="grid grid-cols-3 gap-3">'),bt=u('<button class="bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-3 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-center"><div class="font-medium text-gray-900 dark:text-gray-100 mb-1"></div><div class="text-sm text-gray-600 dark:text-gray-400"> × '),mt=u('<div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100"> mm'),yt=u('<div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-lg transition-shadow duration-200"><div class="h-32 bg-gray-50 dark:bg-gray-700 flex items-center justify-center p-4"><div class=relative><div class="bg-white dark:bg-gray-600 border-2 border-gray-300 dark:border-gray-500 rounded shadow-sm"><div class="absolute inset-1 border border-dashed border-gray-400 dark:border-gray-400 rounded-sm"></div></div></div></div><div class=p-4><div class="font-medium text-gray-900 dark:text-gray-100 mb-3"></div><div class="space-y-2 mb-4"><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100"></span></div><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100"></span></div><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100"></span></div></div><div class="flex justify-between items-center pt-2 border-t border-gray-200 dark:border-gray-700"><button class="text-blue-600 dark:text-blue-400 hover:underline text-sm"></button><button class="text-red-600 dark:text-red-400 hover:underline text-sm">');const ft=()=>{const[l]=Ve("sheets"),[i,C]=v(!1),[P,n]=v(null),A=Ue(()=>_e.app.sheets.length),c=Ue(()=>_e.app.sheets.reduce((s,a)=>s+a.width*a.height,0)),E=[{name:"A4",width:210,height:297,units:"mm"},{name:"A3",width:297,height:420,units:"mm"},{name:"A2",width:420,height:594,units:"mm"},{name:"A1",width:594,height:841,units:"mm"},{name:"Letter",width:216,height:279,units:"mm"},{name:"Legal",width:216,height:356,units:"mm"},{name:'12x12"',width:305,height:305,units:"mm"},{name:'24x24"',width:610,height:610,units:"mm"},{name:'48x24"',width:1219,height:610,units:"mm"}],K=()=>{n(null),C(!0)},U=s=>{n(s),C(!0)},V=s=>{const a=_e.app.sheets.filter(L=>L.id!==s);ke.setSheets(a)},X=s=>{P()?ke.updateSheet(s.id,s):ke.addSheet(s),C(!1),n(null)},b=()=>{C(!1),n(null)},Y=s=>{const a={name:s.name,width:s.width,height:s.height,thickness:3,quantity:1,margin:5,material:"Generic"};ke.addSheet(a)},he=s=>`${s.width} × ${s.height} mm`;return(()=>{var s=ct(),a=s.firstChild,L=a.firstChild,we=L.nextSibling,B=we.firstChild;B.firstChild;var ce=a.nextSibling,Se=ce.firstChild,ue=Se.firstChild,Z=ue.firstChild,be=Z.firstChild,r=Z.nextSibling,D=ue.nextSibling,$=D.firstChild,H=$.firstChild,ee=$.nextSibling,te=ee.firstChild,me=ce.nextSibling;return t(L,()=>l("sheets_title")),B.$$click=K,t(B,()=>l("add_sheet"),null),t(Z,()=>l("total_sheets"),be),t(r,A),t($,()=>l("total_area"),H),t(ee,()=>c().toFixed(0),te),t(s,h(S,{get when(){return i()},get children(){var m=gt(),_=m.firstChild,f=_.firstChild,k=f.firstChild,d=k.nextSibling;return t(k,(()=>{var q=Xe(()=>!!P());return()=>q()?l("edit_sheet"):l("add_new_sheet")})()),d.$$click=b,t(_,h(ot,{get sheet(){return P()},onSave:X,onCancel:b}),null),m}}),me),t(me,h(S,{get when(){return A()>0},get fallback(){return(()=>{var m=ut(),_=m.firstChild,f=_.nextSibling,k=f.firstChild,d=k.nextSibling,q=f.nextSibling,M=q.firstChild,G=M.nextSibling;return t(k,()=>l("no_sheets_loaded")),t(d,()=>l("add_sheets_to_get_started")),t(M,()=>l("quick_templates")),t(G,h(pe,{each:E,children:y=>(()=>{var o=bt(),j=o.firstChild,F=j.nextSibling,p=F.firstChild;return o.$$click=()=>Y(y),t(j,()=>y.name),t(F,()=>y.width,p),t(F,()=>y.height,null),x(()=>ge(o,"title",`${y.width} × ${y.height} ${y.units}`)),o})()})),m})()},get children(){var m=ht(),_=m.firstChild,f=_.firstChild,k=_.nextSibling;return t(f,()=>l("configured_sheets")),t(k,h(pe,{get each(){return _e.app.sheets},children:(d,q)=>(()=>{var M=yt(),G=M.firstChild,y=G.firstChild,o=y.firstChild,j=G.nextSibling,F=j.firstChild,p=F.nextSibling,N=p.firstChild,O=N.firstChild,re=O.firstChild,Ce=O.nextSibling,I=N.nextSibling,W=I.firstChild,ye=W.firstChild,xe=W.nextSibling,fe=I.nextSibling,Q=fe.firstChild,Pe=Q.firstChild,ie=Q.nextSibling,ae=p.nextSibling,le=ae.firstChild,R=le.nextSibling;return o.style.setProperty("max-width","80px"),o.style.setProperty("max-height","80px"),o.style.setProperty("min-width","40px"),o.style.setProperty("min-height","40px"),t(F,()=>d.name||`${l("sheet")} ${q()+1}`),t(O,()=>l("dimensions"),re),t(Ce,()=>he(d)),t(W,()=>l("quantity"),ye),t(xe,()=>d.quantity),t(Q,()=>l("material"),Pe),t(ie,()=>d.material||"Generic"),t(p,h(S,{get when(){return d.margin},get children(){var w=mt(),z=w.firstChild,Ae=z.firstChild,J=z.nextSibling,ve=J.firstChild;return t(z,()=>l("margin"),Ae),t(J,()=>d.margin,ve),w}}),null),le.$$click=()=>U(d),t(le,()=>l("edit")),R.$$click=()=>V(d.id),t(R,()=>l("delete")),x(w=>(w=`${d.width} / ${d.height}`)!=null?o.style.setProperty("aspect-ratio",w):o.style.removeProperty("aspect-ratio")),M})()})),m}})),x(()=>ge(B,"title",l("add_sheet"))),s})()};Ye(["click"]);export{ft as default};
