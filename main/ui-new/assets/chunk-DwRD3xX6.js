import{d as e}from"./chunk-CloFZg_W.js";import{i as t,b as s}from"./chunk-CxE4G7Dl.js";const r={units:"inches",scale:72,spacing:0,rotations:4,populationSize:10,mutationRate:10,threads:4,placementType:"gravity",mergeLines:!0,timeRatio:.5,simplify:!1,tolerance:.72,endpointTolerance:.36,svgScale:72,dxfImportUnits:"mm",dxfExportUnits:"mm",exportSheetBounds:!1,exportSheetSpacing:!1,sheetSpacing:10,useQuantityFromFilename:!1,useSvgPreProcessor:!1,conversionServer:"https://converter.deepnest.app/convert"},a={activeTab:"parts",darkMode:!1,language:"en",modals:{presetModal:!1,helpModal:!1},panels:{partsWidth:300,resultsHeight:200}},o={parts:[],sheets:[],nests:[],presets:{},importedFiles:[]},i={isNesting:!1,progress:0,currentNest:null,workerStatus:{isRunning:!1,currentOperation:"",threadsActive:0},lastError:null},n=t()?s():{ui:(()=>{try{if("undefined"!=typeof localStorage){const e=localStorage.getItem("deepnest-ui-state");let t=a;if(e){const s=JSON.parse(e);t={...a,...s}}return"theme"in localStorage?t.darkMode="dark"===localStorage.theme:t.darkMode=window.matchMedia("(prefers-color-scheme: dark)").matches,t}}catch(e){}return a})(),config:r,app:o,process:i},[p,c]=e(n);"undefined"!=typeof document&&n.ui.darkMode&&document.documentElement.classList.add("dark"),t();const d={setActiveTab:e=>{c("ui","activeTab",e)},setDarkMode:e=>{if(c("ui","darkMode",e),"undefined"!=typeof localStorage)try{localStorage.theme=e?"dark":"light",localStorage.setItem("deepnest-ui-state",JSON.stringify(p.ui))}catch(t){}},toggleDarkMode:()=>{const e=p.ui.darkMode;d.setDarkMode(!e)},setCurrentPanel:e=>{c("ui","activeTab",e)},setThemePreference:e=>{if("undefined"!=typeof localStorage)try{if("system"===e){localStorage.removeItem("theme");const e=window.matchMedia("(prefers-color-scheme: dark)").matches;c("ui","darkMode",e)}else localStorage.theme=e,c("ui","darkMode","dark"===e);localStorage.setItem("deepnest-ui-state",JSON.stringify(p.ui))}catch(t){}},setLanguage:e=>{if(c("ui","language",e),"undefined"!=typeof localStorage)try{localStorage.setItem("deepnest-ui-state",JSON.stringify(p.ui))}catch(t){}},setPanelWidth:(e,t)=>{if(c("ui","panels",e,t),"undefined"!=typeof localStorage)try{localStorage.setItem("deepnest-ui-state",JSON.stringify(p.ui))}catch(s){}},openModal:e=>{c("ui","modals",e,!0)},closeModal:e=>{c("ui","modals",e,!1)},updateConfig:e=>{c("config",e)},resetConfig:()=>{c("config",r)},setParts:e=>{c("app","parts",e)},addPart:e=>{c("app","parts",t=>[...t,e])},removePart:e=>{c("app","parts",t=>t.filter(t=>t.id!==e))},updatePart:(e,t)=>{c("app","parts",t=>t.id===e,t)},setNests:e=>{c("app","nests",e)},addNest:e=>{c("app","nests",t=>[...t,e])},setCurrentNest:e=>{c("process","currentNest",e)},setPresets:e=>{c("app","presets",e)},addPreset:e=>{c("app","presets",e.id,e)},removePreset:e=>{c("app","presets",t=>{const s={...t};return delete s[e],s})},updatePreset:(e,t)=>{c("app","presets",e,e=>({...e,...t}))},setNestingStatus:e=>{c("process","isNesting",e)},startNesting:()=>{c("process","isNesting",!0),c("process","progress",0),c("process","lastError",null)},setNestingProgress:e=>{c("process","progress",e)},setWorkerStatus:e=>{c("process","workerStatus",e)},setError:e=>{c("process","lastError",e)},setMessage:e=>{},setShowTooltips:e=>{c("ui","showTooltips",e)},setShowStatusBar:e=>{c("ui","showStatusBar",e)},setTheme:e=>{c("ui","theme",e)},resetToDefaults:()=>{c("config",r),c("ui",a)},reset:()=>{c("app",o),c("process",i)}};export{p as a,d as g};
