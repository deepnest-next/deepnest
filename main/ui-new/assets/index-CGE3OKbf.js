const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./PartsPanel.tsx-BIo6h_MN.js","./chunk-CloFZg_W.js","./chunk-CxE4G7Dl.js","./chunk-CJSr3jq0.js","./chunk-DwRD3xX6.js","./chunk-BkE0-c49.js","./chunk-C5qu5Lxj.js","./chunk-u1_vX_6Z.js","./NestingPanel.tsx-Bwtrfqwx.js","./SheetsPanel.tsx-CyHFQn0Z.js","./SettingsPanel.tsx-CLZfWavi.js","./ImprintPanel.tsx-bgmq-QOM.js"])))=>i.map(i=>d[i]);
import{g as e,t,j as r,m as a,f as s,s as n,h as i,e as l,F as o,p as d,M as c,q as u,r as g,b as h,S as v,a as p,n as f,o as m,u as b,c as y,v as x}from"./chunk-CloFZg_W.js";import{a as k,g as w}from"./chunk-DwRD3xX6.js";import{i as C}from"./chunk-BkE0-c49.js";import{u as S,g as E,I as P}from"./chunk-CxE4G7Dl.js";import{a as L,c as _}from"./chunk-C5qu5Lxj.js";import{L as z,K as M}from"./chunk-u1_vX_6Z.js";import"./chunk-CJSr3jq0.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const r of e)if("childList"===r.type)for(const e of r.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var j=t('<header class="h-16 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between px-6 shadow-sm"><div class="flex items-center"><div class="flex items-center gap-3"><div class="w-8 h-8 bg-blue-600 dark:bg-blue-500 rounded-lg flex items-center justify-center"><span class="text-white font-bold text-sm">DN</span></div><h1 class="text-xl font-semibold text-gray-900 dark:text-gray-100"></h1></div></div><div class="flex items-center gap-4"><div class=relative><select class="bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 px-3 py-2 pr-8 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none cursor-pointer"><option value=en>🇺🇸 EN</option><option value=de>🇩🇪 DE</option></select><div class="absolute right-2 top-1/2 transform -translate-y-1/2 pointer-events-none"><svg class="w-4 h-4 text-gray-500 dark:text-gray-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 9l-7 7-7-7"></path></svg></div></div><button class="flex items-center justify-center w-10 h-10 bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800">'),N=t('<svg class="w-5 h-5"fill=currentColor viewBox="0 0 20 20"><path fill-rule=evenodd d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"clip-rule=evenodd>'),T=t('<svg class="w-5 h-5"fill=currentColor viewBox="0 0 20 20"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z">');const A=()=>{const[e,{changeLanguage:t}]=S("common");return d=(o=(l=j()).firstChild).firstChild.firstChild.nextSibling,c=o.nextSibling.firstChild,u=c.firstChild,g=c.nextSibling,r(d,()=>e("navigation.page_title")),u.addEventListener("change",e=>(async e=>{w.setLanguage(e),await t(e)})(e.currentTarget.value)),g.$$click=()=>{const e=k.ui.darkMode?"light":"dark";w.setThemePreference(e)},r(g,(i=a(()=>!!k.ui.darkMode),()=>i()?N():T())),s(()=>n(g,"title",k.ui.darkMode?"Switch to light mode":"Switch to dark mode")),s(()=>u.value=k.ui.language),l;var i,l,o,d,c,u,g};e(["click"]);var W=t('<nav class="h-full bg-gray-50 dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex flex-col w-full"><div class="flex flex-col py-4"><div class="px-4 mb-4"><h2 class="text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider">Navigation</h2></div></div><div class=mt-auto><div class=p-2><button><span>ℹ️</span><span class=font-medium></span></button></div><div class="p-4 border-t border-gray-200 dark:border-gray-700"><div class="text-xs text-gray-500 dark:text-gray-400 text-center"><div></div><div class="mt-1 opacity-75">v'),$=t("<button><span></span><span class=font-medium>"),B=t('<div class="ml-auto w-1 h-6 bg-blue-600 dark:bg-blue-400 rounded-full">');const I=()=>{const[e]=S("common"),t=E(),d=[{id:"parts",labelKey:"navigation.parts",icon:"📦"},{id:"nests",labelKey:"navigation.nests",icon:"🔧"},{id:"sheets",labelKey:"navigation.sheets",icon:"📄"},{id:"settings",labelKey:"navigation.settings",icon:"⚙️"}],c=e=>{w.setActiveTab(e)};return(()=>{var u=W(),g=u.firstChild;g.firstChild;var h,v=g.nextSibling.firstChild,p=v.firstChild,f=p.firstChild,m=f.nextSibling,b=v.nextSibling.firstChild.firstChild,y=b.nextSibling;return y.firstChild,r(g,i(o,{each:d,children:t=>{return o=$(),u=(d=o.firstChild).nextSibling,o.$$click=()=>c(t.id),r(d,()=>t.icon),r(u,()=>e(t.labelKey)),r(o,(i=a(()=>k.ui.activeTab===t.id),()=>i()&&B()),null),s(r=>{var a="mx-2 mb-1 flex items-center px-4 py-3 text-left transition-all duration-200 rounded-lg group "+(k.ui.activeTab===t.id?"bg-blue-100 dark:bg-blue-900 text-blue-900 dark:text-blue-100 shadow-sm border border-blue-200 dark:border-blue-700":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-gray-100"),s=e(t.labelKey),i="text-xl mr-4 transition-transform duration-200 "+(k.ui.activeTab===t.id?"scale-110":"group-hover:scale-105");return a!==r.e&&l(o,r.e=a),s!==r.t&&n(o,"title",r.t=s),i!==r.a&&l(d,r.a=i),r},{e:void 0,t:void 0,a:void 0}),o;var i,o,d,u}}),null),p.$$click=()=>c("imprint"),r(m,()=>e("navigation.imprint")),r(p,(h=a(()=>"imprint"===k.ui.activeTab),()=>h()&&B()),null),r(b,()=>t.name),r(y,()=>t.version,null),s(t=>{var r="w-full flex items-center px-4 py-3 text-left transition-all duration-200 rounded-lg group "+("imprint"===k.ui.activeTab?"bg-blue-100 dark:bg-blue-900 text-blue-900 dark:text-blue-100 shadow-sm border border-blue-200 dark:border-blue-700":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-gray-100"),a=e("navigation.imprint"),s="text-xl mr-4 transition-transform duration-200 "+("imprint"===k.ui.activeTab?"scale-110":"group-hover:scale-105");return r!==t.e&&l(p,t.e=r),a!==t.t&&n(p,"title",t.t=a),s!==t.a&&l(f,t.a=s),t},{e:void 0,t:void 0,a:void 0}),u})()};e(["click"]);const O={},D=function(e,t,r){let a=Promise.resolve();if(t&&t.length>0){const e=document.getElementsByTagName("link"),n=document.querySelector("meta[property=csp-nonce]"),i=n?.nonce||n?.getAttribute("nonce");s=t.map(t=>{if(t=function(e,t){return new URL(e,t).href}(t,r),t in O)return;O[t]=!0;const a=t.endsWith(".css"),s=a?'[rel="stylesheet"]':"";if(r)for(let r=e.length-1;r>=0;r--){const s=e[r];if(s.href===t&&(!a||"stylesheet"===s.rel))return}else if(document.querySelector(`link[href="${t}"]${s}`))return;const n=document.createElement("link");return n.rel=a?"stylesheet":"modulepreload",a||(n.as="script"),n.crossOrigin="",n.href=t,i&&n.setAttribute("nonce",i),document.head.appendChild(n),a?new Promise((e,r)=>{n.addEventListener("load",e),n.addEventListener("error",()=>r(new Error(`Unable to preload CSS for ${t}`)))}):void 0}),a=Promise.all(s.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e}))))}var s;function n(e){const t=new Event("vite:preloadError",{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return a.then(t=>{for(const e of t||[])"rejected"===e.status&&n(e.reason);return e().catch(n)})};var R=t('<main class="flex-1 overflow-hidden bg-gray-50 dark:bg-gray-900 w-full h-full">'),K=t('<div class="flex items-center justify-center h-full">');const V=u(()=>D(()=>import("./PartsPanel.tsx-BIo6h_MN.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]),import.meta.url)),H=u(()=>D(()=>import("./NestingPanel.tsx-Bwtrfqwx.js"),__vite__mapDeps([8,1,2,3,4,5,6,7]),import.meta.url)),q=u(()=>D(()=>import("./SheetsPanel.tsx-CyHFQn0Z.js"),__vite__mapDeps([9,1,2,3,4]),import.meta.url)),F=u(()=>D(()=>import("./SettingsPanel.tsx-CLZfWavi.js"),__vite__mapDeps([10,1,2,3,4,5]),import.meta.url)),U=u(()=>D(()=>import("./ImprintPanel.tsx-bgmq-QOM.js"),__vite__mapDeps([11,1,2,3,4]),import.meta.url)),X=()=>{return e=R(),r(e,i(g,{get fallback(){return e=K(),r(e,i(z,{size:"large"})),e;var e},get children(){return i(d,{get children(){return[i(c,{get when(){return"parts"===k.ui.activeTab},get children(){return i(V,{})}}),i(c,{get when(){return"nests"===k.ui.activeTab},get children(){return i(H,{})}}),i(c,{get when(){return"sheets"===k.ui.activeTab},get children(){return i(q,{})}}),i(c,{get when(){return"settings"===k.ui.activeTab},get children(){return i(F,{})}}),i(c,{get when(){return"imprint"===k.ui.activeTab},get children(){return i(U,{})}})]}})}})),e;var e};var G=t('<div class="flex items-center gap-3"><div class="w-32 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden"><div class="h-full bg-blue-500 dark:bg-blue-400 rounded-full transition-all duration-300 ease-out"></div></div><span class="text-gray-600 dark:text-gray-400 min-w-10 text-right font-mono">%'),J=t('<div class="flex items-center gap-1"><svg class="w-3 h-3"fill=currentColor viewBox="0 0 20 20"><path fill-rule=evenodd d="M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z"clip-rule=evenodd></path></svg><span> threads'),Q=t('<div class="flex items-center gap-1"><svg class="w-3 h-3"fill=currentColor viewBox="0 0 20 20"><path fill-rule=evenodd d="M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z"clip-rule=evenodd></path></svg><span> parts'),Y=t('<div class="flex items-center gap-1"><svg class="w-3 h-3"fill=currentColor viewBox="0 0 20 20"><path fill-rule=evenodd d="M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"clip-rule=evenodd></path></svg><span> results'),Z=t('<div class="flex items-center gap-1 text-red-500 dark:text-red-400"><svg class="w-3 h-3"fill=currentColor viewBox="0 0 20 20"><path fill-rule=evenodd d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z"clip-rule=evenodd></path></svg><span class="max-w-64 truncate">'),ee=t('<footer class="h-10 bg-gray-100 dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 flex items-center justify-between px-4 text-xs"><div class="flex items-center gap-4"><div class="flex items-center gap-2"><div></div><span class="text-gray-900 dark:text-gray-100 font-medium"></span></div></div><div class="flex items-center gap-6 text-gray-600 dark:text-gray-400">');const te=()=>{const[e]=S("common"),t=h(()=>{const{process:t}=k;return t.isNesting?e("status.nesting_in_progress"):t.lastError?e("status.error_occurred"):t.workerStatus.isRunning?t.workerStatus.currentOperation||e("status.processing"):e("status.ready")}),a=h(()=>Math.max(0,Math.min(100,k.process.progress)));return o=(n=ee()).firstChild,c=(d=o.firstChild.firstChild).nextSibling,u=o.nextSibling,r(c,t),r(o,i(v,{get when(){return k.process.isNesting},get children(){var e=G(),t=e.firstChild,n=t.firstChild,i=t.nextSibling,l=i.firstChild;return r(i,()=>a().toFixed(1),l),s(e=>null!=(e=`${a()}%`)?n.style.setProperty("width",e):n.style.removeProperty("width")),e}}),null),r(u,i(v,{get when(){return k.process.workerStatus.threadsActive>0},get children(){var e=J(),t=e.firstChild.nextSibling,a=t.firstChild;return r(t,()=>k.process.workerStatus.threadsActive,a),e}}),null),r(u,i(v,{get when(){return k.app.parts.length>0},get children(){var e=Q(),t=e.firstChild.nextSibling,a=t.firstChild;return r(t,()=>k.app.parts.length,a),e}}),null),r(u,i(v,{get when(){return k.app.nests.length>0},get children(){var e=Y(),t=e.firstChild.nextSibling,a=t.firstChild;return r(t,()=>k.app.nests.length,a),e}}),null),r(u,i(v,{get when(){return k.process.lastError},get children(){var e=Z(),t=e.firstChild.nextSibling;return r(t,()=>k.process.lastError),e}}),null),s(()=>l(d,"w-2 h-2 rounded-full "+(k.process.isNesting?"bg-blue-500 animate-pulse":k.process.lastError?"bg-red-500":"bg-green-500"))),n;var n,o,d,c,u};var re=t('<div><div class="flex-shrink-0 h-full w-full"></div><div title="Drag to resize panels"><div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-1 h-8 bg-gray-400 dark:bg-gray-500 group-hover:bg-blue-300 dark:group-hover:bg-blue-300 rounded-full transition-colors duration-200"></div><div class="absolute -left-1 -right-1 top-0 bottom-0 opacity-0 group-hover:opacity-100 transition-opacity duration-200"><div class="w-full h-full bg-blue-500/20 dark:bg-blue-400/20"></div></div></div><div class="flex-1 h-full min-w-0 w-full">');const ae=e=>{const{minLeftWidth:t=250,maxLeftWidth:a=500,defaultLeftWidth:n=300}=e,[i,o]=p(!1),[d,c]=p(k.ui.panels.partsWidth||n);let u,g;const h=e=>{e.preventDefault(),o(!0),document.addEventListener("mousemove",v),document.addEventListener("mouseup",y),document.body.style.cursor="col-resize",document.body.style.userSelect="none"},v=e=>{if(!i()||!u)return;const r=u.getBoundingClientRect(),s=e.clientX-r.left,n=Math.max(t,Math.min(a,s));c(n),w.setPanelWidth("partsWidth",n)},y=()=>{o(!1),document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",y),document.body.style.cursor="",document.body.style.userSelect=""};return f(()=>{c(k.ui.panels.partsWidth||n)}),m(()=>{document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",y),document.body.style.cursor="",document.body.style.userSelect=""}),x=re(),C=x.firstChild,S=C.nextSibling,E=S.nextSibling,"function"==typeof u?b(u,x):u=x,r(C,()=>e.left),S.$$mousedown=h,"function"==typeof g?b(g,S):g=S,r(E,()=>e.right),s(e=>{var t="flex h-full w-full "+(i()?"select-none":""),r=`${d()}px`,a="w-1 bg-gray-200 dark:bg-gray-700 hover:bg-blue-500 dark:hover:bg-blue-400 cursor-col-resize transition-colors duration-200 relative group "+(i()?"bg-blue-500 dark:bg-blue-400":"");return t!==e.e&&l(x,e.e=t),r!==e.t&&(null!=(e.t=r)?C.style.setProperty("width",r):C.style.removeProperty("width")),a!==e.a&&l(S,e.a=a),e},{e:void 0,t:void 0,a:void 0}),x;var x,C,S,E};e(["mousedown"]);var se=t('<div class="h-screen flex flex-col bg-gray-50 text-gray-900 dark:bg-gray-900 dark:text-gray-100"><div class="flex-1 flex overflow-hidden">');const ne=()=>{return t=(e=se()).firstChild,r(e,i(A,{}),t),r(t,i(ae,{get left(){return i(I,{})},get right(){return i(X,{})},minLeftWidth:200,maxLeftWidth:600,defaultLeftWidth:300})),r(e,i(te,{}),null),e;var e,t};var ie=t('<div class="app min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 transition-colors duration-200">');const le=()=>{const[e]=S("common"),[t,a]=p(!1),s=L([_("?",()=>a(!0),"Show keyboard shortcuts help"),_("Escape",()=>a(!1),"Close modal/dialog"),_("1",()=>w.setCurrentPanel("parts"),"Switch to Parts panel",{ctrl:!0}),_("2",()=>w.setCurrentPanel("nests"),"Switch to Nests panel",{ctrl:!0}),_("3",()=>w.setCurrentPanel("sheets"),"Switch to Sheets panel",{ctrl:!0}),_("4",()=>w.setCurrentPanel("settings"),"Switch to Settings panel",{ctrl:!0}),_("5",()=>w.setCurrentPanel("imprint"),"Switch to Imprint panel",{ctrl:!0}),_("n",()=>w.startNesting(),"Start nesting",{ctrl:!0}),_("s",()=>{},"Save current state",{ctrl:!0}),_("i",()=>{},"Import parts",{ctrl:!0}),_("e",()=>{},"Export results",{ctrl:!0}),_("d",()=>w.toggleDarkMode(),"Toggle dark mode",{ctrl:!0,shift:!0}),_("r",()=>{},"Reset viewport",{ctrl:!0}),_("f",()=>{},"Fit viewport to content",{ctrl:!0})]);y(()=>{const e=k.ui.darkMode;"undefined"!=typeof document&&(document.documentElement.classList.toggle("dark",e),document.documentElement.setAttribute("data-theme",e?"dark":"light"))}),f(async()=>{if(n(),C.isAvailable)try{const e=await C.readConfig();w.updateConfig(e)}catch(e){}});const n=()=>{C.isAvailable&&(C.onNestProgress(e=>{w.setNestingProgress(e)}),C.onNestComplete(e=>{w.setNests(e),w.setNestingStatus(!1)}),C.onBackgroundProgress(e=>{w.setNestingProgress(e.progress)}),C.onWorkerStatus(e=>{w.setWorkerStatus(e)}),C.onNestError(e=>{w.setError(e),w.setNestingStatus(!1)}))};return l=ie(),r(l,i(ne,{}),null),r(l,i(M,{get isOpen(){return t()},onClose:()=>a(!1),get shortcuts(){return s.shortcuts}}),null),l;var l},oe=document.getElementById("root"),[,{isReady:de}]=S("common");x(()=>i(P,{get children(){return i(v,{get when(){return de()},get children(){return i(le,{})}})}}),oe);
