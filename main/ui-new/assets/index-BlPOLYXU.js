(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function r(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(n){if(n.ep)return;n.ep=!0;const a=r(n);fetch(n.href,a)}})();const ps=!1,ms=(t,e)=>t===e,ct=Symbol("solid-proxy"),cr=Symbol("solid-track"),Vt={equals:ms};let qr=Xr;const at=1,Ut=2,Gr={owned:null,cleanups:null,context:null,owner:null};var Ce=null;let ir=null,_s=null,Re=null,De=null,st=null,rr=0;function zt(t,e){const r=Re,s=Ce,n=t.length===0,a=e===void 0?s:e,l=n?Gr:{owned:null,cleanups:null,context:a?a.context:null,owner:a},o=n?t:()=>t(()=>Ue(()=>At(l)));Ce=l,Re=null;try{return _t(o,!0)}finally{Re=r,Ce=s}}function Y(t,e){e=e?Object.assign({},Vt,e):Vt;const r={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0},s=n=>(typeof n=="function"&&(n=n(r.value)),Qr(r,n));return[Zr.bind(r),s]}function F(t,e,r){const s=yr(t,e,!1,at);Ft(s)}function mt(t,e,r){qr=ks;const s=yr(t,e,!1,at);s.user=!0,st?st.push(s):Ft(s)}function oe(t,e,r){r=r?Object.assign({},Vt,r):Vt;const s=yr(t,e,!0,0);return s.observers=null,s.observerSlots=null,s.comparator=r.equals||void 0,Ft(s),Zr.bind(s)}function bs(t){return _t(t,!1)}function Ue(t){if(Re===null)return t();const e=Re;Re=null;try{return t()}finally{Re=e}}function xr(t){mt(()=>Ue(t))}function It(t){return Ce===null||(Ce.cleanups===null?Ce.cleanups=[t]:Ce.cleanups.push(t)),t}function gr(){return Re}const[Hx,Wx]=Y(!1);function xs(t,e){const r=Symbol("context");return{id:r,Provider:Ss(r),defaultValue:t}}function ys(t){let e;return Ce&&Ce.context&&(e=Ce.context[t.id])!==void 0?e:t.defaultValue}function Jr(t){const e=oe(t),r=oe(()=>ur(e()));return r.toArray=()=>{const s=r();return Array.isArray(s)?s:s!=null?[s]:[]},r}function Zr(){if(this.sources&&this.state)if(this.state===at)Ft(this);else{const t=De;De=null,_t(()=>Wt(this),!1),De=t}if(Re){const t=this.observers?this.observers.length:0;Re.sources?(Re.sources.push(this),Re.sourceSlots.push(t)):(Re.sources=[this],Re.sourceSlots=[t]),this.observers?(this.observers.push(Re),this.observerSlots.push(Re.sources.length-1)):(this.observers=[Re],this.observerSlots=[Re.sources.length-1])}return this.value}function Qr(t,e,r){let s=t.value;return(!t.comparator||!t.comparator(s,e))&&(t.value=e,t.observers&&t.observers.length&&_t(()=>{for(let n=0;n<t.observers.length;n+=1){const a=t.observers[n],l=ir&&ir.running;l&&ir.disposed.has(a),(l?!a.tState:!a.state)&&(a.pure?De.push(a):st.push(a),a.observers&&Yr(a)),l||(a.state=at)}if(De.length>1e6)throw De=[],new Error},!1)),e}function Ft(t){if(!t.fn)return;At(t);const e=rr;vs(t,t.value,e)}function vs(t,e,r){let s;const n=Ce,a=Re;Re=Ce=t;try{s=t.fn(e)}catch(l){return t.pure&&(t.state=at,t.owned&&t.owned.forEach(At),t.owned=null),t.updatedAt=r+1,es(l)}finally{Re=a,Ce=n}(!t.updatedAt||t.updatedAt<=r)&&(t.updatedAt!=null&&"observers"in t?Qr(t,s):t.value=s,t.updatedAt=r)}function yr(t,e,r,s=at,n){const a={fn:t,state:s,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:Ce,context:Ce?Ce.context:null,pure:r};return Ce===null||Ce!==Gr&&(Ce.owned?Ce.owned.push(a):Ce.owned=[a]),a}function Ht(t){if(t.state===0)return;if(t.state===Ut)return Wt(t);if(t.suspense&&Ue(t.suspense.inFallback))return t.suspense.effects.push(t);const e=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<rr);)t.state&&e.push(t);for(let r=e.length-1;r>=0;r--)if(t=e[r],t.state===at)Ft(t);else if(t.state===Ut){const s=De;De=null,_t(()=>Wt(t,e[0]),!1),De=s}}function _t(t,e){if(De)return t();let r=!1;e||(De=[]),st?r=!0:st=[],rr++;try{const s=t();return $s(r),s}catch(s){r||(st=null),De=null,es(s)}}function $s(t){if(De&&(Xr(De),De=null),t)return;const e=st;st=null,e.length&&_t(()=>qr(e),!1)}function Xr(t){for(let e=0;e<t.length;e++)Ht(t[e])}function ks(t){let e,r=0;for(e=0;e<t.length;e++){const s=t[e];s.user?t[r++]=s:Ht(s)}for(e=0;e<r;e++)Ht(t[e])}function Wt(t,e){t.state=0;for(let r=0;r<t.sources.length;r+=1){const s=t.sources[r];if(s.sources){const n=s.state;n===at?s!==e&&(!s.updatedAt||s.updatedAt<rr)&&Ht(s):n===Ut&&Wt(s,e)}}}function Yr(t){for(let e=0;e<t.observers.length;e+=1){const r=t.observers[e];r.state||(r.state=Ut,r.pure?De.push(r):st.push(r),r.observers&&Yr(r))}}function At(t){let e;if(t.sources)for(;t.sources.length;){const r=t.sources.pop(),s=t.sourceSlots.pop(),n=r.observers;if(n&&n.length){const a=n.pop(),l=r.observerSlots.pop();s<n.length&&(a.sourceSlots[l]=s,n[s]=a,r.observerSlots[s]=l)}}if(t.tOwned){for(e=t.tOwned.length-1;e>=0;e--)At(t.tOwned[e]);delete t.tOwned}if(t.owned){for(e=t.owned.length-1;e>=0;e--)At(t.owned[e]);t.owned=null}if(t.cleanups){for(e=t.cleanups.length-1;e>=0;e--)t.cleanups[e]();t.cleanups=null}t.state=0}function ws(t){return t instanceof Error?t:new Error(typeof t=="string"?t:"Unknown error",{cause:t})}function es(t,e=Ce){throw ws(t)}function ur(t){if(typeof t=="function"&&!t.length)return ur(t());if(Array.isArray(t)){const e=[];for(let r=0;r<t.length;r++){const s=ur(t[r]);Array.isArray(s)?e.push.apply(e,s):e.push(s)}return e}return t}function Ss(t,e){return function(s){let n;return F(()=>n=Ue(()=>(Ce.context={...Ce.context,[t]:s.value},Jr(()=>s.children))),void 0),n}}const Cs=Symbol("fallback");function wr(t){for(let e=0;e<t.length;e++)t[e]()}function Ps(t,e,r={}){let s=[],n=[],a=[],l=0,o=e.length>1?[]:null;return It(()=>wr(a)),()=>{let d=t()||[],g=d.length,u,c;return d[cr],Ue(()=>{let f,_,p,x,$,L,A,D,I;if(g===0)l!==0&&(wr(a),a=[],s=[],n=[],l=0,o&&(o=[])),r.fallback&&(s=[Cs],n[0]=zt(V=>(a[0]=V,r.fallback())),l=1);else if(l===0){for(n=new Array(g),c=0;c<g;c++)s[c]=d[c],n[c]=zt(b);l=g}else{for(p=new Array(g),x=new Array(g),o&&($=new Array(g)),L=0,A=Math.min(l,g);L<A&&s[L]===d[L];L++);for(A=l-1,D=g-1;A>=L&&D>=L&&s[A]===d[D];A--,D--)p[D]=n[A],x[D]=a[A],o&&($[D]=o[A]);for(f=new Map,_=new Array(D+1),c=D;c>=L;c--)I=d[c],u=f.get(I),_[c]=u===void 0?-1:u,f.set(I,c);for(u=L;u<=A;u++)I=s[u],c=f.get(I),c!==void 0&&c!==-1?(p[c]=n[u],x[c]=a[u],o&&($[c]=o[u]),c=_[c],f.set(I,c)):a[u]();for(c=L;c<g;c++)c in p?(n[c]=p[c],a[c]=x[c],o&&(o[c]=$[c],o[c](c))):n[c]=zt(b);n=n.slice(0,l=g),s=d.slice(0)}return n});function b(f){if(a[c]=f,o){const[_,p]=Y(c);return o[c]=p,e(d[c],_)}return e(d[c])}}}function P(t,e){return Ue(()=>t(e||{}))}const ts=t=>`Stale read from <${t}>.`;function Oe(t){const e="fallback"in t&&{fallback:()=>t.fallback};return oe(Ps(()=>t.each,t.children,e||void 0))}function Z(t){const e=t.keyed,r=oe(()=>t.when,void 0,void 0),s=e?r:oe(r,void 0,{equals:(n,a)=>!n==!a});return oe(()=>{const n=s();if(n){const a=t.children;return typeof a=="function"&&a.length>0?Ue(()=>a(e?n:()=>{if(!Ue(s))throw ts("Show");return r()})):a}return t.fallback},void 0,void 0)}function Ls(t){const e=Jr(()=>t.children),r=oe(()=>{const s=e(),n=Array.isArray(s)?s:[s];let a=()=>{};for(let l=0;l<n.length;l++){const o=l,d=n[l],g=a,u=oe(()=>g()?void 0:d.when,void 0,void 0),c=d.keyed?u:oe(u,void 0,{equals:(b,f)=>!b==!f});a=()=>g()||(c()?[o,u,d]:void 0)}return a});return oe(()=>{const s=r()();if(!s)return t.fallback;const[n,a,l]=s,o=l.children;return typeof o=="function"&&o.length>0?Ue(()=>o(l.keyed?a():()=>{if(Ue(r)()?.[0]!==n)throw ts("Match");return a()})):o},void 0,void 0)}function $t(t){return t}const Ee=t=>oe(()=>t());function As(t,e,r){let s=r.length,n=e.length,a=s,l=0,o=0,d=e[n-1].nextSibling,g=null;for(;l<n||o<a;){if(e[l]===r[o]){l++,o++;continue}for(;e[n-1]===r[a-1];)n--,a--;if(n===l){const u=a<s?o?r[o-1].nextSibling:r[a-o]:d;for(;o<a;)t.insertBefore(r[o++],u)}else if(a===o)for(;l<n;)(!g||!g.has(e[l]))&&e[l].remove(),l++;else if(e[l]===r[a-1]&&r[o]===e[n-1]){const u=e[--n].nextSibling;t.insertBefore(r[o++],e[l++].nextSibling),t.insertBefore(r[--a],u),e[n]=r[a]}else{if(!g){g=new Map;let c=o;for(;c<a;)g.set(r[c],c++)}const u=g.get(e[l]);if(u!=null)if(o<u&&u<a){let c=l,b=1,f;for(;++c<n&&c<a&&!((f=g.get(e[c]))==null||f!==u+b);)b++;if(b>u-o){const _=e[l];for(;o<u;)t.insertBefore(r[o++],_)}else t.replaceChild(r[o++],e[l++])}else l++;else e[l++].remove()}}}const Sr="_$DX_DELEGATE";function Ns(t,e,r,s={}){let n;return zt(a=>{n=a,e===document?t():i(e,t(),e.firstChild?null:void 0,r)},s.owner),()=>{n(),e.textContent=""}}function C(t,e,r,s){let n;const a=()=>{const o=s?document.createElementNS("http://www.w3.org/1998/Math/MathML","template"):document.createElement("template");return o.innerHTML=t,r?o.content.firstChild.firstChild:s?o.firstChild:o.content.firstChild},l=e?()=>Ue(()=>document.importNode(n||(n=a()),!0)):()=>(n||(n=a())).cloneNode(!0);return l.cloneNode=l,l}function Me(t,e=window.document){const r=e[Sr]||(e[Sr]=new Set);for(let s=0,n=t.length;s<n;s++){const a=t[s];r.has(a)||(r.add(a),e.addEventListener(a,Es))}}function ee(t,e,r){r==null?t.removeAttribute(e):t.setAttribute(e,r)}function ke(t,e){e==null?t.removeAttribute("class"):t.className=e}function Ae(t,e,r,s){if(s)Array.isArray(r)?(t[`$$${e}`]=r[0],t[`$$${e}Data`]=r[1]):t[`$$${e}`]=r;else if(Array.isArray(r)){const n=r[0];t.addEventListener(e,r[0]=a=>n.call(t,r[1],a))}else t.addEventListener(e,r,typeof r!="function"&&r)}function Cr(t,e,r){return Ue(()=>t(e,r))}function i(t,e,r,s){if(r!==void 0&&!s&&(s=[]),typeof e!="function")return Kt(t,e,s,r);F(n=>Kt(t,e(),n,r),s)}function Es(t){let e=t.target;const r=`$$${t.type}`,s=t.target,n=t.currentTarget,a=d=>Object.defineProperty(t,"target",{configurable:!0,value:d}),l=()=>{const d=e[r];if(d&&!e.disabled){const g=e[`${r}Data`];if(g!==void 0?d.call(e,g,t):d.call(e,t),t.cancelBubble)return}return e.host&&typeof e.host!="string"&&!e.host._$host&&e.contains(t.target)&&a(e.host),!0},o=()=>{for(;l()&&(e=e._$host||e.parentNode||e.host););};if(Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return e||document}}),t.composedPath){const d=t.composedPath();a(d[0]);for(let g=0;g<d.length-2&&(e=d[g],!!l());g++){if(e._$host){e=e._$host,o();break}if(e.parentNode===n)break}}else o();a(s)}function Kt(t,e,r,s,n){for(;typeof r=="function";)r=r();if(e===r)return r;const a=typeof e,l=s!==void 0;if(t=l&&r[0]&&r[0].parentNode||t,a==="string"||a==="number"){if(a==="number"&&(e=e.toString(),e===r))return r;if(l){let o=r[0];o&&o.nodeType===3?o.data!==e&&(o.data=e):o=document.createTextNode(e),r=ft(t,r,s,o)}else r!==""&&typeof r=="string"?r=t.firstChild.data=e:r=t.textContent=e}else if(e==null||a==="boolean")r=ft(t,r,s);else{if(a==="function")return F(()=>{let o=e();for(;typeof o=="function";)o=o();r=Kt(t,o,r,s)}),()=>r;if(Array.isArray(e)){const o=[],d=r&&Array.isArray(r);if(fr(o,e,r,n))return F(()=>r=Kt(t,o,r,s,!0)),()=>r;if(o.length===0){if(r=ft(t,r,s),l)return r}else d?r.length===0?Pr(t,o,s):As(t,r,o):(r&&ft(t),Pr(t,o));r=o}else if(e.nodeType){if(Array.isArray(r)){if(l)return r=ft(t,r,s,e);ft(t,r,null,e)}else r==null||r===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);r=e}}return r}function fr(t,e,r,s){let n=!1;for(let a=0,l=e.length;a<l;a++){let o=e[a],d=r&&r[t.length],g;if(!(o==null||o===!0||o===!1))if((g=typeof o)=="object"&&o.nodeType)t.push(o);else if(Array.isArray(o))n=fr(t,o,d)||n;else if(g==="function")if(s){for(;typeof o=="function";)o=o();n=fr(t,Array.isArray(o)?o:[o],Array.isArray(d)?d:[d])||n}else t.push(o),n=!0;else{const u=String(o);d&&d.nodeType===3&&d.data===u?t.push(d):t.push(document.createTextNode(u))}}return n}function Pr(t,e,r=null){for(let s=0,n=e.length;s<n;s++)t.insertBefore(e[s],r)}function ft(t,e,r,s){if(r===void 0)return t.textContent="";const n=s||document.createTextNode("");if(e.length){let a=!1;for(let l=e.length-1;l>=0;l--){const o=e[l];if(n!==o){const d=o.parentNode===t;!a&&!l?d?t.replaceChild(n,o):t.insertBefore(n,r):d&&o.remove()}else a=!0}}else t.insertBefore(n,r);return[n]}const hr=Symbol("store-raw"),pt=Symbol("store-node"),rt=Symbol("store-has"),rs=Symbol("store-self");function ss(t){let e=t[ct];if(!e&&(Object.defineProperty(t,ct,{value:e=new Proxy(t,Is)}),!Array.isArray(t))){const r=Object.keys(t),s=Object.getOwnPropertyDescriptors(t);for(let n=0,a=r.length;n<a;n++){const l=r[n];s[l].get&&Object.defineProperty(t,l,{enumerable:s[l].enumerable,get:s[l].get.bind(e)})}}return e}function qt(t){let e;return t!=null&&typeof t=="object"&&(t[ct]||!(e=Object.getPrototypeOf(t))||e===Object.prototype||Array.isArray(t))}function Nt(t,e=new Set){let r,s,n,a;if(r=t!=null&&t[hr])return r;if(!qt(t)||e.has(t))return t;if(Array.isArray(t)){Object.isFrozen(t)?t=t.slice(0):e.add(t);for(let l=0,o=t.length;l<o;l++)n=t[l],(s=Nt(n,e))!==n&&(t[l]=s)}else{Object.isFrozen(t)?t=Object.assign({},t):e.add(t);const l=Object.keys(t),o=Object.getOwnPropertyDescriptors(t);for(let d=0,g=l.length;d<g;d++)a=l[d],!o[a].get&&(n=t[a],(s=Nt(n,e))!==n&&(t[a]=s))}return t}function Gt(t,e){let r=t[e];return r||Object.defineProperty(t,e,{value:r=Object.create(null)}),r}function Et(t,e,r){if(t[e])return t[e];const[s,n]=Y(r,{equals:!1,internal:!0});return s.$=n,t[e]=s}function Ms(t,e){const r=Reflect.getOwnPropertyDescriptor(t,e);return!r||r.get||!r.configurable||e===ct||e===pt||(delete r.value,delete r.writable,r.get=()=>t[ct][e]),r}function ns(t){gr()&&Et(Gt(t,pt),rs)()}function Rs(t){return ns(t),Reflect.ownKeys(t)}const Is={get(t,e,r){if(e===hr)return t;if(e===ct)return r;if(e===cr)return ns(t),r;const s=Gt(t,pt),n=s[e];let a=n?n():t[e];if(e===pt||e===rt||e==="__proto__")return a;if(!n){const l=Object.getOwnPropertyDescriptor(t,e);gr()&&(typeof a!="function"||t.hasOwnProperty(e))&&!(l&&l.get)&&(a=Et(s,e,a)())}return qt(a)?ss(a):a},has(t,e){return e===hr||e===ct||e===cr||e===pt||e===rt||e==="__proto__"?!0:(gr()&&Et(Gt(t,rt),e)(),e in t)},set(){return!0},deleteProperty(){return!0},ownKeys:Rs,getOwnPropertyDescriptor:Ms};function Jt(t,e,r,s=!1){if(!s&&t[e]===r)return;const n=t[e],a=t.length;r===void 0?(delete t[e],t[rt]&&t[rt][e]&&n!==void 0&&t[rt][e].$()):(t[e]=r,t[rt]&&t[rt][e]&&n===void 0&&t[rt][e].$());let l=Gt(t,pt),o;if((o=Et(l,e,n))&&o.$(()=>r),Array.isArray(t)&&t.length!==a){for(let d=t.length;d<a;d++)(o=l[d])&&o.$();(o=Et(l,"length",a))&&o.$(t.length)}(o=l[rs])&&o.$()}function is(t,e){const r=Object.keys(e);for(let s=0;s<r.length;s+=1){const n=r[s];Jt(t,n,e[n])}}function Fs(t,e){if(typeof e=="function"&&(e=e(t)),e=Nt(e),Array.isArray(e)){if(t===e)return;let r=0,s=e.length;for(;r<s;r++){const n=e[r];t[r]!==n&&Jt(t,r,n)}Jt(t,"length",s)}else is(t,e)}function Ct(t,e,r=[]){let s,n=t;if(e.length>1){s=e.shift();const l=typeof s,o=Array.isArray(t);if(Array.isArray(s)){for(let d=0;d<s.length;d++)Ct(t,[s[d]].concat(e),r);return}else if(o&&l==="function"){for(let d=0;d<t.length;d++)s(t[d],d)&&Ct(t,[d].concat(e),r);return}else if(o&&l==="object"){const{from:d=0,to:g=t.length-1,by:u=1}=s;for(let c=d;c<=g;c+=u)Ct(t,[c].concat(e),r);return}else if(e.length>1){Ct(t[s],e,[s].concat(r));return}n=t[s],r=[s].concat(r)}let a=e[0];typeof a=="function"&&(a=a(n,r),a===n)||s===void 0&&a==null||(a=Nt(a),s===void 0||qt(n)&&qt(a)&&!Array.isArray(a)?is(n,a):Jt(t,s,a))}function Ds(...[t,e]){const r=Nt(t||{}),s=Array.isArray(r),n=ss(r);function a(...l){bs(()=>{s&&l.length===1?Fs(r,l[0]):Ct(r,l)})}return[n,a]}const Os=[{id:"part-1",name:"Rectangle Part",filename:"rectangle.svg",path:[[0,0],[100,0],[100,50],[0,50]],area:5e3,bounds:{x:0,y:0,width:100,height:50},quantity:5,placed:3,rotation:0,material:"wood",thickness:3,isSelected:!1},{id:"part-2",name:"Circle Part",filename:"circle.svg",path:Bs(25,50,50),area:1963.5,bounds:{x:25,y:25,width:50,height:50},quantity:3,placed:2,rotation:0,material:"acrylic",thickness:5,isSelected:!1},{id:"part-3",name:"Triangle Part",filename:"triangle.svg",path:[[0,60],[30,0],[60,60]],area:1800,bounds:{x:0,y:0,width:60,height:60},quantity:8,placed:5,rotation:0,material:"plywood",thickness:6,isSelected:!0}],js=[{id:"sheet-1",name:"Standard Sheet",width:600,height:400,thickness:3,material:"wood",margin:5,isSelected:!0,bounds:{x:0,y:0,width:600,height:400},utilization:0},{id:"sheet-2",name:"Large Acrylic Sheet",width:800,height:600,thickness:5,material:"acrylic",margin:3,isSelected:!1,bounds:{x:0,y:0,width:800,height:600},utilization:0}],Ts=[{id:"nest-1",sheetId:"sheet-1",placements:[{id:"placement-1",partId:"part-1",x:10,y:10,rotation:0,bounds:{x:10,y:10,width:100,height:50}},{id:"placement-2",partId:"part-2",x:120,y:10,rotation:0,bounds:{x:120,y:10,width:50,height:50}},{id:"placement-3",partId:"part-3",x:10,y:70,rotation:0,bounds:{x:10,y:70,width:60,height:60}}],fitness:.75,utilization:.68,area:12e3,createdAt:new Date().toISOString(),isOptimal:!1},{id:"nest-2",sheetId:"sheet-1",placements:[{id:"placement-4",partId:"part-1",x:5,y:5,rotation:90,bounds:{x:5,y:5,width:50,height:100}},{id:"placement-5",partId:"part-2",x:65,y:5,rotation:0,bounds:{x:65,y:5,width:50,height:50}}],fitness:.82,utilization:.72,area:8500,createdAt:new Date(Date.now()-6e4).toISOString(),isOptimal:!0}],zs={"preset-1":{id:"preset-1",name:"Default Laser Settings",description:"Standard settings for laser cutting wood",config:{units:"mm",scale:1,spacing:2,rotations:4,populationSize:20,mutationRate:15,threads:4,placementType:"gravity",mergeLines:!0,timeRatio:.5,simplify:!1,tolerance:.1,endpointTolerance:.05,svgScale:1,dxfImportUnits:"mm",dxfExportUnits:"mm",exportSheetBounds:!0,exportSheetSpacing:!1,sheetSpacing:10,useQuantityFromFilename:!0,useSvgPreProcessor:!1,conversionServer:"https://converter.deepnest.app/convert"},createdAt:new Date(Date.now()-864e5).toISOString(),updatedAt:new Date(Date.now()-36e5).toISOString()},"preset-2":{id:"preset-2",name:"High Precision CNC",description:"Tight tolerances for CNC machining",config:{units:"inches",scale:72,spacing:.1,rotations:8,populationSize:50,mutationRate:5,threads:8,placementType:"bottom-left",mergeLines:!1,timeRatio:.8,simplify:!0,tolerance:.001,endpointTolerance:5e-4,svgScale:72,dxfImportUnits:"inches",dxfExportUnits:"inches",exportSheetBounds:!0,exportSheetSpacing:!0,sheetSpacing:.25,useQuantityFromFilename:!1,useSvgPreProcessor:!0,conversionServer:"https://converter.deepnest.app/convert"},createdAt:new Date(Date.now()-1728e5).toISOString(),updatedAt:new Date(Date.now()-72e5).toISOString()}};function Bs(t,e,r){const s=[];for(let a=0;a<=32;a++){const l=a/32*2*Math.PI,o=e+t*Math.cos(l),d=r+t*Math.sin(l);s.push([o,d])}return s}const Vs=()=>({ui:{activeTab:"parts",darkMode:!1,language:"en",theme:"auto",showTooltips:!0,showStatusBar:!0,modals:{presetModal:!1,helpModal:!1},panels:{partsWidth:300,resultsHeight:200}},config:{units:"mm",scale:1,spacing:2,rotations:4,populationSize:20,mutationRate:10,threads:4,placementType:"gravity",mergeLines:!0,timeRatio:.5,simplify:!1,tolerance:.1,endpointTolerance:.05,svgScale:1,dxfImportUnits:"mm",dxfExportUnits:"mm",exportSheetBounds:!1,exportSheetSpacing:!1,sheetSpacing:10,useQuantityFromFilename:!1,useSvgPreProcessor:!1,conversionServer:"https://converter.deepnest.app/convert"},app:{parts:Os,sheets:js,nests:Ts,presets:zs,importedFiles:[]},process:{isNesting:!1,progress:0,currentNest:null,workerStatus:{isRunning:!1,currentOperation:"",threadsActive:0},lastError:null}}),tt=()=>typeof window<"u"&&!window.electronAPI,pr={units:"inches",scale:72,spacing:0,rotations:4,populationSize:10,mutationRate:10,threads:4,placementType:"gravity",mergeLines:!0,timeRatio:.5,simplify:!1,tolerance:.72,endpointTolerance:.36,svgScale:72,dxfImportUnits:"mm",dxfExportUnits:"mm",exportSheetBounds:!1,exportSheetSpacing:!1,sheetSpacing:10,useQuantityFromFilename:!1,useSvgPreProcessor:!1,conversionServer:"https://converter.deepnest.app/convert"},Bt={activeTab:"parts",darkMode:!1,language:"en",modals:{presetModal:!1,helpModal:!1},panels:{partsWidth:300,resultsHeight:200}},as={parts:[],sheets:[],nests:[],presets:{},importedFiles:[]},os={isNesting:!1,progress:0,currentNest:null,workerStatus:{isRunning:!1,currentOperation:"",threadsActive:0},lastError:null},Us=()=>{try{if(typeof localStorage<"u"){const t=localStorage.getItem("deepnest-ui-state");let e=Bt;if(t){const r=JSON.parse(t);e={...Bt,...r}}return"theme"in localStorage?e.darkMode=localStorage.theme==="dark":e.darkMode=window.matchMedia("(prefers-color-scheme: dark)").matches,e}}catch(t){console.warn("Failed to load UI state from localStorage:",t)}return Bt},ls=tt()?Vs():{ui:Us(),config:pr,app:as,process:os},[v,pe]=Ds(ls);typeof document<"u"&&ls.ui.darkMode&&document.documentElement.classList.add("dark");tt()&&console.info("🔧 Development mode: Global store initialized with mock data");const O={setActiveTab:t=>{pe("ui","activeTab",t)},setDarkMode:t=>{if(pe("ui","darkMode",t),typeof localStorage<"u")try{t?localStorage.theme="dark":localStorage.theme="light",localStorage.setItem("deepnest-ui-state",JSON.stringify(v.ui))}catch(e){console.warn("Failed to save theme to localStorage:",e)}},setThemePreference:t=>{if(typeof localStorage<"u")try{if(t==="system"){localStorage.removeItem("theme");const e=window.matchMedia("(prefers-color-scheme: dark)").matches;pe("ui","darkMode",e)}else localStorage.theme=t,pe("ui","darkMode",t==="dark");localStorage.setItem("deepnest-ui-state",JSON.stringify(v.ui))}catch(e){console.warn("Failed to save theme preference to localStorage:",e)}},setLanguage:t=>{if(pe("ui","language",t),typeof localStorage<"u")try{localStorage.setItem("deepnest-ui-state",JSON.stringify(v.ui))}catch(e){console.warn("Failed to save UI state to localStorage:",e)}},setPanelWidth:(t,e)=>{if(pe("ui","panels",t,e),typeof localStorage<"u")try{localStorage.setItem("deepnest-ui-state",JSON.stringify(v.ui))}catch(r){console.warn("Failed to save UI state to localStorage:",r)}},openModal:t=>{pe("ui","modals",t,!0)},closeModal:t=>{pe("ui","modals",t,!1)},updateConfig:t=>{pe("config",t)},resetConfig:()=>{pe("config",pr)},setParts:t=>{pe("app","parts",t)},addPart:t=>{pe("app","parts",e=>[...e,t])},removePart:t=>{pe("app","parts",e=>e.filter(r=>r.id!==t))},updatePart:(t,e)=>{pe("app","parts",r=>r.id===t,e)},setNests:t=>{pe("app","nests",t)},addNest:t=>{pe("app","nests",e=>[...e,t])},setCurrentNest:t=>{pe("process","currentNest",t)},setPresets:t=>{pe("app","presets",t)},addPreset:t=>{pe("app","presets",t.id,t)},removePreset:t=>{pe("app","presets",e=>{const r={...e};return delete r[t],r})},updatePreset:(t,e)=>{pe("app","presets",t,r=>({...r,...e}))},setNestingStatus:t=>{pe("process","isNesting",t)},setNestingProgress:t=>{pe("process","progress",t)},setWorkerStatus:t=>{pe("process","workerStatus",t)},setError:t=>{pe("process","lastError",t)},setMessage:t=>{t&&console.info("App Message:",t)},setShowTooltips:t=>{pe("ui","showTooltips",t)},setShowStatusBar:t=>{pe("ui","showStatusBar",t)},setTheme:t=>{pe("ui","theme",t)},resetToDefaults:()=>{pe("config",pr),pe("ui",Bt)},reset:()=>{pe("app",as),pe("process",os)}};class Hs{eventListeners=new Map;nestingProgress=0;isNesting=!1;activeWorkers=new Set;nestResults=[];get isAvailable(){return tt()||typeof window<"u"&&!!window.electronAPI}async invoke(e,...r){if(!this.isAvailable)throw new Error("IPC not available");if(tt())return this.handleMockInvoke(e,...r);try{return await window.electronAPI.ipcRenderer.invoke(e,...r)}catch(s){throw console.error(`IPC invoke error on channel ${String(e)}:`,s),s}}async handleMockInvoke(e,...r){switch(await new Promise(s=>setTimeout(s,100)),console.info(`🔧 Mock IPC call: ${e}`,r),e){case"read-config":return{units:"mm",scale:1,spacing:2,rotations:4,populationSize:20,mutationRate:10,threads:4,placementType:"gravity",mergeLines:!0,timeRatio:.5,simplify:!1,tolerance:.1,endpointTolerance:.05,svgScale:1,dxfImportUnits:"mm",dxfExportUnits:"mm",exportSheetBounds:!1,exportSheetSpacing:!1,sheetSpacing:10,useQuantityFromFilename:!1,useSvgPreProcessor:!1,conversionServer:"https://converter.deepnest.app/convert"};case"write-config":case"save-preset":case"delete-preset":case"start-nesting":case"stop-nesting":return;case"load-presets":return{default:JSON.stringify({units:"mm",spacing:2,rotations:4}),precision:JSON.stringify({units:"inches",spacing:.1,rotations:8})};case"open-file-dialog":return{canceled:!1,filePaths:["/mock/path/example.svg"]};case"save-file-dialog":return{canceled:!1,filePath:"/mock/path/output.svg"};case"import-parts":return[{id:"mock-part-1",name:"Mock Part",bounds:{x:0,y:0,width:100,height:50},quantity:1,rotation:0}];default:console.warn(`🔧 Unhandled mock IPC channel: ${e}`);return}}simulateBackgroundWorker(){if(!tt())return;console.info("🔧 Simulating background worker progress...");let e=0;const r=setInterval(()=>{e+=.1,this.emitToUIListeners("background-progress",{index:0,progress:Math.min(e,1)}),e>=1&&(clearInterval(r),this.emitToUIListeners("background-progress",{index:0,progress:-1}),setTimeout(()=>{this.emitToUIListeners("background-response",{index:0,fitness:.85,area:85e3,totalarea:1e5,mergedLength:0,utilisation:.85,placements:[{sheet:0,sheetid:1,sheetplacements:[{id:1,source:0,x:10,y:10,rotation:0}]}]})},500))},200)}async startNesting(e){return this.isNesting=!0,this.nestingProgress=0,this.nestResults=[],this.activeWorkers.clear(),this.eventListeners.has("background-progress")||this.initializeBackgroundWorkerListeners(),this.emitToUIListeners("nest-status",{isRunning:!0,operation:"Starting nesting..."}),tt()?(setTimeout(()=>this.simulateBackgroundWorker(),1e3),Promise.resolve()):this.invoke("start-nesting",e)}async stopNesting(){return this.isNesting=!1,this.activeWorkers.clear(),this.emitToUIListeners("nest-status",{isRunning:!1,operation:"Stopped"}),tt()?Promise.resolve():this.invoke("stop-nesting")}on(e,r){if(!this.isAvailable)return console.warn("IPC not available, listener not registered"),()=>{};const s=String(e);return this.eventListeners.has(s)||this.eventListeners.set(s,new Set),this.eventListeners.get(s).add(r),tt()?(console.info(`🔧 Mock IPC listener registered for: ${s}`),()=>{const n=this.eventListeners.get(s);n&&(n.delete(r),n.size===0&&this.eventListeners.delete(s))}):(window.electronAPI.ipcRenderer.on(e,r),()=>{const n=this.eventListeners.get(s);n&&(n.delete(r),n.size===0&&(this.eventListeners.delete(s),window.electronAPI?.ipcRenderer&&window.electronAPI.ipcRenderer.removeAllListeners(e)))})}send(e,...r){if(!this.isAvailable){console.warn("IPC not available, message not sent");return}if(tt()){console.info(`🔧 Mock IPC send: ${e}`,r);return}window.electronAPI.ipcRenderer.send(e,...r)}async readConfig(){return this.invoke("read-config")}async writeConfig(e){return this.invoke("write-config",JSON.stringify(e))}async savePreset(e,r){return this.invoke("save-preset",e,JSON.stringify(r))}async loadPresets(){return this.invoke("load-presets")}async deletePreset(e){return this.invoke("delete-preset",e)}async openFileDialog(){return this.invoke("open-file-dialog")}async saveFileDialog(){return this.invoke("save-file-dialog")}async importParts(e){return this.invoke("import-parts",e)}stopBackgroundWorker(){this.send("background-stop"),this.isNesting=!1,this.activeWorkers.clear()}initializeBackgroundWorkerListeners(){this.on("background-progress",e=>{this.activeWorkers.add(e.index),e.progress===-1&&this.activeWorkers.delete(e.index),this.nestingProgress=e.progress===-1?1:Math.max(this.nestingProgress,e.progress),this.emitToUIListeners("nest-progress",this.nestingProgress),this.emitToUIListeners("nest-status",{isRunning:this.isNesting&&this.activeWorkers.size>0,operation:e.progress===-1?"Complete":"Calculating placement..."})}),this.on("background-response",e=>{this.handleBackgroundWorkerResult(e)}),this.on("setPlacements",e=>{this.handleBackgroundWorkerResult(e)})}handleBackgroundWorkerResult(e){const r={id:`result-${e.index}`,fitness:e.fitness,area:e.area,totalArea:e.totalarea,utilisation:e.utilisation,sheets:e.placements.map(s=>({id:s.sheetid,parts:s.sheetplacements.map(n=>({id:n.id,x:n.x,y:n.y,rotation:n.rotation}))}))};this.nestResults.push(r),(this.nestResults.length===1||e.fitness<Math.min(...this.nestResults.map(s=>s.fitness)))&&this.emitToUIListeners("nest-complete",[...this.nestResults])}emitToUIListeners(e,r){const s=this.eventListeners.get(e);s&&s.forEach(n=>{try{n(r)}catch(a){console.error(`Error in ${e} listener:`,a)}})}onNestProgress(e){return this.on("nest-progress",e)}onNestComplete(e){return this.on("nest-complete",e)}onNestStatus(e){return this.on("nest-status",e)}onNestError(e){return this.on("nest-error",e)}onBackgroundProgress(e){return this.on("background-progress",e)}onBackgroundResponse(e){return this.on("background-response",e)}onSetPlacements(e){return this.on("setPlacements",e)}cleanup(){if(this.isAvailable){for(const e of this.eventListeners.keys())window.electronAPI.ipcRenderer.removeAllListeners(e);this.eventListeners.clear(),this.isNesting=!1,this.nestingProgress=0,this.activeWorkers.clear(),this.nestResults=[]}}}const re=new Hs,se=t=>typeof t=="string",kt=()=>{let t,e;const r=new Promise((s,n)=>{t=s,e=n});return r.resolve=t,r.reject=e,r},Lr=t=>t==null?"":""+t,Ws=(t,e,r)=>{t.forEach(s=>{e[s]&&(r[s]=e[s])})},Ks=/###/g,Ar=t=>t&&t.indexOf("###")>-1?t.replace(Ks,"."):t,Nr=t=>!t||se(t),Pt=(t,e,r)=>{const s=se(e)?e.split("."):e;let n=0;for(;n<s.length-1;){if(Nr(t))return{};const a=Ar(s[n]);!t[a]&&r&&(t[a]=new r),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={},++n}return Nr(t)?{}:{obj:t,k:Ar(s[n])}},Er=(t,e,r)=>{const{obj:s,k:n}=Pt(t,e,Object);if(s!==void 0||e.length===1){s[n]=r;return}let a=e[e.length-1],l=e.slice(0,e.length-1),o=Pt(t,l,Object);for(;o.obj===void 0&&l.length;)a=`${l[l.length-1]}.${a}`,l=l.slice(0,l.length-1),o=Pt(t,l,Object),o?.obj&&typeof o.obj[`${o.k}.${a}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${a}`]=r},qs=(t,e,r,s)=>{const{obj:n,k:a}=Pt(t,e,Object);n[a]=n[a]||[],n[a].push(r)},Zt=(t,e)=>{const{obj:r,k:s}=Pt(t,e);if(r&&Object.prototype.hasOwnProperty.call(r,s))return r[s]},Gs=(t,e,r)=>{const s=Zt(t,r);return s!==void 0?s:Zt(e,r)},ds=(t,e,r)=>{for(const s in e)s!=="__proto__"&&s!=="constructor"&&(s in t?se(t[s])||t[s]instanceof String||se(e[s])||e[s]instanceof String?r&&(t[s]=e[s]):ds(t[s],e[s],r):t[s]=e[s]);return t},ht=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Js={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Zs=t=>se(t)?t.replace(/[&<>"'\/]/g,e=>Js[e]):t;class Qs{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const r=this.regExpMap.get(e);if(r!==void 0)return r;const s=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,s),this.regExpQueue.push(e),s}}const Xs=[" ",",","?","!",";"],Ys=new Qs(20),en=(t,e,r)=>{e=e||"",r=r||"";const s=Xs.filter(l=>e.indexOf(l)<0&&r.indexOf(l)<0);if(s.length===0)return!0;const n=Ys.getRegExp(`(${s.map(l=>l==="?"?"\\?":l).join("|")})`);let a=!n.test(t);if(!a){const l=t.indexOf(r);l>0&&!n.test(t.substring(0,l))&&(a=!0)}return a},mr=(t,e,r=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const s=e.split(r);let n=t;for(let a=0;a<s.length;){if(!n||typeof n!="object")return;let l,o="";for(let d=a;d<s.length;++d)if(d!==a&&(o+=r),o+=s[d],l=n[o],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&d<s.length-1)continue;a+=d-a+1;break}n=l}return n},Mt=t=>t?.replace("_","-"),tn={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}};class Qt{constructor(e,r={}){this.init(e,r)}init(e,r={}){this.prefix=r.prefix||"i18next:",this.logger=e||tn,this.options=r,this.debug=r.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,r,s,n){return n&&!this.debug?null:(se(e[0])&&(e[0]=`${s}${this.prefix} ${e[0]}`),this.logger[r](e))}create(e){return new Qt(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Qt(this.logger,e)}}var Ge=new Qt;class sr{constructor(){this.observers={}}on(e,r){return e.split(" ").forEach(s=>{this.observers[s]||(this.observers[s]=new Map);const n=this.observers[s].get(r)||0;this.observers[s].set(r,n+1)}),this}off(e,r){if(this.observers[e]){if(!r){delete this.observers[e];return}this.observers[e].delete(r)}}emit(e,...r){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([n,a])=>{for(let l=0;l<a;l++)n(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([n,a])=>{for(let l=0;l<a;l++)n.apply(n,[e,...r])})}}class Mr extends sr{constructor(e,r={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const r=this.options.ns.indexOf(e);r>-1&&this.options.ns.splice(r,1)}getResource(e,r,s,n={}){const a=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,l=n.ignoreJSONStructure!==void 0?n.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,r],s&&(Array.isArray(s)?o.push(...s):se(s)&&a?o.push(...s.split(a)):o.push(s)));const d=Zt(this.data,o);return!d&&!r&&!s&&e.indexOf(".")>-1&&(e=o[0],r=o[1],s=o.slice(2).join(".")),d||!l||!se(s)?d:mr(this.data?.[e]?.[r],s,a)}addResource(e,r,s,n,a={silent:!1}){const l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let o=[e,r];s&&(o=o.concat(l?s.split(l):s)),e.indexOf(".")>-1&&(o=e.split("."),n=r,r=o[1]),this.addNamespaces(r),Er(this.data,o,n),a.silent||this.emit("added",e,r,s,n)}addResources(e,r,s,n={silent:!1}){for(const a in s)(se(s[a])||Array.isArray(s[a]))&&this.addResource(e,r,a,s[a],{silent:!0});n.silent||this.emit("added",e,r,s)}addResourceBundle(e,r,s,n,a,l={silent:!1,skipCopy:!1}){let o=[e,r];e.indexOf(".")>-1&&(o=e.split("."),n=s,s=r,r=o[1]),this.addNamespaces(r);let d=Zt(this.data,o)||{};l.skipCopy||(s=JSON.parse(JSON.stringify(s))),n?ds(d,s,a):d={...d,...s},Er(this.data,o,d),l.silent||this.emit("added",e,r,s)}removeResourceBundle(e,r){this.hasResourceBundle(e,r)&&delete this.data[e][r],this.removeNamespaces(r),this.emit("removed",e,r)}hasResourceBundle(e,r){return this.getResource(e,r)!==void 0}getResourceBundle(e,r){return r||(r=this.options.defaultNS),this.getResource(e,r)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const r=this.getDataByLanguage(e);return!!(r&&Object.keys(r)||[]).find(n=>r[n]&&Object.keys(r[n]).length>0)}toJSON(){return this.data}}var cs={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,r,s,n){return t.forEach(a=>{e=this.processors[a]?.process(e,r,s,n)??e}),e}};const Rr={},Ir=t=>!se(t)&&typeof t!="boolean"&&typeof t!="number";class Xt extends sr{constructor(e,r={}){super(),Ws(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Ge.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,r={interpolation:{}}){const s={...r};return e==null?!1:this.resolve(e,s)?.res!==void 0}extractFromKey(e,r){let s=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");const n=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let a=r.ns||this.options.defaultNS||[];const l=s&&e.indexOf(s)>-1,o=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!en(e,s,n);if(l&&!o){const d=e.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:e,namespaces:se(a)?[a]:a};const g=e.split(s);(s!==n||s===n&&this.options.ns.indexOf(g[0])>-1)&&(a=g.shift()),e=g.join(n)}return{key:e,namespaces:se(a)?[a]:a}}translate(e,r,s){let n=typeof r=="object"?{...r}:r;if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(n={...n}),n||(n={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const a=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,l=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:o,namespaces:d}=this.extractFromKey(e[e.length-1],n),g=d[d.length-1];let u=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;u===void 0&&(u=":");const c=n.lng||this.language,b=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c?.toLowerCase()==="cimode")return b?a?{res:`${g}${u}${o}`,usedKey:o,exactUsedKey:o,usedLng:c,usedNS:g,usedParams:this.getUsedParamsDetails(n)}:`${g}${u}${o}`:a?{res:o,usedKey:o,exactUsedKey:o,usedLng:c,usedNS:g,usedParams:this.getUsedParamsDetails(n)}:o;const f=this.resolve(e,n);let _=f?.res;const p=f?.usedKey||o,x=f?.exactUsedKey||o,$=["[object Number]","[object Function]","[object RegExp]"],L=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,A=!this.i18nFormat||this.i18nFormat.handleAsObject,D=n.count!==void 0&&!se(n.count),I=Xt.hasDefaultValue(n),V=D?this.pluralResolver.getSuffix(c,n.count,n):"",T=n.ordinal&&D?this.pluralResolver.getSuffix(c,n.count,{ordinal:!1}):"",R=D&&!n.ordinal&&n.count===0,y=R&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${V}`]||n[`defaultValue${T}`]||n.defaultValue;let h=_;A&&!_&&I&&(h=y);const w=Ir(h),k=Object.prototype.toString.apply(h);if(A&&h&&w&&$.indexOf(k)<0&&!(se(L)&&Array.isArray(h))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const m=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,h,{...n,ns:d}):`key '${o} (${this.language})' returned an object instead of string.`;return a?(f.res=m,f.usedParams=this.getUsedParamsDetails(n),f):m}if(l){const m=Array.isArray(h),S=m?[]:{},E=m?x:p;for(const N in h)if(Object.prototype.hasOwnProperty.call(h,N)){const j=`${E}${l}${N}`;I&&!_?S[N]=this.translate(j,{...n,defaultValue:Ir(y)?y[N]:void 0,joinArrays:!1,ns:d}):S[N]=this.translate(j,{...n,joinArrays:!1,ns:d}),S[N]===j&&(S[N]=h[N])}_=S}}else if(A&&se(L)&&Array.isArray(_))_=_.join(L),_&&(_=this.extendTranslation(_,e,n,s));else{let m=!1,S=!1;!this.isValidLookup(_)&&I&&(m=!0,_=y),this.isValidLookup(_)||(S=!0,_=o);const N=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&S?void 0:_,j=I&&y!==_&&this.options.updateMissing;if(S||m||j){if(this.logger.log(j?"updateKey":"missingKey",c,g,o,j?y:_),l){const W=this.resolve(o,{...n,keySeparator:!1});W&&W.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let H=[];const q=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&q&&q[0])for(let W=0;W<q.length;W++)H.push(q[W]);else this.options.saveMissingTo==="all"?H=this.languageUtils.toResolveHierarchy(n.lng||this.language):H.push(n.lng||this.language);const G=(W,Q,te)=>{const B=I&&te!==_?te:N;this.options.missingKeyHandler?this.options.missingKeyHandler(W,g,Q,B,j,n):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(W,g,Q,B,j,n),this.emit("missingKey",W,g,Q,_)};this.options.saveMissing&&(this.options.saveMissingPlurals&&D?H.forEach(W=>{const Q=this.pluralResolver.getSuffixes(W,n);R&&n[`defaultValue${this.options.pluralSeparator}zero`]&&Q.indexOf(`${this.options.pluralSeparator}zero`)<0&&Q.push(`${this.options.pluralSeparator}zero`),Q.forEach(te=>{G([W],o+te,n[`defaultValue${te}`]||y)})}):G(H,o,y))}_=this.extendTranslation(_,e,n,f,s),S&&_===o&&this.options.appendNamespaceToMissingKey&&(_=`${g}${u}${o}`),(S||m)&&this.options.parseMissingKeyHandler&&(_=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${g}${u}${o}`:o,m?_:void 0,n))}return a?(f.res=_,f.usedParams=this.getUsedParamsDetails(n),f):_}extendTranslation(e,r,s,n,a){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...s},s.lng||this.language||n.usedLng,n.usedNS,n.usedKey,{resolved:n});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init({...s,interpolation:{...this.options.interpolation,...s.interpolation}});const d=se(e)&&(s?.interpolation?.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let g;if(d){const c=e.match(this.interpolator.nestingRegexp);g=c&&c.length}let u=s.replace&&!se(s.replace)?s.replace:s;if(this.options.interpolation.defaultVariables&&(u={...this.options.interpolation.defaultVariables,...u}),e=this.interpolator.interpolate(e,u,s.lng||this.language||n.usedLng,s),d){const c=e.match(this.interpolator.nestingRegexp),b=c&&c.length;g<b&&(s.nest=!1)}!s.lng&&n&&n.res&&(s.lng=this.language||n.usedLng),s.nest!==!1&&(e=this.interpolator.nest(e,(...c)=>a?.[0]===c[0]&&!s.context?(this.logger.warn(`It seems you are nesting recursively key: ${c[0]} in key: ${r[0]}`),null):this.translate(...c,r),s)),s.interpolation&&this.interpolator.reset()}const l=s.postProcess||this.options.postProcess,o=se(l)?[l]:l;return e!=null&&o?.length&&s.applyPostProcessor!==!1&&(e=cs.handle(o,e,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...n,usedParams:this.getUsedParamsDetails(s)},...s}:s,this)),e}resolve(e,r={}){let s,n,a,l,o;return se(e)&&(e=[e]),e.forEach(d=>{if(this.isValidLookup(s))return;const g=this.extractFromKey(d,r),u=g.key;n=u;let c=g.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));const b=r.count!==void 0&&!se(r.count),f=b&&!r.ordinal&&r.count===0,_=r.context!==void 0&&(se(r.context)||typeof r.context=="number")&&r.context!=="",p=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);c.forEach(x=>{this.isValidLookup(s)||(o=x,!Rr[`${p[0]}-${x}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(o)&&(Rr[`${p[0]}-${x}`]=!0,this.logger.warn(`key "${n}" for languages "${p.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach($=>{if(this.isValidLookup(s))return;l=$;const L=[u];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(L,u,$,x,r);else{let D;b&&(D=this.pluralResolver.getSuffix($,r.count,r));const I=`${this.options.pluralSeparator}zero`,V=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(b&&(L.push(u+D),r.ordinal&&D.indexOf(V)===0&&L.push(u+D.replace(V,this.options.pluralSeparator)),f&&L.push(u+I)),_){const T=`${u}${this.options.contextSeparator}${r.context}`;L.push(T),b&&(L.push(T+D),r.ordinal&&D.indexOf(V)===0&&L.push(T+D.replace(V,this.options.pluralSeparator)),f&&L.push(T+I))}}let A;for(;A=L.pop();)this.isValidLookup(s)||(a=A,s=this.getResource($,x,A,r))}))})}),{res:s,usedKey:n,exactUsedKey:a,usedLng:l,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,r,s,n={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,r,s,n):this.resourceStore.getResource(e,r,s,n)}getUsedParamsDetails(e={}){const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],s=e.replace&&!se(e.replace);let n=s?e.replace:e;if(s&&typeof e.count<"u"&&(n.count=e.count),this.options.interpolation.defaultVariables&&(n={...this.options.interpolation.defaultVariables,...n}),!s){n={...n};for(const a of r)delete n[a]}return n}static hasDefaultValue(e){const r="defaultValue";for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&r===s.substring(0,r.length)&&e[s]!==void 0)return!0;return!1}}class Fr{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Ge.create("languageUtils")}getScriptPartFromCode(e){if(e=Mt(e),!e||e.indexOf("-")<0)return null;const r=e.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(e){if(e=Mt(e),!e||e.indexOf("-")<0)return e;const r=e.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(e){if(se(e)&&e.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(e)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let r;return e.forEach(s=>{if(r)return;const n=this.formatLanguageCode(s);(!this.options.supportedLngs||this.isSupportedCode(n))&&(r=n)}),!r&&this.options.supportedLngs&&e.forEach(s=>{if(r)return;const n=this.getScriptPartFromCode(s);if(this.isSupportedCode(n))return r=n;const a=this.getLanguagePartFromCode(s);if(this.isSupportedCode(a))return r=a;r=this.options.supportedLngs.find(l=>{if(l===a)return l;if(!(l.indexOf("-")<0&&a.indexOf("-")<0)&&(l.indexOf("-")>0&&a.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===a||l.indexOf(a)===0&&a.length>1))return l})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(e,r){if(!e)return[];if(typeof e=="function"&&(e=e(r)),se(e)&&(e=[e]),Array.isArray(e))return e;if(!r)return e.default||[];let s=e[r];return s||(s=e[this.getScriptPartFromCode(r)]),s||(s=e[this.formatLanguageCode(r)]),s||(s=e[this.getLanguagePartFromCode(r)]),s||(s=e.default),s||[]}toResolveHierarchy(e,r){const s=this.getFallbackCodes((r===!1?[]:r)||this.options.fallbackLng||[],e),n=[],a=l=>{l&&(this.isSupportedCode(l)?n.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))};return se(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):se(e)&&a(this.formatLanguageCode(e)),s.forEach(l=>{n.indexOf(l)<0&&a(this.formatLanguageCode(l))}),n}}const Dr={zero:0,one:1,two:2,few:3,many:4,other:5},Or={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class rn{constructor(e,r={}){this.languageUtils=e,this.options=r,this.logger=Ge.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,r){this.rules[e]=r}clearCache(){this.pluralRulesCache={}}getRule(e,r={}){const s=Mt(e==="dev"?"en":e),n=r.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:s,type:n});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let l;try{l=new Intl.PluralRules(s,{type:n})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Or;if(!e.match(/-|_/))return Or;const d=this.languageUtils.getLanguagePartFromCode(e);l=this.getRule(d,r)}return this.pluralRulesCache[a]=l,l}needsPlural(e,r={}){let s=this.getRule(e,r);return s||(s=this.getRule("dev",r)),s?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,r,s={}){return this.getSuffixes(e,s).map(n=>`${r}${n}`)}getSuffixes(e,r={}){let s=this.getRule(e,r);return s||(s=this.getRule("dev",r)),s?s.resolvedOptions().pluralCategories.sort((n,a)=>Dr[n]-Dr[a]).map(n=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${n}`):[]}getSuffix(e,r,s={}){const n=this.getRule(e,s);return n?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${n.select(r)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",r,s))}}const jr=(t,e,r,s=".",n=!0)=>{let a=Gs(t,e,r);return!a&&n&&se(r)&&(a=mr(t,r,s),a===void 0&&(a=mr(e,r,s))),a},ar=t=>t.replace(/\$/g,"$$$$");class sn{constructor(e={}){this.logger=Ge.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:r,escapeValue:s,useRawValueToEscape:n,prefix:a,prefixEscaped:l,suffix:o,suffixEscaped:d,formatSeparator:g,unescapeSuffix:u,unescapePrefix:c,nestingPrefix:b,nestingPrefixEscaped:f,nestingSuffix:_,nestingSuffixEscaped:p,nestingOptionsSeparator:x,maxReplaces:$,alwaysFormat:L}=e.interpolation;this.escape=r!==void 0?r:Zs,this.escapeValue=s!==void 0?s:!0,this.useRawValueToEscape=n!==void 0?n:!1,this.prefix=a?ht(a):l||"{{",this.suffix=o?ht(o):d||"}}",this.formatSeparator=g||",",this.unescapePrefix=u?"":c||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=b?ht(b):f||ht("$t("),this.nestingSuffix=_?ht(_):p||ht(")"),this.nestingOptionsSeparator=x||",",this.maxReplaces=$||1e3,this.alwaysFormat=L!==void 0?L:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(r,s)=>r?.source===s?(r.lastIndex=0,r):new RegExp(s,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,r,s,n){let a,l,o;const d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},g=f=>{if(f.indexOf(this.formatSeparator)<0){const $=jr(r,d,f,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format($,void 0,s,{...n,...r,interpolationkey:f}):$}const _=f.split(this.formatSeparator),p=_.shift().trim(),x=_.join(this.formatSeparator).trim();return this.format(jr(r,d,p,this.options.keySeparator,this.options.ignoreJSONStructure),x,s,{...n,...r,interpolationkey:p})};this.resetRegExp();const u=n?.missingInterpolationHandler||this.options.missingInterpolationHandler,c=n?.interpolation?.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:f=>ar(f)},{regex:this.regexp,safeValue:f=>this.escapeValue?ar(this.escape(f)):ar(f)}].forEach(f=>{for(o=0;a=f.regex.exec(e);){const _=a[1].trim();if(l=g(_),l===void 0)if(typeof u=="function"){const x=u(e,a,n);l=se(x)?x:""}else if(n&&Object.prototype.hasOwnProperty.call(n,_))l="";else if(c){l=a[0];continue}else this.logger.warn(`missed to pass in variable ${_} for interpolating ${e}`),l="";else!se(l)&&!this.useRawValueToEscape&&(l=Lr(l));const p=f.safeValue(l);if(e=e.replace(a[0],p),c?(f.regex.lastIndex+=l.length,f.regex.lastIndex-=a[0].length):f.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,r,s={}){let n,a,l;const o=(d,g)=>{const u=this.nestingOptionsSeparator;if(d.indexOf(u)<0)return d;const c=d.split(new RegExp(`${u}[ ]*{`));let b=`{${c[1]}`;d=c[0],b=this.interpolate(b,l);const f=b.match(/'/g),_=b.match(/"/g);((f?.length??0)%2===0&&!_||_.length%2!==0)&&(b=b.replace(/'/g,'"'));try{l=JSON.parse(b),g&&(l={...g,...l})}catch(p){return this.logger.warn(`failed parsing options string in nesting for key ${d}`,p),`${d}${u}${b}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,d};for(;n=this.nestingRegexp.exec(e);){let d=[];l={...s},l=l.replace&&!se(l.replace)?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;const g=/{.*}/.test(n[1])?n[1].lastIndexOf("}")+1:n[1].indexOf(this.formatSeparator);if(g!==-1&&(d=n[1].slice(g).split(this.formatSeparator).map(u=>u.trim()).filter(Boolean),n[1]=n[1].slice(0,g)),a=r(o.call(this,n[1].trim(),l),l),a&&n[0]===e&&!se(a))return a;se(a)||(a=Lr(a)),a||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${e}`),a=""),d.length&&(a=d.reduce((u,c)=>this.format(u,c,s.lng,{...s,interpolationkey:n[1].trim()}),a.trim())),e=e.replace(n[0],a),this.regexp.lastIndex=0}return e}}const nn=t=>{let e=t.toLowerCase().trim();const r={};if(t.indexOf("(")>-1){const s=t.split("(");e=s[0].toLowerCase().trim();const n=s[1].substring(0,s[1].length-1);e==="currency"&&n.indexOf(":")<0?r.currency||(r.currency=n.trim()):e==="relativetime"&&n.indexOf(":")<0?r.range||(r.range=n.trim()):n.split(";").forEach(l=>{if(l){const[o,...d]=l.split(":"),g=d.join(":").trim().replace(/^'+|'+$/g,""),u=o.trim();r[u]||(r[u]=g),g==="false"&&(r[u]=!1),g==="true"&&(r[u]=!0),isNaN(g)||(r[u]=parseInt(g,10))}})}return{formatName:e,formatOptions:r}},Tr=t=>{const e={};return(r,s,n)=>{let a=n;n&&n.interpolationkey&&n.formatParams&&n.formatParams[n.interpolationkey]&&n[n.interpolationkey]&&(a={...a,[n.interpolationkey]:void 0});const l=s+JSON.stringify(a);let o=e[l];return o||(o=t(Mt(s),n),e[l]=o),o(r)}},an=t=>(e,r,s)=>t(Mt(r),s)(e);class on{constructor(e={}){this.logger=Ge.create("formatter"),this.options=e,this.init(e)}init(e,r={interpolation:{}}){this.formatSeparator=r.interpolation.formatSeparator||",";const s=r.cacheInBuiltFormats?Tr:an;this.formats={number:s((n,a)=>{const l=new Intl.NumberFormat(n,{...a});return o=>l.format(o)}),currency:s((n,a)=>{const l=new Intl.NumberFormat(n,{...a,style:"currency"});return o=>l.format(o)}),datetime:s((n,a)=>{const l=new Intl.DateTimeFormat(n,{...a});return o=>l.format(o)}),relativetime:s((n,a)=>{const l=new Intl.RelativeTimeFormat(n,{...a});return o=>l.format(o,a.range||"day")}),list:s((n,a)=>{const l=new Intl.ListFormat(n,{...a});return o=>l.format(o)})}}add(e,r){this.formats[e.toLowerCase().trim()]=r}addCached(e,r){this.formats[e.toLowerCase().trim()]=Tr(r)}format(e,r,s,n={}){const a=r.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(o=>o.indexOf(")")>-1)){const o=a.findIndex(d=>d.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,o)].join(this.formatSeparator)}return a.reduce((o,d)=>{const{formatName:g,formatOptions:u}=nn(d);if(this.formats[g]){let c=o;try{const b=n?.formatParams?.[n.interpolationkey]||{},f=b.locale||b.lng||n.locale||n.lng||s;c=this.formats[g](o,f,{...u,...n,...b})}catch(b){this.logger.warn(b)}return c}else this.logger.warn(`there was no format function for ${g}`);return o},e)}}const ln=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class dn extends sr{constructor(e,r,s,n={}){super(),this.backend=e,this.store=r,this.services=s,this.languageUtils=s.languageUtils,this.options=n,this.logger=Ge.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=n.maxParallelReads||10,this.readingCalls=0,this.maxRetries=n.maxRetries>=0?n.maxRetries:5,this.retryTimeout=n.retryTimeout>=1?n.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(s,n.backend,n)}queueLoad(e,r,s,n){const a={},l={},o={},d={};return e.forEach(g=>{let u=!0;r.forEach(c=>{const b=`${g}|${c}`;!s.reload&&this.store.hasResourceBundle(g,c)?this.state[b]=2:this.state[b]<0||(this.state[b]===1?l[b]===void 0&&(l[b]=!0):(this.state[b]=1,u=!1,l[b]===void 0&&(l[b]=!0),a[b]===void 0&&(a[b]=!0),d[c]===void 0&&(d[c]=!0)))}),u||(o[g]=!0)}),(Object.keys(a).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:n}),{toLoad:Object.keys(a),pending:Object.keys(l),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(d)}}loaded(e,r,s){const n=e.split("|"),a=n[0],l=n[1];r&&this.emit("failedLoading",a,l,r),!r&&s&&this.store.addResourceBundle(a,l,s,void 0,void 0,{skipCopy:!0}),this.state[e]=r?-1:2,r&&s&&(this.state[e]=0);const o={};this.queue.forEach(d=>{qs(d.loaded,[a],l),ln(d,e),r&&d.errors.push(r),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(g=>{o[g]||(o[g]={});const u=d.loaded[g];u.length&&u.forEach(c=>{o[g][c]===void 0&&(o[g][c]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(d=>!d.done)}read(e,r,s,n=0,a=this.retryTimeout,l){if(!e.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:r,fcName:s,tried:n,wait:a,callback:l});return}this.readingCalls++;const o=(g,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const c=this.waitingReads.shift();this.read(c.lng,c.ns,c.fcName,c.tried,c.wait,c.callback)}if(g&&u&&n<this.maxRetries){setTimeout(()=>{this.read.call(this,e,r,s,n+1,a*2,l)},a);return}l(g,u)},d=this.backend[s].bind(this.backend);if(d.length===2){try{const g=d(e,r);g&&typeof g.then=="function"?g.then(u=>o(null,u)).catch(o):o(null,g)}catch(g){o(g)}return}return d(e,r,o)}prepareLoading(e,r,s={},n){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();se(e)&&(e=this.languageUtils.toResolveHierarchy(e)),se(r)&&(r=[r]);const a=this.queueLoad(e,r,s,n);if(!a.toLoad.length)return a.pending.length||n(),null;a.toLoad.forEach(l=>{this.loadOne(l)})}load(e,r,s){this.prepareLoading(e,r,{},s)}reload(e,r,s){this.prepareLoading(e,r,{reload:!0},s)}loadOne(e,r=""){const s=e.split("|"),n=s[0],a=s[1];this.read(n,a,"read",void 0,void 0,(l,o)=>{l&&this.logger.warn(`${r}loading namespace ${a} for language ${n} failed`,l),!l&&o&&this.logger.log(`${r}loaded namespace ${a} for language ${n}`,o),this.loaded(e,l,o)})}saveMissing(e,r,s,n,a,l={},o=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(r)){this.logger.warn(`did not save key "${s}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(s==null||s==="")){if(this.backend?.create){const d={...l,isUpdate:a},g=this.backend.create.bind(this.backend);if(g.length<6)try{let u;g.length===5?u=g(e,r,s,n,d):u=g(e,r,s,n),u&&typeof u.then=="function"?u.then(c=>o(null,c)).catch(o):o(null,u)}catch(u){o(u)}else g(e,r,s,n,o,d)}!e||!e[0]||this.store.addResource(e[0],r,s,n)}}}const zr=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),se(t[1])&&(e.defaultValue=t[1]),se(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const r=t[3]||t[2];Object.keys(r).forEach(s=>{e[s]=r[s]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Br=t=>(se(t.ns)&&(t.ns=[t.ns]),se(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),se(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),Ot=()=>{},cn=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(r=>{typeof t[r]=="function"&&(t[r]=t[r].bind(t))})};class Rt extends sr{constructor(e={},r){if(super(),this.options=Br(e),this.services={},this.logger=Ge,this.modules={external:[]},cn(this),r&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,r),this;setTimeout(()=>{this.init(e,r)},0)}}init(e={},r){this.isInitializing=!0,typeof e=="function"&&(r=e,e={}),e.defaultNS==null&&e.ns&&(se(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const s=zr();this.options={...s,...this.options,...Br(e)},this.options.interpolation={...s.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const n=g=>g?typeof g=="function"?new g:g:null;if(!this.options.isClone){this.modules.logger?Ge.init(n(this.modules.logger),this.options):Ge.init(null,this.options);let g;this.modules.formatter?g=this.modules.formatter:g=on;const u=new Fr(this.options);this.store=new Mr(this.options.resources,this.options);const c=this.services;c.logger=Ge,c.resourceStore=this.store,c.languageUtils=u,c.pluralResolver=new rn(u,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==s.interpolation.format&&this.logger.warn("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),g&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(c.formatter=n(g),c.formatter.init&&c.formatter.init(c,this.options),this.options.interpolation.format=c.formatter.format.bind(c.formatter)),c.interpolator=new sn(this.options),c.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},c.backendConnector=new dn(n(this.modules.backend),c.resourceStore,c,this.options),c.backendConnector.on("*",(f,..._)=>{this.emit(f,..._)}),this.modules.languageDetector&&(c.languageDetector=n(this.modules.languageDetector),c.languageDetector.init&&c.languageDetector.init(c,this.options.detection,this.options)),this.modules.i18nFormat&&(c.i18nFormat=n(this.modules.i18nFormat),c.i18nFormat.init&&c.i18nFormat.init(this)),this.translator=new Xt(this.services,this.options),this.translator.on("*",(f,..._)=>{this.emit(f,..._)}),this.modules.external.forEach(f=>{f.init&&f.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Ot),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const g=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);g.length>0&&g[0]!=="dev"&&(this.options.lng=g[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(g=>{this[g]=(...u)=>this.store[g](...u)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(g=>{this[g]=(...u)=>(this.store[g](...u),this)});const o=kt(),d=()=>{const g=(u,c)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(c),r(u,c)};if(this.languages&&!this.isInitialized)return g(null,this.t.bind(this));this.changeLanguage(this.options.lng,g)};return this.options.resources||!this.options.initAsync?d():setTimeout(d,0),o}loadResources(e,r=Ot){let s=r;const n=se(e)?e:this.language;if(typeof e=="function"&&(s=e),!this.options.resources||this.options.partialBundledLanguages){if(n?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return s();const a=[],l=o=>{if(!o||o==="cimode")return;this.services.languageUtils.toResolveHierarchy(o).forEach(g=>{g!=="cimode"&&a.indexOf(g)<0&&a.push(g)})};n?l(n):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>l(d)),this.options.preload?.forEach?.(o=>l(o)),this.services.backendConnector.load(a,this.options.ns,o=>{!o&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),s(o)})}else s(null)}reloadResources(e,r,s){const n=kt();return typeof e=="function"&&(s=e,e=void 0),typeof r=="function"&&(s=r,r=void 0),e||(e=this.languages),r||(r=this.options.ns),s||(s=Ot),this.services.backendConnector.reload(e,r,a=>{n.resolve(),s(a)}),n}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&cs.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let r=0;r<this.languages.length;r++){const s=this.languages[r];if(!(["cimode","dev"].indexOf(s)>-1)&&this.store.hasLanguageSomeTranslations(s)){this.resolvedLanguage=s;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,r){this.isLanguageChangingTo=e;const s=kt();this.emit("languageChanging",e);const n=o=>{this.language=o,this.languages=this.services.languageUtils.toResolveHierarchy(o),this.resolvedLanguage=void 0,this.setResolvedLanguage(o)},a=(o,d)=>{d?this.isLanguageChangingTo===e&&(n(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,s.resolve((...g)=>this.t(...g)),r&&r(o,(...g)=>this.t(...g))},l=o=>{!e&&!o&&this.services.languageDetector&&(o=[]);const d=se(o)?o:o&&o[0],g=this.store.hasLanguageSomeTranslations(d)?d:this.services.languageUtils.getBestMatchFromCodes(se(o)?[o]:o);g&&(this.language||n(g),this.translator.language||this.translator.changeLanguage(g),this.services.languageDetector?.cacheUserLanguage?.(g)),this.loadResources(g,u=>{a(u,g)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e),s}getFixedT(e,r,s){const n=(a,l,...o)=>{let d;typeof l!="object"?d=this.options.overloadTranslationOptionHandler([a,l].concat(o)):d={...l},d.lng=d.lng||n.lng,d.lngs=d.lngs||n.lngs,d.ns=d.ns||n.ns,d.keyPrefix!==""&&(d.keyPrefix=d.keyPrefix||s||n.keyPrefix);const g=this.options.keySeparator||".";let u;return d.keyPrefix&&Array.isArray(a)?u=a.map(c=>`${d.keyPrefix}${g}${c}`):u=d.keyPrefix?`${d.keyPrefix}${g}${a}`:a,this.t(u,d)};return se(e)?n.lng=e:n.lngs=e,n.ns=r,n.keyPrefix=s,n}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,r={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const s=r.lng||this.resolvedLanguage||this.languages[0],n=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const l=(o,d)=>{const g=this.services.backendConnector.state[`${o}|${d}`];return g===-1||g===0||g===2};if(r.precheck){const o=r.precheck(this,l);if(o!==void 0)return o}return!!(this.hasResourceBundle(s,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(s,e)&&(!n||l(a,e)))}loadNamespaces(e,r){const s=kt();return this.options.ns?(se(e)&&(e=[e]),e.forEach(n=>{this.options.ns.indexOf(n)<0&&this.options.ns.push(n)}),this.loadResources(n=>{s.resolve(),r&&r(n)}),s):(r&&r(),Promise.resolve())}loadLanguages(e,r){const s=kt();se(e)&&(e=[e]);const n=this.options.preload||[],a=e.filter(l=>n.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return a.length?(this.options.preload=n.concat(a),this.loadResources(l=>{s.resolve(),r&&r(l)}),s):(r&&r(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const n=new Intl.Locale(e);if(n&&n.getTextInfo){const a=n.getTextInfo();if(a&&a.direction)return a.direction}}catch{}const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],s=this.services?.languageUtils||new Fr(zr());return e.toLowerCase().indexOf("-latn")>1?"ltr":r.indexOf(s.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},r){return new Rt(e,r)}cloneInstance(e={},r=Ot){const s=e.forkResourceStore;s&&delete e.forkResourceStore;const n={...this.options,...e,isClone:!0},a=new Rt(n);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(o=>{a[o]=this[o]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},s){const o=Object.keys(this.store.data).reduce((d,g)=>(d[g]={...this.store.data[g]},d[g]=Object.keys(d[g]).reduce((u,c)=>(u[c]={...d[g][c]},u),d[g]),d),{});a.store=new Mr(o,n),a.services.resourceStore=a.store}return a.translator=new Xt(a.services,n),a.translator.on("*",(o,...d)=>{a.emit(o,...d)}),a.init(n,r),a.translator.options=n,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const je=Rt.createInstance();je.createInstance=Rt.createInstance;je.createInstance;je.dir;je.init;je.loadResources;je.reloadResources;je.use;je.changeLanguage;je.getFixedT;je.t;je.exists;je.setDefaultNamespace;je.hasLoadedNamespace;je.loadNamespaces;je.loadLanguages;const gn={page_title:"deepnest - Industrial nesting",parts:"Parts",nests:"Nests",sheets:"Sheets",settings:"Settings",imprint:"Imprint"},un={stop_nest:"Stop nest",export:"Export",export_svg:"SVG file",export_dxf:"DXF file",export_json:"JSON file",back:"Back",import:"Import",start_nest:"Start nest",deselect:"Deselect",select:"Select",all:"all",add:"Add",cancel:"Cancel",save_preset:"Save Preset",load:"Load",delete:"Delete",save:"Save",reset_defaults:"set all to default"},fn={size:"Size",sheet:"Sheet",quantity:"Quantity",add_sheet:"Add Sheet",width:"width",height:"height",nesting_config:"Nesting configuration",display_units:"Display units",inches:"inches",mm:"mm",space_between_parts:"Space between parts",curve_tolerance:"Curve tolerance",part_rotations:"Part rotations",optimization_type:"Optimization type",gravity:"Gravity",bounding_box:"Bounding Box",squeeze:"Squeeze",use_rough_approximation:"Use rough approximation",cpu_cores:"CPU cores",import_export:"Import/Export",use_svg_normalizer:"Use SVG Normalizer?",svg_scale:"SVG scale",units_per:"units/",endpoint_tolerance:"Endpoint tolerance",dxf_import_units:"DXF import units",points:"Points",picas:"Picas",inches_cap:"Inches",cm:"cm",dxf_export_units:"DXF export units",export_with_sheet_boundaries:"Export with Sheet Boundborders?",export_with_sheets_space:"Export with Space between Sheets?",distance_between_sheets:"Distance between Sheets?",laser_options:"Laser options",merge_common_lines:"Merge common lines",optimization_ratio:"Optimization ratio",meta_heuristic_tuning:"Meta-heuristic fine tuning",ga_population:"GA population",ga_mutation_rate:"GA mutation rate",other_settings:"Other Settings",use_quantity_from_filename:"Use Quantity from filename",presets:"Presets",save_config_presets:"Save Configuration Presets",load_delete_presets:"Load/Delete Configuration Presets",select_preset_default:"-- Select a preset --",save_preset_title:"Save Preset",enter_preset_name:"Enter preset name"},hn={nesting_in_progress:"Nesting in progress...",error_occurred:"Error occurred",processing:"Processing...",ready:"Ready",threads_active:"{{count}} threads active",parts_loaded:"{{count}} parts loaded",nests_available:"{{count}} nests available"},pn={zoom_in:"Zoom In",zoom_out:"Zoom Out",fit_to_content:"Fit to Content",center_view:"Center View",reset_view:"Reset View",zoom:"zoom",pan:"pan",reset:"reset",shortcuts:"Shortcuts"},mn={select_all:"Select All",deselect_all:"Deselect All",invert_selection:"Invert Selection",selected_count:"{{count}} of {{total}} selected",no_selection:"No items selected",duplicate_selected:"Duplicate Selected",export_selected:"Export Selected",delete_selected:"Delete Selected",duplicate:"Duplicate",navigate:"navigate"},Vr={navigation:gn,actions:un,labels:fn,status:hn,viewport:pn,selection:mn},_n="Please enter a preset name",bn="Preset saved successfully!",xn="Error saving preset",yn="Please select a preset to load",vn="Preset loaded successfully!",$n="Selected preset not found",kn="Error loading preset",wn="Please select a preset to delete",Sn='Are you sure you want to delete the preset "{{presetName}}"?',Cn="Preset deleted successfully!",Pn="Error deleting preset",Ln="Please import some parts first",An="Please mark at least one part as the sheet",Nn="No file selected",En="An error occurred reading the file",Mn="Error processing SVG",Rn="could not contact file conversion server",In="There was an Error while converting",Fn={enter_preset_name:_n,preset_saved:bn,error_saving_preset:xn,select_preset_to_load:yn,preset_loaded:vn,preset_not_found:$n,error_loading_preset:kn,select_preset_to_delete:wn,confirm_delete_preset:Sn,preset_deleted:Cn,error_deleting_preset:Pn,import_parts_first:Ln,mark_part_as_sheet:An,no_file_selected:Nn,file_read_error:En,svg_processing_error:Mn,conversion_server_error:Rn,conversion_error:In},Dn="Parts",On="Import Parts",jn="Export Parts",Tn="Export Selected",zn="Delete Selected",Bn="No parts selected",Vn="Failed to import parts",Un="Failed to export parts",Hn="Total Parts",Wn="Total Quantity",Kn="Select All",qn="Deselect All",Gn="No Parts Loaded",Jn="Import SVG or DXF files to get started",Zn="Search parts...",Qn="Sort by",Xn="Name",Yn="Quantity",ei="Size",ti="Rotation",ri="Dimensions",si="Area",ni="Preview Error",ii={parts_title:Dn,import:"Import",export:"Export",delete:"Delete",import_parts:On,export_parts:jn,export_selected:Tn,delete_selected:zn,no_parts_selected:Bn,import_failed:Vn,export_failed:Un,total_parts:Hn,total_quantity:Wn,select_all:Kn,deselect_all:qn,no_parts_loaded:Gn,import_parts_to_get_started:Jn,search_parts:Zn,sort_by:Qn,name:Xn,quantity:Yn,size:ei,rotation:ti,dimensions:ri,area:si,preview_error:ni},ai="Nesting",oi="Start Nesting",li="Stop Nesting",di="Clear Results",ci="Cannot start nesting: need parts and sheets",gi="Failed to start nesting",ui="Failed to stop nesting",fi="Parts to Nest",hi="Available Sheets",pi="Results Count",mi="No Nesting Results",_i="Start nesting to see results here",bi="Add parts and sheets first to enable nesting",xi="Nesting in Progress",yi="Est. time remaining",vi="Current Operation",$i="Threads Active",ki="Worker Status",wi="Running",Si="Stopped",Ci="Generation",Pi="Best Fitness",Li="Refresh Status",Ai="Nesting Results",Ni="Sorted by efficiency",Ei="Result",Mi="Best",Ri="Efficiency",Ii="Fitness",Fi="Sheets Used",Di="Parts Placed",Oi="View Details",ji="Back to Results",Ti="Result Details",zi="Export Result",Bi="Export failed",Vi="Click to view",Ui="Zoom Out",Hi="Zoom In",Wi="Reset View",Ki="Sheet",qi="Statistics",Gi="Material Efficiency",Ji="Fitness Score",Zi="Material Waste",Qi="Total Parts Placed",Xi="Total Material Used",Yi="Generation Time",ea="Generation Number",ta="Live Results",ra="Connected",sa="Disconnected",na="Last Update",ia="Expand",aa="Collapse",oa="Current Progress",la="Best Result",da="Utilization",ca="Intermediate Results",ga="No intermediate results yet",ua="Connection Lost",fa="Reconnect Attempts: {{count}}",ha="Error Occurred",pa="Just now",ma="{{count}} seconds ago",_a="{{count}} minutes ago",ba="{{count}} hours ago",xa="Sheets",ya={nesting_title:ai,start_nesting:oi,stop_nesting:li,clear_results:di,cannot_start_nesting:ci,start_nesting_failed:gi,stop_nesting_failed:ui,parts_to_nest:fi,available_sheets:hi,results_count:pi,no_nesting_results:mi,start_nesting_to_see_results:_i,add_parts_and_sheets_first:bi,nesting_in_progress:xi,estimated_time_remaining:yi,current_operation:vi,threads_active:$i,worker_status:ki,running:wi,stopped:Si,current_generation:Ci,best_fitness:Pi,refresh_status:Li,nesting_results:Ai,sorted_by_efficiency:Ni,result:Ei,best:Mi,efficiency:Ri,fitness:Ii,sheets_used:Fi,parts_placed:Di,view_details:Oi,export:"Export",delete:"Delete",back_to_results:ji,result_details:Ti,export_result:zi,export_failed:Bi,click_to_view:Vi,zoom_out:Ui,zoom_in:Hi,reset_view:Wi,sheet:Ki,statistics:qi,material_efficiency:Gi,fitness_score:Ji,material_waste:Zi,total_parts_placed:Qi,total_material_used:Xi,generation_time:Yi,generation_number:ea,live_results:ta,connected:ra,disconnected:sa,last_update:na,expand:ia,collapse:aa,current_progress:oa,best_result:la,utilization:da,intermediate_results:ca,no_intermediate_results:ga,connection_lost:ua,reconnect_attempts:fa,error_occurred:ha,just_now:pa,seconds_ago:ma,minutes_ago:_a,hours_ago:ba,sheets:xa},va="Sheets",$a="Add Sheet",ka="Edit Sheet",wa="Add New Sheet",Sa="Total Sheets",Ca="Total Area",Pa="No Sheets Loaded",La="Add sheets to define your material constraints",Aa="Quick Templates",Na="Configured Sheets",Ea="Sheet",Ma="Dimensions",Ra="Quantity",Ia="Material",Fa="Margin",Da="Edit",Oa="Basic Information",ja="Sheet Name",Ta="Enter sheet name (optional)",za="Width",Ba="Height",Va="Thickness",Ua="Properties",Ha="Area",Wa="Preview",Ka="Cancel",qa="Update Sheet",Ga="Swap Width/Height",Ja="Width must be greater than 0",Za="Height must be greater than 0",Qa="Thickness must be greater than 0",Xa="Quantity must be greater than 0",Ya="Margin cannot be negative",eo={sheets_title:va,add_sheet:$a,edit_sheet:ka,add_new_sheet:wa,total_sheets:Sa,total_area:Ca,no_sheets_loaded:Pa,add_sheets_to_get_started:La,quick_templates:Aa,configured_sheets:Na,sheet:Ea,dimensions:Ma,quantity:Ra,material:Ia,margin:Fa,edit:Da,delete:"Delete",basic_information:Oa,sheet_name:ja,enter_sheet_name:Ta,width:za,height:Ba,thickness:Va,properties:Ua,area:Ha,preview:Wa,cancel:Ka,update_sheet:qa,swap_dimensions:Ga,width_must_be_positive:Ja,height_must_be_positive:Za,thickness_must_be_positive:Qa,quantity_must_be_positive:Xa,margin_cannot_be_negative:Ya},to="Settings",ro="Preset Management",so="Algorithm Settings",no="UI Preferences",io="Advanced Settings",ao="Reset Defaults",oo="Import Configuration",lo="Export Configuration",co="Reset to Defaults",go="Are you sure you want to reset all settings to defaults?",uo="Failed to reset settings",fo="Failed to export configuration",ho="Failed to import configuration",po="Presets allow you to save and restore complete nesting configurations.",mo="Create Preset",_o="Create New Preset",bo="Preset Name",xo="Preset name is required",yo="Enter preset name",vo="Description (optional)",$o="Enter a description for this preset",ko="Cancel",wo="No Presets Available",So="Create a preset to save your current configuration",Co="Export Preset",Po="Delete Preset",Lo="Load Preset",Ao="Active",No="Created",Eo="Updated",Mo="Are you sure you want to delete preset '{{name}}'?",Ro="Failed to create preset",Io="Failed to load preset",Fo="Failed to delete preset",Do="Failed to export preset",Oo="Failed to import preset",jo="Import Preset",To="Nesting Parameters",zo="Space Between Parts",Bo="Minimum distance between parts in millimeters",Vo="Curve Tolerance",Uo="Tolerance for curve approximation. Lower values = more accurate but slower",Ho="Part Rotations",Wo="Number of rotation angles to try for each part",Ko="No Rotation",qo="Free Rotation (any angle)",Go="Genetic Algorithm",Jo="Population Size",Zo="Number of solutions in each generation. Higher = better results but slower",Qo="Mutation Rate",Xo="Probability of random changes. Higher = more exploration but less stability",Yo="Advanced Options",el="Use Holes",tl="Consider holes in parts for nesting (experimental)",rl="Explore Concave",sl="Try placing parts in concave areas of other parts",nl="Merge Common Lines",il="Combine overlapping cut lines to reduce cutting time",al="Use Rough Approximation",ol="Use faster but less accurate calculations for initial placement",ll="Appearance",dl="Language",cl="Select the interface language",gl="Theme",ul="Choose between light, dark, or automatic theme",fl="Auto (follows system)",hl="Light",pl="Dark",ml="Dark Mode",_l="Use dark colors for the interface",bl="Units and Formatting",xl="Display Units",yl="Units for displaying measurements",vl="Millimeters (mm)",$l="Inches (in)",kl="Centimeters (cm)",wl="Show Grid",Sl="Display grid lines in the viewport",Cl="Show Rulers",Pl="Display measurement rulers",Ll="Layout Preferences",Al="Parts Panel Width",Nl="Width of the parts panel in pixels",El="Reset",Ml="Show Tooltips",Rl="Display helpful tooltips on hover",Il="Show Status Bar",Fl="Display the status bar at the bottom",Dl="Performance",Ol="Worker Threads",jl="Number of CPU threads to use (max: {{max}})",Tl="Enable GPU Acceleration",zl="Use graphics card for calculations (experimental)",Bl="Enable Caching",Vl="Cache calculations to improve performance",Ul="Debugging",Hl="Debug Mode",Wl="Enable additional debugging information",Kl="Verbose Logging",ql="Log detailed information to console",Gl="Show Debug Info",Jl="Hide Debug Info",Zl="System Information",Ql="Platform",Xl="CPU Cores",Yl="Viewport",ed="Memory Used",td="Memory Total",rd="Export Debug Info",sd="Maintenance",nd="Clear Cache",id="Clear all cached data and preferences",ad="Are you sure you want to clear all cached data?",od="Cache cleared successfully",ld="Failed to clear cache",dd="Reset Layout",cd="Reset panel sizes and positions to defaults",gd="Auto-save Interval",ud="minutes",fd="How often to automatically save your work (0 = disabled)",hd={settings_title:to,preset_management:ro,algorithm_settings:so,ui_preferences:no,advanced_settings:io,import:"Import",export:"Export",reset_defaults:ao,import_configuration:oo,export_configuration:lo,reset_to_defaults:co,confirm_reset_defaults:go,reset_failed:uo,export_failed:fo,import_failed:ho,preset_description:po,create_preset:mo,create_new_preset:_o,preset_name:bo,preset_name_required:xo,enter_preset_name:yo,preset_description_optional:vo,enter_preset_description:$o,cancel:ko,no_presets_available:wo,create_preset_to_get_started:So,export_preset:Co,delete_preset:Po,load_preset:Lo,active:Ao,created:No,updated:Eo,confirm_delete_preset:Mo,preset_create_failed:Ro,preset_load_failed:Io,preset_delete_failed:Fo,preset_export_failed:Do,preset_import_failed:Oo,import_preset:jo,nesting_parameters:To,space_between_parts:zo,spacing_description:Bo,curve_tolerance:Vo,curve_tolerance_description:Uo,part_rotations:Ho,rotations_description:Wo,no_rotation:Ko,"2_rotations":"2 Rotations (0°, 180°)","4_rotations":"4 Rotations (0°, 90°, 180°, 270°)","8_rotations":"8 Rotations (45° steps)","12_rotations":"12 Rotations (30° steps)",free_rotation:qo,genetic_algorithm:Go,population_size:Jo,population_size_description:Zo,mutation_rate:Qo,mutation_rate_description:Xo,advanced_options:Yo,use_holes:el,use_holes_description:tl,explore_concave:rl,explore_concave_description:sl,merge_common_lines:nl,merge_lines_description:il,use_rough_approximation:al,rough_approximation_description:ol,appearance:ll,language:dl,language_description:cl,theme:gl,theme_description:ul,auto_theme:fl,light_theme:hl,dark_theme:pl,dark_mode:ml,dark_mode_description:_l,units_and_formatting:bl,display_units:xl,units_description:yl,millimeters:vl,inches:$l,centimeters:kl,show_grid:wl,show_grid_description:Sl,show_rulers:Cl,show_rulers_description:Pl,layout_preferences:Ll,parts_panel_width:Al,panel_width_description:Nl,reset:El,show_tooltips:Ml,tooltips_description:Rl,show_status_bar:Il,status_bar_description:Fl,performance:Dl,worker_threads:Ol,worker_threads_description:jl,enable_gpu_acceleration:Tl,gpu_acceleration_description:zl,enable_caching:Bl,caching_description:Vl,debugging:Ul,debug_mode:Hl,debug_mode_description:Wl,verbose_logging:Kl,verbose_logging_description:ql,show_debug_info:Gl,hide_debug_info:Jl,system_information:Zl,platform:Ql,cpu_cores:Xl,viewport:Yl,memory_used:ed,memory_total:td,export_debug_info:rd,maintenance:sd,clear_cache:nd,clear_cache_description:id,confirm_clear_cache:ad,cache_cleared_success:od,cache_clear_failed:ld,reset_layout:dd,reset_layout_description:cd,auto_save_interval:gd,minutes:ud,auto_save_description:fd},pd="File Operations",md="Drag & Drop Files",_d="Import Files",bd="Export Options",xd="Recent Files",yd="Drop files here to import",vd="or click to browse",$d="Supported formats: SVG, DXF, JSON",kd="Select Files",wd="Browse Files",Sd="Importing Files...",Cd="{{count}} files imported successfully",Pd="Importing {{current}} of {{total}} files",Ld="Failed to import files",Ad="File validation error",Nd="Invalid file format: {{format}}",Ed="File too large: {{size}}. Maximum size is {{max}}",Md="Failed to read file: {{filename}}",Rd="Export Format",Id="Export Settings",Fd="Export All",Dd="Export Selected",Od="Export Current",jd="Files exported successfully",Td="Failed to export files",zd="SVG Vector",Bd="DXF CAD",Vd="PDF Document",Ud="JSON Data",Hd="Include Sheet Outline",Wd="Include Part Labels",Kd="Optimize Cut Paths",qd="Merge Common Lines",Gd="Export Scale",Jd="Export Units",Zd="No Recent Files",Qd="Clear Recent",Xd="Open Recent File",Yd="Pin File",ec="Unpin File",tc="Remove from Recent",rc="File not found: {{filename}}",sc="Quickly access your recently used files",nc="Maximum {{count}} recent files",ic="Pinned",ac="Size",oc="Modified",lc="Path",dc="Copy Path",cc="Open File Location",gc="File Information",uc="Processing...",fc="Cancel Import",hc="Retry Import",pc="Skip File",mc="Continue Import",_c="Validation Warning",bc="File contains errors but can be imported",xc="Import Anyway",yc="Fix Errors",vc="Auto Fix",$c="Manual Fix",kc="Error Details",wc="Line {{number}}",Sc="Invalid geometry detected",Cc="Duplicate points found",Pc="Self-intersecting polygon",Lc="Unclosed path detected",Ac="File is empty",Nc="File appears to be corrupted",Ec="Unsupported file version",Mc="Missing required data",Rc={file_operations:pd,drag_drop_files:md,import_files:_d,export_options:bd,recent_files:xd,drop_files_here:yd,or_click_to_browse:vd,supported_formats:$d,select_files:kd,browse_files:wd,importing_files:Sd,files_imported:Cd,import_progress:Pd,import_failed:Ld,file_validation_error:Ad,invalid_file_format:Nd,file_too_large:Ed,file_read_error:Md,export_format:Rd,export_settings:Id,export_all:Fd,export_selected:Dd,export_current:Od,export_success:jd,export_failed:Td,svg_format:zd,dxf_format:Bd,pdf_format:Vd,json_format:Ud,include_sheet:Hd,include_labels:Wd,optimize_paths:Kd,merge_lines:qd,export_scale:Gd,export_units:Jd,no_recent_files:Zd,clear_recent:Qd,open_recent:Xd,pin_file:Yd,unpin_file:ec,remove_from_recent:tc,file_not_found:rc,recent_files_description:sc,max_recent_files:nc,pinned:ic,file_size:ac,last_modified:oc,file_path:lc,copy_path:dc,open_location:cc,file_info:gc,processing:uc,cancel_import:fc,retry_import:hc,skip_file:pc,continue_import:mc,validation_warning:_c,file_contains_errors:bc,import_anyway:xc,fix_errors:yc,auto_fix:vc,manual_fix:$c,error_details:kc,line_number:wc,invalid_geometry:Sc,duplicate_points:Cc,self_intersecting:Pc,unclosed_path:Lc,empty_file:Ac,corrupted_file:Nc,unsupported_version:Ec,missing_required_data:Mc},Ic="Imprint",Fc="Advanced nesting software for CNC, laser cutters, and plotters",Dc="Version",Oc="Build Date",jc="About DeepNest Next",Tc="DeepNest Next is a powerful nesting software designed for CNC machines, laser cutters, and plotters. It optimizes the placement of parts on sheets to minimize material waste and maximize efficiency.",zc="Key features include:",Bc="Advanced genetic algorithm for optimal part placement",Vc="Support for multiple file formats (SVG, DXF, PDF)",Uc="Real-time preview and progress tracking",Hc="Advanced configuration options for fine-tuning",Wc="Multi-language support with internationalization",Kc="Technical Information",qc="Frontend Technologies",Gc="Backend Technologies",Jc="Project Information",Zc="Project Origin",Qc="DeepNest Next is a modern fork of the original SVGnest and Deepnest projects, rebuilt with modern technologies while maintaining the powerful nesting algorithms.",Xc="Open Source",Yc="This project is open source and available under the MIT License. Contributions, bug reports, and feature requests are welcome.",eg="View Source Code",tg="View Releases",rg="Legal Information",sg="Please review our privacy policy and legal notices for important information about data handling and software usage.",ng="Privacy Policy",ig="Legal Notice",ag="Contact & Support",og="For questions, bug reports, or feature requests, please use our GitHub repository.",lg="Report Issue",dg="Discussions",cg="Close",gg="Last Updated",ug="Overview",fg="DeepNest Next is a desktop application that processes your files locally. We are committed to protecting your privacy and ensuring your data remains secure.",hg="Data Collection",pg="DeepNest Next collects minimal data necessary for functionality:",mg="Application settings and preferences",_g="User interface preferences (theme, language)",bg="Project files and nesting results (stored locally)",xg="No personal information or tracking data",yg="Data Storage",vg="All data is stored locally on your device:",$g="Settings stored in application data directory",kg="No data transmitted to external servers",wg="Full user control over data deletion",Sg="Third-Party Services",Cg="DeepNest Next may use external services:",Pg="File conversion service (optional, user-controlled)",Lg="All external services are optional and user-initiated",Ag="No tracking or analytics services",Ng="User Rights",Eg="As a user of DeepNest Next, you have the right to:",Mg="Access all your stored data",Rg="Delete your settings and data at any time",Ig="Modify or update your preferences",Fg="Export your projects and settings",Dg="Policy Updates",Og="This privacy policy may be updated occasionally. Changes will be communicated through application updates and GitHub releases.",jg="Contact Information",Tg="For privacy-related questions or concerns, please contact us through our GitHub repository:",zg="GitHub Issues",Bg="Last Updated",Vg="Software Information",Ug="Software Name",Hg="Version",Wg="Software Type",Kg="Desktop Application for Nesting Optimization",qg="Project Website",Gg="License",Jg="DeepNest Next is licensed under the MIT License, which allows for free use, modification, and distribution.",Zg="License Type",Qg="License Text",Xg="Disclaimer",Yg="DeepNest Next is provided 'as is' without warranty of any kind. Users are responsible for verifying the accuracy of nesting results before production use.",e0="Important",t0="Always verify nesting results before cutting materials. The software is a tool to assist in optimization but should not be relied upon without human verification.",r0="Third-Party Software",s0="DeepNest Next incorporates several third-party libraries and components:",n0="Attribution",i0="DeepNest Next is based on previous work and incorporates algorithms from:",a0="Original SVGnest",o0="Previous Deepnest",l0="Contact",d0="For legal questions or licensing inquiries, please contact us through our GitHub repository:",c0="GitHub Issues",Ur={imprint_title:Ic,tagline:Fc,version:Dc,build_date:Oc,about_title:jc,about_description:Tc,about_features:zc,feature_genetic_algorithm:Bc,feature_multiple_formats:Vc,feature_real_time_preview:Uc,feature_advanced_settings:Hc,feature_multi_language:Wc,technical_info_title:Kc,frontend_technologies:qc,backend_technologies:Gc,project_info_title:Jc,project_origin:Zc,project_origin_description:Qc,open_source:Xc,open_source_description:Yc,view_source:eg,releases:tg,legal_title:rg,legal_description:sg,privacy_policy:ng,legal_notice:ig,contact_title:ag,contact_description:og,report_issue:lg,discussions:dg,close:cg,privacy_last_updated:gg,privacy_section_overview:ug,privacy_overview_text:fg,privacy_section_data_collection:hg,privacy_data_collection_text:pg,privacy_data_settings:mg,privacy_data_preferences:_g,privacy_data_projects:bg,privacy_data_no_personal:xg,privacy_section_data_storage:yg,privacy_data_storage_text:vg,privacy_storage_local:$g,privacy_storage_no_transmission:kg,privacy_storage_user_control:wg,privacy_section_third_party:Sg,privacy_third_party_text:Cg,privacy_third_party_converter:Pg,privacy_third_party_optional:Lg,privacy_third_party_no_tracking:Ag,privacy_section_user_rights:Ng,privacy_user_rights_text:Eg,privacy_rights_access:Mg,privacy_rights_delete:Rg,privacy_rights_modify:Ig,privacy_rights_export:Fg,privacy_section_updates:Dg,privacy_updates_text:Og,privacy_section_contact:jg,privacy_contact_text:Tg,privacy_contact_github:zg,legal_last_updated:Bg,legal_section_software_info:Vg,legal_software_name:Ug,legal_software_version:Hg,legal_software_type:Wg,legal_software_type_description:Kg,legal_project_website:qg,legal_section_license:Gg,legal_license_text:Jg,legal_license_type:Zg,legal_license_link:Qg,legal_section_disclaimer:Xg,legal_disclaimer_text:Yg,legal_disclaimer_warning:e0,legal_disclaimer_warning_text:t0,legal_section_third_party:r0,legal_third_party_text:s0,legal_section_attribution:n0,legal_attribution_text:i0,legal_attribution_original:a0,legal_attribution_previous:o0,legal_section_contact:l0,legal_contact_text:d0,legal_contact_github:c0},g0={page_title:"deepnest next - Nesting mit Industrie-Standard",parts:"Teile",nests:"Nester",sheets:"Blätter",settings:"Einstellungen"},u0={stop_nest:"Nester stoppen",export:"Exportieren",export_svg:"SVG-Datei",export_dxf:"DXF-Datei",export_json:"JSON-Datei",back:"Zurück",import:"Importieren",start_nest:"Nester starten",deselect:"Abwählen",select:"Auswählen",all:"Alle",add:"Hinzufügen",cancel:"Abbrechen",save_preset:"Voreinstellung speichern",load:"Laden",delete:"Löschen",save:"Speichern",reset_defaults:"Alle auf Standard zurücksetzen"},f0={size:"Größe",sheet:"Blatt",quantity:"Menge",add_sheet:"Blatt hinzufügen",width:"Breite",height:"Höhe",nesting_config:"Nesting-Konfiguration",display_units:"Anzeigeeinheiten",inches:"Zoll",mm:"mm",space_between_parts:"Abstand zwischen Teilen",curve_tolerance:"Kurventoleranz",part_rotations:"Teileinstellungen",optimization_type:"Optimierungstyp",gravity:"Schwerkraft",bounding_box:"Umrandungsbox",squeeze:"Quetschen",use_rough_approximation:"Grobe Annäherung verwenden",cpu_cores:"CPU-Kerne",import_export:"Import/Export",use_svg_normalizer:"SVG-Normalisierer verwenden?",svg_scale:"SVG-Skalierung",units_per:"Einheiten/",endpoint_tolerance:"Endpunkt-Toleranz",dxf_import_units:"DXF-Importeinheiten",points:"Punkte",picas:"Picas",inches_cap:"Zoll",cm:"cm",dxf_export_units:"DXF-Exporteinheiten",export_with_sheet_boundaries:"Export mit Blattgrenzen?",export_with_sheets_space:"Export mit Abstand zwischen Blättern?",distance_between_sheets:"Abstand zwischen Blättern?",laser_options:"Laseroptionen",merge_common_lines:"Gemeinsame Linien zusammenführen",optimization_ratio:"Optimierungsverhältnis",meta_heuristic_tuning:"Meta-heuristische Feinabstimmung",ga_population:"GA-Population",ga_mutation_rate:"GA-Mutationsrate",other_settings:"Weitere Einstellungen",use_quantity_from_filename:"Menge aus Dateinamen verwenden",presets:"Voreinstellungen",save_config_presets:"Voreinstellungen speichern",load_delete_presets:"Voreinstellungen laden/löschen",select_preset_default:"-- Voreinstellung auswählen --",save_preset_title:"Voreinstellung speichern",enter_preset_name:"Voreinstellungsnamen eingeben"},h0={nesting_in_progress:"Nesting wird durchgeführt...",error_occurred:"Fehler aufgetreten",processing:"Wird verarbeitet...",ready:"Bereit",threads_active:"{{count}} aktive Threads",parts_loaded:"{{count}} Teile geladen",nests_available:"{{count}} Nester verfügbar"},Hr={navigation:g0,actions:u0,labels:f0,status:h0},p0="Please enter a preset name",m0="Preset saved successfully!",_0="Error saving preset",b0="Please select a preset to load",x0="Preset loaded successfully!",y0="Selected preset not found",v0="Error loading preset",$0="Please select a preset to delete",k0='Are you sure you want to delete the preset "{{presetName}}"?',w0="Preset deleted successfully!",S0="Error deleting preset",C0="Please import some parts first",P0="Please mark at least one part as the sheet",L0="No file selected",A0="An error occurred reading the file",N0="Error processing SVG",E0="could not contact file conversion server",M0="There was an Error while converting",R0={enter_preset_name:p0,preset_saved:m0,error_saving_preset:_0,select_preset_to_load:b0,preset_loaded:x0,preset_not_found:y0,error_loading_preset:v0,select_preset_to_delete:$0,confirm_delete_preset:k0,preset_deleted:w0,error_deleting_preset:S0,import_parts_first:C0,mark_part_as_sheet:P0,no_file_selected:L0,file_read_error:A0,svg_processing_error:N0,conversion_server_error:E0,conversion_error:M0},I0="Parts",F0="Import Parts",D0="Export Parts",O0="Export Selected",j0="Delete Selected",T0="No parts selected",z0="Failed to import parts",B0="Failed to export parts",V0="Total Parts",U0="Total Quantity",H0="Select All",W0="Deselect All",K0="No Parts Loaded",q0="Import SVG or DXF files to get started",G0="Search parts...",J0="Sort by",Z0="Name",Q0="Quantity",X0="Size",Y0="Rotation",eu="Dimensions",tu="Area",ru="Preview Error",su={parts_title:I0,import:"Import",export:"Export",delete:"Delete",import_parts:F0,export_parts:D0,export_selected:O0,delete_selected:j0,no_parts_selected:T0,import_failed:z0,export_failed:B0,total_parts:V0,total_quantity:U0,select_all:H0,deselect_all:W0,no_parts_loaded:K0,import_parts_to_get_started:q0,search_parts:G0,sort_by:J0,name:Z0,quantity:Q0,size:X0,rotation:Y0,dimensions:eu,area:tu,preview_error:ru},nu="Nesting",iu="Start Nesting",au="Stop Nesting",ou="Clear Results",lu="Cannot start nesting: need parts and sheets",du="Failed to start nesting",cu="Failed to stop nesting",gu="Parts to Nest",uu="Available Sheets",fu="Results Count",hu="No Nesting Results",pu="Start nesting to see results here",mu="Add parts and sheets first to enable nesting",_u="Nesting in Progress",bu="Est. time remaining",xu="Current Operation",yu="Threads Active",vu="Worker Status",$u="Running",ku="Stopped",wu="Generation",Su="Best Fitness",Cu="Refresh Status",Pu="Nesting Results",Lu="Sorted by efficiency",Au="Result",Nu="Best",Eu="Efficiency",Mu="Fitness",Ru="Sheets Used",Iu="Parts Placed",Fu="View Details",Du="Back to Results",Ou="Result Details",ju="Export Result",Tu="Export failed",zu="Click to view",Bu="Zoom Out",Vu="Zoom In",Uu="Reset View",Hu="Sheet",Wu="Statistics",Ku="Material Efficiency",qu="Fitness Score",Gu="Material Waste",Ju="Total Parts Placed",Zu="Total Material Used",Qu="Generation Time",Xu="Generation Number",Yu={nesting_title:nu,start_nesting:iu,stop_nesting:au,clear_results:ou,cannot_start_nesting:lu,start_nesting_failed:du,stop_nesting_failed:cu,parts_to_nest:gu,available_sheets:uu,results_count:fu,no_nesting_results:hu,start_nesting_to_see_results:pu,add_parts_and_sheets_first:mu,nesting_in_progress:_u,estimated_time_remaining:bu,current_operation:xu,threads_active:yu,worker_status:vu,running:$u,stopped:ku,current_generation:wu,best_fitness:Su,refresh_status:Cu,nesting_results:Pu,sorted_by_efficiency:Lu,result:Au,best:Nu,efficiency:Eu,fitness:Mu,sheets_used:Ru,parts_placed:Iu,view_details:Fu,export:"Export",delete:"Delete",back_to_results:Du,result_details:Ou,export_result:ju,export_failed:Tu,click_to_view:zu,zoom_out:Bu,zoom_in:Vu,reset_view:Uu,sheet:Hu,statistics:Wu,material_efficiency:Ku,fitness_score:qu,material_waste:Gu,total_parts_placed:Ju,total_material_used:Zu,generation_time:Qu,generation_number:Xu},ef="Sheets",tf="Add Sheet",rf="Edit Sheet",sf="Add New Sheet",nf="Total Sheets",af="Total Area",of="No Sheets Loaded",lf="Add sheets to define your material constraints",df="Quick Templates",cf="Configured Sheets",gf="Sheet",uf="Dimensions",ff="Quantity",hf="Material",pf="Margin",mf="Edit",_f="Basic Information",bf="Sheet Name",xf="Enter sheet name (optional)",yf="Width",vf="Height",$f="Thickness",kf="Properties",wf="Area",Sf="Preview",Cf="Cancel",Pf="Update Sheet",Lf="Swap Width/Height",Af="Width must be greater than 0",Nf="Height must be greater than 0",Ef="Thickness must be greater than 0",Mf="Quantity must be greater than 0",Rf="Margin cannot be negative",If={sheets_title:ef,add_sheet:tf,edit_sheet:rf,add_new_sheet:sf,total_sheets:nf,total_area:af,no_sheets_loaded:of,add_sheets_to_get_started:lf,quick_templates:df,configured_sheets:cf,sheet:gf,dimensions:uf,quantity:ff,material:hf,margin:pf,edit:mf,delete:"Delete",basic_information:_f,sheet_name:bf,enter_sheet_name:xf,width:yf,height:vf,thickness:$f,properties:kf,area:wf,preview:Sf,cancel:Cf,update_sheet:Pf,swap_dimensions:Lf,width_must_be_positive:Af,height_must_be_positive:Nf,thickness_must_be_positive:Ef,quantity_must_be_positive:Mf,margin_cannot_be_negative:Rf},Ff="Settings DE",Df="Preset Management",Of="Algorithm Settings",jf="UI Preferences",Tf="Advanced Settings",zf="Reset Defaults",Bf="Import Configuration",Vf="Export Configuration",Uf="Reset to Defaults",Hf="Are you sure you want to reset all settings to defaults?",Wf="Failed to reset settings",Kf="Failed to export configuration",qf="Failed to import configuration",Gf="Presets allow you to save and restore complete nesting configurations.",Jf="Create Preset",Zf="Create New Preset",Qf="Preset Name",Xf="Preset name is required",Yf="Enter preset name",eh="Description (optional)",th="Enter a description for this preset",rh="Cancel",sh="No Presets Available",nh="Create a preset to save your current configuration",ih="Export Preset",ah="Delete Preset",oh="Load Preset",lh="Active",dh="Created",ch="Updated",gh="Are you sure you want to delete preset '{{name}}'?",uh="Failed to create preset",fh="Failed to load preset",hh="Failed to delete preset",ph="Failed to export preset",mh="Failed to import preset",_h="Import Preset",bh="Nesting Parameters",xh="Space Between Parts",yh="Minimum distance between parts in millimeters",vh="Curve Tolerance",$h="Tolerance for curve approximation. Lower values = more accurate but slower",kh="Part Rotations",wh="Number of rotation angles to try for each part",Sh="No Rotation",Ch="Free Rotation (any angle)",Ph="Genetic Algorithm",Lh="Population Size",Ah="Number of solutions in each generation. Higher = better results but slower",Nh="Mutation Rate",Eh="Probability of random changes. Higher = more exploration but less stability",Mh="Advanced Options",Rh="Use Holes",Ih="Consider holes in parts for nesting (experimental)",Fh="Explore Concave",Dh="Try placing parts in concave areas of other parts",Oh="Merge Common Lines",jh="Combine overlapping cut lines to reduce cutting time",Th="Use Rough Approximation",zh="Use faster but less accurate calculations for initial placement",Bh="Appearance",Vh="Language",Uh="Select the interface language",Hh="Theme",Wh="Choose between light, dark, or automatic theme",Kh="Auto (follows system)",qh="Light",Gh="Dark",Jh="Dark Mode",Zh="Use dark colors for the interface",Qh="Units and Formatting",Xh="Display Units",Yh="Units for displaying measurements",ep="Millimeters (mm)",tp="Inches (in)",rp="Centimeters (cm)",sp="Show Grid",np="Display grid lines in the viewport",ip="Show Rulers",ap="Display measurement rulers",op="Layout Preferences",lp="Parts Panel Width",dp="Width of the parts panel in pixels",cp="Reset",gp="Show Tooltips",up="Display helpful tooltips on hover",fp="Show Status Bar",hp="Display the status bar at the bottom",pp="Performance",mp="Worker Threads",_p="Number of CPU threads to use (max: {{max}})",bp="Enable GPU Acceleration",xp="Use graphics card for calculations (experimental)",yp="Enable Caching",vp="Cache calculations to improve performance",$p="Debugging",kp="Debug Mode",wp="Enable additional debugging information",Sp="Verbose Logging",Cp="Log detailed information to console",Pp="Show Debug Info",Lp="Hide Debug Info",Ap="System Information",Np="Platform",Ep="CPU Cores",Mp="Viewport",Rp="Memory Used",Ip="Memory Total",Fp="Export Debug Info",Dp="Maintenance",Op="Clear Cache",jp="Clear all cached data and preferences",Tp="Are you sure you want to clear all cached data?",zp="Cache cleared successfully",Bp="Failed to clear cache",Vp="Reset Layout",Up="Reset panel sizes and positions to defaults",Hp="Auto-save Interval",Wp="minutes",Kp="How often to automatically save your work (0 = disabled)",qp={settings_title:Ff,preset_management:Df,algorithm_settings:Of,ui_preferences:jf,advanced_settings:Tf,import:"Import",export:"Export",reset_defaults:zf,import_configuration:Bf,export_configuration:Vf,reset_to_defaults:Uf,confirm_reset_defaults:Hf,reset_failed:Wf,export_failed:Kf,import_failed:qf,preset_description:Gf,create_preset:Jf,create_new_preset:Zf,preset_name:Qf,preset_name_required:Xf,enter_preset_name:Yf,preset_description_optional:eh,enter_preset_description:th,cancel:rh,no_presets_available:sh,create_preset_to_get_started:nh,export_preset:ih,delete_preset:ah,load_preset:oh,active:lh,created:dh,updated:ch,confirm_delete_preset:gh,preset_create_failed:uh,preset_load_failed:fh,preset_delete_failed:hh,preset_export_failed:ph,preset_import_failed:mh,import_preset:_h,nesting_parameters:bh,space_between_parts:xh,spacing_description:yh,curve_tolerance:vh,curve_tolerance_description:$h,part_rotations:kh,rotations_description:wh,no_rotation:Sh,"2_rotations":"2 Rotations (0°, 180°)","4_rotations":"4 Rotations (0°, 90°, 180°, 270°)","8_rotations":"8 Rotations (45° steps)","12_rotations":"12 Rotations (30° steps)",free_rotation:Ch,genetic_algorithm:Ph,population_size:Lh,population_size_description:Ah,mutation_rate:Nh,mutation_rate_description:Eh,advanced_options:Mh,use_holes:Rh,use_holes_description:Ih,explore_concave:Fh,explore_concave_description:Dh,merge_common_lines:Oh,merge_lines_description:jh,use_rough_approximation:Th,rough_approximation_description:zh,appearance:Bh,language:Vh,language_description:Uh,theme:Hh,theme_description:Wh,auto_theme:Kh,light_theme:qh,dark_theme:Gh,dark_mode:Jh,dark_mode_description:Zh,units_and_formatting:Qh,display_units:Xh,units_description:Yh,millimeters:ep,inches:tp,centimeters:rp,show_grid:sp,show_grid_description:np,show_rulers:ip,show_rulers_description:ap,layout_preferences:op,parts_panel_width:lp,panel_width_description:dp,reset:cp,show_tooltips:gp,tooltips_description:up,show_status_bar:fp,status_bar_description:hp,performance:pp,worker_threads:mp,worker_threads_description:_p,enable_gpu_acceleration:bp,gpu_acceleration_description:xp,enable_caching:yp,caching_description:vp,debugging:$p,debug_mode:kp,debug_mode_description:wp,verbose_logging:Sp,verbose_logging_description:Cp,show_debug_info:Pp,hide_debug_info:Lp,system_information:Ap,platform:Np,cpu_cores:Ep,viewport:Mp,memory_used:Rp,memory_total:Ip,export_debug_info:Fp,maintenance:Dp,clear_cache:Op,clear_cache_description:jp,confirm_clear_cache:Tp,cache_cleared_success:zp,cache_clear_failed:Bp,reset_layout:Vp,reset_layout_description:Up,auto_save_interval:Hp,minutes:Wp,auto_save_description:Kp},Gp="File Operations",Jp="Drag & Drop Files",Zp="Import Files",Qp="Export Options",Xp="Recent Files",Yp="Drop files here to import",em="or click to browse",tm="Supported formats: SVG, DXF, JSON",rm="Select Files",sm="Browse Files",nm="Importing Files...",im="{{count}} files imported successfully",am="Importing {{current}} of {{total}} files",om="Failed to import files",lm="File validation error",dm="Invalid file format: {{format}}",cm="File too large: {{size}}. Maximum size is {{max}}",gm="Failed to read file: {{filename}}",um="Export Format",fm="Export Settings",hm="Export All",pm="Export Selected",mm="Export Current",_m="Files exported successfully",bm="Failed to export files",xm="SVG Vector",ym="DXF CAD",vm="PDF Document",$m="JSON Data",km="Include Sheet Outline",wm="Include Part Labels",Sm="Optimize Cut Paths",Cm="Merge Common Lines",Pm="Export Scale",Lm="Export Units",Am="No Recent Files",Nm="Clear Recent",Em="Open Recent File",Mm="Pin File",Rm="Unpin File",Im="Remove from Recent",Fm="File not found: {{filename}}",Dm="Quickly access your recently used files",Om="Maximum {{count}} recent files",jm="Pinned",Tm="Size",zm="Modified",Bm="Path",Vm="Copy Path",Um="Open File Location",Hm="File Information",Wm="Processing...",Km="Cancel Import",qm="Retry Import",Gm="Skip File",Jm="Continue Import",Zm="Validation Warning",Qm="File contains errors but can be imported",Xm="Import Anyway",Ym="Fix Errors",e_="Auto Fix",t_="Manual Fix",r_="Error Details",s_="Line {{number}}",n_="Invalid geometry detected",i_="Duplicate points found",a_="Self-intersecting polygon",o_="Unclosed path detected",l_="File is empty",d_="File appears to be corrupted",c_="Unsupported file version",g_="Missing required data",u_={file_operations:Gp,drag_drop_files:Jp,import_files:Zp,export_options:Qp,recent_files:Xp,drop_files_here:Yp,or_click_to_browse:em,supported_formats:tm,select_files:rm,browse_files:sm,importing_files:nm,files_imported:im,import_progress:am,import_failed:om,file_validation_error:lm,invalid_file_format:dm,file_too_large:cm,file_read_error:gm,export_format:um,export_settings:fm,export_all:hm,export_selected:pm,export_current:mm,export_success:_m,export_failed:bm,svg_format:xm,dxf_format:ym,pdf_format:vm,json_format:$m,include_sheet:km,include_labels:wm,optimize_paths:Sm,merge_lines:Cm,export_scale:Pm,export_units:Lm,no_recent_files:Am,clear_recent:Nm,open_recent:Em,pin_file:Mm,unpin_file:Rm,remove_from_recent:Im,file_not_found:Fm,recent_files_description:Dm,max_recent_files:Om,pinned:jm,file_size:Tm,last_modified:zm,file_path:Bm,copy_path:Vm,open_location:Um,file_info:Hm,processing:Wm,cancel_import:Km,retry_import:qm,skip_file:Gm,continue_import:Jm,validation_warning:Zm,file_contains_errors:Qm,import_anyway:Xm,fix_errors:Ym,auto_fix:e_,manual_fix:t_,error_details:r_,line_number:s_,invalid_geometry:n_,duplicate_points:i_,self_intersecting:a_,unclosed_path:o_,empty_file:l_,corrupted_file:d_,unsupported_version:c_,missing_required_data:g_},f_={fallbackLng:"en",debug:!0,ns:["translation","common","parts","settings","nesting","sheets","files","messages","imprint"],defaultNS:"translation",languages:["en","de"],interpolation:{escapeValue:!1},resources:{en:{translation:Vr,common:Vr,messages:Fn,parts:ii,nesting:ya,sheets:eo,settings:hd,files:Rc,imprint:Ur},de:{translation:Hr,common:Hr,messages:R0,parts:su,nesting:Yu,sheets:If,settings:qp,files:u_,imprint:Ur}}},it=je.createInstance();let _r=!1;const gs="deepnest-language",h_=()=>{try{return localStorage.getItem(gs)}catch(t){return console.warn("Failed to read language from localStorage:",t),null}},br=t=>{try{localStorage.setItem(gs,t),console.log("✅ Stored language preference:",t)}catch(e){console.warn("Failed to store language in localStorage:",e)}},[Lt,Yt]=Y("en"),[er,p_]=Y(!1),or=async t=>{_r?(await it.changeLanguage(t),Yt(t),br(t),console.log("✅ i18next language changed to:",t)):(await it.init({...f_,lng:t}).then(()=>{Yt(t),p_(!0),br(t)}),_r=!0,console.log("✅ i18next initialized with language:",t))},us=xs({t:it.t.bind(it),language:Lt.bind(Lt),changeLanguage:Yt.bind(Yt),isReady:er.bind(er)}),m_=t=>{console.log("🏗️ I18nProvider: Initializing"),xr(async()=>{const s=h_(),n=v.ui.language,a=s||n||"en";console.log("🚀 I18nProvider: Language preference check:",{stored:s,global:n,selected:a}),s&&s!==n&&(console.log(`🔄 Restoring language from localStorage: ${s}`),O.setLanguage(s)),await or(a)}),mt(async()=>{const s=v.ui.language,n=Lt();console.log(`👀 I18nProvider: globalState.ui.language changed to: ${s}, current: ${n}`),s&&s!==n&&_r&&(console.log(`🔄 I18nProvider: Changing language from ${n} to ${s}`),await or(s))});const r={t:(s,n)=>{const a=er(),l=Lt();if(console.log(`🔍 Translation called: key="${s}", ready=${a}, lang=${l}, typeof key=${typeof s}`),!a)return console.log(`⏳ Translation not ready, returning key: ${s}`),s;if(!s||typeof s!="string")return console.warn("🚨 Invalid translation key:",s),s||"";const o=n?.ns||"translation",d={...n,ns:o};console.log("🔍 About to call i18nInstance.t with:",{key:s,namespace:o,lang:it.language,hasResources:!!it.getDataByLanguage(l)?.[o],resources:it.getDataByLanguage(l)});const g=it.t(s,d);return console.log(`🔍 i18nInstance.t result: "${g}" for key "${s}"`),g||s},language:Lt,changeLanguage:async s=>{console.log(`🎯 Changing language to: ${s}`),O.setLanguage(s),br(s),await or(s)},isReady:er};return us.Provider({value:r,children:t.children})},we=(t="translation")=>{const e=ys(us);return e?[(s,n)=>oe(()=>{e.language();const l={...n,ns:t};return e.t(s,l)})(),{changeLanguage:e.changeLanguage,language:e.language,isReady:e.isReady}]:(console.warn("useTranslation must be used within I18nProvider"),[s=>s,{changeLanguage:async()=>{},language:()=>"en"}])};var __=C('<header class="h-16 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between px-6 shadow-sm"><div class="flex items-center"><div class="flex items-center gap-3"><div class="w-8 h-8 bg-blue-600 dark:bg-blue-500 rounded-lg flex items-center justify-center"><span class="text-white font-bold text-sm">DN</span></div><h1 class="text-xl font-semibold text-gray-900 dark:text-gray-100"></h1></div></div><div class="flex items-center gap-4"><div class=relative><select class="bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 px-3 py-2 pr-8 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none cursor-pointer"><option value=en>🇺🇸 EN</option><option value=de>🇩🇪 DE</option></select><div class="absolute right-2 top-1/2 transform -translate-y-1/2 pointer-events-none"><svg class="w-4 h-4 text-gray-500 dark:text-gray-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 9l-7 7-7-7"></path></svg></div></div><button class="flex items-center justify-center w-10 h-10 bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800">'),b_=C('<svg class="w-5 h-5"fill=currentColor viewBox="0 0 20 20"><path fill-rule=evenodd d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"clip-rule=evenodd>'),x_=C('<svg class="w-5 h-5"fill=currentColor viewBox="0 0 20 20"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z">');const y_=()=>{const[t,{changeLanguage:e}]=we("common"),r=()=>{const n=v.ui.darkMode?"light":"dark";O.setThemePreference(n)},s=async n=>{console.log(`Header: handleLanguageChange called with ${n}`),console.log("Header: current globalState.ui.language:",v.ui.language),O.setLanguage(n),console.log("Header: after globalActions.setLanguage, globalState.ui.language:",v.ui.language),await e(n),console.log("Header: after changeLanguage call completed")};return(()=>{var n=__(),a=n.firstChild,l=a.firstChild,o=l.firstChild,d=o.nextSibling,g=a.nextSibling,u=g.firstChild,c=u.firstChild,b=u.nextSibling;return i(d,()=>t("navigation.page_title")),c.addEventListener("change",f=>s(f.currentTarget.value)),b.$$click=r,i(b,(()=>{var f=Ee(()=>!!v.ui.darkMode);return()=>f()?b_():x_()})()),F(()=>ee(b,"title",v.ui.darkMode?"Switch to light mode":"Switch to dark mode")),F(()=>c.value=v.ui.language),n})()};Me(["click"]);const v_={version:"2.0.0",buildDate:new Date().toISOString().split("T")[0],name:"DeepNest Next",description:"Advanced nesting software for CNC, laser cutters, and plotters"},fs=()=>v_;var $_=C('<nav class="h-full bg-gray-50 dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex flex-col w-full"><div class="flex flex-col py-4"><div class="px-4 mb-4"><h2 class="text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider">Navigation</h2></div></div><div class=mt-auto><div class=p-2><button><span>ℹ️</span><span class=font-medium></span></button></div><div class="p-4 border-t border-gray-200 dark:border-gray-700"><div class="text-xs text-gray-500 dark:text-gray-400 text-center"><div></div><div class="mt-1 opacity-75">v'),k_=C("<button><span></span><span class=font-medium>"),Wr=C('<div class="ml-auto w-1 h-6 bg-blue-600 dark:bg-blue-400 rounded-full">');const w_=()=>{const[t]=we("common"),e=fs(),r=[{id:"parts",labelKey:"navigation.parts",icon:"📦"},{id:"nests",labelKey:"navigation.nests",icon:"🔧"},{id:"sheets",labelKey:"navigation.sheets",icon:"📄"},{id:"settings",labelKey:"navigation.settings",icon:"⚙️"}],s=n=>{O.setActiveTab(n)};return(()=>{var n=$_(),a=n.firstChild;a.firstChild;var l=a.nextSibling,o=l.firstChild,d=o.firstChild,g=d.firstChild,u=g.nextSibling,c=o.nextSibling,b=c.firstChild,f=b.firstChild,_=f.nextSibling;return _.firstChild,i(a,P(Oe,{each:r,children:p=>(()=>{var x=k_(),$=x.firstChild,L=$.nextSibling;return x.$$click=()=>s(p.id),i($,()=>p.icon),i(L,()=>t(p.labelKey)),i(x,(()=>{var A=Ee(()=>v.ui.activeTab===p.id);return()=>A()&&Wr()})(),null),F(A=>{var D=`mx-2 mb-1 flex items-center px-4 py-3 text-left transition-all duration-200 rounded-lg group ${v.ui.activeTab===p.id?"bg-blue-100 dark:bg-blue-900 text-blue-900 dark:text-blue-100 shadow-sm border border-blue-200 dark:border-blue-700":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-gray-100"}`,I=t(p.labelKey),V=`text-xl mr-4 transition-transform duration-200 ${v.ui.activeTab===p.id?"scale-110":"group-hover:scale-105"}`;return D!==A.e&&ke(x,A.e=D),I!==A.t&&ee(x,"title",A.t=I),V!==A.a&&ke($,A.a=V),A},{e:void 0,t:void 0,a:void 0}),x})()}),null),d.$$click=()=>s("imprint"),i(u,()=>t("navigation.imprint")),i(d,(()=>{var p=Ee(()=>v.ui.activeTab==="imprint");return()=>p()&&Wr()})(),null),i(f,()=>e.name),i(_,()=>e.version,null),F(p=>{var x=`w-full flex items-center px-4 py-3 text-left transition-all duration-200 rounded-lg group ${v.ui.activeTab==="imprint"?"bg-blue-100 dark:bg-blue-900 text-blue-900 dark:text-blue-100 shadow-sm border border-blue-200 dark:border-blue-700":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-gray-100"}`,$=t("navigation.imprint"),L=`text-xl mr-4 transition-transform duration-200 ${v.ui.activeTab==="imprint"?"scale-110":"group-hover:scale-105"}`;return x!==p.e&&ke(d,p.e=x),$!==p.t&&ee(d,"title",p.t=$),L!==p.a&&ke(g,p.a=L),p},{e:void 0,t:void 0,a:void 0}),n})()};Me(["click"]);const S_={enableMultiSelect:!0,enableKeyboardShortcuts:!0,enableRangeSelect:!0,selectAllKey:"KeyA",deselectAllKey:"Escape"},C_=(t,e={})=>{const r={...S_,...e},[s,n]=Y(new Set),[a,l]=Y(null),[o,d]=Y("single"),g=oe(()=>{const h=s();return t().filter(w=>h.has(w.id))}),u=oe(()=>s().size),c=oe(()=>{const h=t(),w=s();return h.length>0&&h.every(k=>w.has(k.id))}),b=oe(()=>s().size===0),f=oe(()=>{const h=u();return h>0&&h<t().length}),_=h=>{n(w=>new Set([...w,h])),l(h)},p=h=>{n(w=>{const k=new Set(w);return k.delete(h),k}),a()===h&&l(null)},x=h=>{s().has(h)?p(h):_(h)},$=()=>{const h=t().map(w=>w.id);n(new Set(h)),l(h[h.length-1]||null)},L=()=>{n(new Set),l(null)},A=(h,w)=>{const k=t(),m=k.findIndex(H=>H.id===h),S=k.findIndex(H=>H.id===w);if(m===-1||S===-1)return;const E=Math.min(m,S),N=Math.max(m,S),j=k.slice(E,N+1).map(H=>H.id);n(H=>new Set([...H,...j])),l(w)},D=()=>{const h=t(),w=s(),k=new Set(h.filter(m=>!w.has(m.id)).map(m=>m.id));n(k),l(null)},I=(h,w)=>{if(!r.enableMultiSelect){s().has(h)?L():(n(new Set([h])),l(h));return}if(w.ctrlKey||w.metaKey)d("multi"),x(h);else if(w.shiftKey&&r.enableRangeSelect){d("range");const k=a();k?A(k,h):_(h)}else d("single"),n(new Set([h])),l(h)},V=h=>{if(!r.enableKeyboardShortcuts)return;const w=h.ctrlKey||h.metaKey,k=h.shiftKey;w&&h.code===r.selectAllKey?(h.preventDefault(),$()):h.code===r.deselectAllKey?(h.preventDefault(),L()):w&&h.code==="KeyI"?(h.preventDefault(),D()):(h.code==="ArrowUp"||h.code==="ArrowDown")&&(h.preventDefault(),T(h.code==="ArrowUp"?-1:1,k))},T=(h,w=!1)=>{const k=t();if(k.length===0)return;const m=a();let S=m?k.findIndex(j=>j.id===m):-1;if(S===-1){const j=k[0];j&&_(j.id);return}const E=Math.max(0,Math.min(k.length-1,S+h));if(E===S)return;const N=k[E];N&&(w&&r.enableRangeSelect?A(m,N.id):(n(new Set([N.id])),l(N.id)))},R=h=>s().has(h),y=()=>({selectedIds:Array.from(s()),selectedItems:g(),selectedCount:u(),isAllSelected:c(),isNoneSelected:b(),isPartiallySelected:f(),lastSelectedId:a(),selectionMode:o()});return r.enableKeyboardShortcuts&&(document.addEventListener("keydown",V),It(()=>{document.removeEventListener("keydown",V)})),{selectedIds:s,selectedItems:g,selectedCount:u,isAllSelected:c,isNoneSelected:b,isPartiallySelected:f,lastSelectedId:a,selectionMode:o,selectItem:_,deselectItem:p,toggleItem:x,selectAll:$,deselectAll:L,selectRange:A,invertSelection:D,navigateSelection:T,handleItemClick:I,isSelected:R,getSelectionInfo:y}};var P_=C('<span class="text-xs text-gray-500 dark:text-gray-400">(<!>%)'),L_=C('<button class="p-1 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M6 18L18 6M6 6l12 12">'),A_=C('<button class="inline-flex items-center px-3 py-1 text-sm font-medium text-blue-700 dark:text-blue-300 bg-blue-100 dark:bg-blue-900 hover:bg-blue-200 dark:hover:bg-blue-800 rounded-md transition-colors"><svg class="w-4 h-4 mr-1"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z">'),N_=C('<button class="inline-flex items-center px-3 py-1 text-sm font-medium text-green-700 dark:text-green-300 bg-green-100 dark:bg-green-900 hover:bg-green-200 dark:hover:bg-green-800 rounded-md transition-colors"><svg class="w-4 h-4 mr-1"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z">'),E_=C('<div class="flex items-center gap-1">'),M_=C('<button class="inline-flex items-center px-3 py-1 text-sm font-medium text-red-700 dark:text-red-300 bg-red-100 dark:bg-red-900 hover:bg-red-200 dark:hover:bg-red-800 rounded-md transition-colors"><svg class="w-4 h-4 mr-1"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16">'),R_=C('<div class="flex items-center gap-2">'),I_=C('<div class="flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700"><div class="flex items-center gap-4"><div class="flex items-center gap-2"><span class="text-sm font-medium text-gray-700 dark:text-gray-300"></span></div><div class="flex items-center gap-1"><button class="p-1 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors"><span class=text-sm></span></button><button class="p-1 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"></path></svg></button></div></div><div class="flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400"><span>:</span><kbd class="px-1 py-0.5 bg-gray-200 dark:bg-gray-600 rounded text-xs">Ctrl+A</kbd><span>,</span><kbd class="px-1 py-0.5 bg-gray-200 dark:bg-gray-600 rounded text-xs">Esc</kbd><span>,</span><kbd class="px-1 py-0.5 bg-gray-200 dark:bg-gray-600 rounded text-xs">↑↓</kbd><span>'),F_=C("<button><span class=mr-1>");const D_=t=>{const[e]=we("common"),r=()=>t.isAllSelected?e("deselect_all"):(t.isPartiallySelected,e("select_all")),s=()=>t.isAllSelected?"☑️":t.isPartiallySelected?"◐":"☐",n=()=>{t.isAllSelected?t.onDeselectAll():t.onSelectAll()};return(()=>{var a=I_(),l=a.firstChild,o=l.firstChild,d=o.firstChild,g=o.nextSibling,u=g.firstChild,c=u.firstChild,b=u.nextSibling,f=l.nextSibling,_=f.firstChild,p=_.firstChild,x=_.nextSibling,$=x.nextSibling,L=$.firstChild,A=$.nextSibling,D=A.nextSibling,I=D.firstChild,V=D.nextSibling,T=V.nextSibling;return i(d,(()=>{var R=Ee(()=>t.selectedCount>0);return()=>R()?e("selected_count",{count:t.selectedCount,total:t.totalCount}):e("no_selection")})()),i(o,P(Z,{get when(){return t.selectedCount>0},get children(){var R=P_(),y=R.firstChild,h=y.nextSibling;return h.nextSibling,i(R,()=>Math.round(t.selectedCount/t.totalCount*100),h),R}}),null),u.$$click=n,i(c,s),Ae(b,"click",t.onInvertSelection,!0),i(g,P(Z,{get when(){return t.selectedCount>0},get children(){var R=L_();return Ae(R,"click",t.onDeselectAll,!0),F(()=>ee(R,"title",e("deselect_all"))),R}}),null),i(a,P(Z,{get when(){return t.selectedCount>0},get children(){var R=R_();return i(R,P(Z,{get when(){return t.onDuplicateSelected},get children(){var y=A_();return y.firstChild,Ae(y,"click",t.onDuplicateSelected,!0),i(y,()=>e("duplicate"),null),F(()=>ee(y,"title",e("duplicate_selected"))),y}}),null),i(R,P(Z,{get when(){return t.onExportSelected},get children(){var y=N_();return y.firstChild,Ae(y,"click",t.onExportSelected,!0),i(y,()=>e("export"),null),F(()=>ee(y,"title",e("export_selected"))),y}}),null),i(R,P(Z,{get when(){return t.actions&&t.actions.length>0},get children(){var y=E_();return i(y,()=>t.actions.map(h=>(()=>{var w=F_(),k=w.firstChild;return Ae(w,"click",h.onClick,!0),i(k,()=>h.icon),i(w,()=>h.label,null),F(m=>{var S=h.disabled,E=`inline-flex items-center px-3 py-1 text-sm font-medium rounded-md transition-colors ${h.color==="danger"?"text-red-700 dark:text-red-300 bg-red-100 dark:bg-red-900 hover:bg-red-200 dark:hover:bg-red-800 disabled:opacity-50":h.color==="primary"?"text-blue-700 dark:text-blue-300 bg-blue-100 dark:bg-blue-900 hover:bg-blue-200 dark:hover:bg-blue-800 disabled:opacity-50":"text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 disabled:opacity-50"}`,N=h.label;return S!==m.e&&(w.disabled=m.e=S),E!==m.t&&ke(w,m.t=E),N!==m.a&&ee(w,"title",m.a=N),m},{e:void 0,t:void 0,a:void 0}),w})())),y}}),null),i(R,P(Z,{get when(){return t.onDeleteSelected},get children(){var y=M_();return y.firstChild,Ae(y,"click",t.onDeleteSelected,!0),i(y,()=>e("delete"),null),F(()=>ee(y,"title",e("delete_selected"))),y}}),null),R}}),f),i(_,()=>e("shortcuts"),p),i($,()=>e("select_all"),L),i(D,()=>e("deselect"),I),i(T,()=>e("navigate")),F(R=>{var y=r(),h=e("invert_selection");return y!==R.e&&ee(u,"title",R.e=y),h!==R.t&&ee(b,"title",R.t=h),R},{e:void 0,t:void 0}),a})()};Me(["click"]);var O_=C('<div class="h-full flex flex-col bg-white dark:bg-gray-900"><div class="p-4 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700"><div class="flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between"><div class="relative flex-1 max-w-md"><div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"><svg class="w-4 h-4 text-gray-400 dark:text-gray-500"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></div><input type=text class="block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200"></div><div class="flex items-center gap-3"><span class="text-sm font-medium text-gray-700 dark:text-gray-300">:</span><select class="px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"><option value=name></option><option value=quantity></option><option value=size></option></select><button class="p-2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors duration-200"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"></svg></button></div></div></div><div class="flex-1 overflow-auto"><div class=min-w-full><div class="sticky top-0 bg-gray-50 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 z-10"><div class="grid grid-cols-12 gap-4 px-4 py-3 text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"><div class="col-span-1 flex items-center"><span class="text-xs text-gray-500 dark:text-gray-400"></span></div><button><span></span></button><button><span></span></button><button><span></span></button><div class="col-span-2 text-center"></div></div></div><div class="bg-white dark:bg-gray-900">'),jt=C('<svg><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M5 15l7-7 7 7"></svg>',!1,!0,!1),Tt=C('<svg><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 9l-7 7-7-7"></svg>',!1,!0,!1),lr=C('<svg class="w-3 h-3"fill=none stroke=currentColor viewBox="0 0 24 24">'),j_=C('<div><div class="col-span-1 flex items-center"><input type=checkbox class="w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-2"></div><div class="col-span-4 flex items-center"><div class="flex items-center gap-3"><div class="w-8 h-8 bg-gray-100 dark:bg-gray-700 rounded-lg flex items-center justify-center flex-shrink-0"><svg class="w-4 h-4 text-gray-500 dark:text-gray-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path></svg></div><div class="min-w-0 flex-1"><p class="text-sm font-medium text-gray-900 dark:text-gray-100 truncate"></p><p class="text-xs text-gray-500 dark:text-gray-400 truncate"></p></div></div></div><div class="col-span-2 flex items-center"><div class=relative><input type=number min=1 class="w-20 px-3 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"></div></div><div class="col-span-3 flex items-center"><div class="flex items-center gap-2"><div class="px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded text-xs font-mono text-gray-600 dark:text-gray-300"></div><span class="text-xs text-gray-500 dark:text-gray-400">mm</span></div></div><div class="col-span-2 flex items-center justify-center"><div class="flex items-center gap-1"><input type=number min=0 max=360 step=90 class="w-16 px-2 py-1.5 text-sm text-center border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"><span class="text-xs text-gray-500 dark:text-gray-400">°');const T_=t=>{const[e]=we("parts"),[r,s]=Y(""),[n,a]=Y("name"),[l,o]=Y("asc"),d=oe(()=>{let f=v.app.parts;if(r()){const _=r().toLowerCase();f=f.filter(p=>p.name.toLowerCase().includes(_)||p.source.toLowerCase().includes(_))}return f=[...f].sort((_,p)=>{let x,$;switch(n()){case"name":x=_.name,$=p.name;break;case"quantity":x=_.quantity,$=p.quantity;break;case"size":x=_.bounds.width*_.bounds.height,$=p.bounds.width*p.bounds.height;break;default:x=_.name,$=p.name}return typeof x=="string"&&typeof $=="string"?l()==="asc"?x.localeCompare($):$.localeCompare(x):l()==="asc"?x-$:$-x}),f}),g=(f,_)=>{_<1&&(_=1),O.updatePart(f,{quantity:_})},u=(f,_)=>{O.updatePart(f,{rotation:_})},c=f=>{n()===f?o(l()==="asc"?"desc":"asc"):(a(f),o("asc"))},b=f=>`${f.width.toFixed(1)} × ${f.height.toFixed(1)}`;return(()=>{var f=O_(),_=f.firstChild,p=_.firstChild,x=p.firstChild,$=x.firstChild,L=$.nextSibling,A=x.nextSibling,D=A.firstChild,I=D.firstChild,V=D.nextSibling,T=V.firstChild,R=T.nextSibling,y=R.nextSibling,h=V.nextSibling,w=h.firstChild,k=_.nextSibling,m=k.firstChild,S=m.firstChild,E=S.firstChild,N=E.firstChild,j=N.firstChild,H=N.nextSibling,q=H.firstChild,G=H.nextSibling,W=G.firstChild,Q=G.nextSibling,te=Q.firstChild,B=Q.nextSibling,U=S.nextSibling;return L.$$input=M=>s(M.currentTarget.value),i(D,()=>e("sort_by"),I),V.addEventListener("change",M=>a(M.currentTarget.value)),i(T,()=>e("name")),i(R,()=>e("quantity")),i(y,()=>e("size")),h.$$click=()=>o(l()==="asc"?"desc":"asc"),i(w,(()=>{var M=Ee(()=>l()==="asc");return()=>M()?jt():Tt()})()),i(j,()=>e("select")),H.$$click=()=>c("name"),i(q,()=>e("name")),i(H,(()=>{var M=Ee(()=>n()==="name");return()=>M()&&(()=>{var z=lr();return i(z,(()=>{var J=Ee(()=>l()==="asc");return()=>J()?jt():Tt()})()),z})()})(),null),G.$$click=()=>c("quantity"),i(W,()=>e("quantity")),i(G,(()=>{var M=Ee(()=>n()==="quantity");return()=>M()&&(()=>{var z=lr();return i(z,(()=>{var J=Ee(()=>l()==="asc");return()=>J()?jt():Tt()})()),z})()})(),null),Q.$$click=()=>c("size"),i(te,()=>e("size")),i(Q,(()=>{var M=Ee(()=>n()==="size");return()=>M()&&(()=>{var z=lr();return i(z,(()=>{var J=Ee(()=>l()==="asc");return()=>J()?jt():Tt()})()),z})()})(),null),i(B,()=>e("rotation")),i(U,P(Oe,{get each(){return d()},children:M=>(()=>{var z=j_(),J=z.firstChild,ie=J.firstChild,X=J.nextSibling,le=X.firstChild,me=le.firstChild,ge=me.nextSibling,ce=ge.firstChild,ve=ce.nextSibling,_e=X.nextSibling,Ne=_e.firstChild,$e=Ne.firstChild,Pe=_e.nextSibling,ae=Pe.firstChild,be=ae.firstChild,ue=Pe.nextSibling,xe=ue.firstChild,ye=xe.firstChild;return z.$$click=de=>t.onItemClick?.(M.id,de),ie.addEventListener("change",de=>{de.stopPropagation(),t.onItemClick?.(M.id,de)}),i(ce,()=>M.name),i(ve,()=>M.source),$e.addEventListener("change",de=>g(M.id,parseInt(de.currentTarget.value))),i(be,()=>b(M.bounds)),ye.addEventListener("change",de=>u(M.id,parseInt(de.currentTarget.value))),F(de=>{var fe=`grid grid-cols-12 gap-4 px-4 py-4 border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-200 cursor-pointer ${t.isSelected?.(M.id)?"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800":""}`,Le=M.source;return fe!==de.e&&ke(z,de.e=fe),Le!==de.t&&ee(ce,"title",de.t=Le),de},{e:void 0,t:void 0}),F(()=>ie.checked=t.isSelected?.(M.id)||!1),F(()=>$e.value=M.quantity),F(()=>ye.value=M.rotation),z})()})),F(M=>{var z=e("search_parts"),J=l()==="asc"?"Sort descending":"Sort ascending",ie=`col-span-4 flex items-center gap-2 text-left hover:text-gray-700 dark:hover:text-gray-200 transition-colors duration-200 ${n()==="name"?"text-blue-600 dark:text-blue-400":""}`,X=`col-span-2 flex items-center gap-2 text-left hover:text-gray-700 dark:hover:text-gray-200 transition-colors duration-200 ${n()==="quantity"?"text-blue-600 dark:text-blue-400":""}`,le=`col-span-3 flex items-center gap-2 text-left hover:text-gray-700 dark:hover:text-gray-200 transition-colors duration-200 ${n()==="size"?"text-blue-600 dark:text-blue-400":""}`;return z!==M.e&&ee(L,"placeholder",M.e=z),J!==M.t&&ee(h,"title",M.t=J),ie!==M.a&&ke(H,M.a=ie),X!==M.o&&ke(G,M.o=X),le!==M.i&&ke(Q,M.i=le),M},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),F(()=>L.value=r()),F(()=>V.value=n()),f})()};Me(["input","click"]);var z_=C('<div class="flex items-center gap-2 px-3 py-1 bg-blue-50 dark:bg-blue-900/20 rounded-lg"><svg class="w-4 h-4 text-blue-600 dark:text-blue-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span class="text-sm text-blue-700 dark:text-blue-300 font-medium"> part<!> selected'),B_=C('<div class="h-full flex flex-col bg-white dark:bg-gray-900"><div class="bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700"><div class="px-6 py-4 flex items-center justify-between"><div class="flex items-center gap-3"><div class="w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center shadow-sm"><svg class="w-5 h-5 text-white"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path></svg></div><div><h1 class="text-xl font-semibold text-gray-900 dark:text-gray-100"></h1><p class="text-sm text-gray-500 dark:text-gray-400">Manage your parts and import new ones</p></div></div><div class="flex items-center gap-3"><button class="inline-flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg></button><div class="flex items-center gap-2"><span class="text-sm text-gray-600 dark:text-gray-400"></span></div></div></div></div><div class="bg-gray-50 dark:bg-gray-800/50 px-6 py-4 border-b border-gray-200 dark:border-gray-700"><div class="grid grid-cols-1 md:grid-cols-4 gap-4"><div class="bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border border-gray-200 dark:border-gray-700"><div class="flex items-center gap-3"><div class="w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center"><svg class="w-5 h-5 text-blue-600 dark:text-blue-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path></svg></div><div><p class="text-sm font-medium text-gray-600 dark:text-gray-400"></p><p class="text-2xl font-bold text-gray-900 dark:text-gray-100"></p></div></div></div><div class="bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border border-gray-200 dark:border-gray-700"><div class="flex items-center gap-3"><div class="w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center"><svg class="w-5 h-5 text-green-600 dark:text-green-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"></path></svg></div><div><p class="text-sm font-medium text-gray-600 dark:text-gray-400"></p><p class="text-2xl font-bold text-gray-900 dark:text-gray-100"></p></div></div></div><div class="bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border border-gray-200 dark:border-gray-700"><div class="flex items-center gap-3"><div class="w-10 h-10 bg-purple-100 dark:bg-purple-900/30 rounded-lg flex items-center justify-center"><svg class="w-5 h-5 text-purple-600 dark:text-purple-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><div><p class="text-sm font-medium text-gray-600 dark:text-gray-400">Selected</p><p class="text-2xl font-bold text-gray-900 dark:text-gray-100"></p></div></div></div><div class="bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border border-gray-200 dark:border-gray-700"><div class="flex items-center gap-3"><div class="w-10 h-10 bg-orange-100 dark:bg-orange-900/30 rounded-lg flex items-center justify-center"><svg class="w-5 h-5 text-orange-600 dark:text-orange-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"></path></svg></div><div><p class="text-sm font-medium text-gray-600 dark:text-gray-400">Total Area</p><p class="text-2xl font-bold text-gray-900 dark:text-gray-100"></p></div></div></div></div></div><div class="bg-white dark:bg-gray-800 px-6 py-3 border-b border-gray-200 dark:border-gray-700"><div class="flex items-center justify-between"><div class="flex items-center gap-4"><span class="text-sm text-gray-600 dark:text-gray-400">Bulk Actions:</span><div class="flex items-center gap-2"><button class="text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed"></button><span class="text-gray-300 dark:text-gray-600">•</span><button class="text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed"></button></div></div></div></div><div class="flex-1 overflow-hidden bg-gray-50 dark:bg-gray-900">'),V_=C('<div class="h-full flex flex-col items-center justify-center text-center gap-6 p-8"><div class="w-24 h-24 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center"><svg class="w-12 h-12 text-gray-400 dark:text-gray-600"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=1.5 d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path></svg></div><div class="max-w-sm space-y-3"><h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100"></h3><p class="text-gray-600 dark:text-gray-400 leading-relaxed"></p></div><div class="flex flex-col sm:flex-row gap-3"><button class="inline-flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-900"><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg></button><button class="inline-flex items-center gap-2 px-6 py-3 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 font-medium rounded-lg border border-gray-300 dark:border-gray-600 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-900"><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>Learn More</button></div><div class="text-xs text-gray-500 dark:text-gray-600 max-w-md"><p>Supported formats: SVG, DXF • Drag and drop files here');const U_=()=>{const[t]=we("parts"),[e]=we("common"),r=oe(()=>v.app.parts.length),s=oe(()=>v.app.parts.reduce((u,c)=>u+c.quantity,0)),n=oe(()=>v.app.parts.reduce((u,c)=>u+(c.area||0),0)),a=C_(()=>v.app.parts,{enableMultiSelect:!0,enableKeyboardShortcuts:!0,enableRangeSelect:!0}),l=async()=>{if(!re.isAvailable){console.warn("IPC not available");return}try{const u=await re.openFileDialog({title:t("import_parts"),filters:[{name:"Vector Files",extensions:["svg","dxf"]},{name:"SVG Files",extensions:["svg"]},{name:"DXF Files",extensions:["dxf"]},{name:"All Files",extensions:["*"]}],properties:["openFile","multiSelections"]});if(u.canceled||!u.filePaths?.length)return;const c=await re.importParts(u.filePaths);O.setParts([...v.app.parts,...c])}catch(u){console.error("Failed to import parts:",u),O.setError(t("import_failed"))}},o=async()=>{const u=a.selectedItems();if(u.length===0){O.setError(t("no_parts_selected"));return}try{const c=await re.saveFileDialog();if(c.canceled||!c.filePath)return;console.log("Exporting parts:",u)}catch(c){console.error("Failed to export parts:",c),O.setError(t("export_failed"))}},d=()=>{const u=a.selectedIds();if(u.size===0){O.setError(t("no_parts_selected"));return}const c=v.app.parts.filter(b=>!u.has(b.id));O.setParts(c),a.deselectAll()},g=()=>{const u=a.selectedItems();if(u.length===0)return;const c=u.map(b=>({...b,id:`${b.id}-copy-${Date.now()}`,name:`${b.name} (Copy)`}));O.setParts([...v.app.parts,...c]),a.deselectAll(),c.forEach(b=>a.selectItem(b.id))};return(()=>{var u=B_(),c=u.firstChild,b=c.firstChild,f=b.firstChild,_=f.firstChild,p=_.nextSibling,x=p.firstChild,$=f.nextSibling,L=$.firstChild;L.firstChild;var A=L.nextSibling,D=A.firstChild,I=c.nextSibling,V=I.firstChild,T=V.firstChild,R=T.firstChild,y=R.firstChild,h=y.nextSibling,w=h.firstChild,k=w.nextSibling,m=T.nextSibling,S=m.firstChild,E=S.firstChild,N=E.nextSibling,j=N.firstChild,H=j.nextSibling,q=m.nextSibling,G=q.firstChild,W=G.firstChild,Q=W.nextSibling,te=Q.firstChild,B=te.nextSibling,U=q.nextSibling,M=U.firstChild,z=M.firstChild,J=z.nextSibling,ie=J.firstChild,X=ie.nextSibling,le=I.nextSibling,me=le.firstChild,ge=me.firstChild,ce=ge.firstChild,ve=ce.nextSibling,_e=ve.firstChild,Ne=_e.nextSibling,$e=Ne.nextSibling,Pe=le.nextSibling;return i(x,()=>t("parts_title")),L.$$click=l,i(L,()=>t("import"),null),i(D,()=>t("parts_count",{count:r()})),i(u,P(D_,{get selectedCount(){return a.selectedCount()},get totalCount(){return r()},get isAllSelected(){return a.isAllSelected()},get isNoneSelected(){return a.isNoneSelected()},get isPartiallySelected(){return a.isPartiallySelected()},get onSelectAll(){return a.selectAll},get onDeselectAll(){return a.deselectAll},get onInvertSelection(){return a.invertSelection},onDeleteSelected:d,onDuplicateSelected:g,onExportSelected:o}),I),i(w,()=>t("total_parts")),i(k,r),i(j,()=>t("total_quantity")),i(H,s),i(B,selectedPartsCount),i(X,()=>Math.round(n())),Ae(_e,"click",handleSelectAll,!0),i(_e,()=>t("select_all")),Ae($e,"click",handleDeselectAll,!0),i($e,()=>t("deselect_all")),i(me,P(Z,{get when(){return selectedPartsCount()>0},get children(){var ae=z_(),be=ae.firstChild,ue=be.nextSibling,xe=ue.firstChild,ye=xe.nextSibling;return ye.nextSibling,i(ue,selectedPartsCount,xe),i(ue,()=>selectedPartsCount()===1?"":"s",ye),ae}}),null),i(Pe,P(Z,{get when(){return r()>0},get fallback(){return(()=>{var ae=V_(),be=ae.firstChild,ue=be.nextSibling,xe=ue.firstChild,ye=xe.nextSibling,de=ue.nextSibling,fe=de.firstChild;return fe.firstChild,i(xe,()=>t("no_parts_loaded")),i(ye,()=>t("import_parts_to_get_started")),fe.$$click=l,i(fe,()=>t("import_parts"),null),ae})()},get children(){return P(T_,{get onItemClick(){return a.handleItemClick},get isSelected(){return a.isSelected}})}})),F(ae=>{var be=t("import_parts"),ue=r()===0,xe=r()===0;return be!==ae.e&&ee(L,"title",ae.e=be),ue!==ae.t&&(_e.disabled=ae.t=ue),xe!==ae.a&&($e.disabled=ae.a=xe),ae},{e:void 0,t:void 0,a:void 0}),u})()};Me(["click"]);class H_{progressCleanup=null;statusCleanup=null;completeCleanup=null;errorCleanup=null;constructor(){this.initializeEventListeners()}initializeEventListeners(){this.progressCleanup=re.onNestProgress(e=>{O.setNestingProgress(e)}),this.statusCleanup=re.onNestStatus(e=>{O.setNestingStatus(e.isRunning),O.setWorkerStatus({isRunning:e.isRunning,currentOperation:e.operation})}),this.completeCleanup=re.onNestComplete(e=>{if(O.setNests(e),e.length>0){const r=e.reduce((s,n)=>n.fitness<s.fitness?n:s);O.setCurrentNest(r)}}),this.errorCleanup=re.onNestError(e=>{O.setError(e)})}async startNesting(){try{O.setError(null);const e=v.config;if(!this.validateConfig(e))throw new Error("Invalid configuration");if(v.app.parts.length===0)throw new Error("No parts loaded. Please import parts before starting nesting.");if(v.app.sheets.length===0)throw new Error("No sheets configured. Please configure sheets before starting nesting.");await re.startNesting(e)}catch(e){const r=e instanceof Error?e.message:"Unknown error occurred";throw O.setError(r),O.setNestingStatus(!1),e}}async stopNesting(){try{await re.stopNesting(),O.setNestingStatus(!1),O.setNestingProgress(0),O.setError(null)}catch(e){const r=e instanceof Error?e.message:"Failed to stop nesting";throw O.setError(r),e}}stopBackgroundWorker(){re.stopBackgroundWorker(),O.setNestingStatus(!1),O.setNestingProgress(0),O.setWorkerStatus({isRunning:!1,currentOperation:"Stopped"})}validateConfig(e){return!(!e||e.spacing<0||e.rotations<1||e.populationSize<1||e.mutationRate<0||e.mutationRate>100||e.threads<1||!e.units||!e.placementType)}get isNesting(){return v.process.isNesting}get progress(){return v.process.progress}get workerStatus(){return v.process.workerStatus}get results(){return v.app.nests}get lastError(){return v.process.lastError}onBackgroundProgress(e){return re.onBackgroundProgress(e)}onBackgroundResponse(e){return re.onBackgroundResponse(e)}cleanup(){this.progressCleanup?.(),this.statusCleanup?.(),this.completeCleanup?.(),this.errorCleanup?.(),this.progressCleanup=null,this.statusCleanup=null,this.completeCleanup=null,this.errorCleanup=null}}const tr=new H_;var W_=C('<div class="text-sm text-gray-600 dark:text-gray-400 text-center">: '),K_=C('<div class="bg-gray-50 dark:bg-gray-700 p-3 rounded"><span class="text-sm font-medium text-gray-700 dark:text-gray-300">:</span><span class="ml-2 text-sm text-gray-900 dark:text-gray-100">'),q_=C('<div class="grid grid-cols-2 gap-4 pt-4 border-t border-gray-200 dark:border-gray-600"><div class="flex justify-between"><span class="text-sm text-gray-600 dark:text-gray-400">:</span><span class="text-sm font-medium text-gray-900 dark:text-gray-100"></span></div><div class="flex justify-between"><span class="text-sm text-gray-600 dark:text-gray-400">:</span><span class="text-sm font-medium text-gray-900 dark:text-gray-100">'),G_=C('<div class="p-6 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 m-4"><div class="flex items-center justify-between mb-4"><h3 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h3><div class="text-2xl font-bold text-blue-600 dark:text-blue-400">%</div></div><div class=mb-6><div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3 mb-2 overflow-hidden"><div class="h-full bg-blue-500 dark:bg-blue-400 rounded-full transition-all duration-300 ease-out"></div></div></div><div class=space-y-4><div class="grid grid-cols-2 gap-4"><div class="flex justify-between"><span class="text-sm text-gray-600 dark:text-gray-400">:</span><span class="text-sm font-medium text-gray-900 dark:text-gray-100"></span></div><div class="flex justify-between"><span class="text-sm text-gray-600 dark:text-gray-400">:</span><span></span></div></div></div><div class="flex justify-center pt-4 border-t border-gray-200 dark:border-gray-600"><button class="text-blue-600 dark:text-blue-400 hover:underline text-sm">');const J_=()=>{const[t]=we("nesting"),e=oe(()=>Math.max(0,Math.min(100,v.process.progress))),r=oe(()=>{const s=e();if(s===0)return null;const a=6e4*(100-s)/s;return a<6e4?`${Math.round(a/1e3)}s`:`${Math.round(a/6e4)}m`});return(()=>{var s=G_(),n=s.firstChild,a=n.firstChild,l=a.nextSibling,o=l.firstChild,d=n.nextSibling,g=d.firstChild,u=g.firstChild,c=d.nextSibling,b=c.firstChild,f=b.firstChild,_=f.firstChild,p=_.firstChild,x=_.nextSibling,$=f.nextSibling,L=$.firstChild,A=L.firstChild,D=L.nextSibling,I=c.nextSibling,V=I.firstChild;return i(a,()=>t("nesting_in_progress")),i(l,()=>e().toFixed(1),o),i(d,P(Z,{get when(){return r()},get children(){var T=W_(),R=T.firstChild;return i(T,()=>t("estimated_time_remaining"),R),i(T,r,null),T}}),null),i(c,P(Z,{get when(){return v.process.workerStatus.currentOperation},get children(){var T=K_(),R=T.firstChild,y=R.firstChild,h=R.nextSibling;return i(R,()=>t("current_operation"),y),i(h,()=>v.process.workerStatus.currentOperation),T}}),b),i(_,()=>t("threads_active"),p),i(x,()=>v.process.workerStatus.threadsActive),i(L,()=>t("worker_status"),A),i(D,(()=>{var T=Ee(()=>!!v.process.workerStatus.isRunning);return()=>T()?t("running"):t("stopped")})()),i(c,P(Z,{get when(){return v.process.currentNest},get children(){var T=q_(),R=T.firstChild,y=R.firstChild,h=y.firstChild,w=y.nextSibling,k=R.nextSibling,m=k.firstChild,S=m.firstChild,E=m.nextSibling;return i(y,()=>t("current_generation"),h),i(w,()=>v.process.currentNest?.generation||0),i(m,()=>t("best_fitness"),S),i(E,()=>v.process.currentNest?.fitness?.toFixed(2)||"N/A"),T}}),null),V.$$click=()=>window.location.reload(),i(V,()=>t("refresh_status")),F(T=>{var R=`${e()}%`,y=`text-sm font-medium ${v.process.workerStatus.isRunning?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`;return R!==T.e&&((T.e=R)!=null?u.style.setProperty("width",R):u.style.removeProperty("width")),y!==T.t&&ke(D,T.t=y),T},{e:void 0,t:void 0}),s})()};Me(["click"]);class Z_{isConnectedSignal=Y(!1);lastHeartbeatSignal=Y(Date.now());reconnectAttemptsSignal=Y(0);connectionErrorSignal=Y(null);get isConnected(){return this.isConnectedSignal[0]}get setIsConnected(){return this.isConnectedSignal[1]}get lastHeartbeat(){return this.lastHeartbeatSignal[0]}get setLastHeartbeat(){return this.lastHeartbeatSignal[1]}get reconnectAttempts(){return this.reconnectAttemptsSignal[0]}get setReconnectAttempts(){return this.reconnectAttemptsSignal[1]}get connectionError(){return this.connectionErrorSignal[0]}get setConnectionError(){return this.connectionErrorSignal[1]}heartbeatInterval=null;reconnectTimeout=null;maxReconnectAttempts=5;heartbeatInterval_ms=5e3;reconnectDelay_ms=2e3;constructor(){this.initializeConnection()}initializeConnection(){this.checkConnection(),this.startHeartbeat(),this.setupEventListeners()}async checkConnection(){try{if(re.isAvailable)await re.readConfig(),this.setConnectionStatus(!0),this.setReconnectAttempts(0),this.setConnectionError(null);else throw new Error("IPC not available")}catch(e){const r=e instanceof Error?e.message:"Connection failed";this.setConnectionStatus(!1),this.setConnectionError(r),this.reconnectAttempts()<this.maxReconnectAttempts&&this.scheduleReconnect()}}setConnectionStatus(e){this.setIsConnected(e),this.setLastHeartbeat(Date.now()),O.setWorkerStatus({isRunning:e&&v.process.isNesting,currentOperation:e?"Connected":"Disconnected"})}startHeartbeat(){this.heartbeatInterval&&clearInterval(this.heartbeatInterval),this.heartbeatInterval=setInterval(()=>{this.checkConnection()},this.heartbeatInterval_ms)}stopHeartbeat(){this.heartbeatInterval&&(clearInterval(this.heartbeatInterval),this.heartbeatInterval=null)}scheduleReconnect(){this.reconnectTimeout&&clearTimeout(this.reconnectTimeout);const e=this.reconnectAttempts();this.setReconnectAttempts(e+1);const r=Math.min(this.reconnectDelay_ms*Math.pow(2,e),3e4);this.reconnectTimeout=setTimeout(()=>{this.checkConnection()},r)}setupEventListeners(){re.onNestError(e=>{(e.includes("IPC")||e.includes("connection")||e.includes("timeout"))&&(this.setConnectionError(e),this.setConnectionStatus(!1))}),mt(()=>{const e=this.isConnected(),r=this.connectionError();!e&&r?O.setError(`Connection lost: ${r}`):e&&v.process.lastError?.includes("Connection lost")&&O.setError(null)})}async forceReconnect(){this.setReconnectAttempts(0),this.setConnectionError(null),await this.checkConnection()}get connected(){return this.isConnected()}get error(){return this.connectionError()}get reconnectionAttempts(){return this.reconnectAttempts()}get lastHeartbeatTime(){return this.lastHeartbeat()}get isHealthy(){const e=Date.now(),r=this.lastHeartbeat(),s=e-r;return this.isConnected()&&s<this.heartbeatInterval_ms*2}get status(){return{connected:this.connected,healthy:this.isHealthy,error:this.error,reconnectAttempts:this.reconnectionAttempts,lastHeartbeat:this.lastHeartbeatTime}}cleanup(){this.stopHeartbeat(),this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null)}}const wt=new Z_;var Q_=C('<div class="text-sm text-gray-600 dark:text-gray-400">'),X_=C('<div class="p-4 border-b border-gray-200 dark:border-gray-700"><h4 class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"></h4><div class="grid grid-cols-2 gap-4"><div><span class="text-xs text-gray-500 dark:text-gray-400"></span><div class="font-mono text-sm text-gray-900 dark:text-gray-100"></div></div><div><span class="text-xs text-gray-500 dark:text-gray-400"></span><div class="font-mono text-sm text-gray-900 dark:text-gray-100">%'),Y_=C('<div class="space-y-2 max-h-64 overflow-y-auto">'),eb=C('<div class=p-4><h4 class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"> (<!>)'),tb=C('<span class="text-xs text-red-600 dark:text-red-400">(<!>)'),rb=C('<div class="p-4 bg-red-50 dark:bg-red-900/20 border-t border-red-200 dark:border-red-700"><div class="flex items-center space-x-2"><div class="w-2 h-2 rounded-full bg-red-500"></div><span class="text-sm text-red-700 dark:text-red-300">'),sb=C('<div class="p-4 bg-red-50 dark:bg-red-900/20 border-t border-red-200 dark:border-red-700"><div class="flex items-start space-x-2"><div class="w-2 h-2 rounded-full bg-red-500 mt-1"></div><div><div class="text-sm font-medium text-red-700 dark:text-red-300"></div><div class="text-xs text-red-600 dark:text-red-400 mt-1">'),nb=C('<div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 m-4"><div class="flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700"><div class="flex items-center space-x-3"><h3 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h3><div></div></div><div class="flex items-center space-x-2"><span class="text-sm text-gray-500 dark:text-gray-400">: </span><button class="text-blue-600 dark:text-blue-400 hover:underline text-sm"></button></div></div><div class="p-4 border-b border-gray-200 dark:border-gray-700"><div class="flex items-center justify-between mb-2"><span class="text-sm font-medium text-gray-700 dark:text-gray-300"></span><span class="text-sm font-bold text-blue-600 dark:text-blue-400">%</span></div><div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mb-2"><div class="h-full bg-blue-500 dark:bg-blue-400 rounded-full transition-all duration-300">'),ib=C('<div class="text-sm text-gray-500 dark:text-gray-400 text-center py-4">'),ab=C('<div class="flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded"><div class="flex items-center space-x-3"><div class="w-2 h-2 rounded-full bg-blue-500"></div><span class="text-sm font-medium text-gray-700 dark:text-gray-300">#</span></div><div class="flex items-center space-x-4"><div class=text-right><div class="text-xs text-gray-500 dark:text-gray-400"></div><div class="font-mono text-sm text-gray-900 dark:text-gray-100"></div></div><div class=text-right><div class="text-xs text-gray-500 dark:text-gray-400"></div><div class="font-mono text-sm text-gray-900 dark:text-gray-100">%</div></div><div class=text-right><div class="text-xs text-gray-500 dark:text-gray-400"></div><div class="font-mono text-sm text-gray-900 dark:text-gray-100">');const ob=()=>{const[t]=we("nesting"),[e,r]=Y([]),[s,n]=Y(Date.now()),[a,l]=Y(!1),o=tr.onBackgroundProgress(f=>{n(Date.now()),console.log("Background progress:",f)}),d=tr.onBackgroundResponse(f=>{r(_=>[f,..._].slice(0,10)),n(Date.now())});It(()=>{o?.(),d?.()});const g=()=>{const f=Date.now(),_=s(),p=f-_;return p<1e3?t("just_now"):p<6e4?t("seconds_ago",{count:Math.floor(p/1e3)}):p<36e5?t("minutes_ago",{count:Math.floor(p/6e4)}):t("hours_ago",{count:Math.floor(p/36e5)})},u=()=>{const f=wt.status;return f.connected?f.healthy?"text-green-500":"text-yellow-500":"text-red-500"},c=f=>f.toFixed(4),b=f=>(f*100).toFixed(1);return(()=>{var f=nb(),_=f.firstChild,p=_.firstChild,x=p.firstChild,$=x.nextSibling,L=p.nextSibling,A=L.firstChild,D=A.firstChild,I=A.nextSibling,V=_.nextSibling,T=V.firstChild,R=T.firstChild,y=R.nextSibling,h=y.firstChild,w=T.nextSibling,k=w.firstChild;return i(x,()=>t("live_results")),i(A,()=>t("last_update"),D),i(A,g,null),I.$$click=()=>l(!a()),i(I,(()=>{var m=Ee(()=>!!a());return()=>m()?t("collapse"):t("expand")})()),i(R,()=>t("current_progress")),i(y,()=>(v.process.progress*100).toFixed(1),h),i(V,P(Z,{get when(){return v.process.workerStatus.currentOperation},get children(){var m=Q_();return i(m,()=>v.process.workerStatus.currentOperation),m}}),null),i(f,P(Z,{get when(){return v.process.currentNest},get children(){var m=X_(),S=m.firstChild,E=S.nextSibling,N=E.firstChild,j=N.firstChild,H=j.nextSibling,q=N.nextSibling,G=q.firstChild,W=G.nextSibling,Q=W.firstChild;return i(S,()=>t("best_result")),i(j,()=>t("fitness")),i(H,()=>c(v.process.currentNest.fitness)),i(G,()=>t("utilization")),i(W,()=>b(v.process.currentNest.utilisation),Q),m}}),null),i(f,P(Z,{get when(){return a()},get children(){var m=eb(),S=m.firstChild,E=S.firstChild,N=E.nextSibling;return N.nextSibling,i(S,()=>t("intermediate_results"),E),i(S,()=>e().length,N),i(m,P(Z,{get when(){return e().length>0},get fallback(){return(()=>{var j=ib();return i(j,()=>t("no_intermediate_results")),j})()},get children(){var j=Y_();return i(j,P(Oe,{get each(){return e()},children:(H,q)=>(()=>{var G=ab(),W=G.firstChild,Q=W.firstChild,te=Q.nextSibling;te.firstChild;var B=W.nextSibling,U=B.firstChild,M=U.firstChild,z=M.nextSibling,J=U.nextSibling,ie=J.firstChild,X=ie.nextSibling,le=X.firstChild,me=J.nextSibling,ge=me.firstChild,ce=ge.nextSibling;return i(te,()=>H.index,null),i(M,()=>t("fitness")),i(z,()=>c(H.fitness)),i(ie,()=>t("utilization")),i(X,()=>b(H.utilisation),le),i(ge,()=>t("sheets")),i(ce,()=>H.placements.length),G})()})),j}}),null),m}}),null),i(f,P(Z,{get when(){return!wt.status.connected},get children(){var m=rb(),S=m.firstChild,E=S.firstChild,N=E.nextSibling;return i(N,()=>t("connection_lost")),i(S,P(Z,{get when(){return wt.status.reconnectAttempts>0},get children(){var j=tb(),H=j.firstChild,q=H.nextSibling;return q.nextSibling,i(j,()=>t("reconnect_attempts",{count:wt.status.reconnectAttempts}),q),j}}),null),m}}),null),i(f,P(Z,{get when(){return v.process.lastError},get children(){var m=sb(),S=m.firstChild,E=S.firstChild,N=E.nextSibling,j=N.firstChild,H=j.nextSibling;return i(j,()=>t("error_occurred")),i(H,()=>v.process.lastError),m}}),null),F(m=>{var S=`w-2 h-2 rounded-full ${u()}`,E=wt.status.connected?t("connected"):t("disconnected"),N=`${v.process.progress*100}%`;return S!==m.e&&ke($,m.e=S),E!==m.t&&ee($,"title",m.t=E),N!==m.a&&((m.a=N)!=null?k.style.setProperty("width",N):k.style.removeProperty("width")),m},{e:void 0,t:void 0,a:void 0}),f})()};Me(["click"]);const lb={initialZoom:1,initialPan:{x:0,y:0},bounds:{minZoom:.1,maxZoom:10},zoomStep:1.2,enableKeyboardShortcuts:!0,enableWheelZoom:!0,enablePan:!0},db=(t={})=>{const e={...lb,...t},[r,s]=Y(e.initialZoom),[n,a]=Y(e.initialPan),[l,o]=Y(!1),[d,g]=Y({x:0,y:0}),[u,c]=Y({x:0,y:0}),b=oe(()=>{const m=r(),S=n();return`translate(${S.x}, ${S.y}) scale(${m})`}),f=oe(()=>({zoom:r(),pan:n(),isDragging:l()})),_=m=>Math.max(e.bounds.minZoom,Math.min(e.bounds.maxZoom,m)),p=m=>{if(!e.bounds.panBounds)return m;const S=e.bounds.panBounds;return{x:Math.max(S.minX,Math.min(S.maxX,m.x)),y:Math.max(S.minY,Math.min(S.maxY,m.y))}},x=(m=e.zoomStep)=>{s(S=>_(S*m))},$=(m=e.zoomStep)=>{s(S=>_(S/m))},L=m=>{s(_(m))},A=m=>{const N=800/m.width,j=600/m.height,H=Math.min(N,j)*.9;if(s(_(H)),m.x!==void 0&&m.y!==void 0){const q=400-(m.x+m.width/2)*H,G=600/2-(m.y+m.height/2)*H;a(p({x:q,y:G}))}},D=m=>{a(p(m))},I=m=>{const S=n();D({x:S.x+m.x,y:S.y+m.y})},V=()=>{a({x:0,y:0})},T=()=>{s(e.initialZoom),a(e.initialPan),o(!1)},R=m=>{if(!e.enablePan)return;m.preventDefault(),o(!0);const S=n();g({x:m.clientX,y:m.clientY}),c(S)},y=m=>{if(!l()||!e.enablePan)return;m.preventDefault();const S=d(),E=u(),N={x:E.x+(m.clientX-S.x),y:E.y+(m.clientY-S.y)};a(p(N))},h=m=>{l()&&(m.preventDefault(),o(!1))},w=m=>{if(!e.enableWheelZoom)return;m.preventDefault();const E=m.deltaY>0?1/e.zoomStep:e.zoomStep,N=m.target.getBoundingClientRect(),j=m.clientX-N.left,H=m.clientY-N.top,q=r(),G=n(),W=_(q*E);if(W!==q){const Q=W/q,te={x:j-(j-G.x)*Q,y:H-(H-G.y)*Q};s(W),a(p(te))}},k=m=>{if(e.enableKeyboardShortcuts&&!(m.ctrlKey||m.metaKey||m.altKey))switch(m.key){case"+":case"=":m.preventDefault(),x();break;case"-":m.preventDefault(),$();break;case"0":m.preventDefault(),T();break;case"ArrowUp":m.preventDefault(),I({x:0,y:50});break;case"ArrowDown":m.preventDefault(),I({x:0,y:-50});break;case"ArrowLeft":m.preventDefault(),I({x:50,y:0});break;case"ArrowRight":m.preventDefault(),I({x:-50,y:0});break}};return e.enableKeyboardShortcuts&&(document.addEventListener("keydown",k),It(()=>{document.removeEventListener("keydown",k)})),{zoom:r,pan:n,isDragging:l,transform:b,viewportState:f,zoomIn:x,zoomOut:$,zoomTo:L,zoomToFit:A,panTo:D,panBy:I,centerView:V,resetView:T,handleMouseDown:R,handleMouseMove:y,handleMouseUp:h,handleWheel:w,cursor:oe(()=>l()?"grabbing":"grab")}};var cb=C('<div class="flex items-center justify-center gap-2 p-2 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700"><div class="flex items-center gap-1 px-2 py-1 bg-gray-50 dark:bg-gray-700 rounded-md"><button class="p-1 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600 rounded transition-colors"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM13 10H7"></path></svg></button><span class="text-sm font-mono text-gray-700 dark:text-gray-300 min-w-12 text-center">%</span><button class="p-1 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600 rounded transition-colors"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v6m3-3H7"></path></svg></button></div><button class="p-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600 rounded transition-colors"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path></svg></button><button class="p-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600 rounded transition-colors"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg></button><div class="flex items-center gap-2 px-2 py-1 bg-gray-50 dark:bg-gray-700 rounded-md ml-2"><span class="text-xs text-gray-500 dark:text-gray-400">Pan:</span><span class="text-xs font-mono text-gray-700 dark:text-gray-300"></span></div><div class="flex items-center gap-1 px-2 py-1 bg-gray-50 dark:bg-gray-700 rounded-md ml-2"><span class="text-xs text-gray-500 dark:text-gray-400">: +/- <!>, ↑↓←→ <!>, 0 '),gb=C('<button class="p-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600 rounded transition-colors"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4">');const ub=t=>{const[e]=we("common"),r=oe(()=>Math.round(t.viewportState.zoom*100)),s=oe(()=>{const n=t.viewportState.pan;return`${Math.round(n.x)}, ${Math.round(n.y)}`});return(()=>{var n=cb(),a=n.firstChild,l=a.firstChild,o=l.nextSibling,d=o.firstChild,g=o.nextSibling,u=a.nextSibling,c=u.nextSibling,b=c.nextSibling,f=b.firstChild,_=f.nextSibling,p=b.nextSibling,x=p.firstChild,$=x.firstChild,L=$.nextSibling,A=L.nextSibling,D=A.nextSibling;return D.nextSibling,Ae(l,"click",t.onZoomOut,!0),i(o,r,d),Ae(g,"click",t.onZoomIn,!0),i(n,(()=>{var I=Ee(()=>!!t.showFitToContent);return()=>I()&&(()=>{var V=gb();return Ae(V,"click",t.onZoomToFit,!0),F(()=>ee(V,"title",e("fit_to_content"))),V})()})(),u),Ae(u,"click",t.onCenterView,!0),Ae(c,"click",t.onResetView,!0),i(_,s),i(x,()=>e("shortcuts"),$),i(x,()=>e("zoom"),L),i(x,()=>e("pan"),D),i(x,()=>e("reset"),null),F(I=>{var V=e("zoom_out"),T=e("zoom_in"),R=e("center_view"),y=e("reset_view");return V!==I.e&&ee(l,"title",I.e=V),T!==I.t&&ee(g,"title",I.t=T),R!==I.a&&ee(u,"title",I.a=R),y!==I.o&&ee(c,"title",I.o=y),I},{e:void 0,t:void 0,a:void 0,o:void 0}),n})()};Me(["click"]);var fb=C('<div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100">ms'),hb=C('<div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100">'),pb=C('<div class="h-full flex flex-col"><div class="flex-1 flex"><div class="flex-1 bg-white dark:bg-gray-900"><svg class="w-full h-96 border border-gray-200 dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-gray-800"width=100% height=400 viewBox="0 0 800 400"><g><defs><pattern id=grid width=20 height=20 patternUnits=userSpaceOnUse><path d="M 20 0 L 0 0 0 20"fill=none stroke=#e0e0e0 stroke-width=1></path></pattern></defs><rect width=800 height=400 fill=url(#grid)></rect></g></svg></div><div class="w-80 bg-white dark:bg-gray-800 border-l border-gray-200 dark:border-gray-700 overflow-y-auto"><div class=p-4><h4 class="text-lg font-medium text-gray-900 dark:text-gray-100 mb-4"></h4><div class="grid grid-cols-2 gap-3 mb-6"><div class="bg-gray-50 dark:bg-gray-700 p-3 rounded text-center"><div class="text-2xl font-bold text-green-600 dark:text-green-400"></div><div class="text-xs text-gray-600 dark:text-gray-400 mt-1"></div></div><div class="bg-gray-50 dark:bg-gray-700 p-3 rounded text-center"><div class="text-2xl font-bold text-gray-900 dark:text-gray-100"></div><div class="text-xs text-gray-600 dark:text-gray-400 mt-1"></div></div><div class="bg-gray-50 dark:bg-gray-700 p-3 rounded text-center"><div class="text-2xl font-bold text-gray-900 dark:text-gray-100"></div><div class="text-xs text-gray-600 dark:text-gray-400 mt-1"></div></div><div class="bg-gray-50 dark:bg-gray-700 p-3 rounded text-center"><div class="text-2xl font-bold text-red-600 dark:text-red-400">%</div><div class="text-xs text-gray-600 dark:text-gray-400 mt-1"></div></div></div><div class=space-y-3><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100"></span></div><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100">'),mb=C('<svg><g class=sheet-group><rect fill="rgba(200, 200, 200, 0.3)"stroke=#e5e7eb stroke-width=2></rect><text font-size=12 fill=#6b7280> </svg>',!1,!0,!1),_b=C('<svg><g class=part-group><rect fill="rgba(59, 130, 246, 0.7)"stroke=#3b82f6 stroke-width=1></svg>',!1,!0,!1);const bb=t=>{const[e]=we("nesting"),r=db({initialZoom:1,bounds:{minZoom:.1,maxZoom:10},enableKeyboardShortcuts:!0,enableWheelZoom:!0,enablePan:!0}),s=oe(()=>t.result.sheets?.reduce((d,g)=>d+g.width*g.height,0)||0),n=oe(()=>t.result.placedParts||0),a=oe(()=>{const d=s(),g=n();return d===0?0:(d-g)/d*100}),l=oe(()=>{const d=t.result.sheets||[];if(d.length===0)return{width:800,height:400,x:0,y:0};let g=1/0,u=1/0,c=-1/0,b=-1/0;return d.forEach(f=>{const _=f.x||0,p=f.y||0;g=Math.min(g,_),u=Math.min(u,p),c=Math.max(c,_+f.width),b=Math.max(b,p+f.height)}),{x:g,y:u,width:c-g,height:b-u}}),o=()=>{r.zoomToFit(l())};return(()=>{var d=pb(),g=d.firstChild,u=g.firstChild,c=u.firstChild,b=c.firstChild,f=b.firstChild;f.nextSibling;var _=u.nextSibling,p=_.firstChild,x=p.firstChild,$=x.nextSibling,L=$.firstChild,A=L.firstChild,D=A.nextSibling,I=L.nextSibling,V=I.firstChild,T=V.nextSibling,R=I.nextSibling,y=R.firstChild,h=y.nextSibling,w=R.nextSibling,k=w.firstChild,m=k.firstChild,S=k.nextSibling,E=$.nextSibling,N=E.firstChild,j=N.firstChild,H=j.firstChild,q=j.nextSibling,G=N.nextSibling,W=G.firstChild,Q=W.firstChild,te=W.nextSibling;return i(d,P(ub,{get viewportState(){return r.viewportState()},get onZoomIn(){return r.zoomIn},get onZoomOut(){return r.zoomOut},onZoomToFit:o,get onResetView(){return r.resetView},get onCenterView(){return r.centerView},showFitToContent:!0,showPanControls:!0}),g),Ae(c,"wheel",r.handleWheel),Ae(c,"mouseleave",r.handleMouseUp),Ae(c,"mouseup",r.handleMouseUp,!0),Ae(c,"mousemove",r.handleMouseMove,!0),Ae(c,"mousedown",r.handleMouseDown,!0),i(b,P(Oe,{get each(){return t.result.sheets||[]},children:(B,U)=>(()=>{var M=mb(),z=M.firstChild,J=z.nextSibling,ie=J.firstChild;return i(J,()=>e("sheet"),ie),i(J,()=>U()+1,null),F(X=>{var le=B.x||0,me=B.y||0,ge=B.width,ce=B.height,ve=(B.x||0)+10,_e=(B.y||0)+25;return le!==X.e&&ee(z,"x",X.e=le),me!==X.t&&ee(z,"y",X.t=me),ge!==X.a&&ee(z,"width",X.a=ge),ce!==X.o&&ee(z,"height",X.o=ce),ve!==X.i&&ee(J,"x",X.i=ve),_e!==X.n&&ee(J,"y",X.n=_e),X},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),M})()}),null),i(b,P(Oe,{get each(){return t.result.placements||[]},children:B=>(()=>{var U=_b(),M=U.firstChild;return F(z=>{var J=B.x,ie=B.y,X=B.width||50,le=B.height||50,me=`rotate(${B.rotation||0} ${B.x+(B.width||50)/2} ${B.y+(B.height||50)/2})`;return J!==z.e&&ee(M,"x",z.e=J),ie!==z.t&&ee(M,"y",z.t=ie),X!==z.a&&ee(M,"width",z.a=X),le!==z.o&&ee(M,"height",z.o=le),me!==z.i&&ee(M,"transform",z.i=me),z},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),U})()}),null),i(x,()=>e("statistics")),i(A,(()=>{var B=Ee(()=>!!t.result.efficiency);return()=>B()?`${(t.result.efficiency*100).toFixed(1)}%`:"N/A"})()),i(D,()=>e("material_efficiency")),i(V,()=>t.result.fitness?.toFixed(2)||"N/A"),i(T,()=>e("fitness_score")),i(y,()=>t.result.sheets?.length||0),i(h,()=>e("sheets_used")),i(k,()=>a().toFixed(1),m),i(S,()=>e("material_waste")),i(j,()=>e("total_parts_placed"),H),i(q,()=>t.result.placedParts||0),i(W,()=>e("total_material_used"),Q),i(te,()=>s().toFixed(2)),i(E,P(Z,{get when(){return t.result.generationTime},get children(){var B=fb(),U=B.firstChild,M=U.firstChild,z=U.nextSibling,J=z.firstChild;return i(U,()=>e("generation_time"),M),i(z,()=>t.result.generationTime,J),B}}),null),i(E,P(Z,{get when(){return t.result.generation},get children(){var B=hb(),U=B.firstChild,M=U.firstChild,z=U.nextSibling;return i(U,()=>e("generation_number"),M),i(z,()=>t.result.generation),B}}),null),F(B=>{var U=r.cursor(),M=r.transform();return U!==B.e&&((B.e=U)!=null?c.style.setProperty("cursor",U):c.style.removeProperty("cursor")),M!==B.t&&ee(b,"transform",B.t=M),B},{e:void 0,t:void 0}),d})()};Me(["mousedown","mousemove","mouseup"]);var xb=C('<div class="h-full flex flex-col"><div class="flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"><button class="inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors duration-200">← </button><h3 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h3><div class="flex gap-2"><button class="inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors duration-200">📤 '),yb=C('<div class="flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"><h3 class="text-lg font-medium text-gray-900 dark:text-gray-100"> (<!>)</h3><div class="text-sm text-gray-600 dark:text-gray-400"><label>'),vb=C('<div class="flex-1 overflow-y-auto p-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">'),$b=C('<div class="h-full flex flex-col">'),kb=C('<span class="text-xs bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 px-2 py-1 rounded-full">'),wb=C('<div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100">'),Sb=C('<div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-lg transition-shadow duration-200"><div class="h-32 bg-gray-50 dark:bg-gray-700 flex items-center justify-center cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors"><div class=text-center><div class="text-2xl mb-1">🎯</div><div class="text-sm text-gray-600 dark:text-gray-400"></div></div></div><div class=p-4><div class="flex items-center justify-between mb-3"><h4 class="font-medium text-gray-900 dark:text-gray-100"> #</h4></div><div class="space-y-2 mb-4"><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-green-600 dark:text-green-400"></span></div><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100"></span></div><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100"></span></div></div><div class="flex justify-between items-center pt-2 border-t border-gray-200 dark:border-gray-700"><button class="text-blue-600 dark:text-blue-400 hover:underline text-sm"></button><div class="flex gap-2"><button class="text-blue-600 dark:text-blue-400 hover:underline text-sm"></button><button class="text-red-600 dark:text-red-400 hover:underline text-sm">');const Cb=()=>{const[t]=we("nesting"),[e,r]=Y(null),[s,n]=Y("grid"),a=oe(()=>[...v.app.nests].sort((b,f)=>b.efficiency!==f.efficiency?(f.efficiency||0)-(b.efficiency||0):(f.fitness||0)-(b.fitness||0))),l=b=>{r(b),n("detail")},o=()=>{r(null),n("grid")},d=async b=>{if(re.isAvailable)try{const f=await re.saveFileDialog({title:t("export_result"),defaultPath:`nest_result_${b.id}.svg`,filters:[{name:"SVG Files",extensions:["svg"]},{name:"DXF Files",extensions:["dxf"]},{name:"All Files",extensions:["*"]}]});if(f.canceled||!f.filePath)return;await re.exportNestResult(b,f.filePath)}catch(f){console.error("Failed to export result:",f),O.setError(t("export_failed"))}},g=b=>{const f=v.app.nests.filter(_=>_.id!==b.id);O.setNests(f)},u=b=>b?`${(b*100).toFixed(1)}%`:"N/A",c=b=>b?b.toFixed(2):"N/A";return(()=>{var b=$b();return i(b,P(Z,{get when(){return Ee(()=>s()==="detail")()&&e()},get children(){var f=xb(),_=f.firstChild,p=_.firstChild;p.firstChild;var x=p.nextSibling,$=x.nextSibling,L=$.firstChild;return L.firstChild,p.$$click=o,i(p,()=>t("back_to_results"),null),i(x,()=>t("result_details")),L.$$click=()=>d(e()),i(L,()=>t("export"),null),i(f,P(bb,{get result(){return e()}}),null),f}}),null),i(b,P(Z,{get when(){return s()==="grid"},get children(){return[(()=>{var f=yb(),_=f.firstChild,p=_.firstChild,x=p.nextSibling;x.nextSibling;var $=_.nextSibling,L=$.firstChild;return i(_,()=>t("nesting_results"),p),i(_,()=>a().length,x),i(L,()=>t("sorted_by_efficiency")),f})(),(()=>{var f=vb();return i(f,P(Oe,{get each(){return a()},children:(_,p)=>(()=>{var x=Sb(),$=x.firstChild,L=$.firstChild,A=L.firstChild,D=A.nextSibling,I=$.nextSibling,V=I.firstChild,T=V.firstChild,R=T.firstChild,y=V.nextSibling,h=y.firstChild,w=h.firstChild,k=w.firstChild,m=w.nextSibling,S=h.nextSibling,E=S.firstChild,N=E.firstChild,j=E.nextSibling,H=S.nextSibling,q=H.firstChild,G=q.firstChild,W=q.nextSibling,Q=y.nextSibling,te=Q.firstChild,B=te.nextSibling,U=B.firstChild,M=U.nextSibling;return $.$$click=()=>l(_),i(D,()=>t("click_to_view")),i(T,()=>t("result"),R),i(T,()=>p()+1,null),i(V,P(Z,{get when(){return p()===0},get children(){var z=kb();return i(z,()=>t("best")),z}}),null),i(w,()=>t("efficiency"),k),i(m,()=>u(_.efficiency)),i(E,()=>t("fitness"),N),i(j,()=>c(_.fitness)),i(q,()=>t("sheets_used"),G),i(W,()=>_.sheets?.length||0),i(y,P(Z,{get when(){return _.placedParts},get children(){var z=wb(),J=z.firstChild,ie=J.firstChild,X=J.nextSibling;return i(J,()=>t("parts_placed"),ie),i(X,()=>_.placedParts),z}}),null),te.$$click=()=>l(_),i(te,()=>t("view_details")),U.$$click=()=>d(_),i(U,()=>t("export")),M.$$click=()=>g(_),i(M,()=>t("delete")),x})()})),f})()]}}),null),b})()};Me(["click"]);var Pb=C('<button class="inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors duration-200">🗑️ '),Lb=C('<div class="grid grid-cols-1 lg:grid-cols-2 gap-4 p-4">'),Ab=C('<div class="h-full flex flex-col"><div class="flex items-center justify-between p-5 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"><h2 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h2><div class="flex gap-2"><button class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200">▶️ </button><button class="inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200">⏹️ </button></div></div><div class="flex items-center justify-between p-4 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700"><div class="flex gap-6"><div class="flex items-center gap-2"><span class="text-sm text-gray-600 dark:text-gray-400">:</span><span class="text-sm font-medium text-gray-900 dark:text-gray-100"></span></div><div class="flex items-center gap-2"><span class="text-sm text-gray-600 dark:text-gray-400">:</span><span class="text-sm font-medium text-gray-900 dark:text-gray-100"></span></div><div class="flex items-center gap-2"><span class="text-sm text-gray-600 dark:text-gray-400">:</span><span class="text-sm font-medium text-gray-900 dark:text-gray-100"></span></div></div></div><div class="flex-1 overflow-hidden">'),Nb=C('<p class="text-amber-600 dark:text-amber-400">'),Eb=C('<div class="h-full flex flex-col items-center justify-center text-center gap-4 p-8"><div class="text-6xl opacity-30">🎯</div><h3 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h3><p class="text-gray-600 dark:text-gray-400">');const Mb=()=>{const[t]=we("nesting"),e=oe(()=>v.app.parts.length>0&&v.app.sheets.length>0&&!v.process.isNesting),r=oe(()=>v.app.nests.length>0),s=async()=>{if(e())try{await tr.startNesting()}catch(o){console.error("Failed to start nesting:",o)}},n=async()=>{if(v.process.isNesting)try{await tr.stopNesting()}catch(o){console.error("Failed to stop nesting:",o)}},a=()=>{O.setNests([])},l=oe(()=>v.app.parts.filter(o=>o.quantity>0).length);return(()=>{var o=Ab(),d=o.firstChild,g=d.firstChild,u=g.nextSibling,c=u.firstChild;c.firstChild;var b=c.nextSibling;b.firstChild;var f=d.nextSibling,_=f.firstChild,p=_.firstChild,x=p.firstChild,$=x.firstChild,L=x.nextSibling,A=p.nextSibling,D=A.firstChild,I=D.firstChild,V=D.nextSibling,T=A.nextSibling,R=T.firstChild,y=R.firstChild,h=R.nextSibling,w=f.nextSibling;return i(g,()=>t("nesting_title")),c.$$click=s,i(c,()=>t("start_nesting"),null),b.$$click=n,i(b,()=>t("stop_nesting"),null),i(u,P(Z,{get when(){return r()&&!v.process.isNesting},get children(){var k=Pb();return k.firstChild,k.$$click=a,i(k,()=>t("clear_results"),null),F(()=>ee(k,"title",t("clear_results"))),k}}),null),i(x,()=>t("parts_to_nest"),$),i(L,l),i(D,()=>t("available_sheets"),I),i(V,()=>v.app.sheets.length),i(R,()=>t("results_count"),y),i(h,()=>v.app.nests.length),i(w,P(Z,{get when(){return v.process.isNesting},get children(){var k=Lb();return i(k,P(J_,{}),null),i(k,P(ob,{}),null),k}}),null),i(w,P(Z,{get when(){return r()},get fallback(){return(()=>{var k=Eb(),m=k.firstChild,S=m.nextSibling,E=S.nextSibling;return i(S,()=>t("no_nesting_results")),i(E,()=>t("start_nesting_to_see_results")),i(k,P(Z,{get when(){return!e()},get children(){var N=Nb();return i(N,()=>t("add_parts_and_sheets_first")),N}}),null),k})()},get children(){return P(Cb,{})}}),null),F(k=>{var m=!e(),S=e()?t("start_nesting"):t("cannot_start_nesting"),E=!v.process.isNesting,N=t("stop_nesting");return m!==k.e&&(c.disabled=k.e=m),S!==k.t&&ee(c,"title",k.t=S),E!==k.a&&(b.disabled=k.a=E),N!==k.o&&ee(b,"title",k.o=N),k},{e:void 0,t:void 0,a:void 0,o:void 0}),o})()};Me(["click"]);var St=C('<span class="text-red-500 dark:text-red-400 text-xs mt-1 block">'),Rb=C('<div class="text-sm text-gray-600 dark:text-gray-400">: <!> mm'),Ib=C('<div class="p-6 overflow-y-auto max-h-[calc(90vh-120px)]"><div class=space-y-6><div class=space-y-4><h4 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h4><div class=space-y-2><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"for=sheet-name>:</label><input id=sheet-name type=text class="block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"></div><div class=space-y-2><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"for=material>:</label><select id=material class="block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"></select></div></div><div class=space-y-4><h4 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h4><div class="grid grid-cols-3 gap-2 mb-4"></div><div class="flex items-end gap-2"><div class=flex-1><label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"for=width> (mm):</label><input id=width type=number min=1 step=0.1></div><button type=button class="px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition-colors duration-200 mb-1">⇄</button><div class=flex-1><label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"for=height> (mm):</label><input id=height type=number min=1 step=0.1></div></div><div class="text-sm text-gray-600 dark:text-gray-400 mt-2">: <!> mm²</div></div><div class=space-y-4><h4 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h4><div class="grid grid-cols-3 gap-4"><div class=space-y-2><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"for=thickness> (mm):</label><input id=thickness type=number min=0.1 step=0.1></div><div class=space-y-2><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"for=quantity>:</label><input id=quantity type=number min=1></div><div class=space-y-2><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"for=margin> (mm):</label><input id=margin type=number min=0 step=0.1></div></div></div><div class=space-y-4><h4 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h4><div class="flex items-center gap-6"><div class=flex-shrink-0><div class="bg-white dark:bg-gray-600 border-2 border-gray-300 dark:border-gray-500 rounded shadow-sm relative"><div class="absolute border border-dashed border-gray-400 dark:border-gray-400 rounded-sm"></div></div></div><div class=space-y-2><div class="text-sm text-gray-900 dark:text-gray-100"> × <!> mm</div><div class="text-sm text-gray-600 dark:text-gray-400">: <!> mm²'),Fb=C('<div class="flex items-center justify-end gap-3 p-6 border-t border-gray-200 dark:border-gray-700"><button type=button class="px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition-colors duration-200"></button><button type=button class="px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition-colors duration-200">'),Db=C("<option>"),Ob=C('<button type=button class="px-2 py-1 text-xs font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded hover:bg-gray-200 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition-colors duration-200">');const jb=t=>{const[e]=we("sheets"),[r,s]=Y(""),[n,a]=Y(200),[l,o]=Y(200),[d,g]=Y(3),[u,c]=Y(1),[b,f]=Y(5),[_,p]=Y("Generic"),[x,$]=Y({}),L=["Generic","Wood - Plywood","Wood - MDF","Wood - Hardwood","Metal - Aluminum","Metal - Steel","Metal - Brass","Plastic - Acrylic","Plastic - ABS","Cardboard","Fabric","Leather","Paper"],A=[{name:"A4",width:210,height:297},{name:"A3",width:297,height:420},{name:"A2",width:420,height:594},{name:"A1",width:594,height:841},{name:"Letter",width:216,height:279},{name:"Legal",width:216,height:356},{name:'12×12"',width:305,height:305},{name:'24×24"',width:610,height:610},{name:'48×24"',width:1219,height:610}];mt(()=>{const y=t.sheet;y?(s(y.name||""),a(y.width),o(y.height),g(y.thickness||3),c(y.quantity||1),f(y.margin||5),p(y.material||"Generic")):(s(""),a(200),o(200),g(3),c(1),f(5),p("Generic")),$({})});const D=()=>{const y={};return n()<=0&&(y.width=e("width_must_be_positive")),l()<=0&&(y.height=e("height_must_be_positive")),d()<=0&&(y.thickness=e("thickness_must_be_positive")),u()<=0&&(y.quantity=e("quantity_must_be_positive")),b()<0&&(y.margin=e("margin_cannot_be_negative")),$(y),Object.keys(y).length===0},I=()=>{if(!D())return;const y={id:t.sheet?.id||`sheet_${Date.now()}`,name:r().trim()||`Sheet ${Date.now()}`,width:n(),height:l(),thickness:d(),quantity:u(),margin:b(),material:_()};t.onSave(y)},V=y=>{a(y.width),o(y.height),r().trim()||s(y.name)},T=()=>{const y=n();a(l()),o(y)},R=()=>(n()*l()).toFixed(0);return[(()=>{var y=Ib(),h=y.firstChild,w=h.firstChild,k=w.firstChild,m=k.nextSibling,S=m.firstChild,E=S.firstChild,N=S.nextSibling,j=m.nextSibling,H=j.firstChild,q=H.firstChild,G=H.nextSibling,W=w.nextSibling,Q=W.firstChild,te=Q.nextSibling,B=te.nextSibling,U=B.firstChild,M=U.firstChild,z=M.firstChild,J=M.nextSibling,ie=U.nextSibling,X=ie.nextSibling,le=X.firstChild,me=le.firstChild,ge=le.nextSibling,ce=B.nextSibling,ve=ce.firstChild,_e=ve.nextSibling;_e.nextSibling;var Ne=W.nextSibling,$e=Ne.firstChild,Pe=$e.nextSibling,ae=Pe.firstChild,be=ae.firstChild,ue=be.firstChild,xe=be.nextSibling,ye=ae.nextSibling,de=ye.firstChild,fe=de.firstChild,Le=de.nextSibling,Fe=ye.nextSibling,He=Fe.firstChild,ze=He.firstChild,Je=He.nextSibling,nt=Ne.nextSibling,Ke=nt.firstChild,qe=Ke.nextSibling,Ze=qe.firstChild,Be=Ze.firstChild,ne=Be.firstChild,Se=Ze.nextSibling,We=Se.firstChild,ot=We.firstChild,lt=ot.nextSibling;lt.nextSibling;var Qe=We.nextSibling,dt=Qe.firstChild,Xe=dt.nextSibling;return Xe.nextSibling,i(k,()=>e("basic_information")),i(S,()=>e("sheet_name"),E),N.$$input=K=>s(K.currentTarget.value),i(H,()=>e("material"),q),G.addEventListener("change",K=>p(K.currentTarget.value)),i(G,P(Oe,{each:L,children:K=>(()=>{var Ie=Db();return Ie.value=K,i(Ie,K),Ie})()})),i(Q,()=>e("dimensions")),i(te,P(Oe,{each:A,children:K=>(()=>{var Ie=Ob();return Ie.$$click=()=>V(K),i(Ie,()=>K.name),F(()=>ee(Ie,"title",`${K.width} × ${K.height} mm`)),Ie})()})),i(M,()=>e("width"),z),J.$$input=K=>a(parseFloat(K.currentTarget.value)||0),i(U,P(Z,{get when(){return x().width},get children(){var K=St();return i(K,()=>x().width),K}}),null),ie.$$click=T,i(le,()=>e("height"),me),ge.$$input=K=>o(parseFloat(K.currentTarget.value)||0),i(X,P(Z,{get when(){return x().height},get children(){var K=St();return i(K,()=>x().height),K}}),null),i(ce,()=>e("area"),ve),i(ce,R,_e),i($e,()=>e("properties")),i(be,()=>e("thickness"),ue),xe.$$input=K=>g(parseFloat(K.currentTarget.value)||0),i(ae,P(Z,{get when(){return x().thickness},get children(){var K=St();return i(K,()=>x().thickness),K}}),null),i(de,()=>e("quantity"),fe),Le.$$input=K=>c(parseInt(K.currentTarget.value)||0),i(ye,P(Z,{get when(){return x().quantity},get children(){var K=St();return i(K,()=>x().quantity),K}}),null),i(He,()=>e("margin"),ze),Je.$$input=K=>f(parseFloat(K.currentTarget.value)||0),i(Fe,P(Z,{get when(){return x().margin},get children(){var K=St();return i(K,()=>x().margin),K}}),null),i(Ke,()=>e("preview")),Be.style.setProperty("width","120px"),Be.style.setProperty("max-height","120px"),i(We,n,ot),i(We,l,lt),i(Qe,()=>e("area"),dt),i(Qe,R,Xe),i(Se,P(Z,{get when(){return b()>0},get children(){var K=Rb(),Ie=K.firstChild,Te=Ie.nextSibling;return Te.nextSibling,i(K,()=>e("margin"),Ie),i(K,b,Te),K}}),null),F(K=>{var Ie=e("enter_sheet_name"),Te=`block w-full px-3 py-2 border rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 ${x().width?"border-red-500":"border-gray-300 dark:border-gray-600"}`,Ve=e("swap_dimensions"),Ye=`block w-full px-3 py-2 border rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 ${x().height?"border-red-500":"border-gray-300 dark:border-gray-600"}`,et=`block w-full px-3 py-2 border rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 ${x().thickness?"border-red-500":"border-gray-300 dark:border-gray-600"}`,Dt=`block w-full px-3 py-2 border rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 ${x().quantity?"border-red-500":"border-gray-300 dark:border-gray-600"}`,bt=`block w-full px-3 py-2 border rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 ${x().margin?"border-red-500":"border-gray-300 dark:border-gray-600"}`,gt=`${n()} / ${l()}`,xt=`${Math.max(b()/Math.max(n(),l())*100,2)}%`,ut=`${Math.max(b()/Math.max(n(),l())*100,2)}%`,yt=`${Math.max(b()/Math.max(n(),l())*100,2)}%`,vt=`${Math.max(b()/Math.max(n(),l())*100,2)}%`;return Ie!==K.e&&ee(N,"placeholder",K.e=Ie),Te!==K.t&&ke(J,K.t=Te),Ve!==K.a&&ee(ie,"title",K.a=Ve),Ye!==K.o&&ke(ge,K.o=Ye),et!==K.i&&ke(xe,K.i=et),Dt!==K.n&&ke(Le,K.n=Dt),bt!==K.s&&ke(Je,K.s=bt),gt!==K.h&&((K.h=gt)!=null?Be.style.setProperty("aspect-ratio",gt):Be.style.removeProperty("aspect-ratio")),xt!==K.r&&((K.r=xt)!=null?ne.style.setProperty("top",xt):ne.style.removeProperty("top")),ut!==K.d&&((K.d=ut)!=null?ne.style.setProperty("left",ut):ne.style.removeProperty("left")),yt!==K.l&&((K.l=yt)!=null?ne.style.setProperty("right",yt):ne.style.removeProperty("right")),vt!==K.u&&((K.u=vt)!=null?ne.style.setProperty("bottom",vt):ne.style.removeProperty("bottom")),K},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0}),F(()=>N.value=r()),F(()=>G.value=_()),F(()=>J.value=n()),F(()=>ge.value=l()),F(()=>xe.value=d()),F(()=>Le.value=u()),F(()=>Je.value=b()),y})(),(()=>{var y=Fb(),h=y.firstChild,w=h.nextSibling;return Ae(h,"click",t.onCancel,!0),i(h,()=>e("cancel")),w.$$click=I,i(w,(()=>{var k=Ee(()=>!!t.sheet);return()=>k()?e("update_sheet"):e("add_sheet")})()),y})()]};Me(["input","click"]);var Tb=C('<div class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"><div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden"><div class="flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700"><h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100"></h3><button class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 text-2xl leading-none">×'),zb=C('<div class="h-full flex flex-col"><div class="p-4 border-b border-gray-200 dark:border-gray-700"><h3 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h3></div><div class="flex-1 overflow-y-auto p-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">'),Bb=C('<div class="h-full flex flex-col"><div class="flex items-center justify-between p-5 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"><h2 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h2><div class="flex gap-2"><button class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200">➕ </button></div></div><div class="flex items-center justify-between p-4 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700"><div class="flex gap-6"><div class="flex items-center gap-2"><span class="text-sm text-gray-600 dark:text-gray-400">:</span><span class="text-sm font-medium text-gray-900 dark:text-gray-100"></span></div><div class="flex items-center gap-2"><span class="text-sm text-gray-600 dark:text-gray-400">:</span><span class="text-sm font-medium text-gray-900 dark:text-gray-100"> mm²</span></div></div></div><div class="flex-1 overflow-hidden">'),Vb=C('<div class="h-full flex flex-col items-center justify-center text-center gap-6 p-8"><div class="text-6xl opacity-30">📄</div><div><h3 class="text-lg font-medium text-gray-900 dark:text-gray-100 mb-2"></h3><p class="text-gray-600 dark:text-gray-400"></p></div><div class="w-full max-w-2xl"><h4 class="text-md font-medium text-gray-900 dark:text-gray-100 mb-4"></h4><div class="grid grid-cols-3 gap-3">'),Ub=C('<button class="bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-3 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-center"><div class="font-medium text-gray-900 dark:text-gray-100 mb-1"></div><div class="text-sm text-gray-600 dark:text-gray-400"> × '),Hb=C('<div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100"> mm'),Wb=C('<div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-lg transition-shadow duration-200"><div class="h-32 bg-gray-50 dark:bg-gray-700 flex items-center justify-center p-4"><div class=relative><div class="bg-white dark:bg-gray-600 border-2 border-gray-300 dark:border-gray-500 rounded shadow-sm"><div class="absolute inset-1 border border-dashed border-gray-400 dark:border-gray-400 rounded-sm"></div></div></div></div><div class=p-4><div class="font-medium text-gray-900 dark:text-gray-100 mb-3"></div><div class="space-y-2 mb-4"><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100"></span></div><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100"></span></div><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100"></span></div></div><div class="flex justify-between items-center pt-2 border-t border-gray-200 dark:border-gray-700"><button class="text-blue-600 dark:text-blue-400 hover:underline text-sm"></button><button class="text-red-600 dark:text-red-400 hover:underline text-sm">');const Kb=()=>{const[t]=we("sheets"),[e,r]=Y(!1),[s,n]=Y(null),a=oe(()=>v.app.sheets.length),l=oe(()=>v.app.sheets.reduce((p,x)=>p+x.width*x.height,0)),o=[{name:"A4",width:210,height:297,units:"mm"},{name:"A3",width:297,height:420,units:"mm"},{name:"A2",width:420,height:594,units:"mm"},{name:"A1",width:594,height:841,units:"mm"},{name:"Letter",width:216,height:279,units:"mm"},{name:"Legal",width:216,height:356,units:"mm"},{name:'12x12"',width:305,height:305,units:"mm"},{name:'24x24"',width:610,height:610,units:"mm"},{name:'48x24"',width:1219,height:610,units:"mm"}],d=()=>{n(null),r(!0)},g=p=>{n(p),r(!0)},u=p=>{const x=v.app.sheets.filter($=>$.id!==p);O.setSheets(x)},c=p=>{s()?O.updateSheet(p.id,p):O.addSheet(p),r(!1),n(null)},b=()=>{r(!1),n(null)},f=p=>{const x={name:p.name,width:p.width,height:p.height,thickness:3,quantity:1,margin:5,material:"Generic"};O.addSheet(x)},_=p=>`${p.width} × ${p.height} mm`;return(()=>{var p=Bb(),x=p.firstChild,$=x.firstChild,L=$.nextSibling,A=L.firstChild;A.firstChild;var D=x.nextSibling,I=D.firstChild,V=I.firstChild,T=V.firstChild,R=T.firstChild,y=T.nextSibling,h=V.nextSibling,w=h.firstChild,k=w.firstChild,m=w.nextSibling,S=m.firstChild,E=D.nextSibling;return i($,()=>t("sheets_title")),A.$$click=d,i(A,()=>t("add_sheet"),null),i(T,()=>t("total_sheets"),R),i(y,a),i(w,()=>t("total_area"),k),i(m,()=>l().toFixed(0),S),i(p,P(Z,{get when(){return e()},get children(){var N=Tb(),j=N.firstChild,H=j.firstChild,q=H.firstChild,G=q.nextSibling;return i(q,(()=>{var W=Ee(()=>!!s());return()=>W()?t("edit_sheet"):t("add_new_sheet")})()),G.$$click=b,i(j,P(jb,{get sheet(){return s()},onSave:c,onCancel:b}),null),N}}),E),i(E,P(Z,{get when(){return a()>0},get fallback(){return(()=>{var N=Vb(),j=N.firstChild,H=j.nextSibling,q=H.firstChild,G=q.nextSibling,W=H.nextSibling,Q=W.firstChild,te=Q.nextSibling;return i(q,()=>t("no_sheets_loaded")),i(G,()=>t("add_sheets_to_get_started")),i(Q,()=>t("quick_templates")),i(te,P(Oe,{each:o,children:B=>(()=>{var U=Ub(),M=U.firstChild,z=M.nextSibling,J=z.firstChild;return U.$$click=()=>f(B),i(M,()=>B.name),i(z,()=>B.width,J),i(z,()=>B.height,null),F(()=>ee(U,"title",`${B.width} × ${B.height} ${B.units}`)),U})()})),N})()},get children(){var N=zb(),j=N.firstChild,H=j.firstChild,q=j.nextSibling;return i(H,()=>t("configured_sheets")),i(q,P(Oe,{get each(){return v.app.sheets},children:(G,W)=>(()=>{var Q=Wb(),te=Q.firstChild,B=te.firstChild,U=B.firstChild,M=te.nextSibling,z=M.firstChild,J=z.nextSibling,ie=J.firstChild,X=ie.firstChild,le=X.firstChild,me=X.nextSibling,ge=ie.nextSibling,ce=ge.firstChild,ve=ce.firstChild,_e=ce.nextSibling,Ne=ge.nextSibling,$e=Ne.firstChild,Pe=$e.firstChild,ae=$e.nextSibling,be=J.nextSibling,ue=be.firstChild,xe=ue.nextSibling;return U.style.setProperty("max-width","80px"),U.style.setProperty("max-height","80px"),U.style.setProperty("min-width","40px"),U.style.setProperty("min-height","40px"),i(z,()=>G.name||`${t("sheet")} ${W()+1}`),i(X,()=>t("dimensions"),le),i(me,()=>_(G)),i(ce,()=>t("quantity"),ve),i(_e,()=>G.quantity),i($e,()=>t("material"),Pe),i(ae,()=>G.material||"Generic"),i(J,P(Z,{get when(){return G.margin},get children(){var ye=Hb(),de=ye.firstChild,fe=de.firstChild,Le=de.nextSibling,Fe=Le.firstChild;return i(de,()=>t("margin"),fe),i(Le,()=>G.margin,Fe),ye}}),null),ue.$$click=()=>g(G),i(ue,()=>t("edit")),xe.$$click=()=>u(G.id),i(xe,()=>t("delete")),F(ye=>(ye=`${G.width} / ${G.height}`)!=null?U.style.setProperty("aspect-ratio",ye):U.style.removeProperty("aspect-ratio")),Q})()})),N}})),F(()=>ee(A,"title",t("add_sheet"))),p})()};Me(["click"]);var qb=C('<div class="bg-gray-50 dark:bg-gray-700/50 rounded-lg p-6 space-y-4"><h4 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h4><div class=space-y-3><label for=preset-name class="block text-sm font-medium text-gray-700 dark:text-gray-300"></label><input id=preset-name type=text class="block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"></div><div class=space-y-3><label for=preset-description class="block text-sm font-medium text-gray-700 dark:text-gray-300"></label><textarea id=preset-description rows=3 class="block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"></textarea></div><div class="flex gap-3 pt-2"><button class="px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 border border-gray-300 dark:border-gray-600 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"></button><button class="px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed border border-transparent rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800">'),Gb=C('<div class="grid gap-4 md:grid-cols-2 lg:grid-cols-3">'),Jb=C('<div class=space-y-6><div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 space-y-6"><div class="flex items-center justify-between pb-4 border-b border-gray-200 dark:border-gray-700"><div class="flex items-center gap-3"><div class="w-8 h-8 bg-violet-100 dark:bg-violet-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-violet-600 dark:text-violet-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg></div><h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100"></h3></div><div class="flex gap-3"><button class="inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 border border-gray-300 dark:border-gray-600 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"></path></svg></button><button class="inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 border border-transparent rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg></button></div></div><p class="text-sm text-gray-500 dark:text-gray-400"></p><div class=space-y-4>'),Zb=C('<div class="text-center py-12"><div class="mx-auto w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mb-4"><svg class="w-8 h-8 text-gray-400 dark:text-gray-500"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"></path></svg></div><h4 class="text-lg font-medium text-gray-900 dark:text-gray-100 mb-2"></h4><p class="text-sm text-gray-500 dark:text-gray-400">'),Qb=C('<p class="text-sm text-gray-600 dark:text-gray-400 mb-3 line-clamp-2">'),Xb=C('<div class="flex justify-between text-xs text-gray-500 dark:text-gray-400"><span>:</span><span>'),Yb=C('<div><div class=p-4><div class="flex items-center justify-between mb-3"><h4 class="text-base font-medium text-gray-900 dark:text-gray-100 truncate"></h4><div class="flex gap-1"><button class="p-1.5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors duration-200"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg></button><button class="p-1.5 text-gray-400 hover:text-red-600 dark:hover:text-red-400 rounded-md hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors duration-200"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg></button></div></div><div class="space-y-1 mb-4"><div class="flex justify-between text-xs text-gray-500 dark:text-gray-400"><span>:</span><span></span></div></div><button>');const ex=()=>{const[t]=we("settings"),[e,r]=Y(!1),[s,n]=Y(""),[a,l]=Y(""),[o,d]=Y(""),g=async()=>{const p=s().trim();if(!p){O.setError(t("preset_name_required"));return}try{const x={id:`preset_${Date.now()}`,name:p,description:a().trim(),config:{...v.config},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};O.addPreset(x),re.isAvailable&&await re.savePreset(x),n(""),l(""),r(!1)}catch(x){console.error("Failed to create preset:",x),O.setError(t("preset_create_failed"))}},u=async p=>{const x=Object.values(v.app.presets||{}).find($=>$.id===p);if(x)try{O.updateConfig(x.config),re.isAvailable&&await re.saveConfig(x.config),d(p)}catch($){console.error("Failed to load preset:",$),O.setError(t("preset_load_failed"))}},c=async p=>{const x=Object.values(v.app.presets||{}).find(L=>L.id===p);if(!(!x||!confirm(t("confirm_delete_preset",{name:x.name}))))try{O.removePreset(p),re.isAvailable&&await re.deletePreset(p),o()===p&&d("")}catch(L){console.error("Failed to delete preset:",L),O.setError(t("preset_delete_failed"))}},b=async p=>{const x=Object.values(v.app.presets||{}).find($=>$.id===p);if(!(!x||!re.isAvailable))try{const $=await re.saveFileDialog({title:t("export_preset"),defaultPath:`${x.name}.json`,filters:[{name:"JSON Files",extensions:["json"]},{name:"All Files",extensions:["*"]}]});if($.canceled||!$.filePath)return;await re.exportPreset(x,$.filePath)}catch($){console.error("Failed to export preset:",$),O.setError(t("preset_export_failed"))}},f=async()=>{if(re.isAvailable)try{const p=await re.openFileDialog({title:t("import_preset"),filters:[{name:"JSON Files",extensions:["json"]},{name:"All Files",extensions:["*"]}],properties:["openFile","multiSelections"]});if(p.canceled||!p.filePaths?.length)return;for(const x of p.filePaths){const $=await re.importPreset(x);O.addPreset({...$,id:`preset_${Date.now()}_${Math.random()}`,updatedAt:new Date().toISOString()})}}catch(p){console.error("Failed to import preset:",p),O.setError(t("preset_import_failed"))}},_=p=>new Date(p).toLocaleDateString();return(()=>{var p=Jb(),x=p.firstChild,$=x.firstChild,L=$.firstChild,A=L.firstChild,D=A.nextSibling,I=L.nextSibling,V=I.firstChild;V.firstChild;var T=V.nextSibling;T.firstChild;var R=$.nextSibling,y=R.nextSibling;return i(D,()=>t("preset_management")),V.$$click=f,i(V,()=>t("import"),null),T.$$click=()=>r(!0),i(T,()=>t("create_preset"),null),i(R,()=>t("preset_description")),i(x,P(Z,{get when(){return e()},get children(){var h=qb(),w=h.firstChild,k=w.nextSibling,m=k.firstChild,S=m.nextSibling,E=k.nextSibling,N=E.firstChild,j=N.nextSibling,H=E.nextSibling,q=H.firstChild,G=q.nextSibling;return i(w,()=>t("create_new_preset")),i(m,()=>t("preset_name")),S.$$input=W=>n(W.currentTarget.value),i(N,()=>t("preset_description_optional")),j.$$input=W=>l(W.currentTarget.value),q.$$click=()=>{r(!1),n(""),l("")},i(q,()=>t("cancel")),G.$$click=g,i(G,()=>t("create_preset")),F(W=>{var Q=t("enter_preset_name"),te=t("enter_preset_description"),B=!s().trim();return Q!==W.e&&ee(S,"placeholder",W.e=Q),te!==W.t&&ee(j,"placeholder",W.t=te),B!==W.a&&(G.disabled=W.a=B),W},{e:void 0,t:void 0,a:void 0}),F(()=>S.value=s()),F(()=>j.value=a()),h}}),y),i(y,P(Z,{get when(){return Ee(()=>!!v.app.presets)()&&Object.keys(v.app.presets).length>0},get fallback(){return(()=>{var h=Zb(),w=h.firstChild,k=w.nextSibling,m=k.nextSibling;return i(k,()=>t("no_presets_available")),i(m,()=>t("create_preset_to_get_started")),h})()},get children(){var h=Gb();return i(h,P(Oe,{get each(){return Object.values(v.app.presets||{})},children:w=>(()=>{var k=Yb(),m=k.firstChild,S=m.firstChild,E=S.firstChild,N=E.nextSibling,j=N.firstChild,H=j.nextSibling,q=S.nextSibling,G=q.firstChild,W=G.firstChild,Q=W.firstChild,te=W.nextSibling,B=q.nextSibling;return i(E,()=>w.name),j.$$click=()=>b(w.id),H.$$click=()=>c(w.id),i(m,P(Z,{get when(){return w.description},get children(){var U=Qb();return i(U,()=>w.description),U}}),q),i(W,()=>t("created"),Q),i(te,()=>_(w.createdAt)),i(q,P(Z,{get when(){return w.updatedAt!==w.createdAt},get children(){var U=Xb(),M=U.firstChild,z=M.firstChild,J=M.nextSibling;return i(M,()=>t("updated"),z),i(J,()=>_(w.updatedAt)),U}}),null),B.$$click=()=>u(w.id),i(B,(()=>{var U=Ee(()=>o()===w.id);return()=>U()?t("active"):t("load_preset")})()),F(U=>{var M=`bg-white dark:bg-gray-700 rounded-lg border-2 transition-all duration-200 ${o()===w.id?"border-blue-500 ring-2 ring-blue-500/20":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"}`,z=t("export_preset"),J=t("delete_preset"),ie=o()===w.id,X=`w-full px-3 py-2 text-sm font-medium rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-gray-700 ${o()===w.id?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 cursor-default":"bg-blue-600 hover:bg-blue-700 text-white focus:ring-blue-500"}`;return M!==U.e&&ke(k,U.e=M),z!==U.t&&ee(j,"title",U.t=z),J!==U.a&&ee(H,"title",U.a=J),ie!==U.o&&(B.disabled=U.o=ie),X!==U.i&&ke(B,U.i=X),U},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),k})()})),h}})),F(h=>{var w=t("import_preset"),k=t("create_new_preset");return w!==h.e&&ee(V,"title",h.e=w),k!==h.t&&ee(T,"title",h.t=k),h},{e:void 0,t:void 0}),p})()};Me(["click","input"]);var tx=C('<div class=space-y-6><div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 space-y-6"><div class="flex items-center gap-3 pb-4 border-b border-gray-200 dark:border-gray-700"><div class="w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-blue-600 dark:text-blue-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path></svg></div><h4 class="text-lg font-semibold text-gray-900 dark:text-gray-100"></h4></div><div class=space-y-3><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"> (mm)</label><div class=space-y-3><input type=range min=0 max=20 step=0.1 class="w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer slider-thumb"><div class="flex items-center gap-3"><input type=number min=0 max=20 step=0.1 class="w-24 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"><span class="text-sm text-gray-500 dark:text-gray-400">mm</span></div></div><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><div class=space-y-3><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"> (mm)</label><div class=space-y-3><input type=range min=0.1 max=2 step=0.1 class="w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer slider-thumb"><div class="flex items-center gap-3"><input type=number min=0.1 max=2 step=0.1 class="w-24 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"><span class="text-sm text-gray-500 dark:text-gray-400">mm</span></div></div><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><div class=space-y-3><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"></label><select class="block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"></select><p class="text-sm text-gray-500 dark:text-gray-400"></p></div></div><div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 space-y-6"><div class="flex items-center gap-3 pb-4 border-b border-gray-200 dark:border-gray-700"><div class="w-8 h-8 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-green-600 dark:text-green-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"></path></svg></div><h4 class="text-lg font-semibold text-gray-900 dark:text-gray-100"></h4></div><div class=space-y-3><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"></label><div class=space-y-3><input type=range min=5 max=50 step=1 class="w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer slider-thumb"><div class="flex items-center gap-3"><input type=number min=5 max=50 step=1 class="w-24 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"><span class="text-sm text-gray-500 dark:text-gray-400">individuals</span></div></div><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><div class=space-y-3><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"> (%)</label><div class=space-y-3><input type=range min=1 max=50 step=1 class="w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer slider-thumb"><div class="flex items-center gap-3"><input type=number min=1 max=50 step=1 class="w-24 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"><span class="text-sm text-gray-500 dark:text-gray-400">%</span></div></div><p class="text-sm text-gray-500 dark:text-gray-400"></p></div></div><div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 space-y-6"><div class="flex items-center gap-3 pb-4 border-b border-gray-200 dark:border-gray-700"><div class="w-8 h-8 bg-orange-100 dark:bg-orange-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-orange-600 dark:text-orange-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4"></path></svg></div><h4 class="text-lg font-semibold text-gray-900 dark:text-gray-100"></h4></div><div class=space-y-3><div class="flex items-center justify-between"><div><label class="text-sm font-medium text-gray-700 dark:text-gray-300"></label><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><input type=checkbox class="w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-2"></div></div><div class=space-y-3><div class="flex items-center justify-between"><div><label class="text-sm font-medium text-gray-700 dark:text-gray-300"></label><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><input type=checkbox class="w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-2"></div></div><div class=space-y-3><div class="flex items-center justify-between"><div><label class="text-sm font-medium text-gray-700 dark:text-gray-300"></label><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><input type=checkbox class="w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-2"></div></div><div class=space-y-3><div class="flex items-center justify-between"><div><label class="text-sm font-medium text-gray-700 dark:text-gray-300"></label><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><input type=checkbox class="w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-2">'),rx=C("<option>");const sx=()=>{const[t]=we("settings"),[e,r]=Y(0),[s,n]=Y(.3),[a,l]=Y(4),[o,d]=Y(10),[g,u]=Y(10),[c,b]=Y(!1),[f,_]=Y(!1),[p,x]=Y(!1),[$,L]=Y(!0);mt(()=>{const h=v.config;r(h.spacing||0),n(h.curveTolerance||.3),l(h.rotations||4),d(h.populationSize||10),u(h.mutationRate||10),b(h.useHoles||!1),_(h.exploreConcave||!1),x(h.mergeLines||!1),L(h.useRoughApproximation!==!1)});const A=h=>{O.updateConfig({...v.config,...h})},D=h=>{r(h),A({spacing:h})},I=h=>{n(h),A({curveTolerance:h})},V=h=>{l(h),A({rotations:h})},T=h=>{d(h),A({populationSize:h})},R=h=>{u(h),A({mutationRate:h})},y=[{value:0,label:t("no_rotation")},{value:2,label:t("2_rotations")},{value:4,label:t("4_rotations")},{value:8,label:t("8_rotations")},{value:12,label:t("12_rotations")},{value:360,label:t("free_rotation")}];return(()=>{var h=tx(),w=h.firstChild,k=w.firstChild,m=k.firstChild,S=m.nextSibling,E=k.nextSibling,N=E.firstChild,j=N.firstChild,H=N.nextSibling,q=H.firstChild,G=q.nextSibling,W=G.firstChild,Q=H.nextSibling,te=E.nextSibling,B=te.firstChild,U=B.firstChild,M=B.nextSibling,z=M.firstChild,J=z.nextSibling,ie=J.firstChild,X=M.nextSibling,le=te.nextSibling,me=le.firstChild,ge=me.nextSibling,ce=ge.nextSibling,ve=w.nextSibling,_e=ve.firstChild,Ne=_e.firstChild,$e=Ne.nextSibling,Pe=_e.nextSibling,ae=Pe.firstChild,be=ae.nextSibling,ue=be.firstChild,xe=ue.nextSibling,ye=xe.firstChild,de=be.nextSibling,fe=Pe.nextSibling,Le=fe.firstChild,Fe=Le.firstChild,He=Le.nextSibling,ze=He.firstChild,Je=ze.nextSibling,nt=Je.firstChild,Ke=He.nextSibling,qe=ve.nextSibling,Ze=qe.firstChild,Be=Ze.firstChild,ne=Be.nextSibling,Se=Ze.nextSibling,We=Se.firstChild,ot=We.firstChild,lt=ot.firstChild,Qe=lt.nextSibling,dt=ot.nextSibling,Xe=Se.nextSibling,K=Xe.firstChild,Ie=K.firstChild,Te=Ie.firstChild,Ve=Te.nextSibling,Ye=Ie.nextSibling,et=Xe.nextSibling,Dt=et.firstChild,bt=Dt.firstChild,gt=bt.firstChild,xt=gt.nextSibling,ut=bt.nextSibling,yt=et.nextSibling,vt=yt.firstChild,vr=vt.firstChild,$r=vr.firstChild,hs=$r.nextSibling,kr=vr.nextSibling;return i(S,()=>t("nesting_parameters")),i(N,()=>t("space_between_parts"),j),q.$$input=he=>D(parseFloat(he.currentTarget.value)),W.$$input=he=>D(parseFloat(he.currentTarget.value)||0),i(Q,()=>t("spacing_description")),i(B,()=>t("curve_tolerance"),U),z.$$input=he=>I(parseFloat(he.currentTarget.value)),ie.$$input=he=>I(parseFloat(he.currentTarget.value)||.3),i(X,()=>t("curve_tolerance_description")),i(me,()=>t("part_rotations")),ge.addEventListener("change",he=>V(parseInt(he.currentTarget.value))),i(ge,P(Oe,{each:y,children:he=>(()=>{var nr=rx();return i(nr,()=>he.label),F(()=>nr.value=he.value),nr})()})),i(ce,()=>t("rotations_description")),i($e,()=>t("genetic_algorithm")),i(ae,()=>t("population_size")),ue.$$input=he=>T(parseInt(he.currentTarget.value)),ye.$$input=he=>T(parseInt(he.currentTarget.value)||10),i(de,()=>t("population_size_description")),i(Le,()=>t("mutation_rate"),Fe),ze.$$input=he=>R(parseInt(he.currentTarget.value)),nt.$$input=he=>R(parseInt(he.currentTarget.value)||10),i(Ke,()=>t("mutation_rate_description")),i(ne,()=>t("advanced_options")),i(lt,()=>t("use_holes")),i(Qe,()=>t("use_holes_description")),dt.addEventListener("change",he=>{b(he.currentTarget.checked),A({useHoles:he.currentTarget.checked})}),i(Te,()=>t("explore_concave")),i(Ve,()=>t("explore_concave_description")),Ye.addEventListener("change",he=>{_(he.currentTarget.checked),A({exploreConcave:he.currentTarget.checked})}),i(gt,()=>t("merge_common_lines")),i(xt,()=>t("merge_lines_description")),ut.addEventListener("change",he=>{x(he.currentTarget.checked),A({mergeLines:he.currentTarget.checked})}),i($r,()=>t("use_rough_approximation")),i(hs,()=>t("rough_approximation_description")),kr.addEventListener("change",he=>{L(he.currentTarget.checked),A({useRoughApproximation:he.currentTarget.checked})}),F(()=>q.value=e()),F(()=>W.value=e()),F(()=>z.value=s()),F(()=>ie.value=s()),F(()=>ge.value=a()),F(()=>ue.value=o()),F(()=>ye.value=o()),F(()=>ze.value=g()),F(()=>nt.value=g()),F(()=>dt.checked=c()),F(()=>Ye.checked=f()),F(()=>ut.checked=p()),F(()=>kr.checked=$()),h})()};Me(["input"]);var nx=C('<div class=space-y-6><div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 space-y-6"><div class="flex items-center gap-3 pb-4 border-b border-gray-200 dark:border-gray-700"><div class="w-8 h-8 bg-purple-100 dark:bg-purple-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-purple-600 dark:text-purple-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM21 5a2 2 0 00-2-2h-4a2 2 0 00-2 2v12a4 4 0 004 4h4a2 2 0 002-2V5z"></path></svg></div><h4 class="text-lg font-semibold text-gray-900 dark:text-gray-100"></h4></div><div class=space-y-3><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"></label><select class="block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"></select><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><div class=space-y-3><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"></label><select class="block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"></select><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><div class=space-y-3><div class="flex items-center justify-between"><div><label class="text-sm font-medium text-gray-700 dark:text-gray-300"></label><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><button type=button><span class=sr-only>Toggle dark mode</span><span></span></button></div></div></div><div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 space-y-6"><div class="flex items-center gap-3 pb-4 border-b border-gray-200 dark:border-gray-700"><div class="w-8 h-8 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-green-600 dark:text-green-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 6h16M4 12h16M4 18h7"></path></svg></div><h4 class="text-lg font-semibold text-gray-900 dark:text-gray-100"></h4></div><div class=space-y-3><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"></label><select class="block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"></select><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><div class=space-y-3><div class="flex items-center justify-between"><div><label class="text-sm font-medium text-gray-700 dark:text-gray-300"></label><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><input type=checkbox class="w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-2"></div></div><div class=space-y-3><div class="flex items-center justify-between"><div><label class="text-sm font-medium text-gray-700 dark:text-gray-300"></label><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><input type=checkbox class="w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-2"></div></div></div><div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 space-y-6"><div class="flex items-center gap-3 pb-4 border-b border-gray-200 dark:border-gray-700"><div class="w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-blue-600 dark:text-blue-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"></path></svg></div><h4 class="text-lg font-semibold text-gray-900 dark:text-gray-100"></h4></div><div class=space-y-3><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"></label><div class="flex gap-3"><input type=number min=200 max=600 class="flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"><button class="px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 border border-gray-300 dark:border-gray-600 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"></button></div><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><div class=space-y-3><div class="flex items-center justify-between"><div><label class="text-sm font-medium text-gray-700 dark:text-gray-300"></label><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><input type=checkbox class="w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-2"></div></div><div class=space-y-3><div class="flex items-center justify-between"><div><label class="text-sm font-medium text-gray-700 dark:text-gray-300"></label><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><input type=checkbox class="w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-2">'),dr=C("<option>");const ix=()=>{const[t,{changeLanguage:e}]=we("settings"),r=[{code:"en",name:"English"},{code:"de",name:"Deutsch"}],s=[{value:"mm",label:t("millimeters")},{value:"in",label:t("inches")},{value:"cm",label:t("centimeters")}],n=[{value:"system",label:t("auto_theme")},{value:"light",label:t("light_theme")},{value:"dark",label:t("dark_theme")}],a=async u=>{O.setLanguage(u),await e(u)},l=u=>{O.setThemePreference(u)},o=()=>typeof localStorage<"u"&&"theme"in localStorage?localStorage.theme:"system",d=u=>{O.updateConfig({...v.config,units:u})},g=()=>{O.setPanelWidth("partsWidth",300)};return(()=>{var u=nx(),c=u.firstChild,b=c.firstChild,f=b.firstChild,_=f.nextSibling,p=b.nextSibling,x=p.firstChild,$=x.nextSibling,L=$.nextSibling,A=p.nextSibling,D=A.firstChild,I=D.nextSibling,V=I.nextSibling,T=A.nextSibling,R=T.firstChild,y=R.firstChild,h=y.firstChild,w=h.nextSibling,k=y.nextSibling,m=k.firstChild,S=m.nextSibling,E=c.nextSibling,N=E.firstChild,j=N.firstChild,H=j.nextSibling,q=N.nextSibling,G=q.firstChild,W=G.nextSibling,Q=W.nextSibling,te=q.nextSibling,B=te.firstChild,U=B.firstChild,M=U.firstChild,z=M.nextSibling,J=U.nextSibling,ie=te.nextSibling,X=ie.firstChild,le=X.firstChild,me=le.firstChild,ge=me.nextSibling,ce=le.nextSibling,ve=E.nextSibling,_e=ve.firstChild,Ne=_e.firstChild,$e=Ne.nextSibling,Pe=_e.nextSibling,ae=Pe.firstChild,be=ae.nextSibling,ue=be.firstChild,xe=ue.nextSibling,ye=be.nextSibling,de=Pe.nextSibling,fe=de.firstChild,Le=fe.firstChild,Fe=Le.firstChild,He=Fe.nextSibling,ze=Le.nextSibling,Je=de.nextSibling,nt=Je.firstChild,Ke=nt.firstChild,qe=Ke.firstChild,Ze=qe.nextSibling,Be=Ke.nextSibling;return i(_,()=>t("appearance")),i(x,()=>t("language")),$.addEventListener("change",ne=>a(ne.currentTarget.value)),i($,P(Oe,{each:r,children:ne=>(()=>{var Se=dr();return i(Se,()=>ne.name),F(()=>Se.value=ne.code),Se})()})),i(L,()=>t("language_description")),i(D,()=>t("theme")),I.addEventListener("change",ne=>l(ne.currentTarget.value)),i(I,P(Oe,{each:n,children:ne=>(()=>{var Se=dr();return i(Se,()=>ne.label),F(()=>Se.value=ne.value),Se})()})),i(V,()=>t("theme_description")),i(h,()=>t("dark_mode")),i(w,()=>t("dark_mode_description")),k.$$click=()=>O.setThemePreference(v.ui.darkMode?"light":"dark"),i(H,()=>t("units_and_formatting")),i(G,()=>t("display_units")),W.addEventListener("change",ne=>d(ne.currentTarget.value)),i(W,P(Oe,{each:s,children:ne=>(()=>{var Se=dr();return i(Se,()=>ne.label),F(()=>Se.value=ne.value),Se})()})),i(Q,()=>t("units_description")),i(M,()=>t("show_grid")),i(z,()=>t("show_grid_description")),J.addEventListener("change",ne=>O.updateConfig({...v.config,showGrid:ne.currentTarget.checked})),i(me,()=>t("show_rulers")),i(ge,()=>t("show_rulers_description")),ce.addEventListener("change",ne=>O.updateConfig({...v.config,showRulers:ne.currentTarget.checked})),i($e,()=>t("layout_preferences")),i(ae,()=>t("parts_panel_width")),ue.$$input=ne=>O.setPanelWidth("partsWidth",parseInt(ne.currentTarget.value)||300),xe.$$click=g,i(xe,()=>t("reset")),i(ye,()=>t("panel_width_description")),i(Fe,()=>t("show_tooltips")),i(He,()=>t("tooltips_description")),ze.addEventListener("change",ne=>O.setShowTooltips(ne.currentTarget.checked)),i(qe,()=>t("show_status_bar")),i(Ze,()=>t("status_bar_description")),Be.addEventListener("change",ne=>O.setShowStatusBar(ne.currentTarget.checked)),F(ne=>{var Se=`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 ${v.ui.darkMode?"bg-blue-600":"bg-gray-200 dark:bg-gray-700"}`,We=`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${v.ui.darkMode?"translate-x-5":"translate-x-0"}`;return Se!==ne.e&&ke(k,ne.e=Se),We!==ne.t&&ke(S,ne.t=We),ne},{e:void 0,t:void 0}),F(()=>$.value=v.ui.language),F(()=>I.value=o()),F(()=>W.value=v.config.units||"mm"),F(()=>J.checked=v.config.showGrid!==!1),F(()=>ce.checked=v.config.showRulers!==!1),F(()=>ue.value=v.ui.panels.partsWidth||300),F(()=>ze.checked=v.ui.showTooltips!==!1),F(()=>Be.checked=v.ui.showStatusBar!==!1),u})()};Me(["click","input"]);var Kr=C('<div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="text-gray-900 dark:text-gray-100">'),ax=C('<div class="bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4 space-y-4"><h5 class="text-sm font-medium text-gray-900 dark:text-gray-100"></h5><div class=space-y-2><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="text-gray-900 dark:text-gray-100"></span></div><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="text-gray-900 dark:text-gray-100"></span></div><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="text-gray-900 dark:text-gray-100"></span></div><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="text-gray-900 dark:text-gray-100"> × </span></div></div><button class="w-full px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 border border-gray-300 dark:border-gray-600 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800">'),ox=C('<div class=space-y-6><div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 space-y-6"><div class="flex items-center gap-3 pb-4 border-b border-gray-200 dark:border-gray-700"><div class="w-8 h-8 bg-orange-100 dark:bg-orange-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-orange-600 dark:text-orange-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg></div><h4 class="text-lg font-semibold text-gray-900 dark:text-gray-100"></h4></div><div class=space-y-3><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"></label><input type=number min=1 class="block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><div class=space-y-3><div class="flex items-center justify-between"><div><label class="text-sm font-medium text-gray-700 dark:text-gray-300"></label><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><input type=checkbox class="w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-2"></div></div><div class=space-y-3><div class="flex items-center justify-between"><div><label class="text-sm font-medium text-gray-700 dark:text-gray-300"></label><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><input type=checkbox class="w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-2"></div></div></div><div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 space-y-6"><div class="flex items-center gap-3 pb-4 border-b border-gray-200 dark:border-gray-700"><div class="w-8 h-8 bg-red-100 dark:bg-red-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-red-600 dark:text-red-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><h4 class="text-lg font-semibold text-gray-900 dark:text-gray-100"></h4></div><div class=space-y-3><div class="flex items-center justify-between"><div><label class="text-sm font-medium text-gray-700 dark:text-gray-300"></label><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><input type=checkbox class="w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-2"></div></div><div class=space-y-3><div class="flex items-center justify-between"><div><label class="text-sm font-medium text-gray-700 dark:text-gray-300"></label><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><input type=checkbox class="w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-2"></div></div><div class=space-y-3><button class="px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 border border-gray-300 dark:border-gray-600 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"></button></div></div><div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 space-y-6"><div class="flex items-center gap-3 pb-4 border-b border-gray-200 dark:border-gray-700"><div class="w-8 h-8 bg-cyan-100 dark:bg-cyan-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-cyan-600 dark:text-cyan-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg></div><h4 class="text-lg font-semibold text-gray-900 dark:text-gray-100"></h4></div><div class=space-y-3><button class="px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 border border-gray-300 dark:border-gray-600 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"></button><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><div class=space-y-3><button class="px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 border border-gray-300 dark:border-gray-600 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"></button><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><div class=space-y-3><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"> (<!>)</label><input type=number min=0 max=60 class="block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"><p class="text-sm text-gray-500 dark:text-gray-400">');const lx=()=>{const[t]=we("settings"),[e,r]=Y(!1),s=()=>{if(confirm(t("confirm_clear_cache")))try{localStorage.clear(),O.setError(null),alert(t("cache_cleared_success"))}catch(d){console.error("Failed to clear cache:",d),O.setError(t("cache_clear_failed"))}},n=()=>{O.setPanelWidth("partsWidth",300),O.setActiveTab("parts")},a=()=>{const o={timestamp:new Date().toISOString(),platform:navigator.platform,userAgent:navigator.userAgent,language:navigator.language,viewport:{width:window.innerWidth,height:window.innerHeight},globalState:{ui:v.ui,config:v.config,partsCount:v.app.parts.length,sheetsCount:v.app.sheets.length,nestsCount:v.app.nests.length,presetsCount:v.presets.length},performance:{memory:performance.memory?{usedJSHeapSize:performance.memory.usedJSHeapSize,totalJSHeapSize:performance.memory.totalJSHeapSize,jsHeapSizeLimit:performance.memory.jsHeapSizeLimit}:null}},d=new Blob([JSON.stringify(o,null,2)],{type:"application/json"}),g=URL.createObjectURL(d),u=document.createElement("a");u.href=g,u.download=`deepnest-debug-${Date.now()}.json`,document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(g)},l=o=>{if(o===0)return"0 Bytes";const d=1024,g=["Bytes","KB","MB","GB"],u=Math.floor(Math.log(o)/Math.log(d));return parseFloat((o/Math.pow(d,u)).toFixed(2))+" "+g[u]};return(()=>{var o=ox(),d=o.firstChild,g=d.firstChild,u=g.firstChild,c=u.nextSibling,b=g.nextSibling,f=b.firstChild,_=f.nextSibling,p=_.nextSibling,x=b.nextSibling,$=x.firstChild,L=$.firstChild,A=L.firstChild,D=A.nextSibling,I=L.nextSibling,V=x.nextSibling,T=V.firstChild,R=T.firstChild,y=R.firstChild,h=y.nextSibling,w=R.nextSibling,k=d.nextSibling,m=k.firstChild,S=m.firstChild,E=S.nextSibling,N=m.nextSibling,j=N.firstChild,H=j.firstChild,q=H.firstChild,G=q.nextSibling,W=H.nextSibling,Q=N.nextSibling,te=Q.firstChild,B=te.firstChild,U=B.firstChild,M=U.nextSibling,z=B.nextSibling,J=Q.nextSibling,ie=J.firstChild,X=k.nextSibling,le=X.firstChild,me=le.firstChild,ge=me.nextSibling,ce=le.nextSibling,ve=ce.firstChild,_e=ve.nextSibling,Ne=ce.nextSibling,$e=Ne.firstChild,Pe=$e.nextSibling,ae=Ne.nextSibling,be=ae.firstChild,ue=be.firstChild,xe=ue.nextSibling;xe.nextSibling;var ye=be.nextSibling,de=ye.nextSibling;return i(c,()=>t("performance")),i(f,()=>t("worker_threads")),_.$$input=fe=>O.updateConfig({...v.config,workerThreads:parseInt(fe.currentTarget.value)||4}),i(p,()=>t("worker_threads_description",{max:navigator.hardwareConcurrency||8})),i(A,()=>t("enable_gpu_acceleration")),i(D,()=>t("gpu_acceleration_description")),I.addEventListener("change",fe=>O.updateConfig({...v.config,enableGPU:fe.currentTarget.checked})),i(y,()=>t("enable_caching")),i(h,()=>t("caching_description")),w.addEventListener("change",fe=>O.updateConfig({...v.config,enableCaching:fe.currentTarget.checked})),i(E,()=>t("debugging")),i(q,()=>t("debug_mode")),i(G,()=>t("debug_mode_description")),W.addEventListener("change",fe=>O.updateConfig({...v.config,debugMode:fe.currentTarget.checked})),i(U,()=>t("verbose_logging")),i(M,()=>t("verbose_logging_description")),z.addEventListener("change",fe=>O.updateConfig({...v.config,verboseLogging:fe.currentTarget.checked})),ie.$$click=()=>r(!e()),i(ie,(()=>{var fe=Ee(()=>!!e());return()=>fe()?t("hide_debug_info"):t("show_debug_info")})()),i(J,P(Z,{get when(){return e()},get children(){var fe=ax(),Le=fe.firstChild,Fe=Le.nextSibling,He=Fe.firstChild,ze=He.firstChild,Je=ze.firstChild,nt=ze.nextSibling,Ke=He.nextSibling,qe=Ke.firstChild,Ze=qe.firstChild,Be=qe.nextSibling,ne=Ke.nextSibling,Se=ne.firstChild,We=Se.firstChild,ot=Se.nextSibling,lt=ne.nextSibling,Qe=lt.firstChild,dt=Qe.firstChild,Xe=Qe.nextSibling,K=Xe.firstChild,Ie=Fe.nextSibling;return i(Le,()=>t("system_information")),i(ze,()=>t("platform"),Je),i(nt,()=>navigator.platform),i(qe,()=>t("language"),Ze),i(Be,()=>navigator.language),i(Se,()=>t("cpu_cores"),We),i(ot,()=>navigator.hardwareConcurrency||"Unknown"),i(Qe,()=>t("viewport"),dt),i(Xe,()=>window.innerWidth,K),i(Xe,()=>window.innerHeight,null),i(Fe,P(Z,{get when(){return performance.memory},get children(){return[(()=>{var Te=Kr(),Ve=Te.firstChild,Ye=Ve.firstChild,et=Ve.nextSibling;return i(Ve,()=>t("memory_used"),Ye),i(et,()=>l(performance.memory.usedJSHeapSize)),Te})(),(()=>{var Te=Kr(),Ve=Te.firstChild,Ye=Ve.firstChild,et=Ve.nextSibling;return i(Ve,()=>t("memory_total"),Ye),i(et,()=>l(performance.memory.totalJSHeapSize)),Te})()]}}),null),Ie.$$click=a,i(Ie,()=>t("export_debug_info")),fe}}),null),i(ge,()=>t("maintenance")),ve.$$click=s,i(ve,()=>t("clear_cache")),i(_e,()=>t("clear_cache_description")),$e.$$click=n,i($e,()=>t("reset_layout")),i(Pe,()=>t("reset_layout_description")),i(be,()=>t("auto_save_interval"),ue),i(be,()=>t("minutes"),xe),ye.$$input=fe=>O.updateConfig({...v.config,autoSaveInterval:parseInt(fe.currentTarget.value)||5}),i(de,()=>t("auto_save_description")),F(()=>ee(_,"max",navigator.hardwareConcurrency||8)),F(()=>_.value=v.config.workerThreads||navigator.hardwareConcurrency||4),F(()=>I.checked=v.config.enableGPU||!1),F(()=>w.checked=v.config.enableCaching!==!1),F(()=>W.checked=v.config.debugMode||!1),F(()=>z.checked=v.config.verboseLogging||!1),F(()=>ye.value=v.config.autoSaveInterval||5),o})()};Me(["input","click"]);var dx=C('<svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3-3m0 0l-3 3m3-3v12">'),cx=C('<svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M15 12a3 3 0 11-6 0 3 3 0 016 0z">'),gx=C('<svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM21 5a2 2 0 00-2-2h-4a2 2 0 00-2 2v12a4 4 0 004 4h4a2 2 0 002-2V5z">'),ux=C('<svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4">'),fx=C('<div class="bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700"><div class="p-6 border-b border-gray-200 dark:border-gray-700"><div class="flex items-center gap-3"><div class="w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-blue-600 dark:text-blue-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3-3m0 0l-3 3m3-3v12"></path></svg></div><div><h2 class="text-xl font-semibold text-gray-900 dark:text-gray-100"></h2><p class="text-sm text-gray-500 dark:text-gray-400">Save and manage configuration presets</p></div></div></div><div class=p-6>'),hx=C('<div class="bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700"><div class="p-6 border-b border-gray-200 dark:border-gray-700"><div class="flex items-center gap-3"><div class="w-8 h-8 bg-purple-100 dark:bg-purple-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-purple-600 dark:text-purple-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg></div><div><h2 class="text-xl font-semibold text-gray-900 dark:text-gray-100"></h2><p class="text-sm text-gray-500 dark:text-gray-400">Configure nesting algorithm parameters</p></div></div></div><div class=p-6>'),px=C('<div class="bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700"><div class="p-6 border-b border-gray-200 dark:border-gray-700"><div class="flex items-center gap-3"><div class="w-8 h-8 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-green-600 dark:text-green-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM21 5a2 2 0 00-2-2h-4a2 2 0 00-2 2v12a4 4 0 004 4h4a2 2 0 002-2V5z"></path></svg></div><div><h2 class="text-xl font-semibold text-gray-900 dark:text-gray-100"></h2><p class="text-sm text-gray-500 dark:text-gray-400">Customize interface and appearance</p></div></div></div><div class=p-6>'),mx=C('<div class="bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700"><div class="p-6 border-b border-gray-200 dark:border-gray-700"><div class="flex items-center gap-3"><div class="w-8 h-8 bg-orange-100 dark:bg-orange-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-orange-600 dark:text-orange-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4"></path></svg></div><div><h2 class="text-xl font-semibold text-gray-900 dark:text-gray-100"></h2><p class="text-sm text-gray-500 dark:text-gray-400">Advanced configuration options</p></div></div></div><div class=p-6>'),_x=C('<div class="h-full flex flex-col bg-white dark:bg-gray-900"><div class="bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700"><div class="px-6 py-4 flex items-center justify-between"><div class="flex items-center gap-3"><div class="w-10 h-10 bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg flex items-center justify-center shadow-sm"><svg class="w-5 h-5 text-white"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4"></path></svg></div><div><h1 class="text-xl font-semibold text-gray-900 dark:text-gray-100"></h1><p class="text-sm text-gray-500 dark:text-gray-400">Configure your preferences and application settings</p></div></div><div class="flex items-center gap-3"><button class="inline-flex items-center gap-2 px-3 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 font-medium rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"></path></svg></button><button class="inline-flex items-center gap-2 px-3 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 font-medium rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path></svg></button><button class="inline-flex items-center gap-2 px-4 py-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 font-medium rounded-lg border border-red-200 dark:border-red-800 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg></button></div></div></div><div class="flex-1 flex overflow-hidden bg-gray-50 dark:bg-gray-900"><div class="w-80 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700"><div class=p-6><h3 class="text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-4">Settings Categories</h3><nav class=space-y-2></nav></div></div><div class="flex-1 overflow-y-auto bg-gray-50 dark:bg-gray-900"><div class=p-6>'),bx=C('<button><div></div><div class="flex-1 min-w-0"><div></div><div>'),xx=C('<div class="w-1 h-8 bg-blue-500 dark:bg-blue-400 rounded-full flex-shrink-0">');const yx=()=>{const[t]=we("settings"),[e,r]=Y("presets"),s=async()=>{if(confirm(t("confirm_reset_defaults")))try{O.resetToDefaults(),re.isAvailable&&await re.saveConfig(v.config)}catch(d){console.error("Failed to reset to defaults:",d),O.setError(t("reset_failed"))}},n=async()=>{if(re.isAvailable)try{const o=await re.saveFileDialog({title:t("export_configuration"),defaultPath:"deepnest-config.json",filters:[{name:"JSON Files",extensions:["json"]},{name:"All Files",extensions:["*"]}]});if(o.canceled||!o.filePath)return;await re.exportConfig(v.config,o.filePath)}catch(o){console.error("Failed to export config:",o),O.setError(t("export_failed"))}},a=async()=>{if(re.isAvailable)try{const o=await re.openFileDialog({title:t("import_configuration"),filters:[{name:"JSON Files",extensions:["json"]},{name:"All Files",extensions:["*"]}],properties:["openFile"]});if(o.canceled||!o.filePaths?.length)return;const d=await re.importConfig(o.filePaths[0]);O.updateConfig(d)}catch(o){console.error("Failed to import config:",o),O.setError(t("import_failed"))}},l=[{id:"presets",label:t("preset_management"),description:"Save and manage configuration presets",icon:dx()},{id:"algorithm",label:t("algorithm_settings"),description:"Configure nesting algorithm parameters",icon:cx()},{id:"ui",label:t("ui_preferences"),description:"Customize interface and appearance",icon:gx()},{id:"advanced",label:t("advanced_settings"),description:"Advanced configuration options",icon:ux()}];return(()=>{var o=_x(),d=o.firstChild,g=d.firstChild,u=g.firstChild,c=u.firstChild,b=c.nextSibling,f=b.firstChild,_=u.nextSibling,p=_.firstChild;p.firstChild;var x=p.nextSibling;x.firstChild;var $=x.nextSibling;$.firstChild;var L=d.nextSibling,A=L.firstChild,D=A.firstChild,I=D.firstChild,V=I.nextSibling,T=A.nextSibling,R=T.firstChild;return i(f,()=>t("settings_title")),p.$$click=a,i(p,()=>t("import"),null),x.$$click=n,i(x,()=>t("export"),null),$.$$click=s,i($,()=>t("reset_defaults"),null),i(V,P(Oe,{each:l,children:y=>(()=>{var h=bx(),w=h.firstChild,k=w.nextSibling,m=k.firstChild,S=m.nextSibling;return h.$$click=()=>r(y.id),i(w,()=>y.icon),i(m,()=>y.label),i(S,()=>y.description),i(h,(()=>{var E=Ee(()=>e()===y.id);return()=>E()&&xx()})(),null),F(E=>{var N=`w-full flex items-start gap-4 px-4 py-3 rounded-xl text-left transition-all duration-200 group ${e()===y.id?"bg-blue-50 dark:bg-blue-900/30 border-2 border-blue-200 dark:border-blue-700 shadow-sm":"hover:bg-gray-50 dark:hover:bg-gray-700/50 border-2 border-transparent"}`,j=`w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0 transition-colors duration-200 ${e()===y.id?"bg-blue-100 dark:bg-blue-900/50 text-blue-600 dark:text-blue-400":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 group-hover:bg-gray-200 dark:group-hover:bg-gray-600"}`,H=`font-medium transition-colors duration-200 ${e()===y.id?"text-blue-900 dark:text-blue-100":"text-gray-900 dark:text-gray-100 group-hover:text-gray-900 dark:group-hover:text-gray-100"}`,q=`text-sm mt-1 transition-colors duration-200 ${e()===y.id?"text-blue-700 dark:text-blue-300":"text-gray-500 dark:text-gray-400"}`;return N!==E.e&&ke(h,E.e=N),j!==E.t&&ke(w,E.t=j),H!==E.a&&ke(m,E.a=H),q!==E.o&&ke(S,E.o=q),E},{e:void 0,t:void 0,a:void 0,o:void 0}),h})()})),i(R,P(Z,{get when(){return e()==="presets"},get children(){var y=fx(),h=y.firstChild,w=h.firstChild,k=w.firstChild,m=k.nextSibling,S=m.firstChild,E=h.nextSibling;return i(S,()=>t("preset_management")),i(E,P(ex,{})),y}}),null),i(R,P(Z,{get when(){return e()==="algorithm"},get children(){var y=hx(),h=y.firstChild,w=h.firstChild,k=w.firstChild,m=k.nextSibling,S=m.firstChild,E=h.nextSibling;return i(S,()=>t("algorithm_settings")),i(E,P(sx,{})),y}}),null),i(R,P(Z,{get when(){return e()==="ui"},get children(){var y=px(),h=y.firstChild,w=h.firstChild,k=w.firstChild,m=k.nextSibling,S=m.firstChild,E=h.nextSibling;return i(S,()=>t("ui_preferences")),i(E,P(ix,{})),y}}),null),i(R,P(Z,{get when(){return e()==="advanced"},get children(){var y=mx(),h=y.firstChild,w=h.firstChild,k=w.firstChild,m=k.nextSibling,S=m.firstChild,E=h.nextSibling;return i(S,()=>t("advanced_settings")),i(E,P(lx,{})),y}}),null),F(y=>{var h=t("import_configuration"),w=t("export_configuration"),k=t("reset_to_defaults");return h!==y.e&&ee(p,"title",y.e=h),w!==y.t&&ee(x,"title",y.t=w),k!==y.a&&ee($,"title",y.a=k),y},{e:void 0,t:void 0,a:void 0}),o})()};Me(["click"]);var vx=C('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"><div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden"><div class="flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700"><h2 class="text-xl font-semibold text-gray-900 dark:text-gray-100"></h2><button class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors"><span class=sr-only></span><svg class="w-6 h-6"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M6 18L18 6M6 6l12 12"></path></svg></button></div><div class="p-6 overflow-y-auto max-h-[70vh]"><div class="prose prose-gray dark:prose-invert max-w-none"><div class="mb-4 text-sm text-gray-600 dark:text-gray-400">: </div><section class=mb-6><h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3"></h3><p class="text-gray-600 dark:text-gray-400 mb-3"></p></section><section class=mb-6><h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3"></h3><p class="text-gray-600 dark:text-gray-400 mb-3"></p><ul class="list-disc pl-6 space-y-2 text-gray-600 dark:text-gray-400"><li></li><li></li><li></li><li></li></ul></section><section class=mb-6><h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3"></h3><p class="text-gray-600 dark:text-gray-400 mb-3"></p><ul class="list-disc pl-6 space-y-2 text-gray-600 dark:text-gray-400"><li></li><li></li><li></li></ul></section><section class=mb-6><h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3"></h3><p class="text-gray-600 dark:text-gray-400 mb-3"></p><ul class="list-disc pl-6 space-y-2 text-gray-600 dark:text-gray-400"><li></li><li></li><li></li></ul></section><section class=mb-6><h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3"></h3><p class="text-gray-600 dark:text-gray-400 mb-3"></p><ul class="list-disc pl-6 space-y-2 text-gray-600 dark:text-gray-400"><li></li><li></li><li></li><li></li></ul></section><section class=mb-6><h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3"></h3><p class="text-gray-600 dark:text-gray-400 mb-3"></p></section><section class=mb-6><h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3"></h3><p class="text-gray-600 dark:text-gray-400 mb-3"></p><div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"><p class="text-sm text-gray-600 dark:text-gray-400">: <a href=https://github.com/deepnest-next/deepnest/issues target=_blank rel="noopener noreferrer"class="text-blue-600 dark:text-blue-400 hover:underline ml-1">https://github.com/deepnest-next/deepnest/issues</a></p></div></section></div></div><div class="flex justify-end p-6 border-t border-gray-200 dark:border-gray-700"><button class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors">');const $x=t=>{const[e]=we("imprint"),r=s=>{s.target===s.currentTarget&&t.onClose()};return(()=>{var s=vx(),n=s.firstChild,a=n.firstChild,l=a.firstChild,o=l.nextSibling,d=o.firstChild,g=a.nextSibling,u=g.firstChild,c=u.firstChild,b=c.firstChild,f=c.nextSibling,_=f.firstChild,p=_.nextSibling,x=f.nextSibling,$=x.firstChild,L=$.nextSibling,A=L.nextSibling,D=A.firstChild,I=D.nextSibling,V=I.nextSibling,T=V.nextSibling,R=x.nextSibling,y=R.firstChild,h=y.nextSibling,w=h.nextSibling,k=w.firstChild,m=k.nextSibling,S=m.nextSibling,E=R.nextSibling,N=E.firstChild,j=N.nextSibling,H=j.nextSibling,q=H.firstChild,G=q.nextSibling,W=G.nextSibling,Q=E.nextSibling,te=Q.firstChild,B=te.nextSibling,U=B.nextSibling,M=U.firstChild,z=M.nextSibling,J=z.nextSibling,ie=J.nextSibling,X=Q.nextSibling,le=X.firstChild,me=le.nextSibling,ge=X.nextSibling,ce=ge.firstChild,ve=ce.nextSibling,_e=ve.nextSibling,Ne=_e.firstChild,$e=Ne.firstChild,Pe=g.nextSibling,ae=Pe.firstChild;return s.$$click=r,i(l,()=>e("privacy_policy")),Ae(o,"click",t.onClose,!0),i(d,()=>e("close")),i(c,()=>e("privacy_last_updated"),b),i(c,()=>new Date().toLocaleDateString(),null),i(_,()=>e("privacy_section_overview")),i(p,()=>e("privacy_overview_text")),i($,()=>e("privacy_section_data_collection")),i(L,()=>e("privacy_data_collection_text")),i(D,()=>e("privacy_data_settings")),i(I,()=>e("privacy_data_preferences")),i(V,()=>e("privacy_data_projects")),i(T,()=>e("privacy_data_no_personal")),i(y,()=>e("privacy_section_data_storage")),i(h,()=>e("privacy_data_storage_text")),i(k,()=>e("privacy_storage_local")),i(m,()=>e("privacy_storage_no_transmission")),i(S,()=>e("privacy_storage_user_control")),i(N,()=>e("privacy_section_third_party")),i(j,()=>e("privacy_third_party_text")),i(q,()=>e("privacy_third_party_converter")),i(G,()=>e("privacy_third_party_optional")),i(W,()=>e("privacy_third_party_no_tracking")),i(te,()=>e("privacy_section_user_rights")),i(B,()=>e("privacy_user_rights_text")),i(M,()=>e("privacy_rights_access")),i(z,()=>e("privacy_rights_delete")),i(J,()=>e("privacy_rights_modify")),i(ie,()=>e("privacy_rights_export")),i(le,()=>e("privacy_section_updates")),i(me,()=>e("privacy_updates_text")),i(ce,()=>e("privacy_section_contact")),i(ve,()=>e("privacy_contact_text")),i(Ne,()=>e("privacy_contact_github"),$e),Ae(ae,"click",t.onClose,!0),i(ae,()=>e("close")),s})()};Me(["click"]);var kx=C('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"><div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden"><div class="flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700"><h2 class="text-xl font-semibold text-gray-900 dark:text-gray-100"></h2><button class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors"><span class=sr-only></span><svg class="w-6 h-6"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M6 18L18 6M6 6l12 12"></path></svg></button></div><div class="p-6 overflow-y-auto max-h-[70vh]"><div class="prose prose-gray dark:prose-invert max-w-none"><div class="mb-4 text-sm text-gray-600 dark:text-gray-400">: </div><section class=mb-6><h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3"></h3><div class="space-y-2 text-gray-600 dark:text-gray-400"><p><strong>:</strong> DeepNest Next</p><p><strong>:</strong> 2.0.0</p><p><strong>:</strong> </p><p><strong>:</strong><a href=https://github.com/deepnest-next/deepnest target=_blank rel="noopener noreferrer"class="text-blue-600 dark:text-blue-400 hover:underline ml-1">https://github.com/deepnest-next/deepnest</a></p></div></section><section class=mb-6><h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3"></h3><p class="text-gray-600 dark:text-gray-400 mb-3"></p><div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"><p class="text-sm text-gray-600 dark:text-gray-400">: MIT License</p><p class="text-sm text-gray-600 dark:text-gray-400 mt-2">: <a href=https://github.com/deepnest-next/deepnest/blob/main/LICENSE target=_blank rel="noopener noreferrer"class="text-blue-600 dark:text-blue-400 hover:underline ml-1">https://github.com/deepnest-next/deepnest/blob/main/LICENSE</a></p></div></section><section class=mb-6><h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3"></h3><p class="text-gray-600 dark:text-gray-400 mb-3"></p><div class="bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 p-4 rounded-lg"><p class="text-sm text-yellow-800 dark:text-yellow-300"><strong>:</strong> </p></div></section><section class=mb-6><h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3"></h3><p class="text-gray-600 dark:text-gray-400 mb-3"></p><div class=space-y-3><div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"><h4 class="font-semibold text-gray-900 dark:text-gray-100 mb-2">Electron</h4><p class="text-sm text-gray-600 dark:text-gray-400">MIT License - <a href=https://github.com/electron/electron target=_blank rel="noopener noreferrer"class="text-blue-600 dark:text-blue-400 hover:underline">https://github.com/electron/electron</a></p></div><div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"><h4 class="font-semibold text-gray-900 dark:text-gray-100 mb-2">SolidJS</h4><p class="text-sm text-gray-600 dark:text-gray-400">MIT License - <a href=https://github.com/solidjs/solid target=_blank rel="noopener noreferrer"class="text-blue-600 dark:text-blue-400 hover:underline">https://github.com/solidjs/solid</a></p></div><div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"><h4 class="font-semibold text-gray-900 dark:text-gray-100 mb-2">Clipper Library</h4><p class="text-sm text-gray-600 dark:text-gray-400">Boost Software License - <a href=https://github.com/junmer/clipper-lib target=_blank rel="noopener noreferrer"class="text-blue-600 dark:text-blue-400 hover:underline">https://github.com/junmer/clipper-lib</a></p></div></div></section><section class=mb-6><h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3"></h3><p class="text-gray-600 dark:text-gray-400 mb-3"></p><div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"><p class="text-sm text-gray-600 dark:text-gray-400">: <a href=https://github.com/Jack000/SVGnest target=_blank rel="noopener noreferrer"class="text-blue-600 dark:text-blue-400 hover:underline ml-1">SVGnest by Jack000</a></p><p class="text-sm text-gray-600 dark:text-gray-400 mt-1">: <a href=https://github.com/deepnest-io/deepnest target=_blank rel="noopener noreferrer"class="text-blue-600 dark:text-blue-400 hover:underline ml-1">Deepnest by deepnest-io</a></p></div></section><section class=mb-6><h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3"></h3><p class="text-gray-600 dark:text-gray-400 mb-3"></p><div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"><p class="text-sm text-gray-600 dark:text-gray-400">: <a href=https://github.com/deepnest-next/deepnest/issues target=_blank rel="noopener noreferrer"class="text-blue-600 dark:text-blue-400 hover:underline ml-1">https://github.com/deepnest-next/deepnest/issues</a></p></div></section></div></div><div class="flex justify-end p-6 border-t border-gray-200 dark:border-gray-700"><button class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors">');const wx=t=>{const[e]=we("imprint"),r=s=>{s.target===s.currentTarget&&t.onClose()};return(()=>{var s=kx(),n=s.firstChild,a=n.firstChild,l=a.firstChild,o=l.nextSibling,d=o.firstChild,g=a.nextSibling,u=g.firstChild,c=u.firstChild,b=c.firstChild,f=c.nextSibling,_=f.firstChild,p=_.nextSibling,x=p.firstChild,$=x.firstChild,L=$.firstChild,A=x.nextSibling,D=A.firstChild,I=D.firstChild,V=A.nextSibling,T=V.firstChild,R=T.firstChild;T.nextSibling;var y=V.nextSibling,h=y.firstChild,w=h.firstChild,k=f.nextSibling,m=k.firstChild,S=m.nextSibling,E=S.nextSibling,N=E.firstChild,j=N.firstChild,H=N.nextSibling,q=H.firstChild,G=k.nextSibling,W=G.firstChild,Q=W.nextSibling,te=Q.nextSibling,B=te.firstChild,U=B.firstChild,M=U.firstChild;U.nextSibling;var z=G.nextSibling,J=z.firstChild,ie=J.nextSibling,X=z.nextSibling,le=X.firstChild,me=le.nextSibling,ge=me.nextSibling,ce=ge.firstChild,ve=ce.firstChild,_e=ce.nextSibling,Ne=_e.firstChild,$e=X.nextSibling,Pe=$e.firstChild,ae=Pe.nextSibling,be=ae.nextSibling,ue=be.firstChild,xe=ue.firstChild,ye=g.nextSibling,de=ye.firstChild;return s.$$click=r,i(l,()=>e("legal_notice")),Ae(o,"click",t.onClose,!0),i(d,()=>e("close")),i(c,()=>e("legal_last_updated"),b),i(c,()=>new Date().toLocaleDateString(),null),i(_,()=>e("legal_section_software_info")),i($,()=>e("legal_software_name"),L),i(D,()=>e("legal_software_version"),I),i(T,()=>e("legal_software_type"),R),i(V,()=>e("legal_software_type_description"),null),i(h,()=>e("legal_project_website"),w),i(m,()=>e("legal_section_license")),i(S,()=>e("legal_license_text")),i(N,()=>e("legal_license_type"),j),i(H,()=>e("legal_license_link"),q),i(W,()=>e("legal_section_disclaimer")),i(Q,()=>e("legal_disclaimer_text")),i(U,()=>e("legal_disclaimer_warning"),M),i(B,()=>e("legal_disclaimer_warning_text"),null),i(J,()=>e("legal_section_third_party")),i(ie,()=>e("legal_third_party_text")),i(le,()=>e("legal_section_attribution")),i(me,()=>e("legal_attribution_text")),i(ce,()=>e("legal_attribution_original"),ve),i(_e,()=>e("legal_attribution_previous"),Ne),i(Pe,()=>e("legal_section_contact")),i(ae,()=>e("legal_contact_text")),i(ue,()=>e("legal_contact_github"),xe),Ae(de,"click",t.onClose,!0),i(de,()=>e("close")),s})()};Me(["click"]);var Sx=C('<div class="h-full flex flex-col bg-white dark:bg-gray-900"><div class="flex items-center justify-between p-5 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"><h2 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h2></div><div class="flex-1 overflow-y-auto p-6"><div class="max-w-4xl mx-auto space-y-8"><div class=text-center><div class="inline-flex items-center justify-center w-24 h-24 rounded-full bg-blue-100 dark:bg-blue-900 mb-6"><span class=text-4xl>🔧</span></div><h1 class="text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2">DeepNest Next</h1><p class="text-lg text-gray-600 dark:text-gray-400 mb-4"></p><div class="flex items-center justify-center space-x-4 text-sm text-gray-500 dark:text-gray-400"><span>: </span><span>•</span><span>: </span></div></div><section class="bg-gray-50 dark:bg-gray-800 rounded-lg p-6"><h2 class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4"></h2><div class="prose prose-gray dark:prose-invert max-w-none"><p class=mb-4></p><p class=mb-4></p><ul class="list-disc pl-6 space-y-2"><li></li><li></li><li></li><li></li><li></li></ul></div></section><section class="bg-gray-50 dark:bg-gray-800 rounded-lg p-6"><h2 class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4"></h2><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><h3 class="font-semibold text-gray-900 dark:text-gray-100 mb-3"></h3><ul class="space-y-2 text-sm text-gray-600 dark:text-gray-400"><li>• SolidJS 1.8+</li><li>• TypeScript</li><li>• Tailwind CSS v4</li><li>• Vite</li><li>• i18next</li></ul></div><div><h3 class="font-semibold text-gray-900 dark:text-gray-100 mb-3"></h3><ul class="space-y-2 text-sm text-gray-600 dark:text-gray-400"><li>• Electron</li><li>• Node.js</li><li>• C++ Native Modules</li><li>• Clipper Library</li><li>• Genetic Algorithm</li></ul></div></div></section><section class="bg-gray-50 dark:bg-gray-800 rounded-lg p-6"><h2 class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4"></h2><div class=space-y-4><div><h3 class="font-semibold text-gray-900 dark:text-gray-100 mb-2"></h3><p class="text-gray-600 dark:text-gray-400"></p></div><div><h3 class="font-semibold text-gray-900 dark:text-gray-100 mb-2"></h3><p class="text-gray-600 dark:text-gray-400"></p></div><div class="flex space-x-4"><a href=https://github.com/deepnest-next/deepnest target=_blank rel="noopener noreferrer"class="inline-flex items-center px-4 py-2 bg-gray-900 dark:bg-gray-700 text-white rounded-lg hover:bg-gray-800 dark:hover:bg-gray-600 transition-colors"><span class=mr-2>📚</span></a><a href=https://github.com/deepnest-next/deepnest/releases target=_blank rel="noopener noreferrer"class="inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"><span class=mr-2>📦</span></a></div></div></section><section class="bg-gray-50 dark:bg-gray-800 rounded-lg p-6"><h2 class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4"></h2><div class=space-y-4><p class="text-gray-600 dark:text-gray-400"></p><div class="flex space-x-4"><button class="inline-flex items-center px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors"><span class=mr-2>🔒</span></button><button class="inline-flex items-center px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors"><span class=mr-2>📋</span></button></div></div></section><section class="bg-gray-50 dark:bg-gray-800 rounded-lg p-6"><h2 class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4"></h2><div class=space-y-4><p class="text-gray-600 dark:text-gray-400"></p><div class="flex space-x-4"><a href=https://github.com/deepnest-next/deepnest/issues target=_blank rel="noopener noreferrer"class="inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors"><span class=mr-2>🐛</span></a><a href=https://github.com/deepnest-next/deepnest/discussions target=_blank rel="noopener noreferrer"class="inline-flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors"><span class=mr-2>💬');const Cx=()=>{const[t]=we("imprint"),[e,r]=Y(!1),[s,n]=Y(!1),a=fs();return(()=>{var l=Sx(),o=l.firstChild,d=o.firstChild,g=o.nextSibling,u=g.firstChild,c=u.firstChild,b=c.firstChild,f=b.nextSibling,_=f.nextSibling,p=_.nextSibling,x=p.firstChild,$=x.firstChild,L=x.nextSibling,A=L.nextSibling,D=A.firstChild,I=c.nextSibling,V=I.firstChild,T=V.nextSibling,R=T.firstChild,y=R.nextSibling,h=y.nextSibling,w=h.firstChild,k=w.nextSibling,m=k.nextSibling,S=m.nextSibling,E=S.nextSibling,N=I.nextSibling,j=N.firstChild,H=j.nextSibling,q=H.firstChild,G=q.firstChild,W=q.nextSibling,Q=W.firstChild,te=N.nextSibling,B=te.firstChild,U=B.nextSibling,M=U.firstChild,z=M.firstChild,J=z.nextSibling,ie=M.nextSibling,X=ie.firstChild,le=X.nextSibling,me=ie.nextSibling,ge=me.firstChild;ge.firstChild;var ce=ge.nextSibling;ce.firstChild;var ve=te.nextSibling,_e=ve.firstChild,Ne=_e.nextSibling,$e=Ne.firstChild,Pe=$e.nextSibling,ae=Pe.firstChild;ae.firstChild;var be=ae.nextSibling;be.firstChild;var ue=ve.nextSibling,xe=ue.firstChild,ye=xe.nextSibling,de=ye.firstChild,fe=de.nextSibling,Le=fe.firstChild;Le.firstChild;var Fe=Le.nextSibling;return Fe.firstChild,i(d,()=>t("imprint_title")),i(_,()=>t("tagline")),i(x,()=>t("version"),$),i(x,()=>a.version,null),i(A,()=>t("build_date"),D),i(A,()=>a.buildDate,null),i(V,()=>t("about_title")),i(R,()=>t("about_description")),i(y,()=>t("about_features")),i(w,()=>t("feature_genetic_algorithm")),i(k,()=>t("feature_multiple_formats")),i(m,()=>t("feature_real_time_preview")),i(S,()=>t("feature_advanced_settings")),i(E,()=>t("feature_multi_language")),i(j,()=>t("technical_info_title")),i(G,()=>t("frontend_technologies")),i(Q,()=>t("backend_technologies")),i(B,()=>t("project_info_title")),i(z,()=>t("project_origin")),i(J,()=>t("project_origin_description")),i(X,()=>t("open_source")),i(le,()=>t("open_source_description")),i(ge,()=>t("view_source"),null),i(ce,()=>t("releases"),null),i(_e,()=>t("legal_title")),i($e,()=>t("legal_description")),ae.$$click=()=>r(!0),i(ae,()=>t("privacy_policy"),null),be.$$click=()=>n(!0),i(be,()=>t("legal_notice"),null),i(xe,()=>t("contact_title")),i(de,()=>t("contact_description")),i(Le,()=>t("report_issue"),null),i(Fe,()=>t("discussions"),null),i(l,P(Z,{get when(){return e()},get children(){return P($x,{onClose:()=>r(!1)})}}),null),i(l,P(Z,{get when(){return s()},get children(){return P(wx,{onClose:()=>n(!1)})}}),null),l})()};Me(["click"]);var Px=C('<main class="flex-1 overflow-hidden bg-gray-50 dark:bg-gray-900 w-full h-full">');const Lx=()=>(()=>{var t=Px();return i(t,P(Ls,{get children(){return[P($t,{get when(){return v.ui.activeTab==="parts"},get children(){return P(U_,{})}}),P($t,{get when(){return v.ui.activeTab==="nests"},get children(){return P(Mb,{})}}),P($t,{get when(){return v.ui.activeTab==="sheets"},get children(){return P(Kb,{})}}),P($t,{get when(){return v.ui.activeTab==="settings"},get children(){return P(yx,{})}}),P($t,{get when(){return v.ui.activeTab==="imprint"},get children(){return P(Cx,{})}})]}})),t})();var Ax=C('<div class="flex items-center gap-3"><div class="w-32 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden"><div class="h-full bg-blue-500 dark:bg-blue-400 rounded-full transition-all duration-300 ease-out"></div></div><span class="text-gray-600 dark:text-gray-400 min-w-10 text-right font-mono">%'),Nx=C('<div class="flex items-center gap-1"><svg class="w-3 h-3"fill=currentColor viewBox="0 0 20 20"><path fill-rule=evenodd d="M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z"clip-rule=evenodd></path></svg><span> threads'),Ex=C('<div class="flex items-center gap-1"><svg class="w-3 h-3"fill=currentColor viewBox="0 0 20 20"><path fill-rule=evenodd d="M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z"clip-rule=evenodd></path></svg><span> parts'),Mx=C('<div class="flex items-center gap-1"><svg class="w-3 h-3"fill=currentColor viewBox="0 0 20 20"><path fill-rule=evenodd d="M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"clip-rule=evenodd></path></svg><span> results'),Rx=C('<div class="flex items-center gap-1 text-red-500 dark:text-red-400"><svg class="w-3 h-3"fill=currentColor viewBox="0 0 20 20"><path fill-rule=evenodd d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z"clip-rule=evenodd></path></svg><span class="max-w-64 truncate">'),Ix=C('<footer class="h-10 bg-gray-100 dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 flex items-center justify-between px-4 text-xs"><div class="flex items-center gap-4"><div class="flex items-center gap-2"><div></div><span class="text-gray-900 dark:text-gray-100 font-medium"></span></div></div><div class="flex items-center gap-6 text-gray-600 dark:text-gray-400">');const Fx=()=>{const[t]=we("common"),e=oe(()=>{const{process:s}=v;return s.isNesting?t("status.nesting_in_progress"):s.lastError?t("status.error_occurred"):s.workerStatus.isRunning?s.workerStatus.currentOperation||t("status.processing"):t("status.ready")}),r=oe(()=>Math.max(0,Math.min(100,v.process.progress)));return(()=>{var s=Ix(),n=s.firstChild,a=n.firstChild,l=a.firstChild,o=l.nextSibling,d=n.nextSibling;return i(o,e),i(n,P(Z,{get when(){return v.process.isNesting},get children(){var g=Ax(),u=g.firstChild,c=u.firstChild,b=u.nextSibling,f=b.firstChild;return i(b,()=>r().toFixed(1),f),F(_=>(_=`${r()}%`)!=null?c.style.setProperty("width",_):c.style.removeProperty("width")),g}}),null),i(d,P(Z,{get when(){return v.process.workerStatus.threadsActive>0},get children(){var g=Nx(),u=g.firstChild,c=u.nextSibling,b=c.firstChild;return i(c,()=>v.process.workerStatus.threadsActive,b),g}}),null),i(d,P(Z,{get when(){return v.app.parts.length>0},get children(){var g=Ex(),u=g.firstChild,c=u.nextSibling,b=c.firstChild;return i(c,()=>v.app.parts.length,b),g}}),null),i(d,P(Z,{get when(){return v.app.nests.length>0},get children(){var g=Mx(),u=g.firstChild,c=u.nextSibling,b=c.firstChild;return i(c,()=>v.app.nests.length,b),g}}),null),i(d,P(Z,{get when(){return v.process.lastError},get children(){var g=Rx(),u=g.firstChild,c=u.nextSibling;return i(c,()=>v.process.lastError),g}}),null),F(()=>ke(l,`w-2 h-2 rounded-full ${v.process.isNesting?"bg-blue-500 animate-pulse":v.process.lastError?"bg-red-500":"bg-green-500"}`)),s})()};var Dx=C('<div><div class="flex-shrink-0 h-full w-full"></div><div title="Drag to resize panels"><div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-1 h-8 bg-gray-400 dark:bg-gray-500 group-hover:bg-blue-300 dark:group-hover:bg-blue-300 rounded-full transition-colors duration-200"></div><div class="absolute -left-1 -right-1 top-0 bottom-0 opacity-0 group-hover:opacity-100 transition-opacity duration-200"><div class="w-full h-full bg-blue-500/20 dark:bg-blue-400/20"></div></div></div><div class="flex-1 h-full min-w-0 w-full">');const Ox=t=>{const{minLeftWidth:e=250,maxLeftWidth:r=500,defaultLeftWidth:s=300}=t,[n,a]=Y(!1),[l,o]=Y(v.ui.panels.partsWidth||s);let d,g;const u=f=>{f.preventDefault(),a(!0),document.addEventListener("mousemove",c),document.addEventListener("mouseup",b),document.body.style.cursor="col-resize",document.body.style.userSelect="none"},c=f=>{if(!n()||!d)return;const _=d.getBoundingClientRect(),p=f.clientX-_.left,x=Math.max(e,Math.min(r,p));o(x),O.setPanelWidth("partsWidth",x)},b=()=>{a(!1),document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",b),document.body.style.cursor="",document.body.style.userSelect=""};return xr(()=>{o(v.ui.panels.partsWidth||s)}),It(()=>{document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",b),document.body.style.cursor="",document.body.style.userSelect=""}),(()=>{var f=Dx(),_=f.firstChild,p=_.nextSibling,x=p.nextSibling,$=d;typeof $=="function"?Cr($,f):d=f,i(_,()=>t.left),p.$$mousedown=u;var L=g;return typeof L=="function"?Cr(L,p):g=p,i(x,()=>t.right),F(A=>{var D=`flex h-full w-full ${n()?"select-none":""}`,I=`${l()}px`,V=`w-1 bg-gray-200 dark:bg-gray-700 hover:bg-blue-500 dark:hover:bg-blue-400 cursor-col-resize transition-colors duration-200 relative group ${n()?"bg-blue-500 dark:bg-blue-400":""}`;return D!==A.e&&ke(f,A.e=D),I!==A.t&&((A.t=I)!=null?_.style.setProperty("width",I):_.style.removeProperty("width")),V!==A.a&&ke(p,A.a=V),A},{e:void 0,t:void 0,a:void 0}),f})()};Me(["mousedown"]);var jx=C('<div class="h-screen flex flex-col bg-gray-50 text-gray-900 dark:bg-gray-900 dark:text-gray-100"><div class="flex-1 flex overflow-hidden">');const Tx=()=>(()=>{var t=jx(),e=t.firstChild;return i(t,P(y_,{}),e),i(e,P(Ox,{get left(){return P(w_,{})},get right(){return P(Lx,{})},minLeftWidth:200,maxLeftWidth:600,defaultLeftWidth:300})),i(t,P(Fx,{}),null),t})();var zx=C('<div class="app min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 transition-colors duration-200">');const Bx=()=>{const[t]=we("common");mt(()=>{const r=v.ui.darkMode;typeof document<"u"&&(document.documentElement.classList.toggle("dark",r),document.documentElement.setAttribute("data-theme",r?"dark":"light"))}),xr(async()=>{if(e(),re.isAvailable)try{const r=await re.readConfig();O.updateConfig(r)}catch(r){console.warn("Failed to load initial config:",r)}});const e=()=>{re.isAvailable&&(re.onNestProgress(r=>{O.setNestingProgress(r)}),re.onNestComplete(r=>{O.setNests(r),O.setNestingStatus(!1)}),re.onBackgroundProgress(r=>{O.setNestingProgress(r.progress)}),re.onWorkerStatus(r=>{O.setWorkerStatus(r)}),re.onNestError(r=>{O.setError(r),O.setNestingStatus(!1)}))};return(()=>{var r=zx();return i(r,P(Tx,{})),r})()},Vx=document.getElementById("root"),[,{isReady:Ux}]=we("common");Ns(()=>P(m_,{get children(){return P(Z,{get when(){return Ux()},get children(){return P(Bx,{})}})}}),Vx);
