(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const o of n.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(i){if(i.ep)return;i.ep=!0;const n=r(i);fetch(i.href,n)}})();const ls=!1,ds=(t,e)=>t===e,ot=Symbol("solid-proxy"),sr=Symbol("solid-track"),Tt={equals:ds};let Tr=Hr;const st=1,It=2,Ir={owned:null,cleanups:null,context:null,owner:null};var $e=null;let Yt=null,cs=null,Le=null,je=null,rt=null,Jt=0;function jt(t,e){const r=Le,s=$e,i=t.length===0,n=e===void 0?s:e,o=i?Ir:{owned:null,cleanups:null,context:n?n.context:null,owner:n},a=i?t:()=>t(()=>We(()=>St(o)));$e=o,Le=null;try{return mt(a,!0)}finally{Le=r,$e=s}}function ae(t,e){e=e?Object.assign({},Tt,e):Tt;const r={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0},s=i=>(typeof i=="function"&&(i=i(r.value)),Vr(r,i));return[Br.bind(r),s]}function C(t,e,r){const s=gr(t,e,!1,st);Ft(s)}function Qt(t,e,r){Tr=ms;const s=gr(t,e,!1,st);s.user=!0,rt?rt.push(s):Ft(s)}function fe(t,e,r){r=r?Object.assign({},Tt,r):Tt;const s=gr(t,e,!0,0);return s.observers=null,s.observerSlots=null,s.comparator=r.equals||void 0,Ft(s),Br.bind(s)}function gs(t){return mt(t,!1)}function We(t){if(Le===null)return t();const e=Le;Le=null;try{return t()}finally{Le=e}}function cr(t){Qt(()=>We(t))}function zr(t){return $e===null||($e.cleanups===null?$e.cleanups=[t]:$e.cleanups.push(t)),t}function ir(){return Le}function us(t,e){const r=Symbol("context");return{id:r,Provider:_s(r),defaultValue:t}}function fs(t){let e;return $e&&$e.context&&(e=$e.context[t.id])!==void 0?e:t.defaultValue}function Ur(t){const e=fe(t),r=fe(()=>nr(e()));return r.toArray=()=>{const s=r();return Array.isArray(s)?s:s!=null?[s]:[]},r}function Br(){if(this.sources&&this.state)if(this.state===st)Ft(this);else{const t=je;je=null,mt(()=>Ut(this),!1),je=t}if(Le){const t=this.observers?this.observers.length:0;Le.sources?(Le.sources.push(this),Le.sourceSlots.push(t)):(Le.sources=[this],Le.sourceSlots=[t]),this.observers?(this.observers.push(Le),this.observerSlots.push(Le.sources.length-1)):(this.observers=[Le],this.observerSlots=[Le.sources.length-1])}return this.value}function Vr(t,e,r){let s=t.value;return(!t.comparator||!t.comparator(s,e))&&(t.value=e,t.observers&&t.observers.length&&mt(()=>{for(let i=0;i<t.observers.length;i+=1){const n=t.observers[i],o=Yt&&Yt.running;o&&Yt.disposed.has(n),(o?!n.tState:!n.state)&&(n.pure?je.push(n):rt.push(n),n.observers&&qr(n)),o||(n.state=st)}if(je.length>1e6)throw je=[],new Error},!1)),e}function Ft(t){if(!t.fn)return;St(t);const e=Jt;ps(t,t.value,e)}function ps(t,e,r){let s;const i=$e,n=Le;Le=$e=t;try{s=t.fn(e)}catch(o){return t.pure&&(t.state=st,t.owned&&t.owned.forEach(St),t.owned=null),t.updatedAt=r+1,Kr(o)}finally{Le=n,$e=i}(!t.updatedAt||t.updatedAt<=r)&&(t.updatedAt!=null&&"observers"in t?Vr(t,s):t.value=s,t.updatedAt=r)}function gr(t,e,r,s=st,i){const n={fn:t,state:s,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:$e,context:$e?$e.context:null,pure:r};return $e===null||$e!==Ir&&($e.owned?$e.owned.push(n):$e.owned=[n]),n}function zt(t){if(t.state===0)return;if(t.state===It)return Ut(t);if(t.suspense&&We(t.suspense.inFallback))return t.suspense.effects.push(t);const e=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<Jt);)t.state&&e.push(t);for(let r=e.length-1;r>=0;r--)if(t=e[r],t.state===st)Ft(t);else if(t.state===It){const s=je;je=null,mt(()=>Ut(t,e[0]),!1),je=s}}function mt(t,e){if(je)return t();let r=!1;e||(je=[]),rt?r=!0:rt=[],Jt++;try{const s=t();return hs(r),s}catch(s){r||(rt=null),je=null,Kr(s)}}function hs(t){if(je&&(Hr(je),je=null),t)return;const e=rt;rt=null,e.length&&mt(()=>Tr(e),!1)}function Hr(t){for(let e=0;e<t.length;e++)zt(t[e])}function ms(t){let e,r=0;for(e=0;e<t.length;e++){const s=t[e];s.user?t[r++]=s:zt(s)}for(e=0;e<r;e++)zt(t[e])}function Ut(t,e){t.state=0;for(let r=0;r<t.sources.length;r+=1){const s=t.sources[r];if(s.sources){const i=s.state;i===st?s!==e&&(!s.updatedAt||s.updatedAt<Jt)&&zt(s):i===It&&Ut(s,e)}}}function qr(t){for(let e=0;e<t.observers.length;e+=1){const r=t.observers[e];r.state||(r.state=It,r.pure?je.push(r):rt.push(r),r.observers&&qr(r))}}function St(t){let e;if(t.sources)for(;t.sources.length;){const r=t.sources.pop(),s=t.sourceSlots.pop(),i=r.observers;if(i&&i.length){const n=i.pop(),o=r.observerSlots.pop();s<i.length&&(n.sourceSlots[o]=s,i[s]=n,r.observerSlots[s]=o)}}if(t.tOwned){for(e=t.tOwned.length-1;e>=0;e--)St(t.tOwned[e]);delete t.tOwned}if(t.owned){for(e=t.owned.length-1;e>=0;e--)St(t.owned[e]);t.owned=null}if(t.cleanups){for(e=t.cleanups.length-1;e>=0;e--)t.cleanups[e]();t.cleanups=null}t.state=0}function bs(t){return t instanceof Error?t:new Error(typeof t=="string"?t:"Unknown error",{cause:t})}function Kr(t,e=$e){throw bs(t)}function nr(t){if(typeof t=="function"&&!t.length)return nr(t());if(Array.isArray(t)){const e=[];for(let r=0;r<t.length;r++){const s=nr(t[r]);Array.isArray(s)?e.push.apply(e,s):e.push(s)}return e}return t}function _s(t,e){return function(s){let i;return C(()=>i=We(()=>($e.context={...$e.context,[t]:s.value},Ur(()=>s.children))),void 0),i}}const xs=Symbol("fallback");function hr(t){for(let e=0;e<t.length;e++)t[e]()}function ys(t,e,r={}){let s=[],i=[],n=[],o=0,a=e.length>1?[]:null;return zr(()=>hr(n)),()=>{let d=t()||[],c=d.length,u,g;return d[sr],We(()=>{let f,h,m,_,v,S,O,$,N;if(c===0)o!==0&&(hr(n),n=[],s=[],i=[],o=0,a&&(a=[])),r.fallback&&(s=[xs],i[0]=jt(q=>(n[0]=q,r.fallback())),o=1);else if(o===0){for(i=new Array(c),g=0;g<c;g++)s[g]=d[g],i[g]=jt(p);o=c}else{for(m=new Array(c),_=new Array(c),a&&(v=new Array(c)),S=0,O=Math.min(o,c);S<O&&s[S]===d[S];S++);for(O=o-1,$=c-1;O>=S&&$>=S&&s[O]===d[$];O--,$--)m[$]=i[O],_[$]=n[O],a&&(v[$]=a[O]);for(f=new Map,h=new Array($+1),g=$;g>=S;g--)N=d[g],u=f.get(N),h[g]=u===void 0?-1:u,f.set(N,g);for(u=S;u<=O;u++)N=s[u],g=f.get(N),g!==void 0&&g!==-1?(m[g]=i[u],_[g]=n[u],a&&(v[g]=a[u]),g=h[g],f.set(N,g)):n[u]();for(g=S;g<c;g++)g in m?(i[g]=m[g],n[g]=_[g],a&&(a[g]=v[g],a[g](g))):i[g]=jt(p);i=i.slice(0,o=c),s=d.slice(0)}return i});function p(f){if(n[g]=f,a){const[h,m]=ae(g);return a[g]=m,e(d[g],h)}return e(d[g])}}}function w(t,e){return We(()=>t(e||{}))}const Wr=t=>`Stale read from <${t}>.`;function ze(t){const e="fallback"in t&&{fallback:()=>t.fallback};return fe(ys(()=>t.each,t.children,e||void 0))}function oe(t){const e=t.keyed,r=fe(()=>t.when,void 0,void 0),s=e?r:fe(r,void 0,{equals:(i,n)=>!i==!n});return fe(()=>{const i=s();if(i){const n=t.children;return typeof n=="function"&&n.length>0?We(()=>n(e?i:()=>{if(!We(s))throw Wr("Show");return r()})):n}return t.fallback},void 0,void 0)}function vs(t){const e=Ur(()=>t.children),r=fe(()=>{const s=e(),i=Array.isArray(s)?s:[s];let n=()=>{};for(let o=0;o<i.length;o++){const a=o,d=i[o],c=n,u=fe(()=>c()?void 0:d.when,void 0,void 0),g=d.keyed?u:fe(u,void 0,{equals:(p,f)=>!p==!f});n=()=>c()||(g()?[a,u,d]:void 0)}return n});return fe(()=>{const s=r()();if(!s)return t.fallback;const[i,n,o]=s,a=o.children;return typeof a=="function"&&a.length>0?We(()=>a(o.keyed?n():()=>{if(We(r)()?.[0]!==i)throw Wr("Match");return n()})):a},void 0,void 0)}function Ot(t){return t}const Re=t=>fe(()=>t());function $s(t,e,r){let s=r.length,i=e.length,n=s,o=0,a=0,d=e[i-1].nextSibling,c=null;for(;o<i||a<n;){if(e[o]===r[a]){o++,a++;continue}for(;e[i-1]===r[n-1];)i--,n--;if(i===o){const u=n<s?a?r[a-1].nextSibling:r[n-a]:d;for(;a<n;)t.insertBefore(r[a++],u)}else if(n===a)for(;o<i;)(!c||!c.has(e[o]))&&e[o].remove(),o++;else if(e[o]===r[n-1]&&r[a]===e[i-1]){const u=e[--i].nextSibling;t.insertBefore(r[a++],e[o++].nextSibling),t.insertBefore(r[--n],u),e[i]=r[n]}else{if(!c){c=new Map;let g=a;for(;g<n;)c.set(r[g],g++)}const u=c.get(e[o]);if(u!=null)if(a<u&&u<n){let g=o,p=1,f;for(;++g<i&&g<n&&!((f=c.get(e[g]))==null||f!==u+p);)p++;if(p>u-a){const h=e[o];for(;a<u;)t.insertBefore(r[a++],h)}else t.replaceChild(r[a++],e[o++])}else o++;else e[o++].remove()}}}const mr="_$DX_DELEGATE";function ks(t,e,r,s={}){let i;return jt(n=>{i=n,e===document?t():l(e,t(),e.firstChild?null:void 0,r)},s.owner),()=>{i(),e.textContent=""}}function k(t,e,r,s){let i;const n=()=>{const a=s?document.createElementNS("http://www.w3.org/1998/Math/MathML","template"):document.createElement("template");return a.innerHTML=t,r?a.content.firstChild.firstChild:s?a.firstChild:a.content.firstChild},o=e?()=>We(()=>document.importNode(i||(i=n()),!0)):()=>(i||(i=n())).cloneNode(!0);return o.cloneNode=o,o}function De(t,e=window.document){const r=e[mr]||(e[mr]=new Set);for(let s=0,i=t.length;s<i;s++){const n=t[s];r.has(n)||(r.add(n),e.addEventListener(n,Ss))}}function ne(t,e,r){r==null?t.removeAttribute(e):t.setAttribute(e,r)}function ke(t,e){e==null?t.removeAttribute("class"):t.className=e}function ws(t,e,r,s){Array.isArray(r)?(t[`$$${e}`]=r[0],t[`$$${e}Data`]=r[1]):t[`$$${e}`]=r}function br(t,e,r){return We(()=>t(e,r))}function l(t,e,r,s){if(r!==void 0&&!s&&(s=[]),typeof e!="function")return Bt(t,e,s,r);C(i=>Bt(t,e(),i,r),s)}function Ss(t){let e=t.target;const r=`$$${t.type}`,s=t.target,i=t.currentTarget,n=d=>Object.defineProperty(t,"target",{configurable:!0,value:d}),o=()=>{const d=e[r];if(d&&!e.disabled){const c=e[`${r}Data`];if(c!==void 0?d.call(e,c,t):d.call(e,t),t.cancelBubble)return}return e.host&&typeof e.host!="string"&&!e.host._$host&&e.contains(t.target)&&n(e.host),!0},a=()=>{for(;o()&&(e=e._$host||e.parentNode||e.host););};if(Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return e||document}}),t.composedPath){const d=t.composedPath();n(d[0]);for(let c=0;c<d.length-2&&(e=d[c],!!o());c++){if(e._$host){e=e._$host,a();break}if(e.parentNode===i)break}}else a();n(s)}function Bt(t,e,r,s,i){for(;typeof r=="function";)r=r();if(e===r)return r;const n=typeof e,o=s!==void 0;if(t=o&&r[0]&&r[0].parentNode||t,n==="string"||n==="number"){if(n==="number"&&(e=e.toString(),e===r))return r;if(o){let a=r[0];a&&a.nodeType===3?a.data!==e&&(a.data=e):a=document.createTextNode(e),r=ct(t,r,s,a)}else r!==""&&typeof r=="string"?r=t.firstChild.data=e:r=t.textContent=e}else if(e==null||n==="boolean")r=ct(t,r,s);else{if(n==="function")return C(()=>{let a=e();for(;typeof a=="function";)a=a();r=Bt(t,a,r,s)}),()=>r;if(Array.isArray(e)){const a=[],d=r&&Array.isArray(r);if(ar(a,e,r,i))return C(()=>r=Bt(t,a,r,s,!0)),()=>r;if(a.length===0){if(r=ct(t,r,s),o)return r}else d?r.length===0?_r(t,a,s):$s(t,r,a):(r&&ct(t),_r(t,a));r=a}else if(e.nodeType){if(Array.isArray(r)){if(o)return r=ct(t,r,s,e);ct(t,r,null,e)}else r==null||r===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);r=e}}return r}function ar(t,e,r,s){let i=!1;for(let n=0,o=e.length;n<o;n++){let a=e[n],d=r&&r[t.length],c;if(!(a==null||a===!0||a===!1))if((c=typeof a)=="object"&&a.nodeType)t.push(a);else if(Array.isArray(a))i=ar(t,a,d)||i;else if(c==="function")if(s){for(;typeof a=="function";)a=a();i=ar(t,Array.isArray(a)?a:[a],Array.isArray(d)?d:[d])||i}else t.push(a),i=!0;else{const u=String(a);d&&d.nodeType===3&&d.data===u?t.push(d):t.push(document.createTextNode(u))}}return i}function _r(t,e,r=null){for(let s=0,i=e.length;s<i;s++)t.insertBefore(e[s],r)}function ct(t,e,r,s){if(r===void 0)return t.textContent="";const i=s||document.createTextNode("");if(e.length){let n=!1;for(let o=e.length-1;o>=0;o--){const a=e[o];if(i!==a){const d=a.parentNode===t;!n&&!o?d?t.replaceChild(i,a):t.insertBefore(i,r):d&&a.remove()}else n=!0}}else t.insertBefore(i,r);return[i]}const X=t=>typeof t=="string",vt=()=>{let t,e;const r=new Promise((s,i)=>{t=s,e=i});return r.resolve=t,r.reject=e,r},xr=t=>t==null?"":""+t,Cs=(t,e,r)=>{t.forEach(s=>{e[s]&&(r[s]=e[s])})},Ps=/###/g,yr=t=>t&&t.indexOf("###")>-1?t.replace(Ps,"."):t,vr=t=>!t||X(t),wt=(t,e,r)=>{const s=X(e)?e.split("."):e;let i=0;for(;i<s.length-1;){if(vr(t))return{};const n=yr(s[i]);!t[n]&&r&&(t[n]=new r),Object.prototype.hasOwnProperty.call(t,n)?t=t[n]:t={},++i}return vr(t)?{}:{obj:t,k:yr(s[i])}},$r=(t,e,r)=>{const{obj:s,k:i}=wt(t,e,Object);if(s!==void 0||e.length===1){s[i]=r;return}let n=e[e.length-1],o=e.slice(0,e.length-1),a=wt(t,o,Object);for(;a.obj===void 0&&o.length;)n=`${o[o.length-1]}.${n}`,o=o.slice(0,o.length-1),a=wt(t,o,Object),a?.obj&&typeof a.obj[`${a.k}.${n}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${n}`]=r},Ls=(t,e,r,s)=>{const{obj:i,k:n}=wt(t,e,Object);i[n]=i[n]||[],i[n].push(r)},Vt=(t,e)=>{const{obj:r,k:s}=wt(t,e);if(r&&Object.prototype.hasOwnProperty.call(r,s))return r[s]},As=(t,e,r)=>{const s=Vt(t,r);return s!==void 0?s:Vt(e,r)},Gr=(t,e,r)=>{for(const s in e)s!=="__proto__"&&s!=="constructor"&&(s in t?X(t[s])||t[s]instanceof String||X(e[s])||e[s]instanceof String?r&&(t[s]=e[s]):Gr(t[s],e[s],r):t[s]=e[s]);return t},gt=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Fs={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Es=t=>X(t)?t.replace(/[&<>"'\/]/g,e=>Fs[e]):t;class Os{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const r=this.regExpMap.get(e);if(r!==void 0)return r;const s=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,s),this.regExpQueue.push(e),s}}const Ms=[" ",",","?","!",";"],Ns=new Os(20),Rs=(t,e,r)=>{e=e||"",r=r||"";const s=Ms.filter(o=>e.indexOf(o)<0&&r.indexOf(o)<0);if(s.length===0)return!0;const i=Ns.getRegExp(`(${s.map(o=>o==="?"?"\\?":o).join("|")})`);let n=!i.test(t);if(!n){const o=t.indexOf(r);o>0&&!i.test(t.substring(0,o))&&(n=!0)}return n},or=(t,e,r=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const s=e.split(r);let i=t;for(let n=0;n<s.length;){if(!i||typeof i!="object")return;let o,a="";for(let d=n;d<s.length;++d)if(d!==n&&(a+=r),a+=s[d],o=i[a],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&d<s.length-1)continue;n+=d-n+1;break}i=o}return i},Ct=t=>t?.replace("_","-"),js={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}};class Ht{constructor(e,r={}){this.init(e,r)}init(e,r={}){this.prefix=r.prefix||"i18next:",this.logger=e||js,this.options=r,this.debug=r.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,r,s,i){return i&&!this.debug?null:(X(e[0])&&(e[0]=`${s}${this.prefix} ${e[0]}`),this.logger[r](e))}create(e){return new Ht(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Ht(this.logger,e)}}var Qe=new Ht;class Xt{constructor(){this.observers={}}on(e,r){return e.split(" ").forEach(s=>{this.observers[s]||(this.observers[s]=new Map);const i=this.observers[s].get(r)||0;this.observers[s].set(r,i+1)}),this}off(e,r){if(this.observers[e]){if(!r){delete this.observers[e];return}this.observers[e].delete(r)}}emit(e,...r){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,n])=>{for(let o=0;o<n;o++)i(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,n])=>{for(let o=0;o<n;o++)i.apply(i,[e,...r])})}}class kr extends Xt{constructor(e,r={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const r=this.options.ns.indexOf(e);r>-1&&this.options.ns.splice(r,1)}getResource(e,r,s,i={}){const n=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,o=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,r],s&&(Array.isArray(s)?a.push(...s):X(s)&&n?a.push(...s.split(n)):a.push(s)));const d=Vt(this.data,a);return!d&&!r&&!s&&e.indexOf(".")>-1&&(e=a[0],r=a[1],s=a.slice(2).join(".")),d||!o||!X(s)?d:or(this.data?.[e]?.[r],s,n)}addResource(e,r,s,i,n={silent:!1}){const o=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let a=[e,r];s&&(a=a.concat(o?s.split(o):s)),e.indexOf(".")>-1&&(a=e.split("."),i=r,r=a[1]),this.addNamespaces(r),$r(this.data,a,i),n.silent||this.emit("added",e,r,s,i)}addResources(e,r,s,i={silent:!1}){for(const n in s)(X(s[n])||Array.isArray(s[n]))&&this.addResource(e,r,n,s[n],{silent:!0});i.silent||this.emit("added",e,r,s)}addResourceBundle(e,r,s,i,n,o={silent:!1,skipCopy:!1}){let a=[e,r];e.indexOf(".")>-1&&(a=e.split("."),i=s,s=r,r=a[1]),this.addNamespaces(r);let d=Vt(this.data,a)||{};o.skipCopy||(s=JSON.parse(JSON.stringify(s))),i?Gr(d,s,n):d={...d,...s},$r(this.data,a,d),o.silent||this.emit("added",e,r,s)}removeResourceBundle(e,r){this.hasResourceBundle(e,r)&&delete this.data[e][r],this.removeNamespaces(r),this.emit("removed",e,r)}hasResourceBundle(e,r){return this.getResource(e,r)!==void 0}getResourceBundle(e,r){return r||(r=this.options.defaultNS),this.getResource(e,r)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const r=this.getDataByLanguage(e);return!!(r&&Object.keys(r)||[]).find(i=>r[i]&&Object.keys(r[i]).length>0)}toJSON(){return this.data}}var Jr={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,r,s,i){return t.forEach(n=>{e=this.processors[n]?.process(e,r,s,i)??e}),e}};const wr={},Sr=t=>!X(t)&&typeof t!="boolean"&&typeof t!="number";class qt extends Xt{constructor(e,r={}){super(),Cs(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Qe.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,r={interpolation:{}}){const s={...r};return e==null?!1:this.resolve(e,s)?.res!==void 0}extractFromKey(e,r){let s=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");const i=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let n=r.ns||this.options.defaultNS||[];const o=s&&e.indexOf(s)>-1,a=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!Rs(e,s,i);if(o&&!a){const d=e.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:e,namespaces:X(n)?[n]:n};const c=e.split(s);(s!==i||s===i&&this.options.ns.indexOf(c[0])>-1)&&(n=c.shift()),e=c.join(i)}return{key:e,namespaces:X(n)?[n]:n}}translate(e,r,s){let i=typeof r=="object"?{...r}:r;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(i={...i}),i||(i={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const n=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:a,namespaces:d}=this.extractFromKey(e[e.length-1],i),c=d[d.length-1];let u=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;u===void 0&&(u=":");const g=i.lng||this.language,p=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(g?.toLowerCase()==="cimode")return p?n?{res:`${c}${u}${a}`,usedKey:a,exactUsedKey:a,usedLng:g,usedNS:c,usedParams:this.getUsedParamsDetails(i)}:`${c}${u}${a}`:n?{res:a,usedKey:a,exactUsedKey:a,usedLng:g,usedNS:c,usedParams:this.getUsedParamsDetails(i)}:a;const f=this.resolve(e,i);let h=f?.res;const m=f?.usedKey||a,_=f?.exactUsedKey||a,v=["[object Number]","[object Function]","[object RegExp]"],S=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,O=!this.i18nFormat||this.i18nFormat.handleAsObject,$=i.count!==void 0&&!X(i.count),N=qt.hasDefaultValue(i),q=$?this.pluralResolver.getSuffix(g,i.count,i):"",T=i.ordinal&&$?this.pluralResolver.getSuffix(g,i.count,{ordinal:!1}):"",V=$&&!i.ordinal&&i.count===0,y=V&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${q}`]||i[`defaultValue${T}`]||i.defaultValue;let x=h;O&&!h&&N&&(x=y);const A=Sr(x),P=Object.prototype.toString.apply(x);if(O&&x&&A&&v.indexOf(P)<0&&!(X(S)&&Array.isArray(x))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const j=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,x,{...i,ns:d}):`key '${a} (${this.language})' returned an object instead of string.`;return n?(f.res=j,f.usedParams=this.getUsedParamsDetails(i),f):j}if(o){const j=Array.isArray(x),M=j?[]:{},D=j?_:m;for(const U in x)if(Object.prototype.hasOwnProperty.call(x,U)){const J=`${D}${o}${U}`;N&&!h?M[U]=this.translate(J,{...i,defaultValue:Sr(y)?y[U]:void 0,joinArrays:!1,ns:d}):M[U]=this.translate(J,{...i,joinArrays:!1,ns:d}),M[U]===J&&(M[U]=x[U])}h=M}}else if(O&&X(S)&&Array.isArray(h))h=h.join(S),h&&(h=this.extendTranslation(h,e,i,s));else{let j=!1,M=!1;!this.isValidLookup(h)&&N&&(j=!0,h=y),this.isValidLookup(h)||(M=!0,h=a);const U=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&M?void 0:h,J=N&&y!==h&&this.options.updateMissing;if(M||j||J){if(this.logger.log(J?"updateKey":"missingKey",g,c,a,J?y:h),o){const I=this.resolve(a,{...i,keySeparator:!1});I&&I.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Z=[];const G=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&G&&G[0])for(let I=0;I<G.length;I++)Z.push(G[I]);else this.options.saveMissingTo==="all"?Z=this.languageUtils.toResolveHierarchy(i.lng||this.language):Z.push(i.lng||this.language);const K=(I,re,de)=>{const se=N&&de!==h?de:U;this.options.missingKeyHandler?this.options.missingKeyHandler(I,c,re,se,J,i):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(I,c,re,se,J,i),this.emit("missingKey",I,c,re,h)};this.options.saveMissing&&(this.options.saveMissingPlurals&&$?Z.forEach(I=>{const re=this.pluralResolver.getSuffixes(I,i);V&&i[`defaultValue${this.options.pluralSeparator}zero`]&&re.indexOf(`${this.options.pluralSeparator}zero`)<0&&re.push(`${this.options.pluralSeparator}zero`),re.forEach(de=>{K([I],a+de,i[`defaultValue${de}`]||y)})}):K(Z,a,y))}h=this.extendTranslation(h,e,i,f,s),M&&h===a&&this.options.appendNamespaceToMissingKey&&(h=`${c}${u}${a}`),(M||j)&&this.options.parseMissingKeyHandler&&(h=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}${u}${a}`:a,j?h:void 0,i))}return n?(f.res=h,f.usedParams=this.getUsedParamsDetails(i),f):h}extendTranslation(e,r,s,i,n){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...s},s.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init({...s,interpolation:{...this.options.interpolation,...s.interpolation}});const d=X(e)&&(s?.interpolation?.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let c;if(d){const g=e.match(this.interpolator.nestingRegexp);c=g&&g.length}let u=s.replace&&!X(s.replace)?s.replace:s;if(this.options.interpolation.defaultVariables&&(u={...this.options.interpolation.defaultVariables,...u}),e=this.interpolator.interpolate(e,u,s.lng||this.language||i.usedLng,s),d){const g=e.match(this.interpolator.nestingRegexp),p=g&&g.length;c<p&&(s.nest=!1)}!s.lng&&i&&i.res&&(s.lng=this.language||i.usedLng),s.nest!==!1&&(e=this.interpolator.nest(e,(...g)=>n?.[0]===g[0]&&!s.context?(this.logger.warn(`It seems you are nesting recursively key: ${g[0]} in key: ${r[0]}`),null):this.translate(...g,r),s)),s.interpolation&&this.interpolator.reset()}const o=s.postProcess||this.options.postProcess,a=X(o)?[o]:o;return e!=null&&a?.length&&s.applyPostProcessor!==!1&&(e=Jr.handle(a,e,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(s)},...s}:s,this)),e}resolve(e,r={}){let s,i,n,o,a;return X(e)&&(e=[e]),e.forEach(d=>{if(this.isValidLookup(s))return;const c=this.extractFromKey(d,r),u=c.key;i=u;let g=c.namespaces;this.options.fallbackNS&&(g=g.concat(this.options.fallbackNS));const p=r.count!==void 0&&!X(r.count),f=p&&!r.ordinal&&r.count===0,h=r.context!==void 0&&(X(r.context)||typeof r.context=="number")&&r.context!=="",m=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);g.forEach(_=>{this.isValidLookup(s)||(a=_,!wr[`${m[0]}-${_}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(a)&&(wr[`${m[0]}-${_}`]=!0,this.logger.warn(`key "${i}" for languages "${m.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),m.forEach(v=>{if(this.isValidLookup(s))return;o=v;const S=[u];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(S,u,v,_,r);else{let $;p&&($=this.pluralResolver.getSuffix(v,r.count,r));const N=`${this.options.pluralSeparator}zero`,q=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(p&&(S.push(u+$),r.ordinal&&$.indexOf(q)===0&&S.push(u+$.replace(q,this.options.pluralSeparator)),f&&S.push(u+N)),h){const T=`${u}${this.options.contextSeparator}${r.context}`;S.push(T),p&&(S.push(T+$),r.ordinal&&$.indexOf(q)===0&&S.push(T+$.replace(q,this.options.pluralSeparator)),f&&S.push(T+N))}}let O;for(;O=S.pop();)this.isValidLookup(s)||(n=O,s=this.getResource(v,_,O,r))}))})}),{res:s,usedKey:i,exactUsedKey:n,usedLng:o,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,r,s,i={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,r,s,i):this.resourceStore.getResource(e,r,s,i)}getUsedParamsDetails(e={}){const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],s=e.replace&&!X(e.replace);let i=s?e.replace:e;if(s&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!s){i={...i};for(const n of r)delete i[n]}return i}static hasDefaultValue(e){const r="defaultValue";for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&r===s.substring(0,r.length)&&e[s]!==void 0)return!0;return!1}}class Cr{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Qe.create("languageUtils")}getScriptPartFromCode(e){if(e=Ct(e),!e||e.indexOf("-")<0)return null;const r=e.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(e){if(e=Ct(e),!e||e.indexOf("-")<0)return e;const r=e.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(e){if(X(e)&&e.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(e)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let r;return e.forEach(s=>{if(r)return;const i=this.formatLanguageCode(s);(!this.options.supportedLngs||this.isSupportedCode(i))&&(r=i)}),!r&&this.options.supportedLngs&&e.forEach(s=>{if(r)return;const i=this.getScriptPartFromCode(s);if(this.isSupportedCode(i))return r=i;const n=this.getLanguagePartFromCode(s);if(this.isSupportedCode(n))return r=n;r=this.options.supportedLngs.find(o=>{if(o===n)return o;if(!(o.indexOf("-")<0&&n.indexOf("-")<0)&&(o.indexOf("-")>0&&n.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===n||o.indexOf(n)===0&&n.length>1))return o})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(e,r){if(!e)return[];if(typeof e=="function"&&(e=e(r)),X(e)&&(e=[e]),Array.isArray(e))return e;if(!r)return e.default||[];let s=e[r];return s||(s=e[this.getScriptPartFromCode(r)]),s||(s=e[this.formatLanguageCode(r)]),s||(s=e[this.getLanguagePartFromCode(r)]),s||(s=e.default),s||[]}toResolveHierarchy(e,r){const s=this.getFallbackCodes((r===!1?[]:r)||this.options.fallbackLng||[],e),i=[],n=o=>{o&&(this.isSupportedCode(o)?i.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return X(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&n(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&n(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&n(this.getLanguagePartFromCode(e))):X(e)&&n(this.formatLanguageCode(e)),s.forEach(o=>{i.indexOf(o)<0&&n(this.formatLanguageCode(o))}),i}}const Pr={zero:0,one:1,two:2,few:3,many:4,other:5},Lr={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Ds{constructor(e,r={}){this.languageUtils=e,this.options=r,this.logger=Qe.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,r){this.rules[e]=r}clearCache(){this.pluralRulesCache={}}getRule(e,r={}){const s=Ct(e==="dev"?"en":e),i=r.ordinal?"ordinal":"cardinal",n=JSON.stringify({cleanedCode:s,type:i});if(n in this.pluralRulesCache)return this.pluralRulesCache[n];let o;try{o=new Intl.PluralRules(s,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Lr;if(!e.match(/-|_/))return Lr;const d=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(d,r)}return this.pluralRulesCache[n]=o,o}needsPlural(e,r={}){let s=this.getRule(e,r);return s||(s=this.getRule("dev",r)),s?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,r,s={}){return this.getSuffixes(e,s).map(i=>`${r}${i}`)}getSuffixes(e,r={}){let s=this.getRule(e,r);return s||(s=this.getRule("dev",r)),s?s.resolvedOptions().pluralCategories.sort((i,n)=>Pr[i]-Pr[n]).map(i=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,r,s={}){const i=this.getRule(e,s);return i?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${i.select(r)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",r,s))}}const Ar=(t,e,r,s=".",i=!0)=>{let n=As(t,e,r);return!n&&i&&X(r)&&(n=or(t,r,s),n===void 0&&(n=or(e,r,s))),n},er=t=>t.replace(/\$/g,"$$$$");class Ts{constructor(e={}){this.logger=Qe.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:r,escapeValue:s,useRawValueToEscape:i,prefix:n,prefixEscaped:o,suffix:a,suffixEscaped:d,formatSeparator:c,unescapeSuffix:u,unescapePrefix:g,nestingPrefix:p,nestingPrefixEscaped:f,nestingSuffix:h,nestingSuffixEscaped:m,nestingOptionsSeparator:_,maxReplaces:v,alwaysFormat:S}=e.interpolation;this.escape=r!==void 0?r:Es,this.escapeValue=s!==void 0?s:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=n?gt(n):o||"{{",this.suffix=a?gt(a):d||"}}",this.formatSeparator=c||",",this.unescapePrefix=u?"":g||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=p?gt(p):f||gt("$t("),this.nestingSuffix=h?gt(h):m||gt(")"),this.nestingOptionsSeparator=_||",",this.maxReplaces=v||1e3,this.alwaysFormat=S!==void 0?S:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(r,s)=>r?.source===s?(r.lastIndex=0,r):new RegExp(s,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,r,s,i){let n,o,a;const d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=f=>{if(f.indexOf(this.formatSeparator)<0){const v=Ar(r,d,f,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(v,void 0,s,{...i,...r,interpolationkey:f}):v}const h=f.split(this.formatSeparator),m=h.shift().trim(),_=h.join(this.formatSeparator).trim();return this.format(Ar(r,d,m,this.options.keySeparator,this.options.ignoreJSONStructure),_,s,{...i,...r,interpolationkey:m})};this.resetRegExp();const u=i?.missingInterpolationHandler||this.options.missingInterpolationHandler,g=i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:f=>er(f)},{regex:this.regexp,safeValue:f=>this.escapeValue?er(this.escape(f)):er(f)}].forEach(f=>{for(a=0;n=f.regex.exec(e);){const h=n[1].trim();if(o=c(h),o===void 0)if(typeof u=="function"){const _=u(e,n,i);o=X(_)?_:""}else if(i&&Object.prototype.hasOwnProperty.call(i,h))o="";else if(g){o=n[0];continue}else this.logger.warn(`missed to pass in variable ${h} for interpolating ${e}`),o="";else!X(o)&&!this.useRawValueToEscape&&(o=xr(o));const m=f.safeValue(o);if(e=e.replace(n[0],m),g?(f.regex.lastIndex+=o.length,f.regex.lastIndex-=n[0].length):f.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,r,s={}){let i,n,o;const a=(d,c)=>{const u=this.nestingOptionsSeparator;if(d.indexOf(u)<0)return d;const g=d.split(new RegExp(`${u}[ ]*{`));let p=`{${g[1]}`;d=g[0],p=this.interpolate(p,o);const f=p.match(/'/g),h=p.match(/"/g);((f?.length??0)%2===0&&!h||h.length%2!==0)&&(p=p.replace(/'/g,'"'));try{o=JSON.parse(p),c&&(o={...c,...o})}catch(m){return this.logger.warn(`failed parsing options string in nesting for key ${d}`,m),`${d}${u}${p}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,d};for(;i=this.nestingRegexp.exec(e);){let d=[];o={...s},o=o.replace&&!X(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const c=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(c!==-1&&(d=i[1].slice(c).split(this.formatSeparator).map(u=>u.trim()).filter(Boolean),i[1]=i[1].slice(0,c)),n=r(a.call(this,i[1].trim(),o),o),n&&i[0]===e&&!X(n))return n;X(n)||(n=xr(n)),n||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),n=""),d.length&&(n=d.reduce((u,g)=>this.format(u,g,s.lng,{...s,interpolationkey:i[1].trim()}),n.trim())),e=e.replace(i[0],n),this.regexp.lastIndex=0}return e}}const Is=t=>{let e=t.toLowerCase().trim();const r={};if(t.indexOf("(")>-1){const s=t.split("(");e=s[0].toLowerCase().trim();const i=s[1].substring(0,s[1].length-1);e==="currency"&&i.indexOf(":")<0?r.currency||(r.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?r.range||(r.range=i.trim()):i.split(";").forEach(o=>{if(o){const[a,...d]=o.split(":"),c=d.join(":").trim().replace(/^'+|'+$/g,""),u=a.trim();r[u]||(r[u]=c),c==="false"&&(r[u]=!1),c==="true"&&(r[u]=!0),isNaN(c)||(r[u]=parseInt(c,10))}})}return{formatName:e,formatOptions:r}},Fr=t=>{const e={};return(r,s,i)=>{let n=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(n={...n,[i.interpolationkey]:void 0});const o=s+JSON.stringify(n);let a=e[o];return a||(a=t(Ct(s),i),e[o]=a),a(r)}},zs=t=>(e,r,s)=>t(Ct(r),s)(e);class Us{constructor(e={}){this.logger=Qe.create("formatter"),this.options=e,this.init(e)}init(e,r={interpolation:{}}){this.formatSeparator=r.interpolation.formatSeparator||",";const s=r.cacheInBuiltFormats?Fr:zs;this.formats={number:s((i,n)=>{const o=new Intl.NumberFormat(i,{...n});return a=>o.format(a)}),currency:s((i,n)=>{const o=new Intl.NumberFormat(i,{...n,style:"currency"});return a=>o.format(a)}),datetime:s((i,n)=>{const o=new Intl.DateTimeFormat(i,{...n});return a=>o.format(a)}),relativetime:s((i,n)=>{const o=new Intl.RelativeTimeFormat(i,{...n});return a=>o.format(a,n.range||"day")}),list:s((i,n)=>{const o=new Intl.ListFormat(i,{...n});return a=>o.format(a)})}}add(e,r){this.formats[e.toLowerCase().trim()]=r}addCached(e,r){this.formats[e.toLowerCase().trim()]=Fr(r)}format(e,r,s,i={}){const n=r.split(this.formatSeparator);if(n.length>1&&n[0].indexOf("(")>1&&n[0].indexOf(")")<0&&n.find(a=>a.indexOf(")")>-1)){const a=n.findIndex(d=>d.indexOf(")")>-1);n[0]=[n[0],...n.splice(1,a)].join(this.formatSeparator)}return n.reduce((a,d)=>{const{formatName:c,formatOptions:u}=Is(d);if(this.formats[c]){let g=a;try{const p=i?.formatParams?.[i.interpolationkey]||{},f=p.locale||p.lng||i.locale||i.lng||s;g=this.formats[c](a,f,{...u,...i,...p})}catch(p){this.logger.warn(p)}return g}else this.logger.warn(`there was no format function for ${c}`);return a},e)}}const Bs=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class Vs extends Xt{constructor(e,r,s,i={}){super(),this.backend=e,this.store=r,this.services=s,this.languageUtils=s.languageUtils,this.options=i,this.logger=Qe.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(s,i.backend,i)}queueLoad(e,r,s,i){const n={},o={},a={},d={};return e.forEach(c=>{let u=!0;r.forEach(g=>{const p=`${c}|${g}`;!s.reload&&this.store.hasResourceBundle(c,g)?this.state[p]=2:this.state[p]<0||(this.state[p]===1?o[p]===void 0&&(o[p]=!0):(this.state[p]=1,u=!1,o[p]===void 0&&(o[p]=!0),n[p]===void 0&&(n[p]=!0),d[g]===void 0&&(d[g]=!0)))}),u||(a[c]=!0)}),(Object.keys(n).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(n),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(d)}}loaded(e,r,s){const i=e.split("|"),n=i[0],o=i[1];r&&this.emit("failedLoading",n,o,r),!r&&s&&this.store.addResourceBundle(n,o,s,void 0,void 0,{skipCopy:!0}),this.state[e]=r?-1:2,r&&s&&(this.state[e]=0);const a={};this.queue.forEach(d=>{Ls(d.loaded,[n],o),Bs(d,e),r&&d.errors.push(r),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(c=>{a[c]||(a[c]={});const u=d.loaded[c];u.length&&u.forEach(g=>{a[c][g]===void 0&&(a[c][g]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(d=>!d.done)}read(e,r,s,i=0,n=this.retryTimeout,o){if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:r,fcName:s,tried:i,wait:n,callback:o});return}this.readingCalls++;const a=(c,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const g=this.waitingReads.shift();this.read(g.lng,g.ns,g.fcName,g.tried,g.wait,g.callback)}if(c&&u&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,r,s,i+1,n*2,o)},n);return}o(c,u)},d=this.backend[s].bind(this.backend);if(d.length===2){try{const c=d(e,r);c&&typeof c.then=="function"?c.then(u=>a(null,u)).catch(a):a(null,c)}catch(c){a(c)}return}return d(e,r,a)}prepareLoading(e,r,s={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();X(e)&&(e=this.languageUtils.toResolveHierarchy(e)),X(r)&&(r=[r]);const n=this.queueLoad(e,r,s,i);if(!n.toLoad.length)return n.pending.length||i(),null;n.toLoad.forEach(o=>{this.loadOne(o)})}load(e,r,s){this.prepareLoading(e,r,{},s)}reload(e,r,s){this.prepareLoading(e,r,{reload:!0},s)}loadOne(e,r=""){const s=e.split("|"),i=s[0],n=s[1];this.read(i,n,"read",void 0,void 0,(o,a)=>{o&&this.logger.warn(`${r}loading namespace ${n} for language ${i} failed`,o),!o&&a&&this.logger.log(`${r}loaded namespace ${n} for language ${i}`,a),this.loaded(e,o,a)})}saveMissing(e,r,s,i,n,o={},a=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(r)){this.logger.warn(`did not save key "${s}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(s==null||s==="")){if(this.backend?.create){const d={...o,isUpdate:n},c=this.backend.create.bind(this.backend);if(c.length<6)try{let u;c.length===5?u=c(e,r,s,i,d):u=c(e,r,s,i),u&&typeof u.then=="function"?u.then(g=>a(null,g)).catch(a):a(null,u)}catch(u){a(u)}else c(e,r,s,i,a,d)}!e||!e[0]||this.store.addResource(e[0],r,s,i)}}}const Er=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),X(t[1])&&(e.defaultValue=t[1]),X(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const r=t[3]||t[2];Object.keys(r).forEach(s=>{e[s]=r[s]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Or=t=>(X(t.ns)&&(t.ns=[t.ns]),X(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),X(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),Mt=()=>{},Hs=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(r=>{typeof t[r]=="function"&&(t[r]=t[r].bind(t))})};class Pt extends Xt{constructor(e={},r){if(super(),this.options=Or(e),this.services={},this.logger=Qe,this.modules={external:[]},Hs(this),r&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,r),this;setTimeout(()=>{this.init(e,r)},0)}}init(e={},r){this.isInitializing=!0,typeof e=="function"&&(r=e,e={}),e.defaultNS==null&&e.ns&&(X(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const s=Er();this.options={...s,...this.options,...Or(e)},this.options.interpolation={...s.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const i=c=>c?typeof c=="function"?new c:c:null;if(!this.options.isClone){this.modules.logger?Qe.init(i(this.modules.logger),this.options):Qe.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:c=Us;const u=new Cr(this.options);this.store=new kr(this.options.resources,this.options);const g=this.services;g.logger=Qe,g.resourceStore=this.store,g.languageUtils=u,g.pluralResolver=new Ds(u,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==s.interpolation.format&&this.logger.warn("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),c&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(g.formatter=i(c),g.formatter.init&&g.formatter.init(g,this.options),this.options.interpolation.format=g.formatter.format.bind(g.formatter)),g.interpolator=new Ts(this.options),g.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},g.backendConnector=new Vs(i(this.modules.backend),g.resourceStore,g,this.options),g.backendConnector.on("*",(f,...h)=>{this.emit(f,...h)}),this.modules.languageDetector&&(g.languageDetector=i(this.modules.languageDetector),g.languageDetector.init&&g.languageDetector.init(g,this.options.detection,this.options)),this.modules.i18nFormat&&(g.i18nFormat=i(this.modules.i18nFormat),g.i18nFormat.init&&g.i18nFormat.init(this)),this.translator=new qt(this.services,this.options),this.translator.on("*",(f,...h)=>{this.emit(f,...h)}),this.modules.external.forEach(f=>{f.init&&f.init(this)})}if(this.format=this.options.interpolation.format,r||(r=Mt),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=(...u)=>this.store[c](...u)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=(...u)=>(this.store[c](...u),this)});const a=vt(),d=()=>{const c=(u,g)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),a.resolve(g),r(u,g)};if(this.languages&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initAsync?d():setTimeout(d,0),a}loadResources(e,r=Mt){let s=r;const i=X(e)?e:this.language;if(typeof e=="function"&&(s=e),!this.options.resources||this.options.partialBundledLanguages){if(i?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return s();const n=[],o=a=>{if(!a||a==="cimode")return;this.services.languageUtils.toResolveHierarchy(a).forEach(c=>{c!=="cimode"&&n.indexOf(c)<0&&n.push(c)})};i?o(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>o(d)),this.options.preload?.forEach?.(a=>o(a)),this.services.backendConnector.load(n,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),s(a)})}else s(null)}reloadResources(e,r,s){const i=vt();return typeof e=="function"&&(s=e,e=void 0),typeof r=="function"&&(s=r,r=void 0),e||(e=this.languages),r||(r=this.options.ns),s||(s=Mt),this.services.backendConnector.reload(e,r,n=>{i.resolve(),s(n)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Jr.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let r=0;r<this.languages.length;r++){const s=this.languages[r];if(!(["cimode","dev"].indexOf(s)>-1)&&this.store.hasLanguageSomeTranslations(s)){this.resolvedLanguage=s;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,r){this.isLanguageChangingTo=e;const s=vt();this.emit("languageChanging",e);const i=a=>{this.language=a,this.languages=this.services.languageUtils.toResolveHierarchy(a),this.resolvedLanguage=void 0,this.setResolvedLanguage(a)},n=(a,d)=>{d?this.isLanguageChangingTo===e&&(i(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,s.resolve((...c)=>this.t(...c)),r&&r(a,(...c)=>this.t(...c))},o=a=>{!e&&!a&&this.services.languageDetector&&(a=[]);const d=X(a)?a:a&&a[0],c=this.store.hasLanguageSomeTranslations(d)?d:this.services.languageUtils.getBestMatchFromCodes(X(a)?[a]:a);c&&(this.language||i(c),this.translator.language||this.translator.changeLanguage(c),this.services.languageDetector?.cacheUserLanguage?.(c)),this.loadResources(c,u=>{n(u,c)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),s}getFixedT(e,r,s){const i=(n,o,...a)=>{let d;typeof o!="object"?d=this.options.overloadTranslationOptionHandler([n,o].concat(a)):d={...o},d.lng=d.lng||i.lng,d.lngs=d.lngs||i.lngs,d.ns=d.ns||i.ns,d.keyPrefix!==""&&(d.keyPrefix=d.keyPrefix||s||i.keyPrefix);const c=this.options.keySeparator||".";let u;return d.keyPrefix&&Array.isArray(n)?u=n.map(g=>`${d.keyPrefix}${c}${g}`):u=d.keyPrefix?`${d.keyPrefix}${c}${n}`:n,this.t(u,d)};return X(e)?i.lng=e:i.lngs=e,i.ns=r,i.keyPrefix=s,i}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,r={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const s=r.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,n=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const o=(a,d)=>{const c=this.services.backendConnector.state[`${a}|${d}`];return c===-1||c===0||c===2};if(r.precheck){const a=r.precheck(this,o);if(a!==void 0)return a}return!!(this.hasResourceBundle(s,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(s,e)&&(!i||o(n,e)))}loadNamespaces(e,r){const s=vt();return this.options.ns?(X(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{s.resolve(),r&&r(i)}),s):(r&&r(),Promise.resolve())}loadLanguages(e,r){const s=vt();X(e)&&(e=[e]);const i=this.options.preload||[],n=e.filter(o=>i.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return n.length?(this.options.preload=i.concat(n),this.loadResources(o=>{s.resolve(),r&&r(o)}),s):(r&&r(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const i=new Intl.Locale(e);if(i&&i.getTextInfo){const n=i.getTextInfo();if(n&&n.direction)return n.direction}}catch{}const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],s=this.services?.languageUtils||new Cr(Er());return e.toLowerCase().indexOf("-latn")>1?"ltr":r.indexOf(s.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},r){return new Pt(e,r)}cloneInstance(e={},r=Mt){const s=e.forkResourceStore;s&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},n=new Pt(i);if((e.debug!==void 0||e.prefix!==void 0)&&(n.logger=n.logger.clone(e)),["store","services","language"].forEach(a=>{n[a]=this[a]}),n.services={...this.services},n.services.utils={hasLoadedNamespace:n.hasLoadedNamespace.bind(n)},s){const a=Object.keys(this.store.data).reduce((d,c)=>(d[c]={...this.store.data[c]},d[c]=Object.keys(d[c]).reduce((u,g)=>(u[g]={...d[c][g]},u),d[c]),d),{});n.store=new kr(a,i),n.services.resourceStore=n.store}return n.translator=new qt(n.services,i),n.translator.on("*",(a,...d)=>{n.emit(a,...d)}),n.init(i,r),n.translator.options=i,n.translator.backendConnector.services.utils={hasLoadedNamespace:n.hasLoadedNamespace.bind(n)},n}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Me=Pt.createInstance();Me.createInstance=Pt.createInstance;Me.createInstance;Me.dir;Me.init;Me.loadResources;Me.reloadResources;Me.use;Me.changeLanguage;Me.getFixedT;Me.t;Me.exists;Me.setDefaultNamespace;Me.hasLoadedNamespace;Me.loadNamespaces;Me.loadLanguages;const{slice:qs,forEach:Ks}=[];function Ws(t){return Ks.call(qs.call(arguments,1),e=>{if(e)for(const r in e)t[r]===void 0&&(t[r]=e[r])}),t}function Gs(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(r=>r.test(t))}const Mr=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Js=function(t,e){const s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},i=encodeURIComponent(e);let n=`${t}=${i}`;if(s.maxAge>0){const o=s.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");n+=`; Max-Age=${Math.floor(o)}`}if(s.domain){if(!Mr.test(s.domain))throw new TypeError("option domain is invalid");n+=`; Domain=${s.domain}`}if(s.path){if(!Mr.test(s.path))throw new TypeError("option path is invalid");n+=`; Path=${s.path}`}if(s.expires){if(typeof s.expires.toUTCString!="function")throw new TypeError("option expires is invalid");n+=`; Expires=${s.expires.toUTCString()}`}if(s.httpOnly&&(n+="; HttpOnly"),s.secure&&(n+="; Secure"),s.sameSite)switch(typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite){case!0:n+="; SameSite=Strict";break;case"lax":n+="; SameSite=Lax";break;case"strict":n+="; SameSite=Strict";break;case"none":n+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return s.partitioned&&(n+="; Partitioned"),n},Nr={create(t,e,r,s){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+r*60*1e3)),s&&(i.domain=s),document.cookie=Js(t,e,i)},read(t){const e=`${t}=`,r=document.cookie.split(";");for(let s=0;s<r.length;s++){let i=r[s];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}return null},remove(t,e){this.create(t,"",-1,e)}};var Qs={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return Nr.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:r,cookieMinutes:s,cookieDomain:i,cookieOptions:n}=e;r&&typeof document<"u"&&Nr.create(r,t,s,i,n)}},Xs={name:"querystring",lookup(t){let{lookupQuerystring:e}=t,r;if(typeof window<"u"){let{search:s}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(s=window.location.hash.substring(window.location.hash.indexOf("?")));const n=s.substring(1).split("&");for(let o=0;o<n.length;o++){const a=n[o].indexOf("=");a>0&&n[o].substring(0,a)===e&&(r=n[o].substring(a+1))}}return r}},Zs={name:"hash",lookup(t){let{lookupHash:e,lookupFromHashIndex:r}=t,s;if(typeof window<"u"){const{hash:i}=window.location;if(i&&i.length>2){const n=i.substring(1);if(e){const o=n.split("&");for(let a=0;a<o.length;a++){const d=o[a].indexOf("=");d>0&&o[a].substring(0,d)===e&&(s=o[a].substring(d+1))}}if(s)return s;if(!s&&r>-1){const o=i.match(/\/([a-zA-Z-]*)/g);return Array.isArray(o)?o[typeof r=="number"?r:0]?.replace("/",""):void 0}}}return s}};let ut=null;const Rr=()=>{if(ut!==null)return ut;try{if(ut=typeof window<"u"&&window.localStorage!==null,!ut)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{ut=!1}return ut};var Ys={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&Rr())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:r}=e;r&&Rr()&&window.localStorage.setItem(r,t)}};let ft=null;const jr=()=>{if(ft!==null)return ft;try{if(ft=typeof window<"u"&&window.sessionStorage!==null,!ft)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{ft=!1}return ft};var ei={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&jr())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:r}=e;r&&jr()&&window.sessionStorage.setItem(r,t)}},ti={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:r,userLanguage:s,language:i}=navigator;if(r)for(let n=0;n<r.length;n++)e.push(r[n]);s&&e.push(s),i&&e.push(i)}return e.length>0?e:void 0}},ri={name:"htmlTag",lookup(t){let{htmlTag:e}=t,r;const s=e||(typeof document<"u"?document.documentElement:null);return s&&typeof s.getAttribute=="function"&&(r=s.getAttribute("lang")),r}},si={name:"path",lookup(t){let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(r)?r[typeof e=="number"?e:0]?.replace("/",""):void 0}},ii={name:"subdomain",lookup(t){let{lookupFromSubdomainIndex:e}=t;const r=typeof e=="number"?e+1:1,s=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(s)return s[r]}};let Qr=!1;try{document.cookie,Qr=!0}catch{}const Xr=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];Qr||Xr.splice(1,1);const ni=()=>({order:Xr,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class Zr{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,r)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=Ws(r,this.options||{},ni()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=s,this.addDetector(Qs),this.addDetector(Xs),this.addDetector(Ys),this.addDetector(ei),this.addDetector(ti),this.addDetector(ri),this.addDetector(si),this.addDetector(ii),this.addDetector(Zs)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,r=[];return e.forEach(s=>{if(this.detectors[s]){let i=this.detectors[s].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(r=r.concat(i))}}),r=r.filter(s=>s!=null&&!Gs(s)).map(s=>this.options.convertDetectedLanguage(s)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?r:r.length>0?r[0]:null}cacheUserLanguage(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||r.forEach(s=>{this.detectors[s]&&this.detectors[s].cacheUserLanguage(e,this.options)}))}}Zr.type="languageDetector";const ai={page_title:"deepnest - Industrial nesting",parts:"Parts",nests:"Nests",sheets:"Sheets",settings:"Settings"},oi={stop_nest:"Stop nest",export:"Export",export_svg:"SVG file",export_dxf:"DXF file",export_json:"JSON file",back:"Back",import:"Import",start_nest:"Start nest",deselect:"Deselect",select:"Select",all:"all",add:"Add",cancel:"Cancel",save_preset:"Save Preset",load:"Load",delete:"Delete",save:"Save",reset_defaults:"set all to default"},li={size:"Size",sheet:"Sheet",quantity:"Quantity",add_sheet:"Add Sheet",width:"width",height:"height",nesting_config:"Nesting configuration",display_units:"Display units",inches:"inches",mm:"mm",space_between_parts:"Space between parts",curve_tolerance:"Curve tolerance",part_rotations:"Part rotations",optimization_type:"Optimization type",gravity:"Gravity",bounding_box:"Bounding Box",squeeze:"Squeeze",use_rough_approximation:"Use rough approximation",cpu_cores:"CPU cores",import_export:"Import/Export",use_svg_normalizer:"Use SVG Normalizer?",svg_scale:"SVG scale",units_per:"units/",endpoint_tolerance:"Endpoint tolerance",dxf_import_units:"DXF import units",points:"Points",picas:"Picas",inches_cap:"Inches",cm:"cm",dxf_export_units:"DXF export units",export_with_sheet_boundaries:"Export with Sheet Boundborders?",export_with_sheets_space:"Export with Space between Sheets?",distance_between_sheets:"Distance between Sheets?",laser_options:"Laser options",merge_common_lines:"Merge common lines",optimization_ratio:"Optimization ratio",meta_heuristic_tuning:"Meta-heuristic fine tuning",ga_population:"GA population",ga_mutation_rate:"GA mutation rate",other_settings:"Other Settings",use_quantity_from_filename:"Use Quantity from filename",presets:"Presets",save_config_presets:"Save Configuration Presets",load_delete_presets:"Load/Delete Configuration Presets",select_preset_default:"-- Select a preset --",save_preset_title:"Save Preset",enter_preset_name:"Enter preset name"},di={nesting_in_progress:"Nesting in progress...",error_occurred:"Error occurred",processing:"Processing...",ready:"Ready",threads_active:"{{count}} threads active",parts_loaded:"{{count}} parts loaded",nests_available:"{{count}} nests available"},ci={navigation:ai,actions:oi,labels:li,status:di},gi="Please enter a preset name",ui="Preset saved successfully!",fi="Error saving preset",pi="Please select a preset to load",hi="Preset loaded successfully!",mi="Selected preset not found",bi="Error loading preset",_i="Please select a preset to delete",xi='Are you sure you want to delete the preset "{{presetName}}"?',yi="Preset deleted successfully!",vi="Error deleting preset",$i="Please import some parts first",ki="Please mark at least one part as the sheet",wi="No file selected",Si="An error occurred reading the file",Ci="Error processing SVG",Pi="could not contact file conversion server",Li="There was an Error while converting",Ai={enter_preset_name:gi,preset_saved:ui,error_saving_preset:fi,select_preset_to_load:pi,preset_loaded:hi,preset_not_found:mi,error_loading_preset:bi,select_preset_to_delete:_i,confirm_delete_preset:xi,preset_deleted:yi,error_deleting_preset:vi,import_parts_first:$i,mark_part_as_sheet:ki,no_file_selected:wi,file_read_error:Si,svg_processing_error:Ci,conversion_server_error:Pi,conversion_error:Li},Fi="Parts",Ei="Import Parts",Oi="Export Parts",Mi="Export Selected",Ni="Delete Selected",Ri="No parts selected",ji="Failed to import parts",Di="Failed to export parts",Ti="Total Parts",Ii="Total Quantity",zi="Select All",Ui="Deselect All",Bi="No Parts Loaded",Vi="Import SVG or DXF files to get started",Hi="Search parts...",qi="Sort by",Ki="Name",Wi="Quantity",Gi="Size",Ji="Rotation",Qi="Dimensions",Xi="Area",Zi="Preview Error",Yi={parts_title:Fi,import:"Import",export:"Export",delete:"Delete",import_parts:Ei,export_parts:Oi,export_selected:Mi,delete_selected:Ni,no_parts_selected:Ri,import_failed:ji,export_failed:Di,total_parts:Ti,total_quantity:Ii,select_all:zi,deselect_all:Ui,no_parts_loaded:Bi,import_parts_to_get_started:Vi,search_parts:Hi,sort_by:qi,name:Ki,quantity:Wi,size:Gi,rotation:Ji,dimensions:Qi,area:Xi,preview_error:Zi},en="Nesting",tn="Start Nesting",rn="Stop Nesting",sn="Clear Results",nn="Cannot start nesting: need parts and sheets",an="Failed to start nesting",on="Failed to stop nesting",ln="Parts to Nest",dn="Available Sheets",cn="Results Count",gn="No Nesting Results",un="Start nesting to see results here",fn="Add parts and sheets first to enable nesting",pn="Nesting in Progress",hn="Est. time remaining",mn="Current Operation",bn="Threads Active",_n="Worker Status",xn="Running",yn="Stopped",vn="Generation",$n="Best Fitness",kn="Refresh Status",wn="Nesting Results",Sn="Sorted by efficiency",Cn="Result",Pn="Best",Ln="Efficiency",An="Fitness",Fn="Sheets Used",En="Parts Placed",On="View Details",Mn="Back to Results",Nn="Result Details",Rn="Export Result",jn="Export failed",Dn="Click to view",Tn="Zoom Out",In="Zoom In",zn="Reset View",Un="Sheet",Bn="Statistics",Vn="Material Efficiency",Hn="Fitness Score",qn="Material Waste",Kn="Total Parts Placed",Wn="Total Material Used",Gn="Generation Time",Jn="Generation Number",Qn={nesting_title:en,start_nesting:tn,stop_nesting:rn,clear_results:sn,cannot_start_nesting:nn,start_nesting_failed:an,stop_nesting_failed:on,parts_to_nest:ln,available_sheets:dn,results_count:cn,no_nesting_results:gn,start_nesting_to_see_results:un,add_parts_and_sheets_first:fn,nesting_in_progress:pn,estimated_time_remaining:hn,current_operation:mn,threads_active:bn,worker_status:_n,running:xn,stopped:yn,current_generation:vn,best_fitness:$n,refresh_status:kn,nesting_results:wn,sorted_by_efficiency:Sn,result:Cn,best:Pn,efficiency:Ln,fitness:An,sheets_used:Fn,parts_placed:En,view_details:On,export:"Export",delete:"Delete",back_to_results:Mn,result_details:Nn,export_result:Rn,export_failed:jn,click_to_view:Dn,zoom_out:Tn,zoom_in:In,reset_view:zn,sheet:Un,statistics:Bn,material_efficiency:Vn,fitness_score:Hn,material_waste:qn,total_parts_placed:Kn,total_material_used:Wn,generation_time:Gn,generation_number:Jn},Xn="Sheets",Zn="Add Sheet",Yn="Edit Sheet",ea="Add New Sheet",ta="Total Sheets",ra="Total Area",sa="No Sheets Loaded",ia="Add sheets to define your material constraints",na="Quick Templates",aa="Configured Sheets",oa="Sheet",la="Dimensions",da="Quantity",ca="Material",ga="Margin",ua="Edit",fa="Basic Information",pa="Sheet Name",ha="Enter sheet name (optional)",ma="Width",ba="Height",_a="Thickness",xa="Properties",ya="Area",va="Preview",$a="Cancel",ka="Update Sheet",wa="Swap Width/Height",Sa="Width must be greater than 0",Ca="Height must be greater than 0",Pa="Thickness must be greater than 0",La="Quantity must be greater than 0",Aa="Margin cannot be negative",Fa={sheets_title:Xn,add_sheet:Zn,edit_sheet:Yn,add_new_sheet:ea,total_sheets:ta,total_area:ra,no_sheets_loaded:sa,add_sheets_to_get_started:ia,quick_templates:na,configured_sheets:aa,sheet:oa,dimensions:la,quantity:da,material:ca,margin:ga,edit:ua,delete:"Delete",basic_information:fa,sheet_name:pa,enter_sheet_name:ha,width:ma,height:ba,thickness:_a,properties:xa,area:ya,preview:va,cancel:$a,update_sheet:ka,swap_dimensions:wa,width_must_be_positive:Sa,height_must_be_positive:Ca,thickness_must_be_positive:Pa,quantity_must_be_positive:La,margin_cannot_be_negative:Aa},Ea="Settings",Oa="Preset Management",Ma="Algorithm Settings",Na="UI Preferences",Ra="Advanced Settings",ja="Reset Defaults",Da="Import Configuration",Ta="Export Configuration",Ia="Reset to Defaults",za="Are you sure you want to reset all settings to defaults?",Ua="Failed to reset settings",Ba="Failed to export configuration",Va="Failed to import configuration",Ha="Presets allow you to save and restore complete nesting configurations.",qa="Create Preset",Ka="Create New Preset",Wa="Preset Name",Ga="Preset name is required",Ja="Enter preset name",Qa="Description (optional)",Xa="Enter a description for this preset",Za="Cancel",Ya="No Presets Available",eo="Create a preset to save your current configuration",to="Export Preset",ro="Delete Preset",so="Load Preset",io="Active",no="Created",ao="Updated",oo="Are you sure you want to delete preset '{{name}}'?",lo="Failed to create preset",co="Failed to load preset",go="Failed to delete preset",uo="Failed to export preset",fo="Failed to import preset",po="Import Preset",ho="Nesting Parameters",mo="Space Between Parts",bo="Minimum distance between parts in millimeters",_o="Curve Tolerance",xo="Tolerance for curve approximation. Lower values = more accurate but slower",yo="Part Rotations",vo="Number of rotation angles to try for each part",$o="No Rotation",ko="Free Rotation (any angle)",wo="Genetic Algorithm",So="Population Size",Co="Number of solutions in each generation. Higher = better results but slower",Po="Mutation Rate",Lo="Probability of random changes. Higher = more exploration but less stability",Ao="Advanced Options",Fo="Use Holes",Eo="Consider holes in parts for nesting (experimental)",Oo="Explore Concave",Mo="Try placing parts in concave areas of other parts",No="Merge Common Lines",Ro="Combine overlapping cut lines to reduce cutting time",jo="Use Rough Approximation",Do="Use faster but less accurate calculations for initial placement",To="Appearance",Io="Language",zo="Select the interface language",Uo="Theme",Bo="Choose between light, dark, or automatic theme",Vo="Auto (follows system)",Ho="Light",qo="Dark",Ko="Dark Mode",Wo="Use dark colors for the interface",Go="Units and Formatting",Jo="Display Units",Qo="Units for displaying measurements",Xo="Millimeters (mm)",Zo="Inches (in)",Yo="Centimeters (cm)",el="Show Grid",tl="Display grid lines in the viewport",rl="Show Rulers",sl="Display measurement rulers",il="Layout Preferences",nl="Parts Panel Width",al="Width of the parts panel in pixels",ol="Reset",ll="Show Tooltips",dl="Display helpful tooltips on hover",cl="Show Status Bar",gl="Display the status bar at the bottom",ul="Performance",fl="Worker Threads",pl="Number of CPU threads to use (max: {{max}})",hl="Enable GPU Acceleration",ml="Use graphics card for calculations (experimental)",bl="Enable Caching",_l="Cache calculations to improve performance",xl="Debugging",yl="Debug Mode",vl="Enable additional debugging information",$l="Verbose Logging",kl="Log detailed information to console",wl="Show Debug Info",Sl="Hide Debug Info",Cl="System Information",Pl="Platform",Ll="CPU Cores",Al="Viewport",Fl="Memory Used",El="Memory Total",Ol="Export Debug Info",Ml="Maintenance",Nl="Clear Cache",Rl="Clear all cached data and preferences",jl="Are you sure you want to clear all cached data?",Dl="Cache cleared successfully",Tl="Failed to clear cache",Il="Reset Layout",zl="Reset panel sizes and positions to defaults",Ul="Auto-save Interval",Bl="minutes",Vl="How often to automatically save your work (0 = disabled)",Hl={settings_title:Ea,preset_management:Oa,algorithm_settings:Ma,ui_preferences:Na,advanced_settings:Ra,import:"Import",export:"Export",reset_defaults:ja,import_configuration:Da,export_configuration:Ta,reset_to_defaults:Ia,confirm_reset_defaults:za,reset_failed:Ua,export_failed:Ba,import_failed:Va,preset_description:Ha,create_preset:qa,create_new_preset:Ka,preset_name:Wa,preset_name_required:Ga,enter_preset_name:Ja,preset_description_optional:Qa,enter_preset_description:Xa,cancel:Za,no_presets_available:Ya,create_preset_to_get_started:eo,export_preset:to,delete_preset:ro,load_preset:so,active:io,created:no,updated:ao,confirm_delete_preset:oo,preset_create_failed:lo,preset_load_failed:co,preset_delete_failed:go,preset_export_failed:uo,preset_import_failed:fo,import_preset:po,nesting_parameters:ho,space_between_parts:mo,spacing_description:bo,curve_tolerance:_o,curve_tolerance_description:xo,part_rotations:yo,rotations_description:vo,no_rotation:$o,"2_rotations":"2 Rotations (0, 180)","4_rotations":"4 Rotations (0, 90, 180, 270)","8_rotations":"8 Rotations (45 steps)","12_rotations":"12 Rotations (30 steps)",free_rotation:ko,genetic_algorithm:wo,population_size:So,population_size_description:Co,mutation_rate:Po,mutation_rate_description:Lo,advanced_options:Ao,use_holes:Fo,use_holes_description:Eo,explore_concave:Oo,explore_concave_description:Mo,merge_common_lines:No,merge_lines_description:Ro,use_rough_approximation:jo,rough_approximation_description:Do,appearance:To,language:Io,language_description:zo,theme:Uo,theme_description:Bo,auto_theme:Vo,light_theme:Ho,dark_theme:qo,dark_mode:Ko,dark_mode_description:Wo,units_and_formatting:Go,display_units:Jo,units_description:Qo,millimeters:Xo,inches:Zo,centimeters:Yo,show_grid:el,show_grid_description:tl,show_rulers:rl,show_rulers_description:sl,layout_preferences:il,parts_panel_width:nl,panel_width_description:al,reset:ol,show_tooltips:ll,tooltips_description:dl,show_status_bar:cl,status_bar_description:gl,performance:ul,worker_threads:fl,worker_threads_description:pl,enable_gpu_acceleration:hl,gpu_acceleration_description:ml,enable_caching:bl,caching_description:_l,debugging:xl,debug_mode:yl,debug_mode_description:vl,verbose_logging:$l,verbose_logging_description:kl,show_debug_info:wl,hide_debug_info:Sl,system_information:Cl,platform:Pl,cpu_cores:Ll,viewport:Al,memory_used:Fl,memory_total:El,export_debug_info:Ol,maintenance:Ml,clear_cache:Nl,clear_cache_description:Rl,confirm_clear_cache:jl,cache_cleared_success:Dl,cache_clear_failed:Tl,reset_layout:Il,reset_layout_description:zl,auto_save_interval:Ul,minutes:Bl,auto_save_description:Vl},ql="File Operations",Kl="Drag & Drop Files",Wl="Import Files",Gl="Export Options",Jl="Recent Files",Ql="Drop files here to import",Xl="or click to browse",Zl="Supported formats: SVG, DXF, JSON",Yl="Select Files",ed="Browse Files",td="Importing Files...",rd="{{count}} files imported successfully",sd="Importing {{current}} of {{total}} files",id="Failed to import files",nd="File validation error",ad="Invalid file format: {{format}}",od="File too large: {{size}}. Maximum size is {{max}}",ld="Failed to read file: {{filename}}",dd="Export Format",cd="Export Settings",gd="Export All",ud="Export Selected",fd="Export Current",pd="Files exported successfully",hd="Failed to export files",md="SVG Vector",bd="DXF CAD",_d="PDF Document",xd="JSON Data",yd="Include Sheet Outline",vd="Include Part Labels",$d="Optimize Cut Paths",kd="Merge Common Lines",wd="Export Scale",Sd="Export Units",Cd="No Recent Files",Pd="Clear Recent",Ld="Open Recent File",Ad="Pin File",Fd="Unpin File",Ed="Remove from Recent",Od="File not found: {{filename}}",Md="Quickly access your recently used files",Nd="Maximum {{count}} recent files",Rd="Pinned",jd="Size",Dd="Modified",Td="Path",Id="Copy Path",zd="Open File Location",Ud="File Information",Bd="Processing...",Vd="Cancel Import",Hd="Retry Import",qd="Skip File",Kd="Continue Import",Wd="Validation Warning",Gd="File contains errors but can be imported",Jd="Import Anyway",Qd="Fix Errors",Xd="Auto Fix",Zd="Manual Fix",Yd="Error Details",ec="Line {{number}}",tc="Invalid geometry detected",rc="Duplicate points found",sc="Self-intersecting polygon",ic="Unclosed path detected",nc="File is empty",ac="File appears to be corrupted",oc="Unsupported file version",lc="Missing required data",dc={file_operations:ql,drag_drop_files:Kl,import_files:Wl,export_options:Gl,recent_files:Jl,drop_files_here:Ql,or_click_to_browse:Xl,supported_formats:Zl,select_files:Yl,browse_files:ed,importing_files:td,files_imported:rd,import_progress:sd,import_failed:id,file_validation_error:nd,invalid_file_format:ad,file_too_large:od,file_read_error:ld,export_format:dd,export_settings:cd,export_all:gd,export_selected:ud,export_current:fd,export_success:pd,export_failed:hd,svg_format:md,dxf_format:bd,pdf_format:_d,json_format:xd,include_sheet:yd,include_labels:vd,optimize_paths:$d,merge_lines:kd,export_scale:wd,export_units:Sd,no_recent_files:Cd,clear_recent:Pd,open_recent:Ld,pin_file:Ad,unpin_file:Fd,remove_from_recent:Ed,file_not_found:Od,recent_files_description:Md,max_recent_files:Nd,pinned:Rd,file_size:jd,last_modified:Dd,file_path:Td,copy_path:Id,open_location:zd,file_info:Ud,processing:Bd,cancel_import:Vd,retry_import:Hd,skip_file:qd,continue_import:Kd,validation_warning:Wd,file_contains_errors:Gd,import_anyway:Jd,fix_errors:Qd,auto_fix:Xd,manual_fix:Zd,error_details:Yd,line_number:ec,invalid_geometry:tc,duplicate_points:rc,self_intersecting:sc,unclosed_path:ic,empty_file:nc,corrupted_file:ac,unsupported_version:oc,missing_required_data:lc},cc={page_title:"deepnest - Industrial nesting",parts:"Parts",nests:"Nests",sheets:"Sheets",settings:"Settings"},gc={stop_nest:"Stop nest",export:"Export",export_svg:"SVG file",export_dxf:"DXF file",export_json:"JSON file",back:"Back",import:"Import",start_nest:"Start nest",deselect:"Deselect",select:"Select",all:"all",add:"Add",cancel:"Cancel",save_preset:"Save Preset",load:"Load",delete:"Delete",save:"Save",reset_defaults:"set all to default"},uc={size:"Size",sheet:"Sheet",quantity:"Quantity",add_sheet:"Add Sheet",width:"width",height:"height",nesting_config:"Nesting configuration",display_units:"Display units",inches:"inches",mm:"mm",space_between_parts:"Space between parts",curve_tolerance:"Curve tolerance",part_rotations:"Part rotations",optimization_type:"Optimization type",gravity:"Gravity",bounding_box:"Bounding Box",squeeze:"Squeeze",use_rough_approximation:"Use rough approximation",cpu_cores:"CPU cores",import_export:"Import/Export",use_svg_normalizer:"Use SVG Normalizer?",svg_scale:"SVG scale",units_per:"units/",endpoint_tolerance:"Endpoint tolerance",dxf_import_units:"DXF import units",points:"Points",picas:"Picas",inches_cap:"Inches",cm:"cm",dxf_export_units:"DXF export units",export_with_sheet_boundaries:"Export with Sheet Boundborders?",export_with_sheets_space:"Export with Space between Sheets?",distance_between_sheets:"Distance between Sheets?",laser_options:"Laser options",merge_common_lines:"Merge common lines",optimization_ratio:"Optimization ratio",meta_heuristic_tuning:"Meta-heuristic fine tuning",ga_population:"GA population",ga_mutation_rate:"GA mutation rate",other_settings:"Other Settings",use_quantity_from_filename:"Use Quantity from filename",presets:"Presets",save_config_presets:"Save Configuration Presets",load_delete_presets:"Load/Delete Configuration Presets",select_preset_default:"-- Select a preset --",save_preset_title:"Save Preset",enter_preset_name:"Enter preset name"},fc={nesting_in_progress:"Nesting in progress...",error_occurred:"Error occurred",processing:"Processing...",ready:"Ready",threads_active:"{{count}} threads active",parts_loaded:"{{count}} parts loaded",nests_available:"{{count}} nests available"},pc={navigation:cc,actions:gc,labels:uc,status:fc},hc="Please enter a preset name",mc="Preset saved successfully!",bc="Error saving preset",_c="Please select a preset to load",xc="Preset loaded successfully!",yc="Selected preset not found",vc="Error loading preset",$c="Please select a preset to delete",kc='Are you sure you want to delete the preset "{{presetName}}"?',wc="Preset deleted successfully!",Sc="Error deleting preset",Cc="Please import some parts first",Pc="Please mark at least one part as the sheet",Lc="No file selected",Ac="An error occurred reading the file",Fc="Error processing SVG",Ec="could not contact file conversion server",Oc="There was an Error while converting",Mc={enter_preset_name:hc,preset_saved:mc,error_saving_preset:bc,select_preset_to_load:_c,preset_loaded:xc,preset_not_found:yc,error_loading_preset:vc,select_preset_to_delete:$c,confirm_delete_preset:kc,preset_deleted:wc,error_deleting_preset:Sc,import_parts_first:Cc,mark_part_as_sheet:Pc,no_file_selected:Lc,file_read_error:Ac,svg_processing_error:Fc,conversion_server_error:Ec,conversion_error:Oc},Nc="Parts",Rc="Import Parts",jc="Export Parts",Dc="Export Selected",Tc="Delete Selected",Ic="No parts selected",zc="Failed to import parts",Uc="Failed to export parts",Bc="Total Parts",Vc="Total Quantity",Hc="Select All",qc="Deselect All",Kc="No Parts Loaded",Wc="Import SVG or DXF files to get started",Gc="Search parts...",Jc="Sort by",Qc="Name",Xc="Quantity",Zc="Size",Yc="Rotation",eg="Dimensions",tg="Area",rg="Preview Error",sg={parts_title:Nc,import:"Import",export:"Export",delete:"Delete",import_parts:Rc,export_parts:jc,export_selected:Dc,delete_selected:Tc,no_parts_selected:Ic,import_failed:zc,export_failed:Uc,total_parts:Bc,total_quantity:Vc,select_all:Hc,deselect_all:qc,no_parts_loaded:Kc,import_parts_to_get_started:Wc,search_parts:Gc,sort_by:Jc,name:Qc,quantity:Xc,size:Zc,rotation:Yc,dimensions:eg,area:tg,preview_error:rg},ig="Nesting",ng="Start Nesting",ag="Stop Nesting",og="Clear Results",lg="Cannot start nesting: need parts and sheets",dg="Failed to start nesting",cg="Failed to stop nesting",gg="Parts to Nest",ug="Available Sheets",fg="Results Count",pg="No Nesting Results",hg="Start nesting to see results here",mg="Add parts and sheets first to enable nesting",bg="Nesting in Progress",_g="Est. time remaining",xg="Current Operation",yg="Threads Active",vg="Worker Status",$g="Running",kg="Stopped",wg="Generation",Sg="Best Fitness",Cg="Refresh Status",Pg="Nesting Results",Lg="Sorted by efficiency",Ag="Result",Fg="Best",Eg="Efficiency",Og="Fitness",Mg="Sheets Used",Ng="Parts Placed",Rg="View Details",jg="Back to Results",Dg="Result Details",Tg="Export Result",Ig="Export failed",zg="Click to view",Ug="Zoom Out",Bg="Zoom In",Vg="Reset View",Hg="Sheet",qg="Statistics",Kg="Material Efficiency",Wg="Fitness Score",Gg="Material Waste",Jg="Total Parts Placed",Qg="Total Material Used",Xg="Generation Time",Zg="Generation Number",Yg={nesting_title:ig,start_nesting:ng,stop_nesting:ag,clear_results:og,cannot_start_nesting:lg,start_nesting_failed:dg,stop_nesting_failed:cg,parts_to_nest:gg,available_sheets:ug,results_count:fg,no_nesting_results:pg,start_nesting_to_see_results:hg,add_parts_and_sheets_first:mg,nesting_in_progress:bg,estimated_time_remaining:_g,current_operation:xg,threads_active:yg,worker_status:vg,running:$g,stopped:kg,current_generation:wg,best_fitness:Sg,refresh_status:Cg,nesting_results:Pg,sorted_by_efficiency:Lg,result:Ag,best:Fg,efficiency:Eg,fitness:Og,sheets_used:Mg,parts_placed:Ng,view_details:Rg,export:"Export",delete:"Delete",back_to_results:jg,result_details:Dg,export_result:Tg,export_failed:Ig,click_to_view:zg,zoom_out:Ug,zoom_in:Bg,reset_view:Vg,sheet:Hg,statistics:qg,material_efficiency:Kg,fitness_score:Wg,material_waste:Gg,total_parts_placed:Jg,total_material_used:Qg,generation_time:Xg,generation_number:Zg},eu="Sheets",tu="Add Sheet",ru="Edit Sheet",su="Add New Sheet",iu="Total Sheets",nu="Total Area",au="No Sheets Loaded",ou="Add sheets to define your material constraints",lu="Quick Templates",du="Configured Sheets",cu="Sheet",gu="Dimensions",uu="Quantity",fu="Material",pu="Margin",hu="Edit",mu="Basic Information",bu="Sheet Name",_u="Enter sheet name (optional)",xu="Width",yu="Height",vu="Thickness",$u="Properties",ku="Area",wu="Preview",Su="Cancel",Cu="Update Sheet",Pu="Swap Width/Height",Lu="Width must be greater than 0",Au="Height must be greater than 0",Fu="Thickness must be greater than 0",Eu="Quantity must be greater than 0",Ou="Margin cannot be negative",Mu={sheets_title:eu,add_sheet:tu,edit_sheet:ru,add_new_sheet:su,total_sheets:iu,total_area:nu,no_sheets_loaded:au,add_sheets_to_get_started:ou,quick_templates:lu,configured_sheets:du,sheet:cu,dimensions:gu,quantity:uu,material:fu,margin:pu,edit:hu,delete:"Delete",basic_information:mu,sheet_name:bu,enter_sheet_name:_u,width:xu,height:yu,thickness:vu,properties:$u,area:ku,preview:wu,cancel:Su,update_sheet:Cu,swap_dimensions:Pu,width_must_be_positive:Lu,height_must_be_positive:Au,thickness_must_be_positive:Fu,quantity_must_be_positive:Eu,margin_cannot_be_negative:Ou},Nu="Settings",Ru="Preset Management",ju="Algorithm Settings",Du="UI Preferences",Tu="Advanced Settings",Iu="Reset Defaults",zu="Import Configuration",Uu="Export Configuration",Bu="Reset to Defaults",Vu="Are you sure you want to reset all settings to defaults?",Hu="Failed to reset settings",qu="Failed to export configuration",Ku="Failed to import configuration",Wu="Presets allow you to save and restore complete nesting configurations.",Gu="Create Preset",Ju="Create New Preset",Qu="Preset Name",Xu="Preset name is required",Zu="Enter preset name",Yu="Description (optional)",e0="Enter a description for this preset",t0="Cancel",r0="No Presets Available",s0="Create a preset to save your current configuration",i0="Export Preset",n0="Delete Preset",a0="Load Preset",o0="Active",l0="Created",d0="Updated",c0="Are you sure you want to delete preset '{{name}}'?",g0="Failed to create preset",u0="Failed to load preset",f0="Failed to delete preset",p0="Failed to export preset",h0="Failed to import preset",m0="Import Preset",b0="Nesting Parameters",_0="Space Between Parts",x0="Minimum distance between parts in millimeters",y0="Curve Tolerance",v0="Tolerance for curve approximation. Lower values = more accurate but slower",$0="Part Rotations",k0="Number of rotation angles to try for each part",w0="No Rotation",S0="Free Rotation (any angle)",C0="Genetic Algorithm",P0="Population Size",L0="Number of solutions in each generation. Higher = better results but slower",A0="Mutation Rate",F0="Probability of random changes. Higher = more exploration but less stability",E0="Advanced Options",O0="Use Holes",M0="Consider holes in parts for nesting (experimental)",N0="Explore Concave",R0="Try placing parts in concave areas of other parts",j0="Merge Common Lines",D0="Combine overlapping cut lines to reduce cutting time",T0="Use Rough Approximation",I0="Use faster but less accurate calculations for initial placement",z0="Appearance",U0="Language",B0="Select the interface language",V0="Theme",H0="Choose between light, dark, or automatic theme",q0="Auto (follows system)",K0="Light",W0="Dark",G0="Dark Mode",J0="Use dark colors for the interface",Q0="Units and Formatting",X0="Display Units",Z0="Units for displaying measurements",Y0="Millimeters (mm)",ef="Inches (in)",tf="Centimeters (cm)",rf="Show Grid",sf="Display grid lines in the viewport",nf="Show Rulers",af="Display measurement rulers",of="Layout Preferences",lf="Parts Panel Width",df="Width of the parts panel in pixels",cf="Reset",gf="Show Tooltips",uf="Display helpful tooltips on hover",ff="Show Status Bar",pf="Display the status bar at the bottom",hf="Performance",mf="Worker Threads",bf="Number of CPU threads to use (max: {{max}})",_f="Enable GPU Acceleration",xf="Use graphics card for calculations (experimental)",yf="Enable Caching",vf="Cache calculations to improve performance",$f="Debugging",kf="Debug Mode",wf="Enable additional debugging information",Sf="Verbose Logging",Cf="Log detailed information to console",Pf="Show Debug Info",Lf="Hide Debug Info",Af="System Information",Ff="Platform",Ef="CPU Cores",Of="Viewport",Mf="Memory Used",Nf="Memory Total",Rf="Export Debug Info",jf="Maintenance",Df="Clear Cache",Tf="Clear all cached data and preferences",If="Are you sure you want to clear all cached data?",zf="Cache cleared successfully",Uf="Failed to clear cache",Bf="Reset Layout",Vf="Reset panel sizes and positions to defaults",Hf="Auto-save Interval",qf="minutes",Kf="How often to automatically save your work (0 = disabled)",Wf={settings_title:Nu,preset_management:Ru,algorithm_settings:ju,ui_preferences:Du,advanced_settings:Tu,import:"Import",export:"Export",reset_defaults:Iu,import_configuration:zu,export_configuration:Uu,reset_to_defaults:Bu,confirm_reset_defaults:Vu,reset_failed:Hu,export_failed:qu,import_failed:Ku,preset_description:Wu,create_preset:Gu,create_new_preset:Ju,preset_name:Qu,preset_name_required:Xu,enter_preset_name:Zu,preset_description_optional:Yu,enter_preset_description:e0,cancel:t0,no_presets_available:r0,create_preset_to_get_started:s0,export_preset:i0,delete_preset:n0,load_preset:a0,active:o0,created:l0,updated:d0,confirm_delete_preset:c0,preset_create_failed:g0,preset_load_failed:u0,preset_delete_failed:f0,preset_export_failed:p0,preset_import_failed:h0,import_preset:m0,nesting_parameters:b0,space_between_parts:_0,spacing_description:x0,curve_tolerance:y0,curve_tolerance_description:v0,part_rotations:$0,rotations_description:k0,no_rotation:w0,"2_rotations":"2 Rotations (0, 180)","4_rotations":"4 Rotations (0, 90, 180, 270)","8_rotations":"8 Rotations (45 steps)","12_rotations":"12 Rotations (30 steps)",free_rotation:S0,genetic_algorithm:C0,population_size:P0,population_size_description:L0,mutation_rate:A0,mutation_rate_description:F0,advanced_options:E0,use_holes:O0,use_holes_description:M0,explore_concave:N0,explore_concave_description:R0,merge_common_lines:j0,merge_lines_description:D0,use_rough_approximation:T0,rough_approximation_description:I0,appearance:z0,language:U0,language_description:B0,theme:V0,theme_description:H0,auto_theme:q0,light_theme:K0,dark_theme:W0,dark_mode:G0,dark_mode_description:J0,units_and_formatting:Q0,display_units:X0,units_description:Z0,millimeters:Y0,inches:ef,centimeters:tf,show_grid:rf,show_grid_description:sf,show_rulers:nf,show_rulers_description:af,layout_preferences:of,parts_panel_width:lf,panel_width_description:df,reset:cf,show_tooltips:gf,tooltips_description:uf,show_status_bar:ff,status_bar_description:pf,performance:hf,worker_threads:mf,worker_threads_description:bf,enable_gpu_acceleration:_f,gpu_acceleration_description:xf,enable_caching:yf,caching_description:vf,debugging:$f,debug_mode:kf,debug_mode_description:wf,verbose_logging:Sf,verbose_logging_description:Cf,show_debug_info:Pf,hide_debug_info:Lf,system_information:Af,platform:Ff,cpu_cores:Ef,viewport:Of,memory_used:Mf,memory_total:Nf,export_debug_info:Rf,maintenance:jf,clear_cache:Df,clear_cache_description:Tf,confirm_clear_cache:If,cache_cleared_success:zf,cache_clear_failed:Uf,reset_layout:Bf,reset_layout_description:Vf,auto_save_interval:Hf,minutes:qf,auto_save_description:Kf},Gf="File Operations",Jf="Drag & Drop Files",Qf="Import Files",Xf="Export Options",Zf="Recent Files",Yf="Drop files here to import",ep="or click to browse",tp="Supported formats: SVG, DXF, JSON",rp="Select Files",sp="Browse Files",ip="Importing Files...",np="{{count}} files imported successfully",ap="Importing {{current}} of {{total}} files",op="Failed to import files",lp="File validation error",dp="Invalid file format: {{format}}",cp="File too large: {{size}}. Maximum size is {{max}}",gp="Failed to read file: {{filename}}",up="Export Format",fp="Export Settings",pp="Export All",hp="Export Selected",mp="Export Current",bp="Files exported successfully",_p="Failed to export files",xp="SVG Vector",yp="DXF CAD",vp="PDF Document",$p="JSON Data",kp="Include Sheet Outline",wp="Include Part Labels",Sp="Optimize Cut Paths",Cp="Merge Common Lines",Pp="Export Scale",Lp="Export Units",Ap="No Recent Files",Fp="Clear Recent",Ep="Open Recent File",Op="Pin File",Mp="Unpin File",Np="Remove from Recent",Rp="File not found: {{filename}}",jp="Quickly access your recently used files",Dp="Maximum {{count}} recent files",Tp="Pinned",Ip="Size",zp="Modified",Up="Path",Bp="Copy Path",Vp="Open File Location",Hp="File Information",qp="Processing...",Kp="Cancel Import",Wp="Retry Import",Gp="Skip File",Jp="Continue Import",Qp="Validation Warning",Xp="File contains errors but can be imported",Zp="Import Anyway",Yp="Fix Errors",eh="Auto Fix",th="Manual Fix",rh="Error Details",sh="Line {{number}}",ih="Invalid geometry detected",nh="Duplicate points found",ah="Self-intersecting polygon",oh="Unclosed path detected",lh="File is empty",dh="File appears to be corrupted",ch="Unsupported file version",gh="Missing required data",uh={file_operations:Gf,drag_drop_files:Jf,import_files:Qf,export_options:Xf,recent_files:Zf,drop_files_here:Yf,or_click_to_browse:ep,supported_formats:tp,select_files:rp,browse_files:sp,importing_files:ip,files_imported:np,import_progress:ap,import_failed:op,file_validation_error:lp,invalid_file_format:dp,file_too_large:cp,file_read_error:gp,export_format:up,export_settings:fp,export_all:pp,export_selected:hp,export_current:mp,export_success:bp,export_failed:_p,svg_format:xp,dxf_format:yp,pdf_format:vp,json_format:$p,include_sheet:kp,include_labels:wp,optimize_paths:Sp,merge_lines:Cp,export_scale:Pp,export_units:Lp,no_recent_files:Ap,clear_recent:Fp,open_recent:Ep,pin_file:Op,unpin_file:Mp,remove_from_recent:Np,file_not_found:Rp,recent_files_description:jp,max_recent_files:Dp,pinned:Tp,file_size:Ip,last_modified:zp,file_path:Up,copy_path:Bp,open_location:Vp,file_info:Hp,processing:qp,cancel_import:Kp,retry_import:Wp,skip_file:Gp,continue_import:Jp,validation_warning:Qp,file_contains_errors:Xp,import_anyway:Zp,fix_errors:Yp,auto_fix:eh,manual_fix:th,error_details:rh,line_number:sh,invalid_geometry:ih,duplicate_points:nh,self_intersecting:ah,unclosed_path:oh,empty_file:lh,corrupted_file:dh,unsupported_version:ch,missing_required_data:gh},fh={fallbackLng:"en",debug:!1,detection:{order:["localStorage","navigator"],caches:["localStorage"],lookupLocalStorage:"deepnest-language"},interpolation:{escapeValue:!1},resources:{en:{common:ci,messages:Ai,parts:Yi,nesting:Qn,sheets:Fa,settings:Hl,files:dc},de:{common:pc,messages:Mc,parts:sg,nesting:Yg,sheets:Mu,settings:Wf,files:uh}}},ph={t:t=>t,changeLanguage:async t=>{},language:()=>"en",ready:()=>!1},Yr=us(ph),Te=(t="common")=>{const e=fs(Yr);return e?[(s,i)=>{if(!e.ready())return s;const n=`${t}.${s}`;return e.t(n,i)},{changeLanguage:e.changeLanguage,language:e.language}]:[s=>s,{changeLanguage:async s=>{},language:()=>"en"}]},hh=t=>{const[e,r]=ae("en"),[s,i]=ae(!1);cr(async()=>{try{await Me.use(Zr).init(fh),r(Me.language||"en"),i(!0)}catch(d){console.error("Failed to initialize i18n:",d),i(!0)}});const a={t:(d,c)=>s()&&Me.t(d,c)||d,changeLanguage:async d=>{try{await Me.changeLanguage(d),r(d)}catch(c){console.error("Failed to change language:",c)}},language:e,ready:s};return Yr.Provider({value:a,children:t.children})},lr=Symbol("store-raw"),ht=Symbol("store-node"),tt=Symbol("store-has"),es=Symbol("store-self");function ts(t){let e=t[ot];if(!e&&(Object.defineProperty(t,ot,{value:e=new Proxy(t,_h)}),!Array.isArray(t))){const r=Object.keys(t),s=Object.getOwnPropertyDescriptors(t);for(let i=0,n=r.length;i<n;i++){const o=r[i];s[o].get&&Object.defineProperty(t,o,{enumerable:s[o].enumerable,get:s[o].get.bind(e)})}}return e}function Kt(t){let e;return t!=null&&typeof t=="object"&&(t[ot]||!(e=Object.getPrototypeOf(t))||e===Object.prototype||Array.isArray(t))}function Lt(t,e=new Set){let r,s,i,n;if(r=t!=null&&t[lr])return r;if(!Kt(t)||e.has(t))return t;if(Array.isArray(t)){Object.isFrozen(t)?t=t.slice(0):e.add(t);for(let o=0,a=t.length;o<a;o++)i=t[o],(s=Lt(i,e))!==i&&(t[o]=s)}else{Object.isFrozen(t)?t=Object.assign({},t):e.add(t);const o=Object.keys(t),a=Object.getOwnPropertyDescriptors(t);for(let d=0,c=o.length;d<c;d++)n=o[d],!a[n].get&&(i=t[n],(s=Lt(i,e))!==i&&(t[n]=s))}return t}function Wt(t,e){let r=t[e];return r||Object.defineProperty(t,e,{value:r=Object.create(null)}),r}function At(t,e,r){if(t[e])return t[e];const[s,i]=ae(r,{equals:!1,internal:!0});return s.$=i,t[e]=s}function mh(t,e){const r=Reflect.getOwnPropertyDescriptor(t,e);return!r||r.get||!r.configurable||e===ot||e===ht||(delete r.value,delete r.writable,r.get=()=>t[ot][e]),r}function rs(t){ir()&&At(Wt(t,ht),es)()}function bh(t){return rs(t),Reflect.ownKeys(t)}const _h={get(t,e,r){if(e===lr)return t;if(e===ot)return r;if(e===sr)return rs(t),r;const s=Wt(t,ht),i=s[e];let n=i?i():t[e];if(e===ht||e===tt||e==="__proto__")return n;if(!i){const o=Object.getOwnPropertyDescriptor(t,e);ir()&&(typeof n!="function"||t.hasOwnProperty(e))&&!(o&&o.get)&&(n=At(s,e,n)())}return Kt(n)?ts(n):n},has(t,e){return e===lr||e===ot||e===sr||e===ht||e===tt||e==="__proto__"?!0:(ir()&&At(Wt(t,tt),e)(),e in t)},set(){return!0},deleteProperty(){return!0},ownKeys:bh,getOwnPropertyDescriptor:mh};function Gt(t,e,r,s=!1){if(!s&&t[e]===r)return;const i=t[e],n=t.length;r===void 0?(delete t[e],t[tt]&&t[tt][e]&&i!==void 0&&t[tt][e].$()):(t[e]=r,t[tt]&&t[tt][e]&&i===void 0&&t[tt][e].$());let o=Wt(t,ht),a;if((a=At(o,e,i))&&a.$(()=>r),Array.isArray(t)&&t.length!==n){for(let d=t.length;d<n;d++)(a=o[d])&&a.$();(a=At(o,"length",n))&&a.$(t.length)}(a=o[es])&&a.$()}function ss(t,e){const r=Object.keys(e);for(let s=0;s<r.length;s+=1){const i=r[s];Gt(t,i,e[i])}}function xh(t,e){if(typeof e=="function"&&(e=e(t)),e=Lt(e),Array.isArray(e)){if(t===e)return;let r=0,s=e.length;for(;r<s;r++){const i=e[r];t[r]!==i&&Gt(t,r,i)}Gt(t,"length",s)}else ss(t,e)}function kt(t,e,r=[]){let s,i=t;if(e.length>1){s=e.shift();const o=typeof s,a=Array.isArray(t);if(Array.isArray(s)){for(let d=0;d<s.length;d++)kt(t,[s[d]].concat(e),r);return}else if(a&&o==="function"){for(let d=0;d<t.length;d++)s(t[d],d)&&kt(t,[d].concat(e),r);return}else if(a&&o==="object"){const{from:d=0,to:c=t.length-1,by:u=1}=s;for(let g=d;g<=c;g+=u)kt(t,[g].concat(e),r);return}else if(e.length>1){kt(t[s],e,[s].concat(r));return}i=t[s],r=[s].concat(r)}let n=e[0];typeof n=="function"&&(n=n(i,r),n===i)||s===void 0&&n==null||(n=Lt(n),s===void 0||Kt(i)&&Kt(n)&&!Array.isArray(n)?ss(i,n):Gt(t,s,n))}function yh(...[t,e]){const r=Lt(t||{}),s=Array.isArray(r),i=ts(r);function n(...o){gs(()=>{s&&o.length===1?xh(r,o[0]):kt(r,o)})}return[i,n]}const vh=[{id:"part-1",name:"Rectangle Part",filename:"rectangle.svg",path:[[0,0],[100,0],[100,50],[0,50]],area:5e3,bounds:{x:0,y:0,width:100,height:50},quantity:5,placed:3,rotation:0,material:"wood",thickness:3,isSelected:!1},{id:"part-2",name:"Circle Part",filename:"circle.svg",path:Sh(25,50,50),area:1963.5,bounds:{x:25,y:25,width:50,height:50},quantity:3,placed:2,rotation:0,material:"acrylic",thickness:5,isSelected:!1},{id:"part-3",name:"Triangle Part",filename:"triangle.svg",path:[[0,60],[30,0],[60,60]],area:1800,bounds:{x:0,y:0,width:60,height:60},quantity:8,placed:5,rotation:0,material:"plywood",thickness:6,isSelected:!0}],$h=[{id:"sheet-1",name:"Standard Sheet",width:600,height:400,thickness:3,material:"wood",margin:5,isSelected:!0,bounds:{x:0,y:0,width:600,height:400},utilization:0},{id:"sheet-2",name:"Large Acrylic Sheet",width:800,height:600,thickness:5,material:"acrylic",margin:3,isSelected:!1,bounds:{x:0,y:0,width:800,height:600},utilization:0}],kh=[{id:"nest-1",sheetId:"sheet-1",placements:[{id:"placement-1",partId:"part-1",x:10,y:10,rotation:0,bounds:{x:10,y:10,width:100,height:50}},{id:"placement-2",partId:"part-2",x:120,y:10,rotation:0,bounds:{x:120,y:10,width:50,height:50}},{id:"placement-3",partId:"part-3",x:10,y:70,rotation:0,bounds:{x:10,y:70,width:60,height:60}}],fitness:.75,utilization:.68,area:12e3,createdAt:new Date().toISOString(),isOptimal:!1},{id:"nest-2",sheetId:"sheet-1",placements:[{id:"placement-4",partId:"part-1",x:5,y:5,rotation:90,bounds:{x:5,y:5,width:50,height:100}},{id:"placement-5",partId:"part-2",x:65,y:5,rotation:0,bounds:{x:65,y:5,width:50,height:50}}],fitness:.82,utilization:.72,area:8500,createdAt:new Date(Date.now()-6e4).toISOString(),isOptimal:!0}],wh={"preset-1":{id:"preset-1",name:"Default Laser Settings",description:"Standard settings for laser cutting wood",config:{units:"mm",scale:1,spacing:2,rotations:4,populationSize:20,mutationRate:15,threads:4,placementType:"gravity",mergeLines:!0,timeRatio:.5,simplify:!1,tolerance:.1,endpointTolerance:.05,svgScale:1,dxfImportUnits:"mm",dxfExportUnits:"mm",exportSheetBounds:!0,exportSheetSpacing:!1,sheetSpacing:10,useQuantityFromFilename:!0,useSvgPreProcessor:!1,conversionServer:"https://converter.deepnest.app/convert"},createdAt:new Date(Date.now()-864e5).toISOString(),updatedAt:new Date(Date.now()-36e5).toISOString()},"preset-2":{id:"preset-2",name:"High Precision CNC",description:"Tight tolerances for CNC machining",config:{units:"inches",scale:72,spacing:.1,rotations:8,populationSize:50,mutationRate:5,threads:8,placementType:"bottom-left",mergeLines:!1,timeRatio:.8,simplify:!0,tolerance:.001,endpointTolerance:5e-4,svgScale:72,dxfImportUnits:"inches",dxfExportUnits:"inches",exportSheetBounds:!0,exportSheetSpacing:!0,sheetSpacing:.25,useQuantityFromFilename:!1,useSvgPreProcessor:!0,conversionServer:"https://converter.deepnest.app/convert"},createdAt:new Date(Date.now()-1728e5).toISOString(),updatedAt:new Date(Date.now()-72e5).toISOString()}};function Sh(t,e,r){const s=[];for(let n=0;n<=32;n++){const o=n/32*2*Math.PI,a=e+t*Math.cos(o),d=r+t*Math.sin(o);s.push([a,d])}return s}const Ch=()=>({ui:{activeTab:"parts",darkMode:!1,language:"en",theme:"auto",showTooltips:!0,showStatusBar:!0,modals:{presetModal:!1,helpModal:!1},panels:{partsWidth:300,resultsHeight:200}},config:{units:"mm",scale:1,spacing:2,rotations:4,populationSize:20,mutationRate:10,threads:4,placementType:"gravity",mergeLines:!0,timeRatio:.5,simplify:!1,tolerance:.1,endpointTolerance:.05,svgScale:1,dxfImportUnits:"mm",dxfExportUnits:"mm",exportSheetBounds:!1,exportSheetSpacing:!1,sheetSpacing:10,useQuantityFromFilename:!1,useSvgPreProcessor:!1,conversionServer:"https://converter.deepnest.app/convert"},app:{parts:vh,sheets:$h,nests:kh,presets:wh,importedFiles:[]},process:{isNesting:!1,progress:0,currentNest:null,workerStatus:{isRunning:!1,currentOperation:"",threadsActive:0},lastError:null}}),pt=()=>typeof window<"u"&&!window.electronAPI,dr={units:"inches",scale:72,spacing:0,rotations:4,populationSize:10,mutationRate:10,threads:4,placementType:"gravity",mergeLines:!0,timeRatio:.5,simplify:!1,tolerance:.72,endpointTolerance:.36,svgScale:72,dxfImportUnits:"mm",dxfExportUnits:"mm",exportSheetBounds:!1,exportSheetSpacing:!1,sheetSpacing:10,useQuantityFromFilename:!1,useSvgPreProcessor:!1,conversionServer:"https://converter.deepnest.app/convert"},Dt={activeTab:"parts",darkMode:!1,language:"en",modals:{presetModal:!1,helpModal:!1},panels:{partsWidth:300,resultsHeight:200}},is={parts:[],sheets:[],nests:[],presets:{},importedFiles:[]},ns={isNesting:!1,progress:0,currentNest:null,workerStatus:{isRunning:!1,currentOperation:"",threadsActive:0},lastError:null},Ph=()=>{try{if(typeof localStorage<"u"){const t=localStorage.getItem("deepnest-ui-state");let e=Dt;if(t){const r=JSON.parse(t);e={...Dt,...r}}return"theme"in localStorage?e.darkMode=localStorage.theme==="dark":e.darkMode=window.matchMedia("(prefers-color-scheme: dark)").matches,e}}catch(t){console.warn("Failed to load UI state from localStorage:",t)}return Dt},as=pt()?Ch():{ui:Ph(),config:dr,app:is,process:ns},[b,ue]=yh(as);typeof document<"u"&&as.ui.darkMode&&document.documentElement.classList.add("dark");pt()&&console.info(" Development mode: Global store initialized with mock data");const L={setActiveTab:t=>{ue("ui","activeTab",t)},setDarkMode:t=>{if(ue("ui","darkMode",t),typeof localStorage<"u")try{t?localStorage.theme="dark":localStorage.theme="light",localStorage.setItem("deepnest-ui-state",JSON.stringify(b.ui))}catch(e){console.warn("Failed to save theme to localStorage:",e)}},setThemePreference:t=>{if(typeof localStorage<"u")try{if(t==="system"){localStorage.removeItem("theme");const e=window.matchMedia("(prefers-color-scheme: dark)").matches;ue("ui","darkMode",e)}else localStorage.theme=t,ue("ui","darkMode",t==="dark");localStorage.setItem("deepnest-ui-state",JSON.stringify(b.ui))}catch(e){console.warn("Failed to save theme preference to localStorage:",e)}},setLanguage:t=>{if(ue("ui","language",t),typeof localStorage<"u")try{localStorage.setItem("deepnest-ui-state",JSON.stringify(b.ui))}catch(e){console.warn("Failed to save UI state to localStorage:",e)}},setPanelWidth:(t,e)=>{if(ue("ui","panels",t,e),typeof localStorage<"u")try{localStorage.setItem("deepnest-ui-state",JSON.stringify(b.ui))}catch(r){console.warn("Failed to save UI state to localStorage:",r)}},openModal:t=>{ue("ui","modals",t,!0)},closeModal:t=>{ue("ui","modals",t,!1)},updateConfig:t=>{ue("config",t)},resetConfig:()=>{ue("config",dr)},setParts:t=>{ue("app","parts",t)},addPart:t=>{ue("app","parts",e=>[...e,t])},removePart:t=>{ue("app","parts",e=>e.filter(r=>r.id!==t))},updatePart:(t,e)=>{ue("app","parts",r=>r.id===t,e)},setNests:t=>{ue("app","nests",t)},addNest:t=>{ue("app","nests",e=>[...e,t])},setPresets:t=>{ue("app","presets",t)},addPreset:t=>{ue("app","presets",t.id,t)},removePreset:t=>{ue("app","presets",e=>{const r={...e};return delete r[t],r})},updatePreset:(t,e)=>{ue("app","presets",t,r=>({...r,...e}))},setNestingStatus:t=>{ue("process","isNesting",t)},setNestingProgress:t=>{ue("process","progress",t)},setWorkerStatus:t=>{ue("process","workerStatus",t)},setError:t=>{ue("process","lastError",t)},setMessage:t=>{t&&console.info("App Message:",t)},setShowTooltips:t=>{ue("ui","showTooltips",t)},setShowStatusBar:t=>{ue("ui","showStatusBar",t)},setTheme:t=>{ue("ui","theme",t)},resetToDefaults:()=>{ue("config",dr),ue("ui",Dt)},reset:()=>{ue("app",is),ue("process",ns)}};class Lh{eventListeners=new Map;get isAvailable(){return pt()||typeof window<"u"&&!!window.electronAPI}async invoke(e,...r){if(!this.isAvailable)throw new Error("IPC not available");if(pt())return this.handleMockInvoke(e,...r);try{return await window.electronAPI.ipcRenderer.invoke(e,...r)}catch(s){throw console.error(`IPC invoke error on channel ${String(e)}:`,s),s}}async handleMockInvoke(e,...r){switch(await new Promise(s=>setTimeout(s,100)),console.info(` Mock IPC call: ${e}`,r),e){case"read-config":return{units:"mm",scale:1,spacing:2,rotations:4,populationSize:20,mutationRate:10,threads:4,placementType:"gravity",mergeLines:!0,timeRatio:.5,simplify:!1,tolerance:.1,endpointTolerance:.05,svgScale:1,dxfImportUnits:"mm",dxfExportUnits:"mm",exportSheetBounds:!1,exportSheetSpacing:!1,sheetSpacing:10,useQuantityFromFilename:!1,useSvgPreProcessor:!1,conversionServer:"https://converter.deepnest.app/convert"};case"write-config":case"save-preset":case"delete-preset":case"start-nesting":case"stop-nesting":return;case"load-presets":return{default:JSON.stringify({units:"mm",spacing:2,rotations:4}),precision:JSON.stringify({units:"inches",spacing:.1,rotations:8})};case"open-file-dialog":return{canceled:!1,filePaths:["/mock/path/example.svg"]};case"save-file-dialog":return{canceled:!1,filePath:"/mock/path/output.svg"};case"import-parts":return[{id:"mock-part-1",name:"Mock Part",bounds:{x:0,y:0,width:100,height:50},quantity:1,rotation:0}];default:console.warn(` Unhandled mock IPC channel: ${e}`);return}}on(e,r){if(!this.isAvailable)return console.warn("IPC not available, listener not registered"),()=>{};const s=String(e);return this.eventListeners.has(s)||this.eventListeners.set(s,new Set),this.eventListeners.get(s).add(r),pt()?(console.info(` Mock IPC listener registered for: ${s}`),()=>{const i=this.eventListeners.get(s);i&&(i.delete(r),i.size===0&&this.eventListeners.delete(s))}):(window.electronAPI.ipcRenderer.on(e,r),()=>{const i=this.eventListeners.get(s);i&&(i.delete(r),i.size===0&&(this.eventListeners.delete(s),window.electronAPI?.ipcRenderer&&window.electronAPI.ipcRenderer.removeAllListeners(e)))})}send(e,...r){if(!this.isAvailable){console.warn("IPC not available, message not sent");return}if(pt()){console.info(` Mock IPC send: ${e}`,r);return}window.electronAPI.ipcRenderer.send(e,...r)}async readConfig(){return this.invoke("read-config")}async writeConfig(e){return this.invoke("write-config",JSON.stringify(e))}async savePreset(e,r){return this.invoke("save-preset",e,JSON.stringify(r))}async loadPresets(){return this.invoke("load-presets")}async deletePreset(e){return this.invoke("delete-preset",e)}async startNesting(e){return this.invoke("start-nesting",e)}async stopNesting(){return this.invoke("stop-nesting")}stopBackgroundWorker(){this.send("background-stop")}onNestProgress(e){return this.on("nest-progress",e)}onNestComplete(e){return this.on("nest-complete",e)}onBackgroundProgress(e){return this.on("background-progress",e)}onWorkerStatus(e){return this.on("worker-status",e)}onNestError(e){return this.on("nest-error",e)}cleanup(){if(this.isAvailable){for(const e of this.eventListeners.keys())window.electronAPI.ipcRenderer.removeAllListeners(e);this.eventListeners.clear()}}}const le=new Lh;var Ah=k('<header class="h-16 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between px-6 shadow-sm"><div class="flex items-center"><div class="flex items-center gap-3"><div class="w-8 h-8 bg-blue-600 dark:bg-blue-500 rounded-lg flex items-center justify-center"><span class="text-white font-bold text-sm">DN</span></div><h1 class="text-xl font-semibold text-gray-900 dark:text-gray-100"></h1></div></div><div class="flex items-center gap-4"><div class=relative><select class="bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 px-3 py-2 pr-8 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none cursor-pointer"><option value=en> EN</option><option value=de> DE</option></select><div class="absolute right-2 top-1/2 transform -translate-y-1/2 pointer-events-none"><svg class="w-4 h-4 text-gray-500 dark:text-gray-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 9l-7 7-7-7"></path></svg></div></div><button class="flex items-center justify-center w-10 h-10 bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800">'),Fh=k('<svg class="w-5 h-5"fill=currentColor viewBox="0 0 20 20"><path fill-rule=evenodd d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"clip-rule=evenodd>'),Eh=k('<svg class="w-5 h-5"fill=currentColor viewBox="0 0 20 20"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z">');const Oh=()=>{const[t,{changeLanguage:e}]=Te("common"),r=()=>{const i=b.ui.darkMode?"light":"dark";L.setThemePreference(i)},s=async i=>{L.setLanguage(i),await e(i)};return(()=>{var i=Ah(),n=i.firstChild,o=n.firstChild,a=o.firstChild,d=a.nextSibling,c=n.nextSibling,u=c.firstChild,g=u.firstChild,p=u.nextSibling;return l(d,()=>t("navigation.page_title")),g.addEventListener("change",f=>s(f.currentTarget.value)),p.$$click=r,l(p,(()=>{var f=Re(()=>!!b.ui.darkMode);return()=>f()?Fh():Eh()})()),C(()=>ne(p,"title",b.ui.darkMode?"Switch to light mode":"Switch to dark mode")),C(()=>g.value=b.ui.language),i})()};De(["click"]);var Mh=k('<nav class="h-full bg-gray-50 dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex flex-col w-full"><div class="flex flex-col py-4"><div class="px-4 mb-4"><h2 class="text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider">Navigation</h2></div></div><div class="mt-auto p-4 border-t border-gray-200 dark:border-gray-700"><div class="text-xs text-gray-500 dark:text-gray-400 text-center"><div>DeepNest Frontend</div><div class="mt-1 opacity-75">v2.0.0'),Nh=k("<button><span></span><span class=font-medium>"),Rh=k('<div class="ml-auto w-1 h-6 bg-blue-600 dark:bg-blue-400 rounded-full">');const jh=()=>{const[t]=Te("common"),e=[{id:"parts",labelKey:"navigation.parts",icon:""},{id:"nests",labelKey:"navigation.nests",icon:""},{id:"sheets",labelKey:"navigation.sheets",icon:""},{id:"settings",labelKey:"navigation.settings",icon:""}],r=s=>{L.setActiveTab(s)};return(()=>{var s=Mh(),i=s.firstChild;return i.firstChild,l(i,w(ze,{each:e,children:n=>(()=>{var o=Nh(),a=o.firstChild,d=a.nextSibling;return o.$$click=()=>r(n.id),l(a,()=>n.icon),l(d,()=>t(n.labelKey)),l(o,(()=>{var c=Re(()=>b.ui.activeTab===n.id);return()=>c()&&Rh()})(),null),C(c=>{var u=`mx-2 mb-1 flex items-center px-4 py-3 text-left transition-all duration-200 rounded-lg group ${b.ui.activeTab===n.id?"bg-blue-100 dark:bg-blue-900 text-blue-900 dark:text-blue-100 shadow-sm border border-blue-200 dark:border-blue-700":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-gray-100"}`,g=t(n.labelKey),p=`text-xl mr-4 transition-transform duration-200 ${b.ui.activeTab===n.id?"scale-110":"group-hover:scale-105"}`;return u!==c.e&&ke(o,c.e=u),g!==c.t&&ne(o,"title",c.t=g),p!==c.a&&ke(a,c.a=p),c},{e:void 0,t:void 0,a:void 0}),o})()}),null),s})()};De(["click"]);var Dh=k('<div class="h-full flex flex-col bg-white dark:bg-gray-900"><div class="p-4 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700"><div class="flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between"><div class="relative flex-1 max-w-md"><div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"><svg class="w-4 h-4 text-gray-400 dark:text-gray-500"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></div><input type=text class="block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200"></div><div class="flex items-center gap-3"><span class="text-sm font-medium text-gray-700 dark:text-gray-300">:</span><select class="px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"><option value=name></option><option value=quantity></option><option value=size></option></select><button class="p-2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors duration-200"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"></svg></button></div></div></div><div class="flex-1 overflow-auto"><div class=min-w-full><div class="sticky top-0 bg-gray-50 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 z-10"><div class="grid grid-cols-12 gap-4 px-4 py-3 text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"><div class="col-span-1 flex items-center"><input type=checkbox class="w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-2"></div><button><span></span></button><button><span></span></button><button><span></span></button><div class="col-span-2 text-center"></div></div></div><div class="bg-white dark:bg-gray-900">'),Nt=k('<svg><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M5 15l7-7 7 7"></svg>',!1,!0,!1),Rt=k('<svg><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 9l-7 7-7-7"></svg>',!1,!0,!1),tr=k('<svg class="w-3 h-3"fill=none stroke=currentColor viewBox="0 0 24 24">'),Th=k('<div><div class="col-span-1 flex items-center"><input type=checkbox class="w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-2"></div><div class="col-span-4 flex items-center"><div class="flex items-center gap-3"><div class="w-8 h-8 bg-gray-100 dark:bg-gray-700 rounded-lg flex items-center justify-center flex-shrink-0"><svg class="w-4 h-4 text-gray-500 dark:text-gray-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path></svg></div><div class="min-w-0 flex-1"><p class="text-sm font-medium text-gray-900 dark:text-gray-100 truncate"></p><p class="text-xs text-gray-500 dark:text-gray-400 truncate"></p></div></div></div><div class="col-span-2 flex items-center"><div class=relative><input type=number min=1 class="w-20 px-3 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"></div></div><div class="col-span-3 flex items-center"><div class="flex items-center gap-2"><div class="px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded text-xs font-mono text-gray-600 dark:text-gray-300"></div><span class="text-xs text-gray-500 dark:text-gray-400">mm</span></div></div><div class="col-span-2 flex items-center justify-center"><div class="flex items-center gap-1"><input type=number min=0 max=360 step=90 class="w-16 px-2 py-1.5 text-sm text-center border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"><span class="text-xs text-gray-500 dark:text-gray-400">');const Ih=()=>{const[t]=Te("parts"),[e,r]=ae(""),[s,i]=ae("name"),[n,o]=ae("asc"),a=fe(()=>{let f=b.app.parts;if(e()){const h=e().toLowerCase();f=f.filter(m=>m.name.toLowerCase().includes(h)||m.source.toLowerCase().includes(h))}return f=f.sort((h,m)=>{let _,v;switch(s()){case"name":_=h.name,v=m.name;break;case"quantity":_=h.quantity,v=m.quantity;break;case"size":_=h.bounds.width*h.bounds.height,v=m.bounds.width*m.bounds.height;break;default:_=h.name,v=m.name}return typeof _=="string"&&typeof v=="string"?n()==="asc"?_.localeCompare(v):v.localeCompare(_):n()==="asc"?_-v:v-_}),f}),d=f=>{L.updatePart(f.id,{selected:!f.selected})},c=(f,h)=>{h<1&&(h=1),L.updatePart(f,{quantity:h})},u=(f,h)=>{L.updatePart(f,{rotation:h})},g=f=>{s()===f?o(n()==="asc"?"desc":"asc"):(i(f),o("asc"))},p=f=>`${f.width.toFixed(1)}  ${f.height.toFixed(1)}`;return(()=>{var f=Dh(),h=f.firstChild,m=h.firstChild,_=m.firstChild,v=_.firstChild,S=v.nextSibling,O=_.nextSibling,$=O.firstChild,N=$.firstChild,q=$.nextSibling,T=q.firstChild,V=T.nextSibling,y=V.nextSibling,x=q.nextSibling,A=x.firstChild,P=h.nextSibling,j=P.firstChild,M=j.firstChild,D=M.firstChild,U=D.firstChild,J=U.firstChild,Z=U.nextSibling,G=Z.firstChild,K=Z.nextSibling,I=K.firstChild,re=K.nextSibling,de=re.firstChild,se=re.nextSibling,B=M.nextSibling;return S.$$input=F=>r(F.currentTarget.value),l($,()=>t("sort_by"),N),q.addEventListener("change",F=>i(F.currentTarget.value)),l(T,()=>t("name")),l(V,()=>t("quantity")),l(y,()=>t("size")),x.$$click=()=>o(n()==="asc"?"desc":"asc"),l(A,(()=>{var F=Re(()=>n()==="asc");return()=>F()?Nt():Rt()})()),J.addEventListener("change",F=>{const H=F.currentTarget.checked;b.app.parts.forEach(Y=>{L.updatePart(Y.id,{selected:H})})}),Z.$$click=()=>g("name"),l(G,()=>t("name")),l(Z,(()=>{var F=Re(()=>s()==="name");return()=>F()&&(()=>{var H=tr();return l(H,(()=>{var Y=Re(()=>n()==="asc");return()=>Y()?Nt():Rt()})()),H})()})(),null),K.$$click=()=>g("quantity"),l(I,()=>t("quantity")),l(K,(()=>{var F=Re(()=>s()==="quantity");return()=>F()&&(()=>{var H=tr();return l(H,(()=>{var Y=Re(()=>n()==="asc");return()=>Y()?Nt():Rt()})()),H})()})(),null),re.$$click=()=>g("size"),l(de,()=>t("size")),l(re,(()=>{var F=Re(()=>s()==="size");return()=>F()&&(()=>{var H=tr();return l(H,(()=>{var Y=Re(()=>n()==="asc");return()=>Y()?Nt():Rt()})()),H})()})(),null),l(se,()=>t("rotation")),l(B,w(ze,{get each(){return a()},children:F=>(()=>{var H=Th(),Y=H.firstChild,pe=Y.firstChild,he=Y.nextSibling,xe=he.firstChild,we=xe.firstChild,be=we.nextSibling,_e=be.firstChild,Ae=_e.nextSibling,Se=he.nextSibling,Fe=Se.firstChild,Ce=Fe.firstChild,Ee=Se.nextSibling,Pe=Ee.firstChild,te=Pe.firstChild,me=Ee.nextSibling,R=me.firstChild,Q=R.firstChild;return pe.addEventListener("change",()=>d(F)),l(_e,()=>F.name),l(Ae,()=>F.source),Ce.addEventListener("change",W=>c(F.id,parseInt(W.currentTarget.value))),l(te,()=>p(F.bounds)),Q.addEventListener("change",W=>u(F.id,parseInt(W.currentTarget.value))),C(W=>{var z=`grid grid-cols-12 gap-4 px-4 py-4 border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-200 ${F.selected?"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800":""}`,ie=F.source;return z!==W.e&&ke(H,W.e=z),ie!==W.t&&ne(_e,"title",W.t=ie),W},{e:void 0,t:void 0}),C(()=>pe.checked=F.selected),C(()=>Ce.value=F.quantity),C(()=>Q.value=F.rotation),H})()})),C(F=>{var H=t("search_parts"),Y=n()==="asc"?"Sort descending":"Sort ascending",pe=b.app.parts.some(be=>be.selected)&&!b.app.parts.every(be=>be.selected),he=`col-span-4 flex items-center gap-2 text-left hover:text-gray-700 dark:hover:text-gray-200 transition-colors duration-200 ${s()==="name"?"text-blue-600 dark:text-blue-400":""}`,xe=`col-span-2 flex items-center gap-2 text-left hover:text-gray-700 dark:hover:text-gray-200 transition-colors duration-200 ${s()==="quantity"?"text-blue-600 dark:text-blue-400":""}`,we=`col-span-3 flex items-center gap-2 text-left hover:text-gray-700 dark:hover:text-gray-200 transition-colors duration-200 ${s()==="size"?"text-blue-600 dark:text-blue-400":""}`;return H!==F.e&&ne(S,"placeholder",F.e=H),Y!==F.t&&ne(x,"title",F.t=Y),pe!==F.a&&(J.indeterminate=F.a=pe),he!==F.o&&ke(Z,F.o=he),xe!==F.i&&ke(K,F.i=xe),we!==F.n&&ke(re,F.n=we),F},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),C(()=>S.value=e()),C(()=>q.value=s()),C(()=>J.checked=b.app.parts.every(F=>F.selected)),f})()};De(["input","click"]);var zh=k('<div class="flex items-center gap-2 px-3 py-1 bg-blue-50 dark:bg-blue-900/20 rounded-lg"><svg class="w-4 h-4 text-blue-600 dark:text-blue-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span class="text-sm text-blue-700 dark:text-blue-300 font-medium"> part<!> selected'),Uh=k('<div class="h-full flex flex-col bg-white dark:bg-gray-900"><div class="bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700"><div class="px-6 py-4 flex items-center justify-between"><div class="flex items-center gap-3"><div class="w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center shadow-sm"><svg class="w-5 h-5 text-white"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path></svg></div><div><h1 class="text-xl font-semibold text-gray-900 dark:text-gray-100"></h1><p class="text-sm text-gray-500 dark:text-gray-400">Manage your parts and import new ones</p></div></div><div class="flex items-center gap-3"><button class="inline-flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg></button><div class="flex items-center gap-2"><button class="inline-flex items-center gap-2 px-3 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 font-medium rounded-lg transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg></button><button class="inline-flex items-center gap-2 px-3 py-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 font-medium rounded-lg transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg></button></div></div></div></div><div class="bg-gray-50 dark:bg-gray-800/50 px-6 py-4 border-b border-gray-200 dark:border-gray-700"><div class="grid grid-cols-1 md:grid-cols-4 gap-4"><div class="bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border border-gray-200 dark:border-gray-700"><div class="flex items-center gap-3"><div class="w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center"><svg class="w-5 h-5 text-blue-600 dark:text-blue-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path></svg></div><div><p class="text-sm font-medium text-gray-600 dark:text-gray-400"></p><p class="text-2xl font-bold text-gray-900 dark:text-gray-100"></p></div></div></div><div class="bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border border-gray-200 dark:border-gray-700"><div class="flex items-center gap-3"><div class="w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center"><svg class="w-5 h-5 text-green-600 dark:text-green-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"></path></svg></div><div><p class="text-sm font-medium text-gray-600 dark:text-gray-400"></p><p class="text-2xl font-bold text-gray-900 dark:text-gray-100"></p></div></div></div><div class="bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border border-gray-200 dark:border-gray-700"><div class="flex items-center gap-3"><div class="w-10 h-10 bg-purple-100 dark:bg-purple-900/30 rounded-lg flex items-center justify-center"><svg class="w-5 h-5 text-purple-600 dark:text-purple-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><div><p class="text-sm font-medium text-gray-600 dark:text-gray-400">Selected</p><p class="text-2xl font-bold text-gray-900 dark:text-gray-100"></p></div></div></div><div class="bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border border-gray-200 dark:border-gray-700"><div class="flex items-center gap-3"><div class="w-10 h-10 bg-orange-100 dark:bg-orange-900/30 rounded-lg flex items-center justify-center"><svg class="w-5 h-5 text-orange-600 dark:text-orange-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"></path></svg></div><div><p class="text-sm font-medium text-gray-600 dark:text-gray-400">Total Area</p><p class="text-2xl font-bold text-gray-900 dark:text-gray-100"></p></div></div></div></div></div><div class="bg-white dark:bg-gray-800 px-6 py-3 border-b border-gray-200 dark:border-gray-700"><div class="flex items-center justify-between"><div class="flex items-center gap-4"><span class="text-sm text-gray-600 dark:text-gray-400">Bulk Actions:</span><div class="flex items-center gap-2"><button class="text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed"></button><span class="text-gray-300 dark:text-gray-600"></span><button class="text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed"></button></div></div></div></div><div class="flex-1 overflow-hidden bg-gray-50 dark:bg-gray-900">'),Bh=k('<div class="h-full flex flex-col items-center justify-center text-center gap-6 p-8"><div class="w-24 h-24 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center"><svg class="w-12 h-12 text-gray-400 dark:text-gray-600"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=1.5 d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path></svg></div><div class="max-w-sm space-y-3"><h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100"></h3><p class="text-gray-600 dark:text-gray-400 leading-relaxed"></p></div><div class="flex flex-col sm:flex-row gap-3"><button class="inline-flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-900"><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg></button><button class="inline-flex items-center gap-2 px-6 py-3 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 font-medium rounded-lg border border-gray-300 dark:border-gray-600 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-900"><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>Learn More</button></div><div class="text-xs text-gray-500 dark:text-gray-600 max-w-md"><p>Supported formats: SVG, DXF  Drag and drop files here');const Vh=()=>{const[t]=Te("parts"),e=fe(()=>b.app.parts.length),r=fe(()=>b.app.parts.reduce((u,g)=>u+g.quantity,0)),s=fe(()=>b.app.parts.filter(u=>u.selected).length),i=fe(()=>b.app.parts.reduce((u,g)=>u+(g.area||0),0)),n=async()=>{if(!le.isAvailable){console.warn("IPC not available");return}try{const u=await le.openFileDialog({title:t("import_parts"),filters:[{name:"Vector Files",extensions:["svg","dxf"]},{name:"SVG Files",extensions:["svg"]},{name:"DXF Files",extensions:["dxf"]},{name:"All Files",extensions:["*"]}],properties:["openFile","multiSelections"]});if(u.canceled||!u.filePaths?.length)return;const g=await le.importParts(u.filePaths);L.setParts([...b.app.parts,...g])}catch(u){console.error("Failed to import parts:",u),L.setError(t("import_failed"))}},o=async()=>{const u=b.app.parts.filter(g=>g.selected);if(u.length===0){L.setError(t("no_parts_selected"));return}try{const g=await le.saveFileDialog({title:t("export_parts"),defaultPath:"parts.svg",filters:[{name:"SVG Files",extensions:["svg"]},{name:"DXF Files",extensions:["dxf"]},{name:"All Files",extensions:["*"]}]});if(g.canceled||!g.filePath)return;await le.exportParts(u,g.filePath)}catch(g){console.error("Failed to export parts:",g),L.setError(t("export_failed"))}},a=()=>{if(b.app.parts.filter(p=>p.selected).length===0){L.setError(t("no_parts_selected"));return}const g=b.app.parts.filter(p=>!p.selected);L.setParts(g)},d=()=>{b.app.parts.forEach(u=>{L.updatePart(u.id,{selected:!0})})},c=()=>{b.app.parts.forEach(u=>{L.updatePart(u.id,{selected:!1})})};return(()=>{var u=Uh(),g=u.firstChild,p=g.firstChild,f=p.firstChild,h=f.firstChild,m=h.nextSibling,_=m.firstChild,v=f.nextSibling,S=v.firstChild;S.firstChild;var O=S.nextSibling,$=O.firstChild;$.firstChild;var N=$.nextSibling;N.firstChild;var q=g.nextSibling,T=q.firstChild,V=T.firstChild,y=V.firstChild,x=y.firstChild,A=x.nextSibling,P=A.firstChild,j=P.nextSibling,M=V.nextSibling,D=M.firstChild,U=D.firstChild,J=U.nextSibling,Z=J.firstChild,G=Z.nextSibling,K=M.nextSibling,I=K.firstChild,re=I.firstChild,de=re.nextSibling,se=de.firstChild,B=se.nextSibling,F=K.nextSibling,H=F.firstChild,Y=H.firstChild,pe=Y.nextSibling,he=pe.firstChild,xe=he.nextSibling,we=q.nextSibling,be=we.firstChild,_e=be.firstChild,Ae=_e.firstChild,Se=Ae.nextSibling,Fe=Se.firstChild,Ce=Fe.nextSibling,Ee=Ce.nextSibling,Pe=we.nextSibling;return l(_,()=>t("parts_title")),S.$$click=n,l(S,()=>t("import"),null),$.$$click=o,l($,()=>t("export"),null),N.$$click=a,l(N,()=>t("delete"),null),l(P,()=>t("total_parts")),l(j,e),l(Z,()=>t("total_quantity")),l(G,r),l(B,s),l(xe,()=>Math.round(i())),Fe.$$click=d,l(Fe,()=>t("select_all")),Ee.$$click=c,l(Ee,()=>t("deselect_all")),l(be,w(oe,{get when(){return s()>0},get children(){var te=zh(),me=te.firstChild,R=me.nextSibling,Q=R.firstChild,W=Q.nextSibling;return W.nextSibling,l(R,s,Q),l(R,()=>s()===1?"":"s",W),te}}),null),l(Pe,w(oe,{get when(){return e()>0},get fallback(){return(()=>{var te=Bh(),me=te.firstChild,R=me.nextSibling,Q=R.firstChild,W=Q.nextSibling,z=R.nextSibling,ie=z.firstChild;return ie.firstChild,l(Q,()=>t("no_parts_loaded")),l(W,()=>t("import_parts_to_get_started")),ie.$$click=n,l(ie,()=>t("import_parts"),null),te})()},get children(){return w(Ih,{})}})),C(te=>{var me=t("import_parts"),R=t("export_selected"),Q=b.app.parts.filter(ce=>ce.selected).length===0,W=t("delete_selected"),z=b.app.parts.filter(ce=>ce.selected).length===0,ie=e()===0,ye=e()===0;return me!==te.e&&ne(S,"title",te.e=me),R!==te.t&&ne($,"title",te.t=R),Q!==te.a&&($.disabled=te.a=Q),W!==te.o&&ne(N,"title",te.o=W),z!==te.i&&(N.disabled=te.i=z),ie!==te.n&&(Fe.disabled=te.n=ie),ye!==te.s&&(Ee.disabled=te.s=ye),te},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),u})()};De(["click"]);var Hh=k('<div class="text-sm text-gray-600 dark:text-gray-400 text-center">: '),qh=k('<div class="bg-gray-50 dark:bg-gray-700 p-3 rounded"><span class="text-sm font-medium text-gray-700 dark:text-gray-300">:</span><span class="ml-2 text-sm text-gray-900 dark:text-gray-100">'),Kh=k('<div class="grid grid-cols-2 gap-4 pt-4 border-t border-gray-200 dark:border-gray-600"><div class="flex justify-between"><span class="text-sm text-gray-600 dark:text-gray-400">:</span><span class="text-sm font-medium text-gray-900 dark:text-gray-100"></span></div><div class="flex justify-between"><span class="text-sm text-gray-600 dark:text-gray-400">:</span><span class="text-sm font-medium text-gray-900 dark:text-gray-100">'),Wh=k('<div class="p-6 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 m-4"><div class="flex items-center justify-between mb-4"><h3 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h3><div class="text-2xl font-bold text-blue-600 dark:text-blue-400">%</div></div><div class=mb-6><div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3 mb-2 overflow-hidden"><div class="h-full bg-blue-500 dark:bg-blue-400 rounded-full transition-all duration-300 ease-out"></div></div></div><div class=space-y-4><div class="grid grid-cols-2 gap-4"><div class="flex justify-between"><span class="text-sm text-gray-600 dark:text-gray-400">:</span><span class="text-sm font-medium text-gray-900 dark:text-gray-100"></span></div><div class="flex justify-between"><span class="text-sm text-gray-600 dark:text-gray-400">:</span><span></span></div></div></div><div class="flex justify-center pt-4 border-t border-gray-200 dark:border-gray-600"><button class="text-blue-600 dark:text-blue-400 hover:underline text-sm">');const Gh=()=>{const[t]=Te("nesting"),e=fe(()=>Math.max(0,Math.min(100,b.process.progress))),r=fe(()=>{const s=e();if(s===0)return null;const n=6e4*(100-s)/s;return n<6e4?`${Math.round(n/1e3)}s`:`${Math.round(n/6e4)}m`});return(()=>{var s=Wh(),i=s.firstChild,n=i.firstChild,o=n.nextSibling,a=o.firstChild,d=i.nextSibling,c=d.firstChild,u=c.firstChild,g=d.nextSibling,p=g.firstChild,f=p.firstChild,h=f.firstChild,m=h.firstChild,_=h.nextSibling,v=f.nextSibling,S=v.firstChild,O=S.firstChild,$=S.nextSibling,N=g.nextSibling,q=N.firstChild;return l(n,()=>t("nesting_in_progress")),l(o,()=>e().toFixed(1),a),l(d,w(oe,{get when(){return r()},get children(){var T=Hh(),V=T.firstChild;return l(T,()=>t("estimated_time_remaining"),V),l(T,r,null),T}}),null),l(g,w(oe,{get when(){return b.process.workerStatus.currentOperation},get children(){var T=qh(),V=T.firstChild,y=V.firstChild,x=V.nextSibling;return l(V,()=>t("current_operation"),y),l(x,()=>b.process.workerStatus.currentOperation),T}}),p),l(h,()=>t("threads_active"),m),l(_,()=>b.process.workerStatus.threadsActive),l(S,()=>t("worker_status"),O),l($,(()=>{var T=Re(()=>!!b.process.workerStatus.isRunning);return()=>T()?t("running"):t("stopped")})()),l(g,w(oe,{get when(){return b.process.currentNest},get children(){var T=Kh(),V=T.firstChild,y=V.firstChild,x=y.firstChild,A=y.nextSibling,P=V.nextSibling,j=P.firstChild,M=j.firstChild,D=j.nextSibling;return l(y,()=>t("current_generation"),x),l(A,()=>b.process.currentNest?.generation||0),l(j,()=>t("best_fitness"),M),l(D,()=>b.process.currentNest?.fitness?.toFixed(2)||"N/A"),T}}),null),q.$$click=()=>window.location.reload(),l(q,()=>t("refresh_status")),C(T=>{var V=`${e()}%`,y=`text-sm font-medium ${b.process.workerStatus.isRunning?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`;return V!==T.e&&((T.e=V)!=null?u.style.setProperty("width",V):u.style.removeProperty("width")),y!==T.t&&ke($,T.t=y),T},{e:void 0,t:void 0}),s})()};De(["click"]);var Jh=k('<div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100">ms'),Qh=k('<div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100">'),Xh=k('<div class="h-full flex flex-col"><div class="flex items-center justify-center p-4 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"><div class="flex items-center gap-4"><button class="inline-flex items-center px-2 py-1 border border-gray-300 dark:border-gray-600 text-xs font-medium rounded text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors duration-200"></button><span class="text-sm font-medium text-gray-900 dark:text-gray-100 min-w-16 text-center">%</span><button class="inline-flex items-center px-2 py-1 border border-gray-300 dark:border-gray-600 text-xs font-medium rounded text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors duration-200">+</button><button class="inline-flex items-center px-2 py-1 border border-gray-300 dark:border-gray-600 text-xs font-medium rounded text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors duration-200"></button></div></div><div class="flex-1 flex"><div class="flex-1 bg-white dark:bg-gray-900"><svg class="w-full h-96 border border-gray-200 dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-gray-800"width=100% height=400 viewBox="0 0 800 400"><g><defs><pattern id=grid width=20 height=20 patternUnits=userSpaceOnUse><path d="M 20 0 L 0 0 0 20"fill=none stroke=#e0e0e0 stroke-width=1></path></pattern></defs><rect width=800 height=400 fill=url(#grid)></rect></g></svg></div><div class="w-80 bg-white dark:bg-gray-800 border-l border-gray-200 dark:border-gray-700 overflow-y-auto"><div class=p-4><h4 class="text-lg font-medium text-gray-900 dark:text-gray-100 mb-4"></h4><div class="grid grid-cols-2 gap-3 mb-6"><div class="bg-gray-50 dark:bg-gray-700 p-3 rounded text-center"><div class="text-2xl font-bold text-green-600 dark:text-green-400"></div><div class="text-xs text-gray-600 dark:text-gray-400 mt-1"></div></div><div class="bg-gray-50 dark:bg-gray-700 p-3 rounded text-center"><div class="text-2xl font-bold text-gray-900 dark:text-gray-100"></div><div class="text-xs text-gray-600 dark:text-gray-400 mt-1"></div></div><div class="bg-gray-50 dark:bg-gray-700 p-3 rounded text-center"><div class="text-2xl font-bold text-gray-900 dark:text-gray-100"></div><div class="text-xs text-gray-600 dark:text-gray-400 mt-1"></div></div><div class="bg-gray-50 dark:bg-gray-700 p-3 rounded text-center"><div class="text-2xl font-bold text-red-600 dark:text-red-400">%</div><div class="text-xs text-gray-600 dark:text-gray-400 mt-1"></div></div></div><div class=space-y-3><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100"></span></div><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100">'),Zh=k('<svg><g class=sheet-group><rect fill="rgba(200, 200, 200, 0.3)"stroke=#e5e7eb stroke-width=2></rect><text font-size=12 fill=#6b7280> </svg>',!1,!0,!1),Yh=k('<svg><g class=part-group><rect fill="rgba(59, 130, 246, 0.7)"stroke=#3b82f6 stroke-width=1></svg>',!1,!0,!1);const em=t=>{const[e]=Te("nesting"),[r,s]=ae(1),[i,n]=ae({x:0,y:0}),[o,a]=ae(!1),[d,c]=ae({x:0,y:0}),u=fe(()=>t.result.sheets?.reduce(($,N)=>$+N.width*N.height,0)||0),g=fe(()=>t.result.placedParts||0),p=fe(()=>{const $=u(),N=g();return $===0?0:($-N)/$*100}),f=()=>{s($=>Math.min($*1.2,5))},h=()=>{s($=>Math.max($/1.2,.1))},m=()=>{s(1),n({x:0,y:0})},_=$=>{a(!0),c({x:$.clientX-i().x,y:$.clientY-i().y})},v=$=>{if(!o())return;const N={x:$.clientX-d().x,y:$.clientY-d().y};n(N)},S=()=>{a(!1)},O=fe(()=>{const $=r(),N=i();return`translate(${N.x}, ${N.y}) scale(${$})`});return(()=>{var $=Xh(),N=$.firstChild,q=N.firstChild,T=q.firstChild,V=T.nextSibling,y=V.firstChild,x=V.nextSibling,A=x.nextSibling,P=N.nextSibling,j=P.firstChild,M=j.firstChild,D=M.firstChild,U=D.firstChild;U.nextSibling;var J=j.nextSibling,Z=J.firstChild,G=Z.firstChild,K=G.nextSibling,I=K.firstChild,re=I.firstChild,de=re.nextSibling,se=I.nextSibling,B=se.firstChild,F=B.nextSibling,H=se.nextSibling,Y=H.firstChild,pe=Y.nextSibling,he=H.nextSibling,xe=he.firstChild,we=xe.firstChild,be=xe.nextSibling,_e=K.nextSibling,Ae=_e.firstChild,Se=Ae.firstChild,Fe=Se.firstChild,Ce=Se.nextSibling,Ee=Ae.nextSibling,Pe=Ee.firstChild,te=Pe.firstChild,me=Pe.nextSibling;return T.$$click=h,l(V,()=>Math.round(r()*100),y),x.$$click=f,A.$$click=m,M.addEventListener("mouseleave",S),M.$$mouseup=S,M.$$mousemove=v,M.$$mousedown=_,l(D,w(ze,{get each(){return t.result.sheets||[]},children:(R,Q)=>(()=>{var W=Zh(),z=W.firstChild,ie=z.nextSibling,ye=ie.firstChild;return l(ie,()=>e("sheet"),ye),l(ie,()=>Q()+1,null),C(ce=>{var Ne=R.x||0,Ie=R.y||0,Ge=R.width,Be=R.height,Ve=(R.x||0)+10,He=(R.y||0)+25;return Ne!==ce.e&&ne(z,"x",ce.e=Ne),Ie!==ce.t&&ne(z,"y",ce.t=Ie),Ge!==ce.a&&ne(z,"width",ce.a=Ge),Be!==ce.o&&ne(z,"height",ce.o=Be),Ve!==ce.i&&ne(ie,"x",ce.i=Ve),He!==ce.n&&ne(ie,"y",ce.n=He),ce},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),W})()}),null),l(D,w(ze,{get each(){return t.result.placements||[]},children:R=>(()=>{var Q=Yh(),W=Q.firstChild;return C(z=>{var ie=R.x,ye=R.y,ce=R.width||50,Ne=R.height||50,Ie=`rotate(${R.rotation||0} ${R.x+(R.width||50)/2} ${R.y+(R.height||50)/2})`;return ie!==z.e&&ne(W,"x",z.e=ie),ye!==z.t&&ne(W,"y",z.t=ye),ce!==z.a&&ne(W,"width",z.a=ce),Ne!==z.o&&ne(W,"height",z.o=Ne),Ie!==z.i&&ne(W,"transform",z.i=Ie),z},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),Q})()}),null),l(G,()=>e("statistics")),l(re,(()=>{var R=Re(()=>!!t.result.efficiency);return()=>R()?`${(t.result.efficiency*100).toFixed(1)}%`:"N/A"})()),l(de,()=>e("material_efficiency")),l(B,()=>t.result.fitness?.toFixed(2)||"N/A"),l(F,()=>e("fitness_score")),l(Y,()=>t.result.sheets?.length||0),l(pe,()=>e("sheets_used")),l(xe,()=>p().toFixed(1),we),l(be,()=>e("material_waste")),l(Se,()=>e("total_parts_placed"),Fe),l(Ce,()=>t.result.placedParts||0),l(Pe,()=>e("total_material_used"),te),l(me,()=>u().toFixed(2)),l(_e,w(oe,{get when(){return t.result.generationTime},get children(){var R=Jh(),Q=R.firstChild,W=Q.firstChild,z=Q.nextSibling,ie=z.firstChild;return l(Q,()=>e("generation_time"),W),l(z,()=>t.result.generationTime,ie),R}}),null),l(_e,w(oe,{get when(){return t.result.generation},get children(){var R=Qh(),Q=R.firstChild,W=Q.firstChild,z=Q.nextSibling;return l(Q,()=>e("generation_number"),W),l(z,()=>t.result.generation),R}}),null),C(R=>{var Q=e("zoom_out"),W=e("zoom_in"),z=e("reset_view"),ie=o()?"grabbing":"grab",ye=O();return Q!==R.e&&ne(T,"title",R.e=Q),W!==R.t&&ne(x,"title",R.t=W),z!==R.a&&ne(A,"title",R.a=z),ie!==R.o&&((R.o=ie)!=null?M.style.setProperty("cursor",ie):M.style.removeProperty("cursor")),ye!==R.i&&ne(D,"transform",R.i=ye),R},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),$})()};De(["click","mousedown","mousemove","mouseup"]);var tm=k('<div class="h-full flex flex-col"><div class="flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"><button class="inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors duration-200"> </button><h3 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h3><div class="flex gap-2"><button class="inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors duration-200"> '),rm=k('<div class="flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"><h3 class="text-lg font-medium text-gray-900 dark:text-gray-100"> (<!>)</h3><div class="text-sm text-gray-600 dark:text-gray-400"><label>'),sm=k('<div class="flex-1 overflow-y-auto p-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">'),im=k('<div class="h-full flex flex-col">'),nm=k('<span class="text-xs bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 px-2 py-1 rounded-full">'),am=k('<div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100">'),om=k('<div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-lg transition-shadow duration-200"><div class="h-32 bg-gray-50 dark:bg-gray-700 flex items-center justify-center cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors"><div class=text-center><div class="text-2xl mb-1"></div><div class="text-sm text-gray-600 dark:text-gray-400"></div></div></div><div class=p-4><div class="flex items-center justify-between mb-3"><h4 class="font-medium text-gray-900 dark:text-gray-100"> #</h4></div><div class="space-y-2 mb-4"><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-green-600 dark:text-green-400"></span></div><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100"></span></div><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100"></span></div></div><div class="flex justify-between items-center pt-2 border-t border-gray-200 dark:border-gray-700"><button class="text-blue-600 dark:text-blue-400 hover:underline text-sm"></button><div class="flex gap-2"><button class="text-blue-600 dark:text-blue-400 hover:underline text-sm"></button><button class="text-red-600 dark:text-red-400 hover:underline text-sm">');const lm=()=>{const[t]=Te("nesting"),[e,r]=ae(null),[s,i]=ae("grid"),n=fe(()=>[...b.app.nests].sort((p,f)=>p.efficiency!==f.efficiency?(f.efficiency||0)-(p.efficiency||0):(f.fitness||0)-(p.fitness||0))),o=p=>{r(p),i("detail")},a=()=>{r(null),i("grid")},d=async p=>{if(le.isAvailable)try{const f=await le.saveFileDialog({title:t("export_result"),defaultPath:`nest_result_${p.id}.svg`,filters:[{name:"SVG Files",extensions:["svg"]},{name:"DXF Files",extensions:["dxf"]},{name:"All Files",extensions:["*"]}]});if(f.canceled||!f.filePath)return;await le.exportNestResult(p,f.filePath)}catch(f){console.error("Failed to export result:",f),L.setError(t("export_failed"))}},c=p=>{const f=b.app.nests.filter(h=>h.id!==p.id);L.setNests(f)},u=p=>p?`${(p*100).toFixed(1)}%`:"N/A",g=p=>p?p.toFixed(2):"N/A";return(()=>{var p=im();return l(p,w(oe,{get when(){return Re(()=>s()==="detail")()&&e()},get children(){var f=tm(),h=f.firstChild,m=h.firstChild;m.firstChild;var _=m.nextSibling,v=_.nextSibling,S=v.firstChild;return S.firstChild,m.$$click=a,l(m,()=>t("back_to_results"),null),l(_,()=>t("result_details")),S.$$click=()=>d(e()),l(S,()=>t("export"),null),l(f,w(em,{get result(){return e()}}),null),f}}),null),l(p,w(oe,{get when(){return s()==="grid"},get children(){return[(()=>{var f=rm(),h=f.firstChild,m=h.firstChild,_=m.nextSibling;_.nextSibling;var v=h.nextSibling,S=v.firstChild;return l(h,()=>t("nesting_results"),m),l(h,()=>n().length,_),l(S,()=>t("sorted_by_efficiency")),f})(),(()=>{var f=sm();return l(f,w(ze,{get each(){return n()},children:(h,m)=>(()=>{var _=om(),v=_.firstChild,S=v.firstChild,O=S.firstChild,$=O.nextSibling,N=v.nextSibling,q=N.firstChild,T=q.firstChild,V=T.firstChild,y=q.nextSibling,x=y.firstChild,A=x.firstChild,P=A.firstChild,j=A.nextSibling,M=x.nextSibling,D=M.firstChild,U=D.firstChild,J=D.nextSibling,Z=M.nextSibling,G=Z.firstChild,K=G.firstChild,I=G.nextSibling,re=y.nextSibling,de=re.firstChild,se=de.nextSibling,B=se.firstChild,F=B.nextSibling;return v.$$click=()=>o(h),l($,()=>t("click_to_view")),l(T,()=>t("result"),V),l(T,()=>m()+1,null),l(q,w(oe,{get when(){return m()===0},get children(){var H=nm();return l(H,()=>t("best")),H}}),null),l(A,()=>t("efficiency"),P),l(j,()=>u(h.efficiency)),l(D,()=>t("fitness"),U),l(J,()=>g(h.fitness)),l(G,()=>t("sheets_used"),K),l(I,()=>h.sheets?.length||0),l(y,w(oe,{get when(){return h.placedParts},get children(){var H=am(),Y=H.firstChild,pe=Y.firstChild,he=Y.nextSibling;return l(Y,()=>t("parts_placed"),pe),l(he,()=>h.placedParts),H}}),null),de.$$click=()=>o(h),l(de,()=>t("view_details")),B.$$click=()=>d(h),l(B,()=>t("export")),F.$$click=()=>c(h),l(F,()=>t("delete")),_})()})),f})()]}}),null),p})()};De(["click"]);var dm=k('<button class="inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors duration-200"> '),cm=k('<div class="h-full flex flex-col"><div class="flex items-center justify-between p-5 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"><h2 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h2><div class="flex gap-2"><button class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200"> </button><button class="inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200"> </button></div></div><div class="flex items-center justify-between p-4 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700"><div class="flex gap-6"><div class="flex items-center gap-2"><span class="text-sm text-gray-600 dark:text-gray-400">:</span><span class="text-sm font-medium text-gray-900 dark:text-gray-100"></span></div><div class="flex items-center gap-2"><span class="text-sm text-gray-600 dark:text-gray-400">:</span><span class="text-sm font-medium text-gray-900 dark:text-gray-100"></span></div><div class="flex items-center gap-2"><span class="text-sm text-gray-600 dark:text-gray-400">:</span><span class="text-sm font-medium text-gray-900 dark:text-gray-100"></span></div></div></div><div class="flex-1 overflow-hidden">'),gm=k('<p class="text-amber-600 dark:text-amber-400">'),um=k('<div class="h-full flex flex-col items-center justify-center text-center gap-4 p-8"><div class="text-6xl opacity-30"></div><h3 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h3><p class="text-gray-600 dark:text-gray-400">');const fm=()=>{const[t]=Te("nesting"),e=fe(()=>b.app.parts.length>0&&b.app.sheets.length>0&&!b.process.isNesting),r=fe(()=>b.app.nests.length>0),s=async()=>{if(e())try{L.setNestingStatus(!0),L.setNestingProgress(0),L.setError(null);const a={parts:b.app.parts.filter(d=>d.quantity>0),sheets:b.app.sheets,config:b.config};await le.startNesting(a)}catch(a){console.error("Failed to start nesting:",a),L.setError(t("start_nesting_failed")),L.setNestingStatus(!1)}},i=async()=>{if(b.process.isNesting)try{await le.stopNesting(),L.setNestingStatus(!1)}catch(a){console.error("Failed to stop nesting:",a),L.setError(t("stop_nesting_failed"))}},n=()=>{L.setNests([])},o=fe(()=>b.app.parts.filter(a=>a.quantity>0).length);return(()=>{var a=cm(),d=a.firstChild,c=d.firstChild,u=c.nextSibling,g=u.firstChild;g.firstChild;var p=g.nextSibling;p.firstChild;var f=d.nextSibling,h=f.firstChild,m=h.firstChild,_=m.firstChild,v=_.firstChild,S=_.nextSibling,O=m.nextSibling,$=O.firstChild,N=$.firstChild,q=$.nextSibling,T=O.nextSibling,V=T.firstChild,y=V.firstChild,x=V.nextSibling,A=f.nextSibling;return l(c,()=>t("nesting_title")),g.$$click=s,l(g,()=>t("start_nesting"),null),p.$$click=i,l(p,()=>t("stop_nesting"),null),l(u,w(oe,{get when(){return r()&&!b.process.isNesting},get children(){var P=dm();return P.firstChild,P.$$click=n,l(P,()=>t("clear_results"),null),C(()=>ne(P,"title",t("clear_results"))),P}}),null),l(_,()=>t("parts_to_nest"),v),l(S,o),l($,()=>t("available_sheets"),N),l(q,()=>b.app.sheets.length),l(V,()=>t("results_count"),y),l(x,()=>b.app.nests.length),l(A,w(oe,{get when(){return b.process.isNesting},get children(){return w(Gh,{})}}),null),l(A,w(oe,{get when(){return r()},get fallback(){return(()=>{var P=um(),j=P.firstChild,M=j.nextSibling,D=M.nextSibling;return l(M,()=>t("no_nesting_results")),l(D,()=>t("start_nesting_to_see_results")),l(P,w(oe,{get when(){return!e()},get children(){var U=gm();return l(U,()=>t("add_parts_and_sheets_first")),U}}),null),P})()},get children(){return w(lm,{})}}),null),C(P=>{var j=!e(),M=e()?t("start_nesting"):t("cannot_start_nesting"),D=!b.process.isNesting,U=t("stop_nesting");return j!==P.e&&(g.disabled=P.e=j),M!==P.t&&ne(g,"title",P.t=M),D!==P.a&&(p.disabled=P.a=D),U!==P.o&&ne(p,"title",P.o=U),P},{e:void 0,t:void 0,a:void 0,o:void 0}),a})()};De(["click"]);var $t=k('<span class="text-red-500 dark:text-red-400 text-xs mt-1 block">'),pm=k('<div class="text-sm text-gray-600 dark:text-gray-400">: <!> mm'),hm=k('<div class="p-6 overflow-y-auto max-h-[calc(90vh-120px)]"><div class=space-y-6><div class=space-y-4><h4 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h4><div class=space-y-2><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"for=sheet-name>:</label><input id=sheet-name type=text class="block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"></div><div class=space-y-2><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"for=material>:</label><select id=material class="block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"></select></div></div><div class=space-y-4><h4 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h4><div class="grid grid-cols-3 gap-2 mb-4"></div><div class="flex items-end gap-2"><div class=flex-1><label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"for=width> (mm):</label><input id=width type=number min=1 step=0.1></div><button type=button class="px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition-colors duration-200 mb-1"></button><div class=flex-1><label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"for=height> (mm):</label><input id=height type=number min=1 step=0.1></div></div><div class="text-sm text-gray-600 dark:text-gray-400 mt-2">: <!> mm</div></div><div class=space-y-4><h4 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h4><div class="grid grid-cols-3 gap-4"><div class=space-y-2><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"for=thickness> (mm):</label><input id=thickness type=number min=0.1 step=0.1></div><div class=space-y-2><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"for=quantity>:</label><input id=quantity type=number min=1></div><div class=space-y-2><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"for=margin> (mm):</label><input id=margin type=number min=0 step=0.1></div></div></div><div class=space-y-4><h4 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h4><div class="flex items-center gap-6"><div class=flex-shrink-0><div class="bg-white dark:bg-gray-600 border-2 border-gray-300 dark:border-gray-500 rounded shadow-sm relative"><div class="absolute border border-dashed border-gray-400 dark:border-gray-400 rounded-sm"></div></div></div><div class=space-y-2><div class="text-sm text-gray-900 dark:text-gray-100">  <!> mm</div><div class="text-sm text-gray-600 dark:text-gray-400">: <!> mm'),mm=k('<div class="flex items-center justify-end gap-3 p-6 border-t border-gray-200 dark:border-gray-700"><button type=button class="px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition-colors duration-200"></button><button type=button class="px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition-colors duration-200">'),bm=k("<option>"),_m=k('<button type=button class="px-2 py-1 text-xs font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded hover:bg-gray-200 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition-colors duration-200">');const xm=t=>{const[e]=Te("sheets"),[r,s]=ae(""),[i,n]=ae(200),[o,a]=ae(200),[d,c]=ae(3),[u,g]=ae(1),[p,f]=ae(5),[h,m]=ae("Generic"),[_,v]=ae({}),S=["Generic","Wood - Plywood","Wood - MDF","Wood - Hardwood","Metal - Aluminum","Metal - Steel","Metal - Brass","Plastic - Acrylic","Plastic - ABS","Cardboard","Fabric","Leather","Paper"],O=[{name:"A4",width:210,height:297},{name:"A3",width:297,height:420},{name:"A2",width:420,height:594},{name:"A1",width:594,height:841},{name:"Letter",width:216,height:279},{name:"Legal",width:216,height:356},{name:'1212"',width:305,height:305},{name:'2424"',width:610,height:610},{name:'4824"',width:1219,height:610}];Qt(()=>{const y=t.sheet;y?(s(y.name||""),n(y.width),a(y.height),c(y.thickness||3),g(y.quantity||1),f(y.margin||5),m(y.material||"Generic")):(s(""),n(200),a(200),c(3),g(1),f(5),m("Generic")),v({})});const $=()=>{const y={};return i()<=0&&(y.width=e("width_must_be_positive")),o()<=0&&(y.height=e("height_must_be_positive")),d()<=0&&(y.thickness=e("thickness_must_be_positive")),u()<=0&&(y.quantity=e("quantity_must_be_positive")),p()<0&&(y.margin=e("margin_cannot_be_negative")),v(y),Object.keys(y).length===0},N=()=>{if(!$())return;const y={id:t.sheet?.id||`sheet_${Date.now()}`,name:r().trim()||`Sheet ${Date.now()}`,width:i(),height:o(),thickness:d(),quantity:u(),margin:p(),material:h()};t.onSave(y)},q=y=>{n(y.width),a(y.height),r().trim()||s(y.name)},T=()=>{const y=i();n(o()),a(y)},V=()=>(i()*o()).toFixed(0);return[(()=>{var y=hm(),x=y.firstChild,A=x.firstChild,P=A.firstChild,j=P.nextSibling,M=j.firstChild,D=M.firstChild,U=M.nextSibling,J=j.nextSibling,Z=J.firstChild,G=Z.firstChild,K=Z.nextSibling,I=A.nextSibling,re=I.firstChild,de=re.nextSibling,se=de.nextSibling,B=se.firstChild,F=B.firstChild,H=F.firstChild,Y=F.nextSibling,pe=B.nextSibling,he=pe.nextSibling,xe=he.firstChild,we=xe.firstChild,be=xe.nextSibling,_e=se.nextSibling,Ae=_e.firstChild,Se=Ae.nextSibling;Se.nextSibling;var Fe=I.nextSibling,Ce=Fe.firstChild,Ee=Ce.nextSibling,Pe=Ee.firstChild,te=Pe.firstChild,me=te.firstChild,R=te.nextSibling,Q=Pe.nextSibling,W=Q.firstChild,z=W.firstChild,ie=W.nextSibling,ye=Q.nextSibling,ce=ye.firstChild,Ne=ce.firstChild,Ie=ce.nextSibling,Ge=Fe.nextSibling,Be=Ge.firstChild,Ve=Be.nextSibling,He=Ve.firstChild,qe=He.firstChild,ee=qe.firstChild,ve=He.nextSibling,Je=ve.firstChild,it=Je.firstChild,nt=it.nextSibling;nt.nextSibling;var Xe=Je.nextSibling,at=Xe.firstChild,Ze=at.nextSibling;return Ze.nextSibling,l(P,()=>e("basic_information")),l(M,()=>e("sheet_name"),D),U.$$input=E=>s(E.currentTarget.value),l(Z,()=>e("material"),G),K.addEventListener("change",E=>m(E.currentTarget.value)),l(K,w(ze,{each:S,children:E=>(()=>{var Oe=bm();return Oe.value=E,l(Oe,E),Oe})()})),l(re,()=>e("dimensions")),l(de,w(ze,{each:O,children:E=>(()=>{var Oe=_m();return Oe.$$click=()=>q(E),l(Oe,()=>E.name),C(()=>ne(Oe,"title",`${E.width}  ${E.height} mm`)),Oe})()})),l(F,()=>e("width"),H),Y.$$input=E=>n(parseFloat(E.currentTarget.value)||0),l(B,w(oe,{get when(){return _().width},get children(){var E=$t();return l(E,()=>_().width),E}}),null),pe.$$click=T,l(xe,()=>e("height"),we),be.$$input=E=>a(parseFloat(E.currentTarget.value)||0),l(he,w(oe,{get when(){return _().height},get children(){var E=$t();return l(E,()=>_().height),E}}),null),l(_e,()=>e("area"),Ae),l(_e,V,Se),l(Ce,()=>e("properties")),l(te,()=>e("thickness"),me),R.$$input=E=>c(parseFloat(E.currentTarget.value)||0),l(Pe,w(oe,{get when(){return _().thickness},get children(){var E=$t();return l(E,()=>_().thickness),E}}),null),l(W,()=>e("quantity"),z),ie.$$input=E=>g(parseInt(E.currentTarget.value)||0),l(Q,w(oe,{get when(){return _().quantity},get children(){var E=$t();return l(E,()=>_().quantity),E}}),null),l(ce,()=>e("margin"),Ne),Ie.$$input=E=>f(parseFloat(E.currentTarget.value)||0),l(ye,w(oe,{get when(){return _().margin},get children(){var E=$t();return l(E,()=>_().margin),E}}),null),l(Be,()=>e("preview")),qe.style.setProperty("width","120px"),qe.style.setProperty("max-height","120px"),l(Je,i,it),l(Je,o,nt),l(Xe,()=>e("area"),at),l(Xe,V,Ze),l(ve,w(oe,{get when(){return p()>0},get children(){var E=pm(),Oe=E.firstChild,Ue=Oe.nextSibling;return Ue.nextSibling,l(E,()=>e("margin"),Oe),l(E,p,Ue),E}}),null),C(E=>{var Oe=e("enter_sheet_name"),Ue=`block w-full px-3 py-2 border rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 ${_().width?"border-red-500":"border-gray-300 dark:border-gray-600"}`,Ke=e("swap_dimensions"),Ye=`block w-full px-3 py-2 border rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 ${_().height?"border-red-500":"border-gray-300 dark:border-gray-600"}`,et=`block w-full px-3 py-2 border rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 ${_().thickness?"border-red-500":"border-gray-300 dark:border-gray-600"}`,Et=`block w-full px-3 py-2 border rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 ${_().quantity?"border-red-500":"border-gray-300 dark:border-gray-600"}`,bt=`block w-full px-3 py-2 border rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 ${_().margin?"border-red-500":"border-gray-300 dark:border-gray-600"}`,lt=`${i()} / ${o()}`,_t=`${Math.max(p()/Math.max(i(),o())*100,2)}%`,dt=`${Math.max(p()/Math.max(i(),o())*100,2)}%`,xt=`${Math.max(p()/Math.max(i(),o())*100,2)}%`,yt=`${Math.max(p()/Math.max(i(),o())*100,2)}%`;return Oe!==E.e&&ne(U,"placeholder",E.e=Oe),Ue!==E.t&&ke(Y,E.t=Ue),Ke!==E.a&&ne(pe,"title",E.a=Ke),Ye!==E.o&&ke(be,E.o=Ye),et!==E.i&&ke(R,E.i=et),Et!==E.n&&ke(ie,E.n=Et),bt!==E.s&&ke(Ie,E.s=bt),lt!==E.h&&((E.h=lt)!=null?qe.style.setProperty("aspect-ratio",lt):qe.style.removeProperty("aspect-ratio")),_t!==E.r&&((E.r=_t)!=null?ee.style.setProperty("top",_t):ee.style.removeProperty("top")),dt!==E.d&&((E.d=dt)!=null?ee.style.setProperty("left",dt):ee.style.removeProperty("left")),xt!==E.l&&((E.l=xt)!=null?ee.style.setProperty("right",xt):ee.style.removeProperty("right")),yt!==E.u&&((E.u=yt)!=null?ee.style.setProperty("bottom",yt):ee.style.removeProperty("bottom")),E},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0}),C(()=>U.value=r()),C(()=>K.value=h()),C(()=>Y.value=i()),C(()=>be.value=o()),C(()=>R.value=d()),C(()=>ie.value=u()),C(()=>Ie.value=p()),y})(),(()=>{var y=mm(),x=y.firstChild,A=x.nextSibling;return ws(x,"click",t.onCancel),l(x,()=>e("cancel")),A.$$click=N,l(A,(()=>{var P=Re(()=>!!t.sheet);return()=>P()?e("update_sheet"):e("add_sheet")})()),y})()]};De(["input","click"]);var ym=k('<div class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"><div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden"><div class="flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700"><h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100"></h3><button class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 text-2xl leading-none">'),vm=k('<div class="h-full flex flex-col"><div class="p-4 border-b border-gray-200 dark:border-gray-700"><h3 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h3></div><div class="flex-1 overflow-y-auto p-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">'),$m=k('<div class="h-full flex flex-col"><div class="flex items-center justify-between p-5 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"><h2 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h2><div class="flex gap-2"><button class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200"> </button></div></div><div class="flex items-center justify-between p-4 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700"><div class="flex gap-6"><div class="flex items-center gap-2"><span class="text-sm text-gray-600 dark:text-gray-400">:</span><span class="text-sm font-medium text-gray-900 dark:text-gray-100"></span></div><div class="flex items-center gap-2"><span class="text-sm text-gray-600 dark:text-gray-400">:</span><span class="text-sm font-medium text-gray-900 dark:text-gray-100"> mm</span></div></div></div><div class="flex-1 overflow-hidden">'),km=k('<div class="h-full flex flex-col items-center justify-center text-center gap-6 p-8"><div class="text-6xl opacity-30"></div><div><h3 class="text-lg font-medium text-gray-900 dark:text-gray-100 mb-2"></h3><p class="text-gray-600 dark:text-gray-400"></p></div><div class="w-full max-w-2xl"><h4 class="text-md font-medium text-gray-900 dark:text-gray-100 mb-4"></h4><div class="grid grid-cols-3 gap-3">'),wm=k('<button class="bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-3 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-center"><div class="font-medium text-gray-900 dark:text-gray-100 mb-1"></div><div class="text-sm text-gray-600 dark:text-gray-400">  '),Sm=k('<div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100"> mm'),Cm=k('<div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-lg transition-shadow duration-200"><div class="h-32 bg-gray-50 dark:bg-gray-700 flex items-center justify-center p-4"><div class=relative><div class="bg-white dark:bg-gray-600 border-2 border-gray-300 dark:border-gray-500 rounded shadow-sm"><div class="absolute inset-1 border border-dashed border-gray-400 dark:border-gray-400 rounded-sm"></div></div></div></div><div class=p-4><div class="font-medium text-gray-900 dark:text-gray-100 mb-3"></div><div class="space-y-2 mb-4"><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100"></span></div><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100"></span></div><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100"></span></div></div><div class="flex justify-between items-center pt-2 border-t border-gray-200 dark:border-gray-700"><button class="text-blue-600 dark:text-blue-400 hover:underline text-sm"></button><button class="text-red-600 dark:text-red-400 hover:underline text-sm">');const Pm=()=>{const[t]=Te("sheets"),[e,r]=ae(!1),[s,i]=ae(null),n=fe(()=>b.app.sheets.length),o=fe(()=>b.app.sheets.reduce((m,_)=>m+_.width*_.height,0)),a=[{name:"A4",width:210,height:297,units:"mm"},{name:"A3",width:297,height:420,units:"mm"},{name:"A2",width:420,height:594,units:"mm"},{name:"A1",width:594,height:841,units:"mm"},{name:"Letter",width:216,height:279,units:"mm"},{name:"Legal",width:216,height:356,units:"mm"},{name:'12x12"',width:305,height:305,units:"mm"},{name:'24x24"',width:610,height:610,units:"mm"},{name:'48x24"',width:1219,height:610,units:"mm"}],d=()=>{i(null),r(!0)},c=m=>{i(m),r(!0)},u=m=>{const _=b.app.sheets.filter(v=>v.id!==m);L.setSheets(_)},g=m=>{s()?L.updateSheet(m.id,m):L.addSheet(m),r(!1),i(null)},p=()=>{r(!1),i(null)},f=m=>{const _={name:m.name,width:m.width,height:m.height,thickness:3,quantity:1,margin:5,material:"Generic"};L.addSheet(_)},h=m=>`${m.width}  ${m.height} mm`;return(()=>{var m=$m(),_=m.firstChild,v=_.firstChild,S=v.nextSibling,O=S.firstChild;O.firstChild;var $=_.nextSibling,N=$.firstChild,q=N.firstChild,T=q.firstChild,V=T.firstChild,y=T.nextSibling,x=q.nextSibling,A=x.firstChild,P=A.firstChild,j=A.nextSibling,M=j.firstChild,D=$.nextSibling;return l(v,()=>t("sheets_title")),O.$$click=d,l(O,()=>t("add_sheet"),null),l(T,()=>t("total_sheets"),V),l(y,n),l(A,()=>t("total_area"),P),l(j,()=>o().toFixed(0),M),l(m,w(oe,{get when(){return e()},get children(){var U=ym(),J=U.firstChild,Z=J.firstChild,G=Z.firstChild,K=G.nextSibling;return l(G,(()=>{var I=Re(()=>!!s());return()=>I()?t("edit_sheet"):t("add_new_sheet")})()),K.$$click=p,l(J,w(xm,{get sheet(){return s()},onSave:g,onCancel:p}),null),U}}),D),l(D,w(oe,{get when(){return n()>0},get fallback(){return(()=>{var U=km(),J=U.firstChild,Z=J.nextSibling,G=Z.firstChild,K=G.nextSibling,I=Z.nextSibling,re=I.firstChild,de=re.nextSibling;return l(G,()=>t("no_sheets_loaded")),l(K,()=>t("add_sheets_to_get_started")),l(re,()=>t("quick_templates")),l(de,w(ze,{each:a,children:se=>(()=>{var B=wm(),F=B.firstChild,H=F.nextSibling,Y=H.firstChild;return B.$$click=()=>f(se),l(F,()=>se.name),l(H,()=>se.width,Y),l(H,()=>se.height,null),C(()=>ne(B,"title",`${se.width}  ${se.height} ${se.units}`)),B})()})),U})()},get children(){var U=vm(),J=U.firstChild,Z=J.firstChild,G=J.nextSibling;return l(Z,()=>t("configured_sheets")),l(G,w(ze,{get each(){return b.app.sheets},children:(K,I)=>(()=>{var re=Cm(),de=re.firstChild,se=de.firstChild,B=se.firstChild,F=de.nextSibling,H=F.firstChild,Y=H.nextSibling,pe=Y.firstChild,he=pe.firstChild,xe=he.firstChild,we=he.nextSibling,be=pe.nextSibling,_e=be.firstChild,Ae=_e.firstChild,Se=_e.nextSibling,Fe=be.nextSibling,Ce=Fe.firstChild,Ee=Ce.firstChild,Pe=Ce.nextSibling,te=Y.nextSibling,me=te.firstChild,R=me.nextSibling;return B.style.setProperty("max-width","80px"),B.style.setProperty("max-height","80px"),B.style.setProperty("min-width","40px"),B.style.setProperty("min-height","40px"),l(H,()=>K.name||`${t("sheet")} ${I()+1}`),l(he,()=>t("dimensions"),xe),l(we,()=>h(K)),l(_e,()=>t("quantity"),Ae),l(Se,()=>K.quantity),l(Ce,()=>t("material"),Ee),l(Pe,()=>K.material||"Generic"),l(Y,w(oe,{get when(){return K.margin},get children(){var Q=Sm(),W=Q.firstChild,z=W.firstChild,ie=W.nextSibling,ye=ie.firstChild;return l(W,()=>t("margin"),z),l(ie,()=>K.margin,ye),Q}}),null),me.$$click=()=>c(K),l(me,()=>t("edit")),R.$$click=()=>u(K.id),l(R,()=>t("delete")),C(Q=>(Q=`${K.width} / ${K.height}`)!=null?B.style.setProperty("aspect-ratio",Q):B.style.removeProperty("aspect-ratio")),re})()})),U}})),C(()=>ne(O,"title",t("add_sheet"))),m})()};De(["click"]);var Lm=k('<div class="bg-gray-50 dark:bg-gray-700/50 rounded-lg p-6 space-y-4"><h4 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h4><div class=space-y-3><label for=preset-name class="block text-sm font-medium text-gray-700 dark:text-gray-300"></label><input id=preset-name type=text class="block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"></div><div class=space-y-3><label for=preset-description class="block text-sm font-medium text-gray-700 dark:text-gray-300"></label><textarea id=preset-description rows=3 class="block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"></textarea></div><div class="flex gap-3 pt-2"><button class="px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 border border-gray-300 dark:border-gray-600 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"></button><button class="px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed border border-transparent rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800">'),Am=k('<div class="grid gap-4 md:grid-cols-2 lg:grid-cols-3">'),Fm=k('<div class=space-y-6><div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 space-y-6"><div class="flex items-center justify-between pb-4 border-b border-gray-200 dark:border-gray-700"><div class="flex items-center gap-3"><div class="w-8 h-8 bg-violet-100 dark:bg-violet-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-violet-600 dark:text-violet-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg></div><h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100"></h3></div><div class="flex gap-3"><button class="inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 border border-gray-300 dark:border-gray-600 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"></path></svg></button><button class="inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 border border-transparent rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg></button></div></div><p class="text-sm text-gray-500 dark:text-gray-400"></p><div class=space-y-4>'),Em=k('<div class="text-center py-12"><div class="mx-auto w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mb-4"><svg class="w-8 h-8 text-gray-400 dark:text-gray-500"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"></path></svg></div><h4 class="text-lg font-medium text-gray-900 dark:text-gray-100 mb-2"></h4><p class="text-sm text-gray-500 dark:text-gray-400">'),Om=k('<p class="text-sm text-gray-600 dark:text-gray-400 mb-3 line-clamp-2">'),Mm=k('<div class="flex justify-between text-xs text-gray-500 dark:text-gray-400"><span>:</span><span>'),Nm=k('<div><div class=p-4><div class="flex items-center justify-between mb-3"><h4 class="text-base font-medium text-gray-900 dark:text-gray-100 truncate"></h4><div class="flex gap-1"><button class="p-1.5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors duration-200"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg></button><button class="p-1.5 text-gray-400 hover:text-red-600 dark:hover:text-red-400 rounded-md hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors duration-200"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg></button></div></div><div class="space-y-1 mb-4"><div class="flex justify-between text-xs text-gray-500 dark:text-gray-400"><span>:</span><span></span></div></div><button>');const Rm=()=>{const[t]=Te("settings"),[e,r]=ae(!1),[s,i]=ae(""),[n,o]=ae(""),[a,d]=ae(""),c=async()=>{const m=s().trim();if(!m){L.setError(t("preset_name_required"));return}try{const _={id:`preset_${Date.now()}`,name:m,description:n().trim(),config:{...b.config},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};L.addPreset(_),le.isAvailable&&await le.savePreset(_),i(""),o(""),r(!1)}catch(_){console.error("Failed to create preset:",_),L.setError(t("preset_create_failed"))}},u=async m=>{const _=Object.values(b.app.presets||{}).find(v=>v.id===m);if(_)try{L.updateConfig(_.config),le.isAvailable&&await le.saveConfig(_.config),d(m)}catch(v){console.error("Failed to load preset:",v),L.setError(t("preset_load_failed"))}},g=async m=>{const _=Object.values(b.app.presets||{}).find(S=>S.id===m);if(!(!_||!confirm(t("confirm_delete_preset",{name:_.name}))))try{L.removePreset(m),le.isAvailable&&await le.deletePreset(m),a()===m&&d("")}catch(S){console.error("Failed to delete preset:",S),L.setError(t("preset_delete_failed"))}},p=async m=>{const _=Object.values(b.app.presets||{}).find(v=>v.id===m);if(!(!_||!le.isAvailable))try{const v=await le.saveFileDialog({title:t("export_preset"),defaultPath:`${_.name}.json`,filters:[{name:"JSON Files",extensions:["json"]},{name:"All Files",extensions:["*"]}]});if(v.canceled||!v.filePath)return;await le.exportPreset(_,v.filePath)}catch(v){console.error("Failed to export preset:",v),L.setError(t("preset_export_failed"))}},f=async()=>{if(le.isAvailable)try{const m=await le.openFileDialog({title:t("import_preset"),filters:[{name:"JSON Files",extensions:["json"]},{name:"All Files",extensions:["*"]}],properties:["openFile","multiSelections"]});if(m.canceled||!m.filePaths?.length)return;for(const _ of m.filePaths){const v=await le.importPreset(_);L.addPreset({...v,id:`preset_${Date.now()}_${Math.random()}`,updatedAt:new Date().toISOString()})}}catch(m){console.error("Failed to import preset:",m),L.setError(t("preset_import_failed"))}},h=m=>new Date(m).toLocaleDateString();return(()=>{var m=Fm(),_=m.firstChild,v=_.firstChild,S=v.firstChild,O=S.firstChild,$=O.nextSibling,N=S.nextSibling,q=N.firstChild;q.firstChild;var T=q.nextSibling;T.firstChild;var V=v.nextSibling,y=V.nextSibling;return l($,()=>t("preset_management")),q.$$click=f,l(q,()=>t("import"),null),T.$$click=()=>r(!0),l(T,()=>t("create_preset"),null),l(V,()=>t("preset_description")),l(_,w(oe,{get when(){return e()},get children(){var x=Lm(),A=x.firstChild,P=A.nextSibling,j=P.firstChild,M=j.nextSibling,D=P.nextSibling,U=D.firstChild,J=U.nextSibling,Z=D.nextSibling,G=Z.firstChild,K=G.nextSibling;return l(A,()=>t("create_new_preset")),l(j,()=>t("preset_name")),M.$$input=I=>i(I.currentTarget.value),l(U,()=>t("preset_description_optional")),J.$$input=I=>o(I.currentTarget.value),G.$$click=()=>{r(!1),i(""),o("")},l(G,()=>t("cancel")),K.$$click=c,l(K,()=>t("create_preset")),C(I=>{var re=t("enter_preset_name"),de=t("enter_preset_description"),se=!s().trim();return re!==I.e&&ne(M,"placeholder",I.e=re),de!==I.t&&ne(J,"placeholder",I.t=de),se!==I.a&&(K.disabled=I.a=se),I},{e:void 0,t:void 0,a:void 0}),C(()=>M.value=s()),C(()=>J.value=n()),x}}),y),l(y,w(oe,{get when(){return Re(()=>!!b.app.presets)()&&Object.keys(b.app.presets).length>0},get fallback(){return(()=>{var x=Em(),A=x.firstChild,P=A.nextSibling,j=P.nextSibling;return l(P,()=>t("no_presets_available")),l(j,()=>t("create_preset_to_get_started")),x})()},get children(){var x=Am();return l(x,w(ze,{get each(){return Object.values(b.app.presets||{})},children:A=>(()=>{var P=Nm(),j=P.firstChild,M=j.firstChild,D=M.firstChild,U=D.nextSibling,J=U.firstChild,Z=J.nextSibling,G=M.nextSibling,K=G.firstChild,I=K.firstChild,re=I.firstChild,de=I.nextSibling,se=G.nextSibling;return l(D,()=>A.name),J.$$click=()=>p(A.id),Z.$$click=()=>g(A.id),l(j,w(oe,{get when(){return A.description},get children(){var B=Om();return l(B,()=>A.description),B}}),G),l(I,()=>t("created"),re),l(de,()=>h(A.createdAt)),l(G,w(oe,{get when(){return A.updatedAt!==A.createdAt},get children(){var B=Mm(),F=B.firstChild,H=F.firstChild,Y=F.nextSibling;return l(F,()=>t("updated"),H),l(Y,()=>h(A.updatedAt)),B}}),null),se.$$click=()=>u(A.id),l(se,(()=>{var B=Re(()=>a()===A.id);return()=>B()?t("active"):t("load_preset")})()),C(B=>{var F=`bg-white dark:bg-gray-700 rounded-lg border-2 transition-all duration-200 ${a()===A.id?"border-blue-500 ring-2 ring-blue-500/20":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"}`,H=t("export_preset"),Y=t("delete_preset"),pe=a()===A.id,he=`w-full px-3 py-2 text-sm font-medium rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-gray-700 ${a()===A.id?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 cursor-default":"bg-blue-600 hover:bg-blue-700 text-white focus:ring-blue-500"}`;return F!==B.e&&ke(P,B.e=F),H!==B.t&&ne(J,"title",B.t=H),Y!==B.a&&ne(Z,"title",B.a=Y),pe!==B.o&&(se.disabled=B.o=pe),he!==B.i&&ke(se,B.i=he),B},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),P})()})),x}})),C(x=>{var A=t("import_preset"),P=t("create_new_preset");return A!==x.e&&ne(q,"title",x.e=A),P!==x.t&&ne(T,"title",x.t=P),x},{e:void 0,t:void 0}),m})()};De(["click","input"]);var jm=k('<div class=space-y-6><div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 space-y-6"><div class="flex items-center gap-3 pb-4 border-b border-gray-200 dark:border-gray-700"><div class="w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-blue-600 dark:text-blue-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path></svg></div><h4 class="text-lg font-semibold text-gray-900 dark:text-gray-100"></h4></div><div class=space-y-3><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"> (mm)</label><div class=space-y-3><input type=range min=0 max=20 step=0.1 class="w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer slider-thumb"><div class="flex items-center gap-3"><input type=number min=0 max=20 step=0.1 class="w-24 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"><span class="text-sm text-gray-500 dark:text-gray-400">mm</span></div></div><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><div class=space-y-3><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"> (mm)</label><div class=space-y-3><input type=range min=0.1 max=2 step=0.1 class="w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer slider-thumb"><div class="flex items-center gap-3"><input type=number min=0.1 max=2 step=0.1 class="w-24 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"><span class="text-sm text-gray-500 dark:text-gray-400">mm</span></div></div><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><div class=space-y-3><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"></label><select class="block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"></select><p class="text-sm text-gray-500 dark:text-gray-400"></p></div></div><div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 space-y-6"><div class="flex items-center gap-3 pb-4 border-b border-gray-200 dark:border-gray-700"><div class="w-8 h-8 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-green-600 dark:text-green-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"></path></svg></div><h4 class="text-lg font-semibold text-gray-900 dark:text-gray-100"></h4></div><div class=space-y-3><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"></label><div class=space-y-3><input type=range min=5 max=50 step=1 class="w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer slider-thumb"><div class="flex items-center gap-3"><input type=number min=5 max=50 step=1 class="w-24 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"><span class="text-sm text-gray-500 dark:text-gray-400">individuals</span></div></div><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><div class=space-y-3><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"> (%)</label><div class=space-y-3><input type=range min=1 max=50 step=1 class="w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer slider-thumb"><div class="flex items-center gap-3"><input type=number min=1 max=50 step=1 class="w-24 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"><span class="text-sm text-gray-500 dark:text-gray-400">%</span></div></div><p class="text-sm text-gray-500 dark:text-gray-400"></p></div></div><div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 space-y-6"><div class="flex items-center gap-3 pb-4 border-b border-gray-200 dark:border-gray-700"><div class="w-8 h-8 bg-orange-100 dark:bg-orange-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-orange-600 dark:text-orange-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4"></path></svg></div><h4 class="text-lg font-semibold text-gray-900 dark:text-gray-100"></h4></div><div class=space-y-3><div class="flex items-center justify-between"><div><label class="text-sm font-medium text-gray-700 dark:text-gray-300"></label><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><input type=checkbox class="w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-2"></div></div><div class=space-y-3><div class="flex items-center justify-between"><div><label class="text-sm font-medium text-gray-700 dark:text-gray-300"></label><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><input type=checkbox class="w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-2"></div></div><div class=space-y-3><div class="flex items-center justify-between"><div><label class="text-sm font-medium text-gray-700 dark:text-gray-300"></label><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><input type=checkbox class="w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-2"></div></div><div class=space-y-3><div class="flex items-center justify-between"><div><label class="text-sm font-medium text-gray-700 dark:text-gray-300"></label><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><input type=checkbox class="w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-2">'),Dm=k("<option>");const Tm=()=>{const[t]=Te("settings"),[e,r]=ae(0),[s,i]=ae(.3),[n,o]=ae(4),[a,d]=ae(10),[c,u]=ae(10),[g,p]=ae(!1),[f,h]=ae(!1),[m,_]=ae(!1),[v,S]=ae(!0);Qt(()=>{const x=b.config;r(x.spacing||0),i(x.curveTolerance||.3),o(x.rotations||4),d(x.populationSize||10),u(x.mutationRate||10),p(x.useHoles||!1),h(x.exploreConcave||!1),_(x.mergeLines||!1),S(x.useRoughApproximation!==!1)});const O=x=>{L.updateConfig({...b.config,...x})},$=x=>{r(x),O({spacing:x})},N=x=>{i(x),O({curveTolerance:x})},q=x=>{o(x),O({rotations:x})},T=x=>{d(x),O({populationSize:x})},V=x=>{u(x),O({mutationRate:x})},y=[{value:0,label:t("no_rotation")},{value:2,label:t("2_rotations")},{value:4,label:t("4_rotations")},{value:8,label:t("8_rotations")},{value:12,label:t("12_rotations")},{value:360,label:t("free_rotation")}];return(()=>{var x=jm(),A=x.firstChild,P=A.firstChild,j=P.firstChild,M=j.nextSibling,D=P.nextSibling,U=D.firstChild,J=U.firstChild,Z=U.nextSibling,G=Z.firstChild,K=G.nextSibling,I=K.firstChild,re=Z.nextSibling,de=D.nextSibling,se=de.firstChild,B=se.firstChild,F=se.nextSibling,H=F.firstChild,Y=H.nextSibling,pe=Y.firstChild,he=F.nextSibling,xe=de.nextSibling,we=xe.firstChild,be=we.nextSibling,_e=be.nextSibling,Ae=A.nextSibling,Se=Ae.firstChild,Fe=Se.firstChild,Ce=Fe.nextSibling,Ee=Se.nextSibling,Pe=Ee.firstChild,te=Pe.nextSibling,me=te.firstChild,R=me.nextSibling,Q=R.firstChild,W=te.nextSibling,z=Ee.nextSibling,ie=z.firstChild,ye=ie.firstChild,ce=ie.nextSibling,Ne=ce.firstChild,Ie=Ne.nextSibling,Ge=Ie.firstChild,Be=ce.nextSibling,Ve=Ae.nextSibling,He=Ve.firstChild,qe=He.firstChild,ee=qe.nextSibling,ve=He.nextSibling,Je=ve.firstChild,it=Je.firstChild,nt=it.firstChild,Xe=nt.nextSibling,at=it.nextSibling,Ze=ve.nextSibling,E=Ze.firstChild,Oe=E.firstChild,Ue=Oe.firstChild,Ke=Ue.nextSibling,Ye=Oe.nextSibling,et=Ze.nextSibling,Et=et.firstChild,bt=Et.firstChild,lt=bt.firstChild,_t=lt.nextSibling,dt=bt.nextSibling,xt=et.nextSibling,yt=xt.firstChild,ur=yt.firstChild,fr=ur.firstChild,os=fr.nextSibling,pr=ur.nextSibling;return l(M,()=>t("nesting_parameters")),l(U,()=>t("space_between_parts"),J),G.$$input=ge=>$(parseFloat(ge.currentTarget.value)),I.$$input=ge=>$(parseFloat(ge.currentTarget.value)||0),l(re,()=>t("spacing_description")),l(se,()=>t("curve_tolerance"),B),H.$$input=ge=>N(parseFloat(ge.currentTarget.value)),pe.$$input=ge=>N(parseFloat(ge.currentTarget.value)||.3),l(he,()=>t("curve_tolerance_description")),l(we,()=>t("part_rotations")),be.addEventListener("change",ge=>q(parseInt(ge.currentTarget.value))),l(be,w(ze,{each:y,children:ge=>(()=>{var Zt=Dm();return l(Zt,()=>ge.label),C(()=>Zt.value=ge.value),Zt})()})),l(_e,()=>t("rotations_description")),l(Ce,()=>t("genetic_algorithm")),l(Pe,()=>t("population_size")),me.$$input=ge=>T(parseInt(ge.currentTarget.value)),Q.$$input=ge=>T(parseInt(ge.currentTarget.value)||10),l(W,()=>t("population_size_description")),l(ie,()=>t("mutation_rate"),ye),Ne.$$input=ge=>V(parseInt(ge.currentTarget.value)),Ge.$$input=ge=>V(parseInt(ge.currentTarget.value)||10),l(Be,()=>t("mutation_rate_description")),l(ee,()=>t("advanced_options")),l(nt,()=>t("use_holes")),l(Xe,()=>t("use_holes_description")),at.addEventListener("change",ge=>{p(ge.currentTarget.checked),O({useHoles:ge.currentTarget.checked})}),l(Ue,()=>t("explore_concave")),l(Ke,()=>t("explore_concave_description")),Ye.addEventListener("change",ge=>{h(ge.currentTarget.checked),O({exploreConcave:ge.currentTarget.checked})}),l(lt,()=>t("merge_common_lines")),l(_t,()=>t("merge_lines_description")),dt.addEventListener("change",ge=>{_(ge.currentTarget.checked),O({mergeLines:ge.currentTarget.checked})}),l(fr,()=>t("use_rough_approximation")),l(os,()=>t("rough_approximation_description")),pr.addEventListener("change",ge=>{S(ge.currentTarget.checked),O({useRoughApproximation:ge.currentTarget.checked})}),C(()=>G.value=e()),C(()=>I.value=e()),C(()=>H.value=s()),C(()=>pe.value=s()),C(()=>be.value=n()),C(()=>me.value=a()),C(()=>Q.value=a()),C(()=>Ne.value=c()),C(()=>Ge.value=c()),C(()=>at.checked=g()),C(()=>Ye.checked=f()),C(()=>dt.checked=m()),C(()=>pr.checked=v()),x})()};De(["input"]);var Im=k('<div class=space-y-6><div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 space-y-6"><div class="flex items-center gap-3 pb-4 border-b border-gray-200 dark:border-gray-700"><div class="w-8 h-8 bg-purple-100 dark:bg-purple-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-purple-600 dark:text-purple-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM21 5a2 2 0 00-2-2h-4a2 2 0 00-2 2v12a4 4 0 004 4h4a2 2 0 002-2V5z"></path></svg></div><h4 class="text-lg font-semibold text-gray-900 dark:text-gray-100"></h4></div><div class=space-y-3><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"></label><select class="block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"></select><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><div class=space-y-3><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"></label><select class="block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"></select><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><div class=space-y-3><div class="flex items-center justify-between"><div><label class="text-sm font-medium text-gray-700 dark:text-gray-300"></label><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><button type=button><span class=sr-only>Toggle dark mode</span><span></span></button></div></div></div><div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 space-y-6"><div class="flex items-center gap-3 pb-4 border-b border-gray-200 dark:border-gray-700"><div class="w-8 h-8 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-green-600 dark:text-green-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 6h16M4 12h16M4 18h7"></path></svg></div><h4 class="text-lg font-semibold text-gray-900 dark:text-gray-100"></h4></div><div class=space-y-3><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"></label><select class="block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"></select><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><div class=space-y-3><div class="flex items-center justify-between"><div><label class="text-sm font-medium text-gray-700 dark:text-gray-300"></label><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><input type=checkbox class="w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-2"></div></div><div class=space-y-3><div class="flex items-center justify-between"><div><label class="text-sm font-medium text-gray-700 dark:text-gray-300"></label><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><input type=checkbox class="w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-2"></div></div></div><div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 space-y-6"><div class="flex items-center gap-3 pb-4 border-b border-gray-200 dark:border-gray-700"><div class="w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-blue-600 dark:text-blue-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"></path></svg></div><h4 class="text-lg font-semibold text-gray-900 dark:text-gray-100"></h4></div><div class=space-y-3><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"></label><div class="flex gap-3"><input type=number min=200 max=600 class="flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"><button class="px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 border border-gray-300 dark:border-gray-600 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"></button></div><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><div class=space-y-3><div class="flex items-center justify-between"><div><label class="text-sm font-medium text-gray-700 dark:text-gray-300"></label><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><input type=checkbox class="w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-2"></div></div><div class=space-y-3><div class="flex items-center justify-between"><div><label class="text-sm font-medium text-gray-700 dark:text-gray-300"></label><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><input type=checkbox class="w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-2">'),rr=k("<option>");const zm=()=>{const[t,{changeLanguage:e}]=Te("settings"),r=[{code:"en",name:"English"},{code:"de",name:"Deutsch"}],s=[{value:"mm",label:t("millimeters")},{value:"in",label:t("inches")},{value:"cm",label:t("centimeters")}],i=[{value:"system",label:t("auto_theme")},{value:"light",label:t("light_theme")},{value:"dark",label:t("dark_theme")}],n=async u=>{L.setLanguage(u),await e(u)},o=u=>{L.setThemePreference(u)},a=()=>typeof localStorage<"u"&&"theme"in localStorage?localStorage.theme:"system",d=u=>{L.updateConfig({...b.config,units:u})},c=()=>{L.setPanelWidth("partsWidth",300)};return(()=>{var u=Im(),g=u.firstChild,p=g.firstChild,f=p.firstChild,h=f.nextSibling,m=p.nextSibling,_=m.firstChild,v=_.nextSibling,S=v.nextSibling,O=m.nextSibling,$=O.firstChild,N=$.nextSibling,q=N.nextSibling,T=O.nextSibling,V=T.firstChild,y=V.firstChild,x=y.firstChild,A=x.nextSibling,P=y.nextSibling,j=P.firstChild,M=j.nextSibling,D=g.nextSibling,U=D.firstChild,J=U.firstChild,Z=J.nextSibling,G=U.nextSibling,K=G.firstChild,I=K.nextSibling,re=I.nextSibling,de=G.nextSibling,se=de.firstChild,B=se.firstChild,F=B.firstChild,H=F.nextSibling,Y=B.nextSibling,pe=de.nextSibling,he=pe.firstChild,xe=he.firstChild,we=xe.firstChild,be=we.nextSibling,_e=xe.nextSibling,Ae=D.nextSibling,Se=Ae.firstChild,Fe=Se.firstChild,Ce=Fe.nextSibling,Ee=Se.nextSibling,Pe=Ee.firstChild,te=Pe.nextSibling,me=te.firstChild,R=me.nextSibling,Q=te.nextSibling,W=Ee.nextSibling,z=W.firstChild,ie=z.firstChild,ye=ie.firstChild,ce=ye.nextSibling,Ne=ie.nextSibling,Ie=W.nextSibling,Ge=Ie.firstChild,Be=Ge.firstChild,Ve=Be.firstChild,He=Ve.nextSibling,qe=Be.nextSibling;return l(h,()=>t("appearance")),l(_,()=>t("language")),v.addEventListener("change",ee=>n(ee.currentTarget.value)),l(v,w(ze,{each:r,children:ee=>(()=>{var ve=rr();return l(ve,()=>ee.name),C(()=>ve.value=ee.code),ve})()})),l(S,()=>t("language_description")),l($,()=>t("theme")),N.addEventListener("change",ee=>o(ee.currentTarget.value)),l(N,w(ze,{each:i,children:ee=>(()=>{var ve=rr();return l(ve,()=>ee.label),C(()=>ve.value=ee.value),ve})()})),l(q,()=>t("theme_description")),l(x,()=>t("dark_mode")),l(A,()=>t("dark_mode_description")),P.$$click=()=>L.setThemePreference(b.ui.darkMode?"light":"dark"),l(Z,()=>t("units_and_formatting")),l(K,()=>t("display_units")),I.addEventListener("change",ee=>d(ee.currentTarget.value)),l(I,w(ze,{each:s,children:ee=>(()=>{var ve=rr();return l(ve,()=>ee.label),C(()=>ve.value=ee.value),ve})()})),l(re,()=>t("units_description")),l(F,()=>t("show_grid")),l(H,()=>t("show_grid_description")),Y.addEventListener("change",ee=>L.updateConfig({...b.config,showGrid:ee.currentTarget.checked})),l(we,()=>t("show_rulers")),l(be,()=>t("show_rulers_description")),_e.addEventListener("change",ee=>L.updateConfig({...b.config,showRulers:ee.currentTarget.checked})),l(Ce,()=>t("layout_preferences")),l(Pe,()=>t("parts_panel_width")),me.$$input=ee=>L.setPanelWidth("partsWidth",parseInt(ee.currentTarget.value)||300),R.$$click=c,l(R,()=>t("reset")),l(Q,()=>t("panel_width_description")),l(ye,()=>t("show_tooltips")),l(ce,()=>t("tooltips_description")),Ne.addEventListener("change",ee=>L.setShowTooltips(ee.currentTarget.checked)),l(Ve,()=>t("show_status_bar")),l(He,()=>t("status_bar_description")),qe.addEventListener("change",ee=>L.setShowStatusBar(ee.currentTarget.checked)),C(ee=>{var ve=`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 ${b.ui.darkMode?"bg-blue-600":"bg-gray-200 dark:bg-gray-700"}`,Je=`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${b.ui.darkMode?"translate-x-5":"translate-x-0"}`;return ve!==ee.e&&ke(P,ee.e=ve),Je!==ee.t&&ke(M,ee.t=Je),ee},{e:void 0,t:void 0}),C(()=>v.value=b.ui.language),C(()=>N.value=a()),C(()=>I.value=b.config.units||"mm"),C(()=>Y.checked=b.config.showGrid!==!1),C(()=>_e.checked=b.config.showRulers!==!1),C(()=>me.value=b.ui.panels.partsWidth||300),C(()=>Ne.checked=b.ui.showTooltips!==!1),C(()=>qe.checked=b.ui.showStatusBar!==!1),u})()};De(["click","input"]);var Dr=k('<div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="text-gray-900 dark:text-gray-100">'),Um=k('<div class="bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4 space-y-4"><h5 class="text-sm font-medium text-gray-900 dark:text-gray-100"></h5><div class=space-y-2><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="text-gray-900 dark:text-gray-100"></span></div><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="text-gray-900 dark:text-gray-100"></span></div><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="text-gray-900 dark:text-gray-100"></span></div><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="text-gray-900 dark:text-gray-100">  </span></div></div><button class="w-full px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 border border-gray-300 dark:border-gray-600 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800">'),Bm=k('<div class=space-y-6><div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 space-y-6"><div class="flex items-center gap-3 pb-4 border-b border-gray-200 dark:border-gray-700"><div class="w-8 h-8 bg-orange-100 dark:bg-orange-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-orange-600 dark:text-orange-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg></div><h4 class="text-lg font-semibold text-gray-900 dark:text-gray-100"></h4></div><div class=space-y-3><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"></label><input type=number min=1 class="block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><div class=space-y-3><div class="flex items-center justify-between"><div><label class="text-sm font-medium text-gray-700 dark:text-gray-300"></label><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><input type=checkbox class="w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-2"></div></div><div class=space-y-3><div class="flex items-center justify-between"><div><label class="text-sm font-medium text-gray-700 dark:text-gray-300"></label><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><input type=checkbox class="w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-2"></div></div></div><div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 space-y-6"><div class="flex items-center gap-3 pb-4 border-b border-gray-200 dark:border-gray-700"><div class="w-8 h-8 bg-red-100 dark:bg-red-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-red-600 dark:text-red-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><h4 class="text-lg font-semibold text-gray-900 dark:text-gray-100"></h4></div><div class=space-y-3><div class="flex items-center justify-between"><div><label class="text-sm font-medium text-gray-700 dark:text-gray-300"></label><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><input type=checkbox class="w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-2"></div></div><div class=space-y-3><div class="flex items-center justify-between"><div><label class="text-sm font-medium text-gray-700 dark:text-gray-300"></label><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><input type=checkbox class="w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-2"></div></div><div class=space-y-3><button class="px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 border border-gray-300 dark:border-gray-600 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"></button></div></div><div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 space-y-6"><div class="flex items-center gap-3 pb-4 border-b border-gray-200 dark:border-gray-700"><div class="w-8 h-8 bg-cyan-100 dark:bg-cyan-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-cyan-600 dark:text-cyan-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg></div><h4 class="text-lg font-semibold text-gray-900 dark:text-gray-100"></h4></div><div class=space-y-3><button class="px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 border border-gray-300 dark:border-gray-600 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"></button><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><div class=space-y-3><button class="px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 border border-gray-300 dark:border-gray-600 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"></button><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><div class=space-y-3><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"> (<!>)</label><input type=number min=0 max=60 class="block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"><p class="text-sm text-gray-500 dark:text-gray-400">');const Vm=()=>{const[t]=Te("settings"),[e,r]=ae(!1),s=()=>{if(confirm(t("confirm_clear_cache")))try{localStorage.clear(),L.setError(null),alert(t("cache_cleared_success"))}catch(d){console.error("Failed to clear cache:",d),L.setError(t("cache_clear_failed"))}},i=()=>{L.setPanelWidth("partsWidth",300),L.setActiveTab("parts")},n=()=>{const a={timestamp:new Date().toISOString(),platform:navigator.platform,userAgent:navigator.userAgent,language:navigator.language,viewport:{width:window.innerWidth,height:window.innerHeight},globalState:{ui:b.ui,config:b.config,partsCount:b.app.parts.length,sheetsCount:b.app.sheets.length,nestsCount:b.app.nests.length,presetsCount:b.presets.length},performance:{memory:performance.memory?{usedJSHeapSize:performance.memory.usedJSHeapSize,totalJSHeapSize:performance.memory.totalJSHeapSize,jsHeapSizeLimit:performance.memory.jsHeapSizeLimit}:null}},d=new Blob([JSON.stringify(a,null,2)],{type:"application/json"}),c=URL.createObjectURL(d),u=document.createElement("a");u.href=c,u.download=`deepnest-debug-${Date.now()}.json`,document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(c)},o=a=>{if(a===0)return"0 Bytes";const d=1024,c=["Bytes","KB","MB","GB"],u=Math.floor(Math.log(a)/Math.log(d));return parseFloat((a/Math.pow(d,u)).toFixed(2))+" "+c[u]};return(()=>{var a=Bm(),d=a.firstChild,c=d.firstChild,u=c.firstChild,g=u.nextSibling,p=c.nextSibling,f=p.firstChild,h=f.nextSibling,m=h.nextSibling,_=p.nextSibling,v=_.firstChild,S=v.firstChild,O=S.firstChild,$=O.nextSibling,N=S.nextSibling,q=_.nextSibling,T=q.firstChild,V=T.firstChild,y=V.firstChild,x=y.nextSibling,A=V.nextSibling,P=d.nextSibling,j=P.firstChild,M=j.firstChild,D=M.nextSibling,U=j.nextSibling,J=U.firstChild,Z=J.firstChild,G=Z.firstChild,K=G.nextSibling,I=Z.nextSibling,re=U.nextSibling,de=re.firstChild,se=de.firstChild,B=se.firstChild,F=B.nextSibling,H=se.nextSibling,Y=re.nextSibling,pe=Y.firstChild,he=P.nextSibling,xe=he.firstChild,we=xe.firstChild,be=we.nextSibling,_e=xe.nextSibling,Ae=_e.firstChild,Se=Ae.nextSibling,Fe=_e.nextSibling,Ce=Fe.firstChild,Ee=Ce.nextSibling,Pe=Fe.nextSibling,te=Pe.firstChild,me=te.firstChild,R=me.nextSibling;R.nextSibling;var Q=te.nextSibling,W=Q.nextSibling;return l(g,()=>t("performance")),l(f,()=>t("worker_threads")),h.$$input=z=>L.updateConfig({...b.config,workerThreads:parseInt(z.currentTarget.value)||4}),l(m,()=>t("worker_threads_description",{max:navigator.hardwareConcurrency||8})),l(O,()=>t("enable_gpu_acceleration")),l($,()=>t("gpu_acceleration_description")),N.addEventListener("change",z=>L.updateConfig({...b.config,enableGPU:z.currentTarget.checked})),l(y,()=>t("enable_caching")),l(x,()=>t("caching_description")),A.addEventListener("change",z=>L.updateConfig({...b.config,enableCaching:z.currentTarget.checked})),l(D,()=>t("debugging")),l(G,()=>t("debug_mode")),l(K,()=>t("debug_mode_description")),I.addEventListener("change",z=>L.updateConfig({...b.config,debugMode:z.currentTarget.checked})),l(B,()=>t("verbose_logging")),l(F,()=>t("verbose_logging_description")),H.addEventListener("change",z=>L.updateConfig({...b.config,verboseLogging:z.currentTarget.checked})),pe.$$click=()=>r(!e()),l(pe,(()=>{var z=Re(()=>!!e());return()=>z()?t("hide_debug_info"):t("show_debug_info")})()),l(Y,w(oe,{get when(){return e()},get children(){var z=Um(),ie=z.firstChild,ye=ie.nextSibling,ce=ye.firstChild,Ne=ce.firstChild,Ie=Ne.firstChild,Ge=Ne.nextSibling,Be=ce.nextSibling,Ve=Be.firstChild,He=Ve.firstChild,qe=Ve.nextSibling,ee=Be.nextSibling,ve=ee.firstChild,Je=ve.firstChild,it=ve.nextSibling,nt=ee.nextSibling,Xe=nt.firstChild,at=Xe.firstChild,Ze=Xe.nextSibling,E=Ze.firstChild,Oe=ye.nextSibling;return l(ie,()=>t("system_information")),l(Ne,()=>t("platform"),Ie),l(Ge,()=>navigator.platform),l(Ve,()=>t("language"),He),l(qe,()=>navigator.language),l(ve,()=>t("cpu_cores"),Je),l(it,()=>navigator.hardwareConcurrency||"Unknown"),l(Xe,()=>t("viewport"),at),l(Ze,()=>window.innerWidth,E),l(Ze,()=>window.innerHeight,null),l(ye,w(oe,{get when(){return performance.memory},get children(){return[(()=>{var Ue=Dr(),Ke=Ue.firstChild,Ye=Ke.firstChild,et=Ke.nextSibling;return l(Ke,()=>t("memory_used"),Ye),l(et,()=>o(performance.memory.usedJSHeapSize)),Ue})(),(()=>{var Ue=Dr(),Ke=Ue.firstChild,Ye=Ke.firstChild,et=Ke.nextSibling;return l(Ke,()=>t("memory_total"),Ye),l(et,()=>o(performance.memory.totalJSHeapSize)),Ue})()]}}),null),Oe.$$click=n,l(Oe,()=>t("export_debug_info")),z}}),null),l(be,()=>t("maintenance")),Ae.$$click=s,l(Ae,()=>t("clear_cache")),l(Se,()=>t("clear_cache_description")),Ce.$$click=i,l(Ce,()=>t("reset_layout")),l(Ee,()=>t("reset_layout_description")),l(te,()=>t("auto_save_interval"),me),l(te,()=>t("minutes"),R),Q.$$input=z=>L.updateConfig({...b.config,autoSaveInterval:parseInt(z.currentTarget.value)||5}),l(W,()=>t("auto_save_description")),C(()=>ne(h,"max",navigator.hardwareConcurrency||8)),C(()=>h.value=b.config.workerThreads||navigator.hardwareConcurrency||4),C(()=>N.checked=b.config.enableGPU||!1),C(()=>A.checked=b.config.enableCaching!==!1),C(()=>I.checked=b.config.debugMode||!1),C(()=>H.checked=b.config.verboseLogging||!1),C(()=>Q.value=b.config.autoSaveInterval||5),a})()};De(["input","click"]);var Hm=k('<svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3-3m0 0l-3 3m3-3v12">'),qm=k('<svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M15 12a3 3 0 11-6 0 3 3 0 016 0z">'),Km=k('<svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM21 5a2 2 0 00-2-2h-4a2 2 0 00-2 2v12a4 4 0 004 4h4a2 2 0 002-2V5z">'),Wm=k('<svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4">'),Gm=k('<div class="bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700"><div class="p-6 border-b border-gray-200 dark:border-gray-700"><div class="flex items-center gap-3"><div class="w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-blue-600 dark:text-blue-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3-3m0 0l-3 3m3-3v12"></path></svg></div><div><h2 class="text-xl font-semibold text-gray-900 dark:text-gray-100"></h2><p class="text-sm text-gray-500 dark:text-gray-400">Save and manage configuration presets</p></div></div></div><div class=p-6>'),Jm=k('<div class="bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700"><div class="p-6 border-b border-gray-200 dark:border-gray-700"><div class="flex items-center gap-3"><div class="w-8 h-8 bg-purple-100 dark:bg-purple-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-purple-600 dark:text-purple-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg></div><div><h2 class="text-xl font-semibold text-gray-900 dark:text-gray-100"></h2><p class="text-sm text-gray-500 dark:text-gray-400">Configure nesting algorithm parameters</p></div></div></div><div class=p-6>'),Qm=k('<div class="bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700"><div class="p-6 border-b border-gray-200 dark:border-gray-700"><div class="flex items-center gap-3"><div class="w-8 h-8 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-green-600 dark:text-green-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM21 5a2 2 0 00-2-2h-4a2 2 0 00-2 2v12a4 4 0 004 4h4a2 2 0 002-2V5z"></path></svg></div><div><h2 class="text-xl font-semibold text-gray-900 dark:text-gray-100"></h2><p class="text-sm text-gray-500 dark:text-gray-400">Customize interface and appearance</p></div></div></div><div class=p-6>'),Xm=k('<div class="bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700"><div class="p-6 border-b border-gray-200 dark:border-gray-700"><div class="flex items-center gap-3"><div class="w-8 h-8 bg-orange-100 dark:bg-orange-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-orange-600 dark:text-orange-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4"></path></svg></div><div><h2 class="text-xl font-semibold text-gray-900 dark:text-gray-100"></h2><p class="text-sm text-gray-500 dark:text-gray-400">Advanced configuration options</p></div></div></div><div class=p-6>'),Zm=k('<div class="h-full flex flex-col bg-white dark:bg-gray-900"><div class="bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700"><div class="px-6 py-4 flex items-center justify-between"><div class="flex items-center gap-3"><div class="w-10 h-10 bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg flex items-center justify-center shadow-sm"><svg class="w-5 h-5 text-white"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4"></path></svg></div><div><h1 class="text-xl font-semibold text-gray-900 dark:text-gray-100"></h1><p class="text-sm text-gray-500 dark:text-gray-400">Configure your preferences and application settings</p></div></div><div class="flex items-center gap-3"><button class="inline-flex items-center gap-2 px-3 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 font-medium rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"></path></svg></button><button class="inline-flex items-center gap-2 px-3 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 font-medium rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path></svg></button><button class="inline-flex items-center gap-2 px-4 py-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 font-medium rounded-lg border border-red-200 dark:border-red-800 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg></button></div></div></div><div class="flex-1 flex overflow-hidden bg-gray-50 dark:bg-gray-900"><div class="w-80 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700"><div class=p-6><h3 class="text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-4">Settings Categories</h3><nav class=space-y-2></nav></div></div><div class="flex-1 overflow-y-auto bg-gray-50 dark:bg-gray-900"><div class=p-6>'),Ym=k('<button><div></div><div class="flex-1 min-w-0"><div></div><div>'),eb=k('<div class="w-1 h-8 bg-blue-500 dark:bg-blue-400 rounded-full flex-shrink-0">');const tb=()=>{const[t]=Te("settings"),[e,r]=ae("presets"),s=async()=>{if(confirm(t("confirm_reset_defaults")))try{L.resetToDefaults(),le.isAvailable&&await le.saveConfig(b.config)}catch(d){console.error("Failed to reset to defaults:",d),L.setError(t("reset_failed"))}},i=async()=>{if(le.isAvailable)try{const a=await le.saveFileDialog({title:t("export_configuration"),defaultPath:"deepnest-config.json",filters:[{name:"JSON Files",extensions:["json"]},{name:"All Files",extensions:["*"]}]});if(a.canceled||!a.filePath)return;await le.exportConfig(b.config,a.filePath)}catch(a){console.error("Failed to export config:",a),L.setError(t("export_failed"))}},n=async()=>{if(le.isAvailable)try{const a=await le.openFileDialog({title:t("import_configuration"),filters:[{name:"JSON Files",extensions:["json"]},{name:"All Files",extensions:["*"]}],properties:["openFile"]});if(a.canceled||!a.filePaths?.length)return;const d=await le.importConfig(a.filePaths[0]);L.updateConfig(d)}catch(a){console.error("Failed to import config:",a),L.setError(t("import_failed"))}},o=[{id:"presets",label:t("preset_management"),description:"Save and manage configuration presets",icon:Hm()},{id:"algorithm",label:t("algorithm_settings"),description:"Configure nesting algorithm parameters",icon:qm()},{id:"ui",label:t("ui_preferences"),description:"Customize interface and appearance",icon:Km()},{id:"advanced",label:t("advanced_settings"),description:"Advanced configuration options",icon:Wm()}];return(()=>{var a=Zm(),d=a.firstChild,c=d.firstChild,u=c.firstChild,g=u.firstChild,p=g.nextSibling,f=p.firstChild,h=u.nextSibling,m=h.firstChild;m.firstChild;var _=m.nextSibling;_.firstChild;var v=_.nextSibling;v.firstChild;var S=d.nextSibling,O=S.firstChild,$=O.firstChild,N=$.firstChild,q=N.nextSibling,T=O.nextSibling,V=T.firstChild;return l(f,()=>t("settings_title")),m.$$click=n,l(m,()=>t("import"),null),_.$$click=i,l(_,()=>t("export"),null),v.$$click=s,l(v,()=>t("reset_defaults"),null),l(q,w(ze,{each:o,children:y=>(()=>{var x=Ym(),A=x.firstChild,P=A.nextSibling,j=P.firstChild,M=j.nextSibling;return x.$$click=()=>r(y.id),l(A,()=>y.icon),l(j,()=>y.label),l(M,()=>y.description),l(x,(()=>{var D=Re(()=>e()===y.id);return()=>D()&&eb()})(),null),C(D=>{var U=`w-full flex items-start gap-4 px-4 py-3 rounded-xl text-left transition-all duration-200 group ${e()===y.id?"bg-blue-50 dark:bg-blue-900/30 border-2 border-blue-200 dark:border-blue-700 shadow-sm":"hover:bg-gray-50 dark:hover:bg-gray-700/50 border-2 border-transparent"}`,J=`w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0 transition-colors duration-200 ${e()===y.id?"bg-blue-100 dark:bg-blue-900/50 text-blue-600 dark:text-blue-400":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 group-hover:bg-gray-200 dark:group-hover:bg-gray-600"}`,Z=`font-medium transition-colors duration-200 ${e()===y.id?"text-blue-900 dark:text-blue-100":"text-gray-900 dark:text-gray-100 group-hover:text-gray-900 dark:group-hover:text-gray-100"}`,G=`text-sm mt-1 transition-colors duration-200 ${e()===y.id?"text-blue-700 dark:text-blue-300":"text-gray-500 dark:text-gray-400"}`;return U!==D.e&&ke(x,D.e=U),J!==D.t&&ke(A,D.t=J),Z!==D.a&&ke(j,D.a=Z),G!==D.o&&ke(M,D.o=G),D},{e:void 0,t:void 0,a:void 0,o:void 0}),x})()})),l(V,w(oe,{get when(){return e()==="presets"},get children(){var y=Gm(),x=y.firstChild,A=x.firstChild,P=A.firstChild,j=P.nextSibling,M=j.firstChild,D=x.nextSibling;return l(M,()=>t("preset_management")),l(D,w(Rm,{})),y}}),null),l(V,w(oe,{get when(){return e()==="algorithm"},get children(){var y=Jm(),x=y.firstChild,A=x.firstChild,P=A.firstChild,j=P.nextSibling,M=j.firstChild,D=x.nextSibling;return l(M,()=>t("algorithm_settings")),l(D,w(Tm,{})),y}}),null),l(V,w(oe,{get when(){return e()==="ui"},get children(){var y=Qm(),x=y.firstChild,A=x.firstChild,P=A.firstChild,j=P.nextSibling,M=j.firstChild,D=x.nextSibling;return l(M,()=>t("ui_preferences")),l(D,w(zm,{})),y}}),null),l(V,w(oe,{get when(){return e()==="advanced"},get children(){var y=Xm(),x=y.firstChild,A=x.firstChild,P=A.firstChild,j=P.nextSibling,M=j.firstChild,D=x.nextSibling;return l(M,()=>t("advanced_settings")),l(D,w(Vm,{})),y}}),null),C(y=>{var x=t("import_configuration"),A=t("export_configuration"),P=t("reset_to_defaults");return x!==y.e&&ne(m,"title",y.e=x),A!==y.t&&ne(_,"title",y.t=A),P!==y.a&&ne(v,"title",y.a=P),y},{e:void 0,t:void 0,a:void 0}),a})()};De(["click"]);var rb=k('<main class="flex-1 overflow-hidden bg-gray-50 dark:bg-gray-900 w-full h-full">');const sb=()=>(()=>{var t=rb();return l(t,w(vs,{get children(){return[w(Ot,{get when(){return b.ui.activeTab==="parts"},get children(){return w(Vh,{})}}),w(Ot,{get when(){return b.ui.activeTab==="nests"},get children(){return w(fm,{})}}),w(Ot,{get when(){return b.ui.activeTab==="sheets"},get children(){return w(Pm,{})}}),w(Ot,{get when(){return b.ui.activeTab==="settings"},get children(){return w(tb,{})}})]}})),t})();var ib=k('<div class="flex items-center gap-3"><div class="w-32 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden"><div class="h-full bg-blue-500 dark:bg-blue-400 rounded-full transition-all duration-300 ease-out"></div></div><span class="text-gray-600 dark:text-gray-400 min-w-10 text-right font-mono">%'),nb=k('<div class="flex items-center gap-1"><svg class="w-3 h-3"fill=currentColor viewBox="0 0 20 20"><path fill-rule=evenodd d="M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z"clip-rule=evenodd></path></svg><span> threads'),ab=k('<div class="flex items-center gap-1"><svg class="w-3 h-3"fill=currentColor viewBox="0 0 20 20"><path fill-rule=evenodd d="M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z"clip-rule=evenodd></path></svg><span> parts'),ob=k('<div class="flex items-center gap-1"><svg class="w-3 h-3"fill=currentColor viewBox="0 0 20 20"><path fill-rule=evenodd d="M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"clip-rule=evenodd></path></svg><span> results'),lb=k('<div class="flex items-center gap-1 text-red-500 dark:text-red-400"><svg class="w-3 h-3"fill=currentColor viewBox="0 0 20 20"><path fill-rule=evenodd d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z"clip-rule=evenodd></path></svg><span class="max-w-64 truncate">'),db=k('<footer class="h-10 bg-gray-100 dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 flex items-center justify-between px-4 text-xs"><div class="flex items-center gap-4"><div class="flex items-center gap-2"><div></div><span class="text-gray-900 dark:text-gray-100 font-medium"></span></div></div><div class="flex items-center gap-6 text-gray-600 dark:text-gray-400">');const cb=()=>{const[t]=Te("common"),e=fe(()=>{const{process:s}=b;return s.isNesting?t("status.nesting_in_progress"):s.lastError?t("status.error_occurred"):s.workerStatus.isRunning?s.workerStatus.currentOperation||t("status.processing"):t("status.ready")}),r=fe(()=>Math.max(0,Math.min(100,b.process.progress)));return(()=>{var s=db(),i=s.firstChild,n=i.firstChild,o=n.firstChild,a=o.nextSibling,d=i.nextSibling;return l(a,e),l(i,w(oe,{get when(){return b.process.isNesting},get children(){var c=ib(),u=c.firstChild,g=u.firstChild,p=u.nextSibling,f=p.firstChild;return l(p,()=>r().toFixed(1),f),C(h=>(h=`${r()}%`)!=null?g.style.setProperty("width",h):g.style.removeProperty("width")),c}}),null),l(d,w(oe,{get when(){return b.process.workerStatus.threadsActive>0},get children(){var c=nb(),u=c.firstChild,g=u.nextSibling,p=g.firstChild;return l(g,()=>b.process.workerStatus.threadsActive,p),c}}),null),l(d,w(oe,{get when(){return b.app.parts.length>0},get children(){var c=ab(),u=c.firstChild,g=u.nextSibling,p=g.firstChild;return l(g,()=>b.app.parts.length,p),c}}),null),l(d,w(oe,{get when(){return b.app.nests.length>0},get children(){var c=ob(),u=c.firstChild,g=u.nextSibling,p=g.firstChild;return l(g,()=>b.app.nests.length,p),c}}),null),l(d,w(oe,{get when(){return b.process.lastError},get children(){var c=lb(),u=c.firstChild,g=u.nextSibling;return l(g,()=>b.process.lastError),c}}),null),C(()=>ke(o,`w-2 h-2 rounded-full ${b.process.isNesting?"bg-blue-500 animate-pulse":b.process.lastError?"bg-red-500":"bg-green-500"}`)),s})()};var gb=k('<div><div class="flex-shrink-0 h-full w-full"></div><div title="Drag to resize panels"><div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-1 h-8 bg-gray-400 dark:bg-gray-500 group-hover:bg-blue-300 dark:group-hover:bg-blue-300 rounded-full transition-colors duration-200"></div><div class="absolute -left-1 -right-1 top-0 bottom-0 opacity-0 group-hover:opacity-100 transition-opacity duration-200"><div class="w-full h-full bg-blue-500/20 dark:bg-blue-400/20"></div></div></div><div class="flex-1 h-full min-w-0 w-full">');const ub=t=>{const{minLeftWidth:e=250,maxLeftWidth:r=500,defaultLeftWidth:s=300}=t,[i,n]=ae(!1),[o,a]=ae(b.ui.panels.partsWidth||s);let d,c;const u=f=>{f.preventDefault(),n(!0),document.addEventListener("mousemove",g),document.addEventListener("mouseup",p),document.body.style.cursor="col-resize",document.body.style.userSelect="none"},g=f=>{if(!i()||!d)return;const h=d.getBoundingClientRect(),m=f.clientX-h.left,_=Math.max(e,Math.min(r,m));a(_),L.setPanelWidth("partsWidth",_)},p=()=>{n(!1),document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",p),document.body.style.cursor="",document.body.style.userSelect=""};return cr(()=>{a(b.ui.panels.partsWidth||s)}),zr(()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",p),document.body.style.cursor="",document.body.style.userSelect=""}),(()=>{var f=gb(),h=f.firstChild,m=h.nextSibling,_=m.nextSibling,v=d;typeof v=="function"?br(v,f):d=f,l(h,()=>t.left),m.$$mousedown=u;var S=c;return typeof S=="function"?br(S,m):c=m,l(_,()=>t.right),C(O=>{var $=`flex h-full w-full ${i()?"select-none":""}`,N=`${o()}px`,q=`w-1 bg-gray-200 dark:bg-gray-700 hover:bg-blue-500 dark:hover:bg-blue-400 cursor-col-resize transition-colors duration-200 relative group ${i()?"bg-blue-500 dark:bg-blue-400":""}`;return $!==O.e&&ke(f,O.e=$),N!==O.t&&((O.t=N)!=null?h.style.setProperty("width",N):h.style.removeProperty("width")),q!==O.a&&ke(m,O.a=q),O},{e:void 0,t:void 0,a:void 0}),f})()};De(["mousedown"]);var fb=k('<div class="h-screen flex flex-col bg-gray-50 text-gray-900 dark:bg-gray-900 dark:text-gray-100"><div class="flex-1 flex overflow-hidden">');const pb=()=>(()=>{var t=fb(),e=t.firstChild;return l(t,w(Oh,{}),e),l(e,w(ub,{get left(){return w(jh,{})},get right(){return w(sb,{})},minLeftWidth:200,maxLeftWidth:600,defaultLeftWidth:300})),l(t,w(cb,{}),null),t})();var hb=k('<div class="app min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 transition-colors duration-200">');const mb=()=>{Qt(()=>{const e=b.ui.darkMode;typeof document<"u"&&(document.documentElement.classList.toggle("dark",e),document.documentElement.setAttribute("data-theme",e?"dark":"light"))}),cr(async()=>{if(t(),le.isAvailable)try{const e=await le.readConfig();L.updateConfig(e)}catch(e){console.warn("Failed to load initial config:",e)}});const t=()=>{le.isAvailable&&(le.onNestProgress(e=>{L.setNestingProgress(e)}),le.onNestComplete(e=>{L.setNests(e),L.setNestingStatus(!1)}),le.onBackgroundProgress(e=>{L.setNestingProgress(e.progress)}),le.onWorkerStatus(e=>{L.setWorkerStatus(e)}),le.onNestError(e=>{L.setError(e),L.setNestingStatus(!1)}))};return w(hh,{get children(){var e=hb();return l(e,w(pb,{})),e}})},bb=document.getElementById("root");ks(()=>w(mb,{}),bb);
