(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function s(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(i){if(i.ep)return;i.ep=!0;const r=s(i);fetch(i.href,r)}})();const Xs=!1,Ys=(t,e)=>t===e,it=Symbol("solid-proxy"),Xt=Symbol("solid-track"),Ft={equals:Ys};let Ps=Fs;const et=1,Rt=2,Ls={owned:null,cleanups:null,context:null,owner:null};var fe=null;let Wt=null,Zs=null,ve=null,Oe=null,Xe=null,Ht=0;function Nt(t,e){const s=ve,n=fe,i=t.length===0,r=e===void 0?n:e,a=i?Ls:{owned:null,cleanups:null,context:r?r.context:null,owner:r},l=i?t:()=>t(()=>ze(()=>xt(a)));fe=a,ve=null;try{return ft(l,!0)}finally{ve=s,fe=n}}function X(t,e){e=e?Object.assign({},Ft,e):Ft;const s={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0},n=i=>(typeof i=="function"&&(i=i(s.value)),Ns(s,i));return[Es.bind(s),n]}function k(t,e,s){const n=rs(t,e,!1,et);kt(n)}function ns(t,e,s){Ps=an;const n=rs(t,e,!1,et);n.user=!0,Xe?Xe.push(n):kt(n)}function oe(t,e,s){s=s?Object.assign({},Ft,s):Ft;const n=rs(t,e,!0,0);return n.observers=null,n.observerSlots=null,n.comparator=s.equals||void 0,kt(n),Es.bind(n)}function en(t){return ft(t,!1)}function ze(t){if(ve===null)return t();const e=ve;ve=null;try{return t()}finally{ve=e}}function is(t){ns(()=>ze(t))}function As(t){return fe===null||(fe.cleanups===null?fe.cleanups=[t]:fe.cleanups.push(t)),t}function Yt(){return ve}function tn(t,e){const s=Symbol("context");return{id:s,Provider:on(s),defaultValue:t}}function sn(t){let e;return fe&&fe.context&&(e=fe.context[t.id])!==void 0?e:t.defaultValue}function Os(t){const e=oe(t),s=oe(()=>Zt(e()));return s.toArray=()=>{const n=s();return Array.isArray(n)?n:n!=null?[n]:[]},s}function Es(){if(this.sources&&this.state)if(this.state===et)kt(this);else{const t=Oe;Oe=null,ft(()=>Dt(this),!1),Oe=t}if(ve){const t=this.observers?this.observers.length:0;ve.sources?(ve.sources.push(this),ve.sourceSlots.push(t)):(ve.sources=[this],ve.sourceSlots=[t]),this.observers?(this.observers.push(ve),this.observerSlots.push(ve.sources.length-1)):(this.observers=[ve],this.observerSlots=[ve.sources.length-1])}return this.value}function Ns(t,e,s){let n=t.value;return(!t.comparator||!t.comparator(n,e))&&(t.value=e,t.observers&&t.observers.length&&ft(()=>{for(let i=0;i<t.observers.length;i+=1){const r=t.observers[i],a=Wt&&Wt.running;a&&Wt.disposed.has(r),(a?!r.tState:!r.state)&&(r.pure?Oe.push(r):Xe.push(r),r.observers&&Rs(r)),a||(r.state=et)}if(Oe.length>1e6)throw Oe=[],new Error},!1)),e}function kt(t){if(!t.fn)return;xt(t);const e=Ht;nn(t,t.value,e)}function nn(t,e,s){let n;const i=fe,r=ve;ve=fe=t;try{n=t.fn(e)}catch(a){return t.pure&&(t.state=et,t.owned&&t.owned.forEach(xt),t.owned=null),t.updatedAt=s+1,Ts(a)}finally{ve=r,fe=i}(!t.updatedAt||t.updatedAt<=s)&&(t.updatedAt!=null&&"observers"in t?Ns(t,n):t.value=n,t.updatedAt=s)}function rs(t,e,s,n=et,i){const r={fn:t,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:fe,context:fe?fe.context:null,pure:s};return fe===null||fe!==Ls&&(fe.owned?fe.owned.push(r):fe.owned=[r]),r}function Tt(t){if(t.state===0)return;if(t.state===Rt)return Dt(t);if(t.suspense&&ze(t.suspense.inFallback))return t.suspense.effects.push(t);const e=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<Ht);)t.state&&e.push(t);for(let s=e.length-1;s>=0;s--)if(t=e[s],t.state===et)kt(t);else if(t.state===Rt){const n=Oe;Oe=null,ft(()=>Dt(t,e[0]),!1),Oe=n}}function ft(t,e){if(Oe)return t();let s=!1;e||(Oe=[]),Xe?s=!0:Xe=[],Ht++;try{const n=t();return rn(s),n}catch(n){s||(Xe=null),Oe=null,Ts(n)}}function rn(t){if(Oe&&(Fs(Oe),Oe=null),t)return;const e=Xe;Xe=null,e.length&&ft(()=>Ps(e),!1)}function Fs(t){for(let e=0;e<t.length;e++)Tt(t[e])}function an(t){let e,s=0;for(e=0;e<t.length;e++){const n=t[e];n.user?t[s++]=n:Tt(n)}for(e=0;e<s;e++)Tt(t[e])}function Dt(t,e){t.state=0;for(let s=0;s<t.sources.length;s+=1){const n=t.sources[s];if(n.sources){const i=n.state;i===et?n!==e&&(!n.updatedAt||n.updatedAt<Ht)&&Tt(n):i===Rt&&Dt(n,e)}}}function Rs(t){for(let e=0;e<t.observers.length;e+=1){const s=t.observers[e];s.state||(s.state=Rt,s.pure?Oe.push(s):Xe.push(s),s.observers&&Rs(s))}}function xt(t){let e;if(t.sources)for(;t.sources.length;){const s=t.sources.pop(),n=t.sourceSlots.pop(),i=s.observers;if(i&&i.length){const r=i.pop(),a=s.observerSlots.pop();n<i.length&&(r.sourceSlots[a]=n,i[n]=r,s.observerSlots[n]=a)}}if(t.tOwned){for(e=t.tOwned.length-1;e>=0;e--)xt(t.tOwned[e]);delete t.tOwned}if(t.owned){for(e=t.owned.length-1;e>=0;e--)xt(t.owned[e]);t.owned=null}if(t.cleanups){for(e=t.cleanups.length-1;e>=0;e--)t.cleanups[e]();t.cleanups=null}t.state=0}function ln(t){return t instanceof Error?t:new Error(typeof t=="string"?t:"Unknown error",{cause:t})}function Ts(t,e=fe){throw ln(t)}function Zt(t){if(typeof t=="function"&&!t.length)return Zt(t());if(Array.isArray(t)){const e=[];for(let s=0;s<t.length;s++){const n=Zt(t[s]);Array.isArray(n)?e.push.apply(e,n):e.push(n)}return e}return t}function on(t,e){return function(n){let i;return k(()=>i=ze(()=>(fe.context={...fe.context,[t]:n.value},Os(()=>n.children))),void 0),i}}const cn=Symbol("fallback");function as(t){for(let e=0;e<t.length;e++)t[e]()}function dn(t,e,s={}){let n=[],i=[],r=[],a=0,l=e.length>1?[]:null;return As(()=>as(r)),()=>{let c=t()||[],d=c.length,g,f;return c[Xt],ze(()=>{let h,m,p,_,$,S,P,b,L;if(d===0)a!==0&&(as(r),r=[],n=[],i=[],a=0,l&&(l=[])),s.fallback&&(n=[cn],i[0]=Nt(K=>(r[0]=K,s.fallback())),a=1);else if(a===0){for(i=new Array(d),f=0;f<d;f++)n[f]=c[f],i[f]=Nt(u);a=d}else{for(p=new Array(d),_=new Array(d),l&&($=new Array(d)),S=0,P=Math.min(a,d);S<P&&n[S]===c[S];S++);for(P=a-1,b=d-1;P>=S&&b>=S&&n[P]===c[b];P--,b--)p[b]=i[P],_[b]=r[P],l&&($[b]=l[P]);for(h=new Map,m=new Array(b+1),f=b;f>=S;f--)L=c[f],g=h.get(L),m[f]=g===void 0?-1:g,h.set(L,f);for(g=S;g<=P;g++)L=n[g],f=h.get(L),f!==void 0&&f!==-1?(p[f]=i[g],_[f]=r[g],l&&($[f]=l[g]),f=m[f],h.set(L,f)):r[g]();for(f=S;f<d;f++)f in p?(i[f]=p[f],r[f]=_[f],l&&(l[f]=$[f],l[f](f))):i[f]=Nt(u);i=i.slice(0,a=d),n=c.slice(0)}return i});function u(h){if(r[f]=h,l){const[m,p]=X(f);return l[f]=p,e(c[f],m)}return e(c[f])}}}function y(t,e){return ze(()=>t(e||{}))}const Ds=t=>`Stale read from <${t}>.`;function Ie(t){const e="fallback"in t&&{fallback:()=>t.fallback};return oe(dn(()=>t.each,t.children,e||void 0))}function te(t){const e=t.keyed,s=oe(()=>t.when,void 0,void 0),n=e?s:oe(s,void 0,{equals:(i,r)=>!i==!r});return oe(()=>{const i=n();if(i){const r=t.children;return typeof r=="function"&&r.length>0?ze(()=>r(e?i:()=>{if(!ze(n))throw Ds("Show");return s()})):r}return t.fallback},void 0,void 0)}function un(t){const e=Os(()=>t.children),s=oe(()=>{const n=e(),i=Array.isArray(n)?n:[n];let r=()=>{};for(let a=0;a<i.length;a++){const l=a,c=i[a],d=r,g=oe(()=>d()?void 0:c.when,void 0,void 0),f=c.keyed?g:oe(g,void 0,{equals:(u,h)=>!u==!h});r=()=>d()||(f()?[l,g,c]:void 0)}return r});return oe(()=>{const n=s()();if(!n)return t.fallback;const[i,r,a]=n,l=a.children;return typeof l=="function"&&l.length>0?ze(()=>l(a.keyed?r():()=>{if(ze(s)()?.[0]!==i)throw Ds("Match");return r()})):l},void 0,void 0)}function Ot(t){return t}const qe=t=>oe(()=>t());function gn(t,e,s){let n=s.length,i=e.length,r=n,a=0,l=0,c=e[i-1].nextSibling,d=null;for(;a<i||l<r;){if(e[a]===s[l]){a++,l++;continue}for(;e[i-1]===s[r-1];)i--,r--;if(i===a){const g=r<n?l?s[l-1].nextSibling:s[r-l]:c;for(;l<r;)t.insertBefore(s[l++],g)}else if(r===l)for(;a<i;)(!d||!d.has(e[a]))&&e[a].remove(),a++;else if(e[a]===s[r-1]&&s[l]===e[i-1]){const g=e[--i].nextSibling;t.insertBefore(s[l++],e[a++].nextSibling),t.insertBefore(s[--r],g),e[i]=s[r]}else{if(!d){d=new Map;let f=l;for(;f<r;)d.set(s[f],f++)}const g=d.get(e[a]);if(g!=null)if(l<g&&g<r){let f=a,u=1,h;for(;++f<i&&f<r&&!((h=d.get(e[f]))==null||h!==g+u);)u++;if(u>g-l){const m=e[a];for(;l<g;)t.insertBefore(s[l++],m)}else t.replaceChild(s[l++],e[a++])}else a++;else e[a++].remove()}}}const ls="_$DX_DELEGATE";function fn(t,e,s,n={}){let i;return Nt(r=>{i=r,e===document?t():o(e,t(),e.firstChild?null:void 0,s)},n.owner),()=>{i(),e.textContent=""}}function E(t,e,s,n){let i;const r=()=>{const l=n?document.createElementNS("http://www.w3.org/1998/Math/MathML","template"):document.createElement("template");return l.innerHTML=t,s?l.content.firstChild.firstChild:n?l.firstChild:l.content.firstChild},a=e?()=>ze(()=>document.importNode(i||(i=r()),!0)):()=>(i||(i=r())).cloneNode(!0);return a.cloneNode=a,a}function Ee(t,e=window.document){const s=e[ls]||(e[ls]=new Set);for(let n=0,i=t.length;n<i;n++){const r=t[n];s.has(r)||(s.add(r),e.addEventListener(r,pn))}}function Y(t,e,s){s==null?t.removeAttribute(e):t.setAttribute(e,s)}function Ve(t,e){e==null?t.removeAttribute("class"):t.className=e}function hn(t,e,s,n){Array.isArray(s)?(t[`$$${e}`]=s[0],t[`$$${e}Data`]=s[1]):t[`$$${e}`]=s}function os(t,e,s){return ze(()=>t(e,s))}function o(t,e,s,n){if(s!==void 0&&!n&&(n=[]),typeof e!="function")return It(t,e,n,s);k(i=>It(t,e(),i,s),n)}function pn(t){let e=t.target;const s=`$$${t.type}`,n=t.target,i=t.currentTarget,r=c=>Object.defineProperty(t,"target",{configurable:!0,value:c}),a=()=>{const c=e[s];if(c&&!e.disabled){const d=e[`${s}Data`];if(d!==void 0?c.call(e,d,t):c.call(e,t),t.cancelBubble)return}return e.host&&typeof e.host!="string"&&!e.host._$host&&e.contains(t.target)&&r(e.host),!0},l=()=>{for(;a()&&(e=e._$host||e.parentNode||e.host););};if(Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return e||document}}),t.composedPath){const c=t.composedPath();r(c[0]);for(let d=0;d<c.length-2&&(e=c[d],!!a());d++){if(e._$host){e=e._$host,l();break}if(e.parentNode===i)break}}else l();r(n)}function It(t,e,s,n,i){for(;typeof s=="function";)s=s();if(e===s)return s;const r=typeof e,a=n!==void 0;if(t=a&&s[0]&&s[0].parentNode||t,r==="string"||r==="number"){if(r==="number"&&(e=e.toString(),e===s))return s;if(a){let l=s[0];l&&l.nodeType===3?l.data!==e&&(l.data=e):l=document.createTextNode(e),s=ct(t,s,n,l)}else s!==""&&typeof s=="string"?s=t.firstChild.data=e:s=t.textContent=e}else if(e==null||r==="boolean")s=ct(t,s,n);else{if(r==="function")return k(()=>{let l=e();for(;typeof l=="function";)l=l();s=It(t,l,s,n)}),()=>s;if(Array.isArray(e)){const l=[],c=s&&Array.isArray(s);if(es(l,e,s,i))return k(()=>s=It(t,l,s,n,!0)),()=>s;if(l.length===0){if(s=ct(t,s,n),a)return s}else c?s.length===0?cs(t,l,n):gn(t,s,l):(s&&ct(t),cs(t,l));s=l}else if(e.nodeType){if(Array.isArray(s)){if(a)return s=ct(t,s,n,e);ct(t,s,null,e)}else s==null||s===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);s=e}}return s}function es(t,e,s,n){let i=!1;for(let r=0,a=e.length;r<a;r++){let l=e[r],c=s&&s[t.length],d;if(!(l==null||l===!0||l===!1))if((d=typeof l)=="object"&&l.nodeType)t.push(l);else if(Array.isArray(l))i=es(t,l,c)||i;else if(d==="function")if(n){for(;typeof l=="function";)l=l();i=es(t,Array.isArray(l)?l:[l],Array.isArray(c)?c:[c])||i}else t.push(l),i=!0;else{const g=String(l);c&&c.nodeType===3&&c.data===g?t.push(c):t.push(document.createTextNode(g))}}return i}function cs(t,e,s=null){for(let n=0,i=e.length;n<i;n++)t.insertBefore(e[n],s)}function ct(t,e,s,n){if(s===void 0)return t.textContent="";const i=n||document.createTextNode("");if(e.length){let r=!1;for(let a=e.length-1;a>=0;a--){const l=e[a];if(i!==l){const c=l.parentNode===t;!r&&!a?c?t.replaceChild(i,l):t.insertBefore(i,s):c&&l.remove()}else r=!0}}else t.insertBefore(i,s);return[i]}const q=t=>typeof t=="string",pt=()=>{let t,e;const s=new Promise((n,i)=>{t=n,e=i});return s.resolve=t,s.reject=e,s},ds=t=>t==null?"":""+t,_n=(t,e,s)=>{t.forEach(n=>{e[n]&&(s[n]=e[n])})},mn=/###/g,us=t=>t&&t.indexOf("###")>-1?t.replace(mn,"."):t,gs=t=>!t||q(t),$t=(t,e,s)=>{const n=q(e)?e.split("."):e;let i=0;for(;i<n.length-1;){if(gs(t))return{};const r=us(n[i]);!t[r]&&s&&(t[r]=new s),Object.prototype.hasOwnProperty.call(t,r)?t=t[r]:t={},++i}return gs(t)?{}:{obj:t,k:us(n[i])}},fs=(t,e,s)=>{const{obj:n,k:i}=$t(t,e,Object);if(n!==void 0||e.length===1){n[i]=s;return}let r=e[e.length-1],a=e.slice(0,e.length-1),l=$t(t,a,Object);for(;l.obj===void 0&&a.length;)r=`${a[a.length-1]}.${r}`,a=a.slice(0,a.length-1),l=$t(t,a,Object),l&&l.obj&&typeof l.obj[`${l.k}.${r}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${r}`]=s},vn=(t,e,s,n)=>{const{obj:i,k:r}=$t(t,e,Object);i[r]=i[r]||[],i[r].push(s)},Mt=(t,e)=>{const{obj:s,k:n}=$t(t,e);if(s)return s[n]},bn=(t,e,s)=>{const n=Mt(t,s);return n!==void 0?n:Mt(e,s)},Is=(t,e,s)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?q(t[n])||t[n]instanceof String||q(e[n])||e[n]instanceof String?s&&(t[n]=e[n]):Is(t[n],e[n],s):t[n]=e[n]);return t},dt=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var $n={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const xn=t=>q(t)?t.replace(/[&<>"'\/]/g,e=>$n[e]):t;class Sn{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const s=this.regExpMap.get(e);if(s!==void 0)return s;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const yn=[" ",",","?","!",";"],wn=new Sn(20),Cn=(t,e,s)=>{e=e||"",s=s||"";const n=yn.filter(a=>e.indexOf(a)<0&&s.indexOf(a)<0);if(n.length===0)return!0;const i=wn.getRegExp(`(${n.map(a=>a==="?"?"\\?":a).join("|")})`);let r=!i.test(t);if(!r){const a=t.indexOf(s);a>0&&!i.test(t.substring(0,a))&&(r=!0)}return r},ts=function(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const n=e.split(s);let i=t;for(let r=0;r<n.length;){if(!i||typeof i!="object")return;let a,l="";for(let c=r;c<n.length;++c)if(c!==r&&(l+=s),l+=n[c],a=i[l],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&c<n.length-1)continue;r+=c-r+1;break}i=a}return i},Ut=t=>t&&t.replace("_","-"),kn={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class zt{constructor(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,s)}init(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=s.prefix||"i18next:",this.logger=e||kn,this.options=s,this.debug=s.debug}log(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return this.forward(s,"log","",!0)}warn(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return this.forward(s,"warn","",!0)}error(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return this.forward(s,"error","")}deprecate(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return this.forward(s,"warn","WARNING DEPRECATED: ",!0)}forward(e,s,n,i){return i&&!this.debug?null:(q(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[s](e))}create(e){return new zt(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new zt(this.logger,e)}}var He=new zt;class qt{constructor(){this.observers={}}on(e,s){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const i=this.observers[n].get(s)||0;this.observers[n].set(s,i+1)}),this}off(e,s){if(this.observers[e]){if(!s){delete this.observers[e];return}this.observers[e].delete(s)}}emit(e){for(var s=arguments.length,n=new Array(s>1?s-1:0),i=1;i<s;i++)n[i-1]=arguments[i];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(a=>{let[l,c]=a;for(let d=0;d<c;d++)l(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(a=>{let[l,c]=a;for(let d=0;d<c;d++)l.apply(l,[e,...n])})}}class hs extends qt{constructor(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const s=this.options.ns.indexOf(e);s>-1&&this.options.ns.splice(s,1)}getResource(e,s,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const r=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,a=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;e.indexOf(".")>-1?l=e.split("."):(l=[e,s],n&&(Array.isArray(n)?l.push(...n):q(n)&&r?l.push(...n.split(r)):l.push(n)));const c=Mt(this.data,l);return!c&&!s&&!n&&e.indexOf(".")>-1&&(e=l[0],s=l[1],n=l.slice(2).join(".")),c||!a||!q(n)?c:ts(this.data&&this.data[e]&&this.data[e][s],n,r)}addResource(e,s,n,i){let r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const a=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let l=[e,s];n&&(l=l.concat(a?n.split(a):n)),e.indexOf(".")>-1&&(l=e.split("."),i=s,s=l[1]),this.addNamespaces(s),fs(this.data,l,i),r.silent||this.emit("added",e,s,n,i)}addResources(e,s,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const r in n)(q(n[r])||Array.isArray(n[r]))&&this.addResource(e,s,r,n[r],{silent:!0});i.silent||this.emit("added",e,s,n)}addResourceBundle(e,s,n,i,r){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},l=[e,s];e.indexOf(".")>-1&&(l=e.split("."),i=n,n=s,s=l[1]),this.addNamespaces(s);let c=Mt(this.data,l)||{};a.skipCopy||(n=JSON.parse(JSON.stringify(n))),i?Is(c,n,r):c={...c,...n},fs(this.data,l,c),a.silent||this.emit("added",e,s,n)}removeResourceBundle(e,s){this.hasResourceBundle(e,s)&&delete this.data[e][s],this.removeNamespaces(s),this.emit("removed",e,s)}hasResourceBundle(e,s){return this.getResource(e,s)!==void 0}getResourceBundle(e,s){return s||(s=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,s)}:this.getResource(e,s)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const s=this.getDataByLanguage(e);return!!(s&&Object.keys(s)||[]).find(i=>s[i]&&Object.keys(s[i]).length>0)}toJSON(){return this.data}}var Ms={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,s,n,i){return t.forEach(r=>{this.processors[r]&&(e=this.processors[r].process(e,s,n,i))}),e}};const ps={};class jt extends qt{constructor(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),_n(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=He.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const n=this.resolve(e,s);return n&&n.res!==void 0}extractFromKey(e,s){let n=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let r=s.ns||this.options.defaultNS||[];const a=n&&e.indexOf(n)>-1,l=!this.options.userDefinedKeySeparator&&!s.keySeparator&&!this.options.userDefinedNsSeparator&&!s.nsSeparator&&!Cn(e,n,i);if(a&&!l){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:q(r)?[r]:r};const d=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(d[0])>-1)&&(r=d.shift()),e=d.join(i)}return{key:e,namespaces:q(r)?[r]:r}}translate(e,s,n){if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof s=="object"&&(s={...s}),s||(s={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const i=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,r=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:a,namespaces:l}=this.extractFromKey(e[e.length-1],s),c=l[l.length-1],d=s.lng||this.language,g=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(d&&d.toLowerCase()==="cimode"){if(g){const b=s.nsSeparator||this.options.nsSeparator;return i?{res:`${c}${b}${a}`,usedKey:a,exactUsedKey:a,usedLng:d,usedNS:c,usedParams:this.getUsedParamsDetails(s)}:`${c}${b}${a}`}return i?{res:a,usedKey:a,exactUsedKey:a,usedLng:d,usedNS:c,usedParams:this.getUsedParamsDetails(s)}:a}const f=this.resolve(e,s);let u=f&&f.res;const h=f&&f.usedKey||a,m=f&&f.exactUsedKey||a,p=Object.prototype.toString.apply(u),_=["[object Number]","[object Function]","[object RegExp]"],$=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,S=!this.i18nFormat||this.i18nFormat.handleAsObject,P=!q(u)&&typeof u!="boolean"&&typeof u!="number";if(S&&u&&P&&_.indexOf(p)<0&&!(q($)&&Array.isArray(u))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const b=this.options.returnedObjectHandler?this.options.returnedObjectHandler(h,u,{...s,ns:l}):`key '${a} (${this.language})' returned an object instead of string.`;return i?(f.res=b,f.usedParams=this.getUsedParamsDetails(s),f):b}if(r){const b=Array.isArray(u),L=b?[]:{},K=b?m:h;for(const N in u)if(Object.prototype.hasOwnProperty.call(u,N)){const R=`${K}${r}${N}`;L[N]=this.translate(R,{...s,joinArrays:!1,ns:l}),L[N]===R&&(L[N]=u[N])}u=L}}else if(S&&q($)&&Array.isArray(u))u=u.join($),u&&(u=this.extendTranslation(u,e,s,n));else{let b=!1,L=!1;const K=s.count!==void 0&&!q(s.count),N=jt.hasDefaultValue(s),R=K?this.pluralResolver.getSuffix(d,s.count,s):"",x=s.ordinal&&K?this.pluralResolver.getSuffix(d,s.count,{ordinal:!1}):"",w=K&&!s.ordinal&&s.count===0&&this.pluralResolver.shouldUseIntlApi(),F=w&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${R}`]||s[`defaultValue${x}`]||s.defaultValue;!this.isValidLookup(u)&&N&&(b=!0,u=F),this.isValidLookup(u)||(L=!0,u=a);const D=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&L?void 0:u,T=N&&F!==u&&this.options.updateMissing;if(L||b||T){if(this.logger.log(T?"updateKey":"missingKey",d,c,a,T?F:u),r){const z=this.resolve(a,{...s,keySeparator:!1});z&&z.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let I=[];const j=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&j&&j[0])for(let z=0;z<j.length;z++)I.push(j[z]);else this.options.saveMissingTo==="all"?I=this.languageUtils.toResolveHierarchy(s.lng||this.language):I.push(s.lng||this.language);const W=(z,V,A)=>{const U=N&&A!==u?A:D;this.options.missingKeyHandler?this.options.missingKeyHandler(z,c,V,U,T,s):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(z,c,V,U,T,s),this.emit("missingKey",z,c,V,u)};this.options.saveMissing&&(this.options.saveMissingPlurals&&K?I.forEach(z=>{const V=this.pluralResolver.getSuffixes(z,s);w&&s[`defaultValue${this.options.pluralSeparator}zero`]&&V.indexOf(`${this.options.pluralSeparator}zero`)<0&&V.push(`${this.options.pluralSeparator}zero`),V.forEach(A=>{W([z],a+A,s[`defaultValue${A}`]||F)})}):W(I,a,F))}u=this.extendTranslation(u,e,s,f,n),L&&u===a&&this.options.appendNamespaceToMissingKey&&(u=`${c}:${a}`),(L||b)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?u=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${a}`:a,b?u:void 0):u=this.options.parseMissingKeyHandler(u))}return i?(f.res=u,f.usedParams=this.getUsedParamsDetails(s),f):u}extendTranslation(e,s,n,i,r){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const d=q(e)&&(n&&n.interpolation&&n.interpolation.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let g;if(d){const u=e.match(this.interpolator.nestingRegexp);g=u&&u.length}let f=n.replace&&!q(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),e=this.interpolator.interpolate(e,f,n.lng||this.language||i.usedLng,n),d){const u=e.match(this.interpolator.nestingRegexp),h=u&&u.length;g<h&&(n.nest=!1)}!n.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(n.lng=this.language||i.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var u=arguments.length,h=new Array(u),m=0;m<u;m++)h[m]=arguments[m];return r&&r[0]===h[0]&&!n.context?(a.logger.warn(`It seems you are nesting recursively key: ${h[0]} in key: ${s[0]}`),null):a.translate(...h,s)},n)),n.interpolation&&this.interpolator.reset()}const l=n.postProcess||this.options.postProcess,c=q(l)?[l]:l;return e!=null&&c&&c.length&&n.applyPostProcessor!==!1&&(e=Ms.handle(c,e,s,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n,i,r,a,l;return q(e)&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(n))return;const d=this.extractFromKey(c,s),g=d.key;i=g;let f=d.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const u=s.count!==void 0&&!q(s.count),h=u&&!s.ordinal&&s.count===0&&this.pluralResolver.shouldUseIntlApi(),m=s.context!==void 0&&(q(s.context)||typeof s.context=="number")&&s.context!=="",p=s.lngs?s.lngs:this.languageUtils.toResolveHierarchy(s.lng||this.language,s.fallbackLng);f.forEach(_=>{this.isValidLookup(n)||(l=_,!ps[`${p[0]}-${_}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(l)&&(ps[`${p[0]}-${_}`]=!0,this.logger.warn(`key "${i}" for languages "${p.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach($=>{if(this.isValidLookup(n))return;a=$;const S=[g];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(S,g,$,_,s);else{let b;u&&(b=this.pluralResolver.getSuffix($,s.count,s));const L=`${this.options.pluralSeparator}zero`,K=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(u&&(S.push(g+b),s.ordinal&&b.indexOf(K)===0&&S.push(g+b.replace(K,this.options.pluralSeparator)),h&&S.push(g+L)),m){const N=`${g}${this.options.contextSeparator}${s.context}`;S.push(N),u&&(S.push(N+b),s.ordinal&&b.indexOf(K)===0&&S.push(N+b.replace(K,this.options.pluralSeparator)),h&&S.push(N+L))}}let P;for(;P=S.pop();)this.isValidLookup(n)||(r=P,n=this.getResource($,_,P,s))}))})}),{res:n,usedKey:i,exactUsedKey:r,usedLng:a,usedNS:l}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,s,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,s,n,i):this.resourceStore.getResource(e,s,n,i)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const s=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!q(e.replace);let i=n?e.replace:e;if(n&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!n){i={...i};for(const r of s)delete i[r]}return i}static hasDefaultValue(e){const s="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&s===n.substring(0,s.length)&&e[n]!==void 0)return!0;return!1}}const Jt=t=>t.charAt(0).toUpperCase()+t.slice(1);class _s{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=He.create("languageUtils")}getScriptPartFromCode(e){if(e=Ut(e),!e||e.indexOf("-")<0)return null;const s=e.split("-");return s.length===2||(s.pop(),s[s.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(s.join("-"))}getLanguagePartFromCode(e){if(e=Ut(e),!e||e.indexOf("-")<0)return e;const s=e.split("-");return this.formatLanguageCode(s[0])}formatLanguageCode(e){if(q(e)&&e.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let i=Intl.getCanonicalLocales(e)[0];if(i&&this.options.lowerCaseLng&&(i=i.toLowerCase()),i)return i}catch{}const s=["hans","hant","latn","cyrl","cans","mong","arab"];let n=e.split("-");return this.options.lowerCaseLng?n=n.map(i=>i.toLowerCase()):n.length===2?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),s.indexOf(n[1].toLowerCase())>-1&&(n[1]=Jt(n[1].toLowerCase()))):n.length===3&&(n[0]=n[0].toLowerCase(),n[1].length===2&&(n[1]=n[1].toUpperCase()),n[0]!=="sgn"&&n[2].length===2&&(n[2]=n[2].toUpperCase()),s.indexOf(n[1].toLowerCase())>-1&&(n[1]=Jt(n[1].toLowerCase())),s.indexOf(n[2].toLowerCase())>-1&&(n[2]=Jt(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let s;return e.forEach(n=>{if(s)return;const i=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(i))&&(s=i)}),!s&&this.options.supportedLngs&&e.forEach(n=>{if(s)return;const i=this.getLanguagePartFromCode(n);if(this.isSupportedCode(i))return s=i;s=this.options.supportedLngs.find(r=>{if(r===i)return r;if(!(r.indexOf("-")<0&&i.indexOf("-")<0)&&(r.indexOf("-")>0&&i.indexOf("-")<0&&r.substring(0,r.indexOf("-"))===i||r.indexOf(i)===0&&i.length>1))return r})}),s||(s=this.getFallbackCodes(this.options.fallbackLng)[0]),s}getFallbackCodes(e,s){if(!e)return[];if(typeof e=="function"&&(e=e(s)),q(e)&&(e=[e]),Array.isArray(e))return e;if(!s)return e.default||[];let n=e[s];return n||(n=e[this.getScriptPartFromCode(s)]),n||(n=e[this.formatLanguageCode(s)]),n||(n=e[this.getLanguagePartFromCode(s)]),n||(n=e.default),n||[]}toResolveHierarchy(e,s){const n=this.getFallbackCodes(s||this.options.fallbackLng||[],e),i=[],r=a=>{a&&(this.isSupportedCode(a)?i.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return q(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&r(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&r(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&r(this.getLanguagePartFromCode(e))):q(e)&&r(this.formatLanguageCode(e)),n.forEach(a=>{i.indexOf(a)<0&&r(this.formatLanguageCode(a))}),i}}let Pn=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],Ln={1:t=>+(t>1),2:t=>+(t!=1),3:t=>0,4:t=>t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,5:t=>t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5,6:t=>t==1?0:t>=2&&t<=4?1:2,7:t=>t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,8:t=>t==1?0:t==2?1:t!=8&&t!=11?2:3,9:t=>+(t>=2),10:t=>t==1?0:t==2?1:t<7?2:t<11?3:4,11:t=>t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3,12:t=>+(t%10!=1||t%100==11),13:t=>+(t!==0),14:t=>t==1?0:t==2?1:t==3?2:3,15:t=>t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2,16:t=>t%10==1&&t%100!=11?0:t!==0?1:2,17:t=>t==1||t%10==1&&t%100!=11?0:1,18:t=>t==0?0:t==1?1:2,19:t=>t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3,20:t=>t==1?0:t==0||t%100>0&&t%100<20?1:2,21:t=>t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0,22:t=>t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3};const An=["v1","v2","v3"],On=["v4"],ms={zero:0,one:1,two:2,few:3,many:4,other:5},En=()=>{const t={};return Pn.forEach(e=>{e.lngs.forEach(s=>{t[s]={numbers:e.nr,plurals:Ln[e.fc]}})}),t};class Nn{constructor(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=s,this.logger=He.create("pluralResolver"),(!this.options.compatibilityJSON||On.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=En(),this.pluralRulesCache={}}addRule(e,s){this.rules[e]=s}clearCache(){this.pluralRulesCache={}}getRule(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const n=Ut(e==="dev"?"en":e),i=s.ordinal?"ordinal":"cardinal",r=JSON.stringify({cleanedCode:n,type:i});if(r in this.pluralRulesCache)return this.pluralRulesCache[r];let a;try{a=new Intl.PluralRules(n,{type:i})}catch{if(!e.match(/-|_/))return;const c=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(c,s)}return this.pluralRulesCache[r]=a,a}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(e,s);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(e,s){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,n).map(i=>`${s}${i}`)}getSuffixes(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(e,s);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((i,r)=>ms[i]-ms[r]).map(i=>`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${i}`):n.numbers.map(i=>this.getSuffix(e,i,s)):[]}getSuffix(e,s){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(e,n);return i?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i.select(s)}`:this.getSuffixRetroCompatible(i,s):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,s){const n=e.noAbs?e.plurals(s):e.plurals(Math.abs(s));let i=e.numbers[n];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const r=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?`_plural_${i.toString()}`:r():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?r():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!An.includes(this.options.compatibilityJSON)}}const vs=function(t,e,s){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,r=bn(t,e,s);return!r&&i&&q(s)&&(r=ts(t,s,n),r===void 0&&(r=ts(e,s,n))),r},Gt=t=>t.replace(/\$/g,"$$$$");class Fn{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=He.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(s=>s),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:s,escapeValue:n,useRawValueToEscape:i,prefix:r,prefixEscaped:a,suffix:l,suffixEscaped:c,formatSeparator:d,unescapeSuffix:g,unescapePrefix:f,nestingPrefix:u,nestingPrefixEscaped:h,nestingSuffix:m,nestingSuffixEscaped:p,nestingOptionsSeparator:_,maxReplaces:$,alwaysFormat:S}=e.interpolation;this.escape=s!==void 0?s:xn,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=r?dt(r):a||"{{",this.suffix=l?dt(l):c||"}}",this.formatSeparator=d||",",this.unescapePrefix=g?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":g||"",this.nestingPrefix=u?dt(u):h||dt("$t("),this.nestingSuffix=m?dt(m):p||dt(")"),this.nestingOptionsSeparator=_||",",this.maxReplaces=$||1e3,this.alwaysFormat=S!==void 0?S:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(s,n)=>s&&s.source===n?(s.lastIndex=0,s):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,s,n,i){let r,a,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},d=h=>{if(h.indexOf(this.formatSeparator)<0){const $=vs(s,c,h,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format($,void 0,n,{...i,...s,interpolationkey:h}):$}const m=h.split(this.formatSeparator),p=m.shift().trim(),_=m.join(this.formatSeparator).trim();return this.format(vs(s,c,p,this.options.keySeparator,this.options.ignoreJSONStructure),_,n,{...i,...s,interpolationkey:p})};this.resetRegExp();const g=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,f=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:h=>Gt(h)},{regex:this.regexp,safeValue:h=>this.escapeValue?Gt(this.escape(h)):Gt(h)}].forEach(h=>{for(l=0;r=h.regex.exec(e);){const m=r[1].trim();if(a=d(m),a===void 0)if(typeof g=="function"){const _=g(e,r,i);a=q(_)?_:""}else if(i&&Object.prototype.hasOwnProperty.call(i,m))a="";else if(f){a=r[0];continue}else this.logger.warn(`missed to pass in variable ${m} for interpolating ${e}`),a="";else!q(a)&&!this.useRawValueToEscape&&(a=ds(a));const p=h.safeValue(a);if(e=e.replace(r[0],p),f?(h.regex.lastIndex+=a.length,h.regex.lastIndex-=r[0].length):h.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),e}nest(e,s){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,r,a;const l=(c,d)=>{const g=this.nestingOptionsSeparator;if(c.indexOf(g)<0)return c;const f=c.split(new RegExp(`${g}[ ]*{`));let u=`{${f[1]}`;c=f[0],u=this.interpolate(u,a);const h=u.match(/'/g),m=u.match(/"/g);(h&&h.length%2===0&&!m||m.length%2!==0)&&(u=u.replace(/'/g,'"'));try{a=JSON.parse(u),d&&(a={...d,...a})}catch(p){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,p),`${c}${g}${u}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,c};for(;i=this.nestingRegexp.exec(e);){let c=[];a={...n},a=a.replace&&!q(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;let d=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const g=i[1].split(this.formatSeparator).map(f=>f.trim());i[1]=g.shift(),c=g,d=!0}if(r=s(l.call(this,i[1].trim(),a),a),r&&i[0]===e&&!q(r))return r;q(r)||(r=ds(r)),r||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),r=""),d&&(r=c.reduce((g,f)=>this.format(g,f,n.lng,{...n,interpolationkey:i[1].trim()}),r.trim())),e=e.replace(i[0],r),this.regexp.lastIndex=0}return e}}const Rn=t=>{let e=t.toLowerCase().trim();const s={};if(t.indexOf("(")>-1){const n=t.split("(");e=n[0].toLowerCase().trim();const i=n[1].substring(0,n[1].length-1);e==="currency"&&i.indexOf(":")<0?s.currency||(s.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?s.range||(s.range=i.trim()):i.split(";").forEach(a=>{if(a){const[l,...c]=a.split(":"),d=c.join(":").trim().replace(/^'+|'+$/g,""),g=l.trim();s[g]||(s[g]=d),d==="false"&&(s[g]=!1),d==="true"&&(s[g]=!0),isNaN(d)||(s[g]=parseInt(d,10))}})}return{formatName:e,formatOptions:s}},ut=t=>{const e={};return(s,n,i)=>{let r=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(r={...r,[i.interpolationkey]:void 0});const a=n+JSON.stringify(r);let l=e[a];return l||(l=t(Ut(n),i),e[a]=l),l(s)}};class Tn{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=He.create("formatter"),this.options=e,this.formats={number:ut((s,n)=>{const i=new Intl.NumberFormat(s,{...n});return r=>i.format(r)}),currency:ut((s,n)=>{const i=new Intl.NumberFormat(s,{...n,style:"currency"});return r=>i.format(r)}),datetime:ut((s,n)=>{const i=new Intl.DateTimeFormat(s,{...n});return r=>i.format(r)}),relativetime:ut((s,n)=>{const i=new Intl.RelativeTimeFormat(s,{...n});return r=>i.format(r,n.range||"day")}),list:ut((s,n)=>{const i=new Intl.ListFormat(s,{...n});return r=>i.format(r)})},this.init(e)}init(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=s.interpolation.formatSeparator||","}add(e,s){this.formats[e.toLowerCase().trim()]=s}addCached(e,s){this.formats[e.toLowerCase().trim()]=ut(s)}format(e,s,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const r=s.split(this.formatSeparator);if(r.length>1&&r[0].indexOf("(")>1&&r[0].indexOf(")")<0&&r.find(l=>l.indexOf(")")>-1)){const l=r.findIndex(c=>c.indexOf(")")>-1);r[0]=[r[0],...r.splice(1,l)].join(this.formatSeparator)}return r.reduce((l,c)=>{const{formatName:d,formatOptions:g}=Rn(c);if(this.formats[d]){let f=l;try{const u=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},h=u.locale||u.lng||i.locale||i.lng||n;f=this.formats[d](l,h,{...g,...i,...u})}catch(u){this.logger.warn(u)}return f}else this.logger.warn(`there was no format function for ${d}`);return l},e)}}const Dn=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class In extends qt{constructor(e,s,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=s,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=He.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,i.backend,i)}queueLoad(e,s,n,i){const r={},a={},l={},c={};return e.forEach(d=>{let g=!0;s.forEach(f=>{const u=`${d}|${f}`;!n.reload&&this.store.hasResourceBundle(d,f)?this.state[u]=2:this.state[u]<0||(this.state[u]===1?a[u]===void 0&&(a[u]=!0):(this.state[u]=1,g=!1,a[u]===void 0&&(a[u]=!0),r[u]===void 0&&(r[u]=!0),c[f]===void 0&&(c[f]=!0)))}),g||(l[d]=!0)}),(Object.keys(r).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(r),pending:Object.keys(a),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(e,s,n){const i=e.split("|"),r=i[0],a=i[1];s&&this.emit("failedLoading",r,a,s),!s&&n&&this.store.addResourceBundle(r,a,n,void 0,void 0,{skipCopy:!0}),this.state[e]=s?-1:2,s&&n&&(this.state[e]=0);const l={};this.queue.forEach(c=>{vn(c.loaded,[r],a),Dn(c,e),s&&c.errors.push(s),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(d=>{l[d]||(l[d]={});const g=c.loaded[d];g.length&&g.forEach(f=>{l[d][f]===void 0&&(l[d][f]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(e,s,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:s,fcName:n,tried:i,wait:r,callback:a});return}this.readingCalls++;const l=(d,g)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(d&&g&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,s,n,i+1,r*2,a)},r);return}a(d,g)},c=this.backend[n].bind(this.backend);if(c.length===2){try{const d=c(e,s);d&&typeof d.then=="function"?d.then(g=>l(null,g)).catch(l):l(null,d)}catch(d){l(d)}return}return c(e,s,l)}prepareLoading(e,s){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();q(e)&&(e=this.languageUtils.toResolveHierarchy(e)),q(s)&&(s=[s]);const r=this.queueLoad(e,s,n,i);if(!r.toLoad.length)return r.pending.length||i(),null;r.toLoad.forEach(a=>{this.loadOne(a)})}load(e,s,n){this.prepareLoading(e,s,{},n)}reload(e,s,n){this.prepareLoading(e,s,{reload:!0},n)}loadOne(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=e.split("|"),i=n[0],r=n[1];this.read(i,r,"read",void 0,void 0,(a,l)=>{a&&this.logger.warn(`${s}loading namespace ${r} for language ${i} failed`,a),!a&&l&&this.logger.log(`${s}loaded namespace ${r} for language ${i}`,l),this.loaded(e,a,l)})}saveMissing(e,s,n,i,r){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},l=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(s)){this.logger.warn(`did not save key "${n}" as the namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend&&this.backend.create){const c={...a,isUpdate:r},d=this.backend.create.bind(this.backend);if(d.length<6)try{let g;d.length===5?g=d(e,s,n,i,c):g=d(e,s,n,i),g&&typeof g.then=="function"?g.then(f=>l(null,f)).catch(l):l(null,g)}catch(g){l(g)}else d(e,s,n,i,l,c)}!e||!e[0]||this.store.addResource(e[0],s,n,i)}}}const bs=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),q(t[1])&&(e.defaultValue=t[1]),q(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const s=t[3]||t[2];Object.keys(s).forEach(n=>{e[n]=s[n]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),$s=t=>(q(t.ns)&&(t.ns=[t.ns]),q(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),q(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t),Et=()=>{},Mn=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(s=>{typeof t[s]=="function"&&(t[s]=t[s].bind(t))})};class St extends qt{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;if(super(),this.options=$s(e),this.services={},this.logger=He,this.modules={external:[]},Mn(this),s&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,s),this;setTimeout(()=>{this.init(e,s)},0)}}init(){var e=this;let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof s=="function"&&(n=s,s={}),!s.defaultNS&&s.defaultNS!==!1&&s.ns&&(q(s.ns)?s.defaultNS=s.ns:s.ns.indexOf("translation")<0&&(s.defaultNS=s.ns[0]));const i=bs();this.options={...i,...this.options,...$s(s)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),s.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=s.keySeparator),s.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=s.nsSeparator);const r=g=>g?typeof g=="function"?new g:g:null;if(!this.options.isClone){this.modules.logger?He.init(r(this.modules.logger),this.options):He.init(null,this.options);let g;this.modules.formatter?g=this.modules.formatter:typeof Intl<"u"&&(g=Tn);const f=new _s(this.options);this.store=new hs(this.options.resources,this.options);const u=this.services;u.logger=He,u.resourceStore=this.store,u.languageUtils=f,u.pluralResolver=new Nn(f,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),g&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(u.formatter=r(g),u.formatter.init(u,this.options),this.options.interpolation.format=u.formatter.format.bind(u.formatter)),u.interpolator=new Fn(this.options),u.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},u.backendConnector=new In(r(this.modules.backend),u.resourceStore,u,this.options),u.backendConnector.on("*",function(h){for(var m=arguments.length,p=new Array(m>1?m-1:0),_=1;_<m;_++)p[_-1]=arguments[_];e.emit(h,...p)}),this.modules.languageDetector&&(u.languageDetector=r(this.modules.languageDetector),u.languageDetector.init&&u.languageDetector.init(u,this.options.detection,this.options)),this.modules.i18nFormat&&(u.i18nFormat=r(this.modules.i18nFormat),u.i18nFormat.init&&u.i18nFormat.init(this)),this.translator=new jt(this.services,this.options),this.translator.on("*",function(h){for(var m=arguments.length,p=new Array(m>1?m-1:0),_=1;_<m;_++)p[_-1]=arguments[_];e.emit(h,...p)}),this.modules.external.forEach(h=>{h.init&&h.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Et),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const g=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);g.length>0&&g[0]!=="dev"&&(this.options.lng=g[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(g=>{this[g]=function(){return e.store[g](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(g=>{this[g]=function(){return e.store[g](...arguments),e}});const c=pt(),d=()=>{const g=(f,u)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(u),n(f,u)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return g(null,this.t.bind(this));this.changeLanguage(this.options.lng,g)};return this.options.resources||!this.options.initImmediate?d():setTimeout(d,0),c}loadResources(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Et;const i=q(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const r=[],a=l=>{if(!l||l==="cimode")return;this.services.languageUtils.toResolveHierarchy(l).forEach(d=>{d!=="cimode"&&r.indexOf(d)<0&&r.push(d)})};i?a(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>a(c)),this.options.preload&&this.options.preload.forEach(l=>a(l)),this.services.backendConnector.load(r,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(l)})}else n(null)}reloadResources(e,s,n){const i=pt();return typeof e=="function"&&(n=e,e=void 0),typeof s=="function"&&(n=s,s=void 0),e||(e=this.languages),s||(s=this.options.ns),n||(n=Et),this.services.backendConnector.reload(e,s,r=>{i.resolve(),n(r)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Ms.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let s=0;s<this.languages.length;s++){const n=this.languages[s];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}changeLanguage(e,s){var n=this;this.isLanguageChangingTo=e;const i=pt();this.emit("languageChanging",e);const r=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},a=(c,d)=>{d?(r(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,i.resolve(function(){return n.t(...arguments)}),s&&s(c,function(){return n.t(...arguments)})},l=c=>{!e&&!c&&this.services.languageDetector&&(c=[]);const d=q(c)?c:this.services.languageUtils.getBestMatchFromCodes(c);d&&(this.language||r(d),this.translator.language||this.translator.changeLanguage(d),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(d)),this.loadResources(d,g=>{a(g,d)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e),i}getFixedT(e,s,n){var i=this;const r=function(a,l){let c;if(typeof l!="object"){for(var d=arguments.length,g=new Array(d>2?d-2:0),f=2;f<d;f++)g[f-2]=arguments[f];c=i.options.overloadTranslationOptionHandler([a,l].concat(g))}else c={...l};c.lng=c.lng||r.lng,c.lngs=c.lngs||r.lngs,c.ns=c.ns||r.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||n||r.keyPrefix);const u=i.options.keySeparator||".";let h;return c.keyPrefix&&Array.isArray(a)?h=a.map(m=>`${c.keyPrefix}${u}${m}`):h=c.keyPrefix?`${c.keyPrefix}${u}${a}`:a,i.t(h,c)};return q(e)?r.lng=e:r.lngs=e,r.ns=s,r.keyPrefix=n,r}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=s.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,r=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const a=(l,c)=>{const d=this.services.backendConnector.state[`${l}|${c}`];return d===-1||d===0||d===2};if(s.precheck){const l=s.precheck(this,a);if(l!==void 0)return l}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(n,e)&&(!i||a(r,e)))}loadNamespaces(e,s){const n=pt();return this.options.ns?(q(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{n.resolve(),s&&s(i)}),n):(s&&s(),Promise.resolve())}loadLanguages(e,s){const n=pt();q(e)&&(e=[e]);const i=this.options.preload||[],r=e.filter(a=>i.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return r.length?(this.options.preload=i.concat(r),this.loadResources(a=>{n.resolve(),s&&s(a)}),n):(s&&s(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const s=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services&&this.services.languageUtils||new _s(bs());return s.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;return new St(e,s)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Et;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},r=new St(i);return(e.debug!==void 0||e.prefix!==void 0)&&(r.logger=r.logger.clone(e)),["store","services","language"].forEach(l=>{r[l]=this[l]}),r.services={...this.services},r.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},n&&(r.store=new hs(this.store.data,i),r.services.resourceStore=r.store),r.translator=new jt(r.services,i),r.translator.on("*",function(l){for(var c=arguments.length,d=new Array(c>1?c-1:0),g=1;g<c;g++)d[g-1]=arguments[g];r.emit(l,...d)}),r.init(i,s),r.translator.options=i,r.translator.backendConnector.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const xe=St.createInstance();xe.createInstance=St.createInstance;xe.createInstance;xe.dir;xe.init;xe.loadResources;xe.reloadResources;xe.use;xe.changeLanguage;xe.getFixedT;xe.t;xe.exists;xe.setDefaultNamespace;xe.hasLoadedNamespace;xe.loadNamespaces;xe.loadLanguages;function Un(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yt(t){"@babel/helpers - typeof";return yt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yt(t)}function zn(t,e){if(yt(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e);if(yt(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function jn(t){var e=zn(t,"string");return yt(e)=="symbol"?e:e+""}function Vn(t,e){for(var s=0;s<e.length;s++){var n=e[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jn(n.key),n)}}function Bn(t,e,s){return e&&Vn(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}var Us=[],Kn=Us.forEach,Hn=Us.slice;function qn(t){return Kn.call(Hn.call(arguments,1),function(e){if(e)for(var s in e)t[s]===void 0&&(t[s]=e[s])}),t}var xs=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Wn=function(e,s,n){var i=n||{};i.path=i.path||"/";var r=encodeURIComponent(s),a="".concat(e,"=").concat(r);if(i.maxAge>0){var l=i.maxAge-0;if(Number.isNaN(l))throw new Error("maxAge should be a Number");a+="; Max-Age=".concat(Math.floor(l))}if(i.domain){if(!xs.test(i.domain))throw new TypeError("option domain is invalid");a+="; Domain=".concat(i.domain)}if(i.path){if(!xs.test(i.path))throw new TypeError("option path is invalid");a+="; Path=".concat(i.path)}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+="; Expires=".concat(i.expires.toUTCString())}if(i.httpOnly&&(a+="; HttpOnly"),i.secure&&(a+="; Secure"),i.sameSite){var c=typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite;switch(c){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a},Ss={create:function(e,s,n,i){var r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(r.expires=new Date,r.expires.setTime(r.expires.getTime()+n*60*1e3)),i&&(r.domain=i),document.cookie=Wn(e,encodeURIComponent(s),r)},read:function(e){for(var s="".concat(e,"="),n=document.cookie.split(";"),i=0;i<n.length;i++){for(var r=n[i];r.charAt(0)===" ";)r=r.substring(1,r.length);if(r.indexOf(s)===0)return r.substring(s.length,r.length)}return null},remove:function(e){this.create(e,"",-1)}},Jn={name:"cookie",lookup:function(e){var s;if(e.lookupCookie&&typeof document<"u"){var n=Ss.read(e.lookupCookie);n&&(s=n)}return s},cacheUserLanguage:function(e,s){s.lookupCookie&&typeof document<"u"&&Ss.create(s.lookupCookie,e,s.cookieMinutes,s.cookieDomain,s.cookieOptions)}},Gn={name:"querystring",lookup:function(e){var s;if(typeof window<"u"){var n=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(n=window.location.hash.substring(window.location.hash.indexOf("?")));for(var i=n.substring(1),r=i.split("&"),a=0;a<r.length;a++){var l=r[a].indexOf("=");if(l>0){var c=r[a].substring(0,l);c===e.lookupQuerystring&&(s=r[a].substring(l+1))}}}return s}},_t=null,ys=function(){if(_t!==null)return _t;try{_t=window!=="undefined"&&window.localStorage!==null;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{_t=!1}return _t},Qn={name:"localStorage",lookup:function(e){var s;if(e.lookupLocalStorage&&ys()){var n=window.localStorage.getItem(e.lookupLocalStorage);n&&(s=n)}return s},cacheUserLanguage:function(e,s){s.lookupLocalStorage&&ys()&&window.localStorage.setItem(s.lookupLocalStorage,e)}},mt=null,ws=function(){if(mt!==null)return mt;try{mt=window!=="undefined"&&window.sessionStorage!==null;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{mt=!1}return mt},Xn={name:"sessionStorage",lookup:function(e){var s;if(e.lookupSessionStorage&&ws()){var n=window.sessionStorage.getItem(e.lookupSessionStorage);n&&(s=n)}return s},cacheUserLanguage:function(e,s){s.lookupSessionStorage&&ws()&&window.sessionStorage.setItem(s.lookupSessionStorage,e)}},Yn={name:"navigator",lookup:function(e){var s=[];if(typeof navigator<"u"){if(navigator.languages)for(var n=0;n<navigator.languages.length;n++)s.push(navigator.languages[n]);navigator.userLanguage&&s.push(navigator.userLanguage),navigator.language&&s.push(navigator.language)}return s.length>0?s:void 0}},Zn={name:"htmlTag",lookup:function(e){var s,n=e.htmlTag||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(s=n.getAttribute("lang")),s}},ei={name:"path",lookup:function(e){var s;if(typeof window<"u"){var n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(n instanceof Array)if(typeof e.lookupFromPathIndex=="number"){if(typeof n[e.lookupFromPathIndex]!="string")return;s=n[e.lookupFromPathIndex].replace("/","")}else s=n[0].replace("/","")}return s}},ti={name:"subdomain",lookup:function(e){var s=typeof e.lookupFromSubdomainIndex=="number"?e.lookupFromSubdomainIndex+1:1,n=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(n)return n[s]}},zs=!1;try{document.cookie,zs=!0}catch{}var js=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];zs||js.splice(1,1);function si(){return{order:js,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(e){return e}}}var Vs=function(){function t(e){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Un(this,t),this.type="languageDetector",this.detectors={},this.init(e,s)}return Bn(t,[{key:"init",value:function(s){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=s||{languageUtils:{}},this.options=qn(n,this.options||{},si()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(r){return r.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=i,this.addDetector(Jn),this.addDetector(Gn),this.addDetector(Qn),this.addDetector(Xn),this.addDetector(Yn),this.addDetector(Zn),this.addDetector(ei),this.addDetector(ti)}},{key:"addDetector",value:function(s){return this.detectors[s.name]=s,this}},{key:"detect",value:function(s){var n=this;s||(s=this.options.order);var i=[];return s.forEach(function(r){if(n.detectors[r]){var a=n.detectors[r].lookup(n.options);a&&typeof a=="string"&&(a=[a]),a&&(i=i.concat(a))}}),i=i.map(function(r){return n.options.convertDetectedLanguage(r)}),this.services.languageUtils.getBestMatchFromCodes?i:i.length>0?i[0]:null}},{key:"cacheUserLanguage",value:function(s,n){var i=this;n||(n=this.options.caches),n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(s)>-1||n.forEach(function(r){i.detectors[r]&&i.detectors[r].cacheUserLanguage(s,i.options)}))}}])}();Vs.type="languageDetector";const ni={page_title:"deepnest - Industrial nesting",parts:"Parts",nests:"Nests",sheets:"Sheets",settings:"Settings"},ii={stop_nest:"Stop nest",export:"Export",export_svg:"SVG file",export_dxf:"DXF file",export_json:"JSON file",back:"Back",import:"Import",start_nest:"Start nest",deselect:"Deselect",select:"Select",all:"all",add:"Add",cancel:"Cancel",save_preset:"Save Preset",load:"Load",delete:"Delete",save:"Save",reset_defaults:"set all to default"},ri={size:"Size",sheet:"Sheet",quantity:"Quantity",add_sheet:"Add Sheet",width:"width",height:"height",nesting_config:"Nesting configuration",display_units:"Display units",inches:"inches",mm:"mm",space_between_parts:"Space between parts",curve_tolerance:"Curve tolerance",part_rotations:"Part rotations",optimization_type:"Optimization type",gravity:"Gravity",bounding_box:"Bounding Box",squeeze:"Squeeze",use_rough_approximation:"Use rough approximation",cpu_cores:"CPU cores",import_export:"Import/Export",use_svg_normalizer:"Use SVG Normalizer?",svg_scale:"SVG scale",units_per:"units/",endpoint_tolerance:"Endpoint tolerance",dxf_import_units:"DXF import units",points:"Points",picas:"Picas",inches_cap:"Inches",cm:"cm",dxf_export_units:"DXF export units",export_with_sheet_boundaries:"Export with Sheet Boundborders?",export_with_sheets_space:"Export with Space between Sheets?",distance_between_sheets:"Distance between Sheets?",laser_options:"Laser options",merge_common_lines:"Merge common lines",optimization_ratio:"Optimization ratio",meta_heuristic_tuning:"Meta-heuristic fine tuning",ga_population:"GA population",ga_mutation_rate:"GA mutation rate",other_settings:"Other Settings",use_quantity_from_filename:"Use Quantity from filename",presets:"Presets",save_config_presets:"Save Configuration Presets",load_delete_presets:"Load/Delete Configuration Presets",select_preset_default:"-- Select a preset --",save_preset_title:"Save Preset",enter_preset_name:"Enter preset name"},ai={nesting_in_progress:"Nesting in progress...",error_occurred:"Error occurred",processing:"Processing...",ready:"Ready",threads_active:"{{count}} threads active",parts_loaded:"{{count}} parts loaded",nests_available:"{{count}} nests available"},li={navigation:ni,actions:ii,labels:ri,status:ai},oi="Please enter a preset name",ci="Preset saved successfully!",di="Error saving preset",ui="Please select a preset to load",gi="Preset loaded successfully!",fi="Selected preset not found",hi="Error loading preset",pi="Please select a preset to delete",_i='Are you sure you want to delete the preset "{{presetName}}"?',mi="Preset deleted successfully!",vi="Error deleting preset",bi="Please import some parts first",$i="Please mark at least one part as the sheet",xi="No file selected",Si="An error occurred reading the file",yi="Error processing SVG",wi="could not contact file conversion server",Ci="There was an Error while converting",ki={enter_preset_name:oi,preset_saved:ci,error_saving_preset:di,select_preset_to_load:ui,preset_loaded:gi,preset_not_found:fi,error_loading_preset:hi,select_preset_to_delete:pi,confirm_delete_preset:_i,preset_deleted:mi,error_deleting_preset:vi,import_parts_first:bi,mark_part_as_sheet:$i,no_file_selected:xi,file_read_error:Si,svg_processing_error:yi,conversion_server_error:wi,conversion_error:Ci},Pi="Parts",Li="Import Parts",Ai="Export Parts",Oi="Export Selected",Ei="Delete Selected",Ni="No parts selected",Fi="Failed to import parts",Ri="Failed to export parts",Ti="Total Parts",Di="Total Quantity",Ii="Select All",Mi="Deselect All",Ui="No Parts Loaded",zi="Import SVG or DXF files to get started",ji="Search parts...",Vi="Sort by",Bi="Name",Ki="Quantity",Hi="Size",qi="Rotation",Wi="Dimensions",Ji="Area",Gi="Preview Error",Qi={parts_title:Pi,import:"Import",export:"Export",delete:"Delete",import_parts:Li,export_parts:Ai,export_selected:Oi,delete_selected:Ei,no_parts_selected:Ni,import_failed:Fi,export_failed:Ri,total_parts:Ti,total_quantity:Di,select_all:Ii,deselect_all:Mi,no_parts_loaded:Ui,import_parts_to_get_started:zi,search_parts:ji,sort_by:Vi,name:Bi,quantity:Ki,size:Hi,rotation:qi,dimensions:Wi,area:Ji,preview_error:Gi},Xi="Nesting",Yi="Start Nesting",Zi="Stop Nesting",er="Clear Results",tr="Cannot start nesting: need parts and sheets",sr="Failed to start nesting",nr="Failed to stop nesting",ir="Parts to Nest",rr="Available Sheets",ar="Results Count",lr="No Nesting Results",or="Start nesting to see results here",cr="Add parts and sheets first to enable nesting",dr="Nesting in Progress",ur="Est. time remaining",gr="Current Operation",fr="Threads Active",hr="Worker Status",pr="Running",_r="Stopped",mr="Generation",vr="Best Fitness",br="Refresh Status",$r="Nesting Results",xr="Sorted by efficiency",Sr="Result",yr="Best",wr="Efficiency",Cr="Fitness",kr="Sheets Used",Pr="Parts Placed",Lr="View Details",Ar="Back to Results",Or="Result Details",Er="Export Result",Nr="Export failed",Fr="Click to view",Rr="Zoom Out",Tr="Zoom In",Dr="Reset View",Ir="Sheet",Mr="Statistics",Ur="Material Efficiency",zr="Fitness Score",jr="Material Waste",Vr="Total Parts Placed",Br="Total Material Used",Kr="Generation Time",Hr="Generation Number",qr={nesting_title:Xi,start_nesting:Yi,stop_nesting:Zi,clear_results:er,cannot_start_nesting:tr,start_nesting_failed:sr,stop_nesting_failed:nr,parts_to_nest:ir,available_sheets:rr,results_count:ar,no_nesting_results:lr,start_nesting_to_see_results:or,add_parts_and_sheets_first:cr,nesting_in_progress:dr,estimated_time_remaining:ur,current_operation:gr,threads_active:fr,worker_status:hr,running:pr,stopped:_r,current_generation:mr,best_fitness:vr,refresh_status:br,nesting_results:$r,sorted_by_efficiency:xr,result:Sr,best:yr,efficiency:wr,fitness:Cr,sheets_used:kr,parts_placed:Pr,view_details:Lr,export:"Export",delete:"Delete",back_to_results:Ar,result_details:Or,export_result:Er,export_failed:Nr,click_to_view:Fr,zoom_out:Rr,zoom_in:Tr,reset_view:Dr,sheet:Ir,statistics:Mr,material_efficiency:Ur,fitness_score:zr,material_waste:jr,total_parts_placed:Vr,total_material_used:Br,generation_time:Kr,generation_number:Hr},Wr="Sheets",Jr="Add Sheet",Gr="Edit Sheet",Qr="Add New Sheet",Xr="Total Sheets",Yr="Total Area",Zr="No Sheets Loaded",ea="Add sheets to define your material constraints",ta="Quick Templates",sa="Configured Sheets",na="Sheet",ia="Dimensions",ra="Quantity",aa="Material",la="Margin",oa="Edit",ca="Basic Information",da="Sheet Name",ua="Enter sheet name (optional)",ga="Width",fa="Height",ha="Thickness",pa="Properties",_a="Area",ma="Preview",va="Cancel",ba="Update Sheet",$a="Swap Width/Height",xa="Width must be greater than 0",Sa="Height must be greater than 0",ya="Thickness must be greater than 0",wa="Quantity must be greater than 0",Ca="Margin cannot be negative",ka={sheets_title:Wr,add_sheet:Jr,edit_sheet:Gr,add_new_sheet:Qr,total_sheets:Xr,total_area:Yr,no_sheets_loaded:Zr,add_sheets_to_get_started:ea,quick_templates:ta,configured_sheets:sa,sheet:na,dimensions:ia,quantity:ra,material:aa,margin:la,edit:oa,delete:"Delete",basic_information:ca,sheet_name:da,enter_sheet_name:ua,width:ga,height:fa,thickness:ha,properties:pa,area:_a,preview:ma,cancel:va,update_sheet:ba,swap_dimensions:$a,width_must_be_positive:xa,height_must_be_positive:Sa,thickness_must_be_positive:ya,quantity_must_be_positive:wa,margin_cannot_be_negative:Ca},Pa="Settings",La="Preset Management",Aa="Algorithm Settings",Oa="UI Preferences",Ea="Advanced Settings",Na="Reset Defaults",Fa="Import Configuration",Ra="Export Configuration",Ta="Reset to Defaults",Da="Are you sure you want to reset all settings to defaults?",Ia="Failed to reset settings",Ma="Failed to export configuration",Ua="Failed to import configuration",za="Presets allow you to save and restore complete nesting configurations.",ja="Create Preset",Va="Create New Preset",Ba="Preset Name",Ka="Preset name is required",Ha="Enter preset name",qa="Description (optional)",Wa="Enter a description for this preset",Ja="Cancel",Ga="No Presets Available",Qa="Create a preset to save your current configuration",Xa="Export Preset",Ya="Delete Preset",Za="Load Preset",el="Active",tl="Created",sl="Updated",nl="Are you sure you want to delete preset '{{name}}'?",il="Failed to create preset",rl="Failed to load preset",al="Failed to delete preset",ll="Failed to export preset",ol="Failed to import preset",cl="Import Preset",dl="Nesting Parameters",ul="Space Between Parts",gl="Minimum distance between parts in millimeters",fl="Curve Tolerance",hl="Tolerance for curve approximation. Lower values = more accurate but slower",pl="Part Rotations",_l="Number of rotation angles to try for each part",ml="No Rotation",vl="Free Rotation (any angle)",bl="Genetic Algorithm",$l="Population Size",xl="Number of solutions in each generation. Higher = better results but slower",Sl="Mutation Rate",yl="Probability of random changes. Higher = more exploration but less stability",wl="Advanced Options",Cl="Use Holes",kl="Consider holes in parts for nesting (experimental)",Pl="Explore Concave",Ll="Try placing parts in concave areas of other parts",Al="Merge Common Lines",Ol="Combine overlapping cut lines to reduce cutting time",El="Use Rough Approximation",Nl="Use faster but less accurate calculations for initial placement",Fl="Appearance",Rl="Language",Tl="Select the interface language",Dl="Theme",Il="Choose between light, dark, or automatic theme",Ml="Auto (follows system)",Ul="Light",zl="Dark",jl="Dark Mode",Vl="Use dark colors for the interface",Bl="Units and Formatting",Kl="Display Units",Hl="Units for displaying measurements",ql="Millimeters (mm)",Wl="Inches (in)",Jl="Centimeters (cm)",Gl="Show Grid",Ql="Display grid lines in the viewport",Xl="Show Rulers",Yl="Display measurement rulers",Zl="Layout Preferences",eo="Parts Panel Width",to="Width of the parts panel in pixels",so="Reset",no="Show Tooltips",io="Display helpful tooltips on hover",ro="Show Status Bar",ao="Display the status bar at the bottom",lo="Performance",oo="Worker Threads",co="Number of CPU threads to use (max: {{max}})",uo="Enable GPU Acceleration",go="Use graphics card for calculations (experimental)",fo="Enable Caching",ho="Cache calculations to improve performance",po="Debugging",_o="Debug Mode",mo="Enable additional debugging information",vo="Verbose Logging",bo="Log detailed information to console",$o="Show Debug Info",xo="Hide Debug Info",So="System Information",yo="Platform",wo="CPU Cores",Co="Viewport",ko="Memory Used",Po="Memory Total",Lo="Export Debug Info",Ao="Maintenance",Oo="Clear Cache",Eo="Clear all cached data and preferences",No="Are you sure you want to clear all cached data?",Fo="Cache cleared successfully",Ro="Failed to clear cache",To="Reset Layout",Do="Reset panel sizes and positions to defaults",Io="Auto-save Interval",Mo="minutes",Uo="How often to automatically save your work (0 = disabled)",zo={settings_title:Pa,preset_management:La,algorithm_settings:Aa,ui_preferences:Oa,advanced_settings:Ea,import:"Import",export:"Export",reset_defaults:Na,import_configuration:Fa,export_configuration:Ra,reset_to_defaults:Ta,confirm_reset_defaults:Da,reset_failed:Ia,export_failed:Ma,import_failed:Ua,preset_description:za,create_preset:ja,create_new_preset:Va,preset_name:Ba,preset_name_required:Ka,enter_preset_name:Ha,preset_description_optional:qa,enter_preset_description:Wa,cancel:Ja,no_presets_available:Ga,create_preset_to_get_started:Qa,export_preset:Xa,delete_preset:Ya,load_preset:Za,active:el,created:tl,updated:sl,confirm_delete_preset:nl,preset_create_failed:il,preset_load_failed:rl,preset_delete_failed:al,preset_export_failed:ll,preset_import_failed:ol,import_preset:cl,nesting_parameters:dl,space_between_parts:ul,spacing_description:gl,curve_tolerance:fl,curve_tolerance_description:hl,part_rotations:pl,rotations_description:_l,no_rotation:ml,"2_rotations":"2 Rotations (0, 180)","4_rotations":"4 Rotations (0, 90, 180, 270)","8_rotations":"8 Rotations (45 steps)","12_rotations":"12 Rotations (30 steps)",free_rotation:vl,genetic_algorithm:bl,population_size:$l,population_size_description:xl,mutation_rate:Sl,mutation_rate_description:yl,advanced_options:wl,use_holes:Cl,use_holes_description:kl,explore_concave:Pl,explore_concave_description:Ll,merge_common_lines:Al,merge_lines_description:Ol,use_rough_approximation:El,rough_approximation_description:Nl,appearance:Fl,language:Rl,language_description:Tl,theme:Dl,theme_description:Il,auto_theme:Ml,light_theme:Ul,dark_theme:zl,dark_mode:jl,dark_mode_description:Vl,units_and_formatting:Bl,display_units:Kl,units_description:Hl,millimeters:ql,inches:Wl,centimeters:Jl,show_grid:Gl,show_grid_description:Ql,show_rulers:Xl,show_rulers_description:Yl,layout_preferences:Zl,parts_panel_width:eo,panel_width_description:to,reset:so,show_tooltips:no,tooltips_description:io,show_status_bar:ro,status_bar_description:ao,performance:lo,worker_threads:oo,worker_threads_description:co,enable_gpu_acceleration:uo,gpu_acceleration_description:go,enable_caching:fo,caching_description:ho,debugging:po,debug_mode:_o,debug_mode_description:mo,verbose_logging:vo,verbose_logging_description:bo,show_debug_info:$o,hide_debug_info:xo,system_information:So,platform:yo,cpu_cores:wo,viewport:Co,memory_used:ko,memory_total:Po,export_debug_info:Lo,maintenance:Ao,clear_cache:Oo,clear_cache_description:Eo,confirm_clear_cache:No,cache_cleared_success:Fo,cache_clear_failed:Ro,reset_layout:To,reset_layout_description:Do,auto_save_interval:Io,minutes:Mo,auto_save_description:Uo},jo="File Operations",Vo="Drag & Drop Files",Bo="Import Files",Ko="Export Options",Ho="Recent Files",qo="Drop files here to import",Wo="or click to browse",Jo="Supported formats: SVG, DXF, JSON",Go="Select Files",Qo="Browse Files",Xo="Importing Files...",Yo="{{count}} files imported successfully",Zo="Importing {{current}} of {{total}} files",ec="Failed to import files",tc="File validation error",sc="Invalid file format: {{format}}",nc="File too large: {{size}}. Maximum size is {{max}}",ic="Failed to read file: {{filename}}",rc="Export Format",ac="Export Settings",lc="Export All",oc="Export Selected",cc="Export Current",dc="Files exported successfully",uc="Failed to export files",gc="SVG Vector",fc="DXF CAD",hc="PDF Document",pc="JSON Data",_c="Include Sheet Outline",mc="Include Part Labels",vc="Optimize Cut Paths",bc="Merge Common Lines",$c="Export Scale",xc="Export Units",Sc="No Recent Files",yc="Clear Recent",wc="Open Recent File",Cc="Pin File",kc="Unpin File",Pc="Remove from Recent",Lc="File not found: {{filename}}",Ac="Quickly access your recently used files",Oc="Maximum {{count}} recent files",Ec="Pinned",Nc="Size",Fc="Modified",Rc="Path",Tc="Copy Path",Dc="Open File Location",Ic="File Information",Mc="Processing...",Uc="Cancel Import",zc="Retry Import",jc="Skip File",Vc="Continue Import",Bc="Validation Warning",Kc="File contains errors but can be imported",Hc="Import Anyway",qc="Fix Errors",Wc="Auto Fix",Jc="Manual Fix",Gc="Error Details",Qc="Line {{number}}",Xc="Invalid geometry detected",Yc="Duplicate points found",Zc="Self-intersecting polygon",ed="Unclosed path detected",td="File is empty",sd="File appears to be corrupted",nd="Unsupported file version",id="Missing required data",rd={file_operations:jo,drag_drop_files:Vo,import_files:Bo,export_options:Ko,recent_files:Ho,drop_files_here:qo,or_click_to_browse:Wo,supported_formats:Jo,select_files:Go,browse_files:Qo,importing_files:Xo,files_imported:Yo,import_progress:Zo,import_failed:ec,file_validation_error:tc,invalid_file_format:sc,file_too_large:nc,file_read_error:ic,export_format:rc,export_settings:ac,export_all:lc,export_selected:oc,export_current:cc,export_success:dc,export_failed:uc,svg_format:gc,dxf_format:fc,pdf_format:hc,json_format:pc,include_sheet:_c,include_labels:mc,optimize_paths:vc,merge_lines:bc,export_scale:$c,export_units:xc,no_recent_files:Sc,clear_recent:yc,open_recent:wc,pin_file:Cc,unpin_file:kc,remove_from_recent:Pc,file_not_found:Lc,recent_files_description:Ac,max_recent_files:Oc,pinned:Ec,file_size:Nc,last_modified:Fc,file_path:Rc,copy_path:Tc,open_location:Dc,file_info:Ic,processing:Mc,cancel_import:Uc,retry_import:zc,skip_file:jc,continue_import:Vc,validation_warning:Bc,file_contains_errors:Kc,import_anyway:Hc,fix_errors:qc,auto_fix:Wc,manual_fix:Jc,error_details:Gc,line_number:Qc,invalid_geometry:Xc,duplicate_points:Yc,self_intersecting:Zc,unclosed_path:ed,empty_file:td,corrupted_file:sd,unsupported_version:nd,missing_required_data:id},ad={fallbackLng:"en",debug:!1,detection:{order:["localStorage","navigator"],caches:["localStorage"],lookupLocalStorage:"deepnest-language"},interpolation:{escapeValue:!1},resources:{en:{common:li,messages:ki,parts:Qi,nesting:qr,sheets:ka,settings:zo,files:rd}}},ld={t:t=>t,changeLanguage:async t=>{},language:()=>"en",ready:()=>!1},Bs=tn(ld),Ne=(t="common")=>{const e=sn(Bs);return e?[(n,i)=>{if(!e.ready())return n;const r=`${t}.${n}`;return e.t(r,i)},{changeLanguage:e.changeLanguage,language:e.language}]:[n=>n,{changeLanguage:async n=>{},language:()=>"en"}]},od=t=>{const[e,s]=X("en"),[n,i]=X(!1);is(async()=>{try{await xe.use(Vs).init(ad),s(xe.language||"en"),i(!0)}catch(c){console.error("Failed to initialize i18n:",c),i(!0)}});const l={t:(c,d)=>n()&&xe.t(c,d)||c,changeLanguage:async c=>{try{await xe.changeLanguage(c),s(c)}catch(d){console.error("Failed to change language:",d)}},language:e,ready:n};return Bs.Provider({value:l,children:t.children})},ss=Symbol("store-raw"),gt=Symbol("store-node"),Qe=Symbol("store-has"),Ks=Symbol("store-self");function Hs(t){let e=t[it];if(!e&&(Object.defineProperty(t,it,{value:e=new Proxy(t,ud)}),!Array.isArray(t))){const s=Object.keys(t),n=Object.getOwnPropertyDescriptors(t);for(let i=0,r=s.length;i<r;i++){const a=s[i];n[a].get&&Object.defineProperty(t,a,{enumerable:n[a].enumerable,get:n[a].get.bind(e)})}}return e}function Vt(t){let e;return t!=null&&typeof t=="object"&&(t[it]||!(e=Object.getPrototypeOf(t))||e===Object.prototype||Array.isArray(t))}function wt(t,e=new Set){let s,n,i,r;if(s=t!=null&&t[ss])return s;if(!Vt(t)||e.has(t))return t;if(Array.isArray(t)){Object.isFrozen(t)?t=t.slice(0):e.add(t);for(let a=0,l=t.length;a<l;a++)i=t[a],(n=wt(i,e))!==i&&(t[a]=n)}else{Object.isFrozen(t)?t=Object.assign({},t):e.add(t);const a=Object.keys(t),l=Object.getOwnPropertyDescriptors(t);for(let c=0,d=a.length;c<d;c++)r=a[c],!l[r].get&&(i=t[r],(n=wt(i,e))!==i&&(t[r]=n))}return t}function Bt(t,e){let s=t[e];return s||Object.defineProperty(t,e,{value:s=Object.create(null)}),s}function Ct(t,e,s){if(t[e])return t[e];const[n,i]=X(s,{equals:!1,internal:!0});return n.$=i,t[e]=n}function cd(t,e){const s=Reflect.getOwnPropertyDescriptor(t,e);return!s||s.get||!s.configurable||e===it||e===gt||(delete s.value,delete s.writable,s.get=()=>t[it][e]),s}function qs(t){Yt()&&Ct(Bt(t,gt),Ks)()}function dd(t){return qs(t),Reflect.ownKeys(t)}const ud={get(t,e,s){if(e===ss)return t;if(e===it)return s;if(e===Xt)return qs(t),s;const n=Bt(t,gt),i=n[e];let r=i?i():t[e];if(e===gt||e===Qe||e==="__proto__")return r;if(!i){const a=Object.getOwnPropertyDescriptor(t,e);Yt()&&(typeof r!="function"||t.hasOwnProperty(e))&&!(a&&a.get)&&(r=Ct(n,e,r)())}return Vt(r)?Hs(r):r},has(t,e){return e===ss||e===it||e===Xt||e===gt||e===Qe||e==="__proto__"?!0:(Yt()&&Ct(Bt(t,Qe),e)(),e in t)},set(){return!0},deleteProperty(){return!0},ownKeys:dd,getOwnPropertyDescriptor:cd};function Kt(t,e,s,n=!1){if(!n&&t[e]===s)return;const i=t[e],r=t.length;s===void 0?(delete t[e],t[Qe]&&t[Qe][e]&&i!==void 0&&t[Qe][e].$()):(t[e]=s,t[Qe]&&t[Qe][e]&&i===void 0&&t[Qe][e].$());let a=Bt(t,gt),l;if((l=Ct(a,e,i))&&l.$(()=>s),Array.isArray(t)&&t.length!==r){for(let c=t.length;c<r;c++)(l=a[c])&&l.$();(l=Ct(a,"length",r))&&l.$(t.length)}(l=a[Ks])&&l.$()}function Ws(t,e){const s=Object.keys(e);for(let n=0;n<s.length;n+=1){const i=s[n];Kt(t,i,e[i])}}function gd(t,e){if(typeof e=="function"&&(e=e(t)),e=wt(e),Array.isArray(e)){if(t===e)return;let s=0,n=e.length;for(;s<n;s++){const i=e[s];t[s]!==i&&Kt(t,s,i)}Kt(t,"length",n)}else Ws(t,e)}function bt(t,e,s=[]){let n,i=t;if(e.length>1){n=e.shift();const a=typeof n,l=Array.isArray(t);if(Array.isArray(n)){for(let c=0;c<n.length;c++)bt(t,[n[c]].concat(e),s);return}else if(l&&a==="function"){for(let c=0;c<t.length;c++)n(t[c],c)&&bt(t,[c].concat(e),s);return}else if(l&&a==="object"){const{from:c=0,to:d=t.length-1,by:g=1}=n;for(let f=c;f<=d;f+=g)bt(t,[f].concat(e),s);return}else if(e.length>1){bt(t[n],e,[n].concat(s));return}i=t[n],s=[n].concat(s)}let r=e[0];typeof r=="function"&&(r=r(i,s),r===i)||n===void 0&&r==null||(r=wt(r),n===void 0||Vt(i)&&Vt(r)&&!Array.isArray(r)?Ws(i,r):Kt(t,n,r))}function fd(...[t,e]){const s=wt(t||{}),n=Array.isArray(s),i=Hs(s);function r(...a){en(()=>{n&&a.length===1?gd(s,a[0]):bt(s,a)})}return[i,r]}const Js={units:"inches",scale:72,spacing:0,rotations:4,populationSize:10,mutationRate:10,threads:4,placementType:"gravity",mergeLines:!0,timeRatio:.5,simplify:!1,tolerance:.72,endpointTolerance:.36,svgScale:72,dxfImportUnits:"mm",dxfExportUnits:"mm",exportSheetBounds:!1,exportSheetSpacing:!1,sheetSpacing:10,useQuantityFromFilename:!1,useSvgPreProcessor:!1,conversionServer:"https://converter.deepnest.app/convert"},Cs={activeTab:"parts",darkMode:!1,language:"en",modals:{presetModal:!1,helpModal:!1},panels:{partsWidth:300,resultsHeight:200}},Gs={parts:[],sheets:[],nests:[],presets:{},importedFiles:[]},Qs={isNesting:!1,progress:0,currentNest:null,workerStatus:{isRunning:!1,currentOperation:"",threadsActive:0},lastError:null},hd=()=>{try{if(typeof localStorage<"u"){const t=localStorage.getItem("deepnest-ui-state");if(t){const e=JSON.parse(t);return{...Cs,...e}}}}catch(t){console.warn("Failed to load UI state from localStorage:",t)}return Cs},pd={ui:hd(),config:Js,app:Gs,process:Qs},[v,me]=fd(pd),C={setActiveTab:t=>{me("ui","activeTab",t)},setDarkMode:t=>{if(me("ui","darkMode",t),typeof document<"u"&&document.body.classList.toggle("dark-mode",t),typeof localStorage<"u")try{localStorage.setItem("deepnest-ui-state",JSON.stringify(v.ui))}catch(e){console.warn("Failed to save UI state to localStorage:",e)}},setLanguage:t=>{if(me("ui","language",t),typeof localStorage<"u")try{localStorage.setItem("deepnest-ui-state",JSON.stringify(v.ui))}catch(e){console.warn("Failed to save UI state to localStorage:",e)}},setPanelWidth:(t,e)=>{if(me("ui","panels",t,e),typeof localStorage<"u")try{localStorage.setItem("deepnest-ui-state",JSON.stringify(v.ui))}catch(s){console.warn("Failed to save UI state to localStorage:",s)}},openModal:t=>{me("ui","modals",t,!0)},closeModal:t=>{me("ui","modals",t,!1)},updateConfig:t=>{me("config",t)},resetConfig:()=>{me("config",Js)},setParts:t=>{me("app","parts",t)},addPart:t=>{me("app","parts",e=>[...e,t])},removePart:t=>{me("app","parts",e=>e.filter(s=>s.id!==t))},updatePart:(t,e)=>{me("app","parts",s=>s.id===t,e)},setNests:t=>{me("app","nests",t)},addNest:t=>{me("app","nests",e=>[...e,t])},setPresets:t=>{me("app","presets",t)},setNestingStatus:t=>{me("process","isNesting",t)},setNestingProgress:t=>{me("process","progress",t)},setWorkerStatus:t=>{me("process","workerStatus",t)},setError:t=>{me("process","lastError",t)},reset:()=>{me("app",Gs),me("process",Qs)}};class _d{eventListeners=new Map;get isAvailable(){return typeof window<"u"&&!!window.electronAPI}async invoke(e,...s){if(!this.isAvailable)throw new Error("IPC not available");try{return await window.electronAPI.ipcRenderer.invoke(e,...s)}catch(n){throw console.error(`IPC invoke error on channel ${String(e)}:`,n),n}}on(e,s){if(!this.isAvailable)return console.warn("IPC not available, listener not registered"),()=>{};const n=String(e);return this.eventListeners.has(n)||this.eventListeners.set(n,new Set),this.eventListeners.get(n).add(s),window.electronAPI.ipcRenderer.on(e,s),()=>{const i=this.eventListeners.get(n);i&&(i.delete(s),i.size===0&&(this.eventListeners.delete(n),window.electronAPI.ipcRenderer.removeAllListeners(e)))}}send(e,...s){if(!this.isAvailable){console.warn("IPC not available, message not sent");return}window.electronAPI.ipcRenderer.send(e,...s)}async readConfig(){return this.invoke("read-config")}async writeConfig(e){return this.invoke("write-config",JSON.stringify(e))}async savePreset(e,s){return this.invoke("save-preset",e,JSON.stringify(s))}async loadPresets(){return this.invoke("load-presets")}async deletePreset(e){return this.invoke("delete-preset",e)}async startNesting(e){return this.invoke("start-nesting",e)}async stopNesting(){return this.invoke("stop-nesting")}stopBackgroundWorker(){this.send("background-stop")}onNestProgress(e){return this.on("nest-progress",e)}onNestComplete(e){return this.on("nest-complete",e)}onBackgroundProgress(e){return this.on("background-progress",e)}onWorkerStatus(e){return this.on("worker-status",e)}onNestError(e){return this.on("nest-error",e)}cleanup(){if(this.isAvailable){for(const e of this.eventListeners.keys())window.electronAPI.ipcRenderer.removeAllListeners(e);this.eventListeners.clear()}}}const ee=new _d;var md=E('<header class=header><div class=header-left><h1 class=app-title></h1></div><div class=header-right><div class=language-selector><select><option value=en>English</option><option value=de>Deutsch</option><option value=fr>Franais</option><option value=es>Espaol</option></select></div><button class=dark-mode-toggle title="Toggle dark mode">');const vd=()=>{const[t,{changeLanguage:e}]=Ne("navigation"),s=()=>{C.setDarkMode(!v.ui.darkMode)},n=async i=>{C.setLanguage(i),await e(i)};return(()=>{var i=md(),r=i.firstChild,a=r.firstChild,l=r.nextSibling,c=l.firstChild,d=c.firstChild,g=c.nextSibling;return o(a,()=>t("page_title")),d.addEventListener("change",f=>n(f.currentTarget.value)),g.$$click=s,o(g,()=>v.ui.darkMode?"":""),k(()=>d.value=v.ui.language),i})()};Ee(["click"]);var bd=E("<nav class=navigation><div class=nav-tabs>"),$d=E("<button><span class=nav-tab-icon></span><span class=nav-tab-label>");const xd=()=>{const[t]=Ne("navigation"),e=[{id:"parts",labelKey:"parts",icon:""},{id:"nests",labelKey:"nests",icon:""},{id:"sheets",labelKey:"sheets",icon:""},{id:"settings",labelKey:"settings",icon:""}],s=n=>{C.setActiveTab(n)};return(()=>{var n=bd(),i=n.firstChild;return o(i,y(Ie,{each:e,children:r=>(()=>{var a=$d(),l=a.firstChild,c=l.nextSibling;return a.$$click=()=>s(r.id),o(l,()=>r.icon),o(c,()=>t(r.labelKey)),k(d=>{var g=`nav-tab ${v.ui.activeTab===r.id?"active":""}`,f=t(r.labelKey);return g!==d.e&&Ve(a,d.e=g),f!==d.t&&Y(a,"title",d.t=f),d},{e:void 0,t:void 0}),a})()})),n})()};Ee(["click"]);var Sd=E('<div class=parts-list><div class=parts-controls><div class=search-box><input type=text class=search-input></div><div class=sort-controls><label>:</label><select class=sort-select><option value=name></option><option value=quantity></option><option value=size></option></select></div></div><div class=parts-table><div class=table-header><div class="table-cell checkbox-cell"><input type=checkbox></div><div class="table-cell name-cell sortable"> </div><div class="table-cell quantity-cell sortable"> </div><div class="table-cell size-cell sortable"> </div><div class="table-cell rotation-cell"></div></div><div class=table-body>'),yd=E('<div><div class="table-cell checkbox-cell"><input type=checkbox></div><div class="table-cell name-cell"><div class=part-name></div></div><div class="table-cell quantity-cell"><input type=number min=1 class=quantity-input></div><div class="table-cell size-cell"><span class=size-text></span></div><div class="table-cell rotation-cell"><input type=number min=0 max=360 step=90 class=rotation-input><span class=rotation-unit>');const wd=()=>{const[t]=Ne("parts"),[e,s]=X(""),[n,i]=X("name"),[r,a]=X("asc"),l=oe(()=>{let h=v.app.parts;if(e()){const m=e().toLowerCase();h=h.filter(p=>p.name.toLowerCase().includes(m)||p.source.toLowerCase().includes(m))}return h=h.sort((m,p)=>{let _,$;switch(n()){case"name":_=m.name,$=p.name;break;case"quantity":_=m.quantity,$=p.quantity;break;case"size":_=m.bounds.width*m.bounds.height,$=p.bounds.width*p.bounds.height;break;default:_=m.name,$=p.name}return typeof _=="string"&&typeof $=="string"?r()==="asc"?_.localeCompare($):$.localeCompare(_):r()==="asc"?_-$:$-_}),h}),c=h=>{C.updatePart(h.id,{selected:!h.selected})},d=(h,m)=>{m<1&&(m=1),C.updatePart(h,{quantity:m})},g=(h,m)=>{C.updatePart(h,{rotation:m})},f=h=>{n()===h?a(r()==="asc"?"desc":"asc"):(i(h),a("asc"))},u=h=>`${h.width.toFixed(1)}  ${h.height.toFixed(1)}`;return(()=>{var h=Sd(),m=h.firstChild,p=m.firstChild,_=p.firstChild,$=p.nextSibling,S=$.firstChild,P=S.firstChild,b=S.nextSibling,L=b.firstChild,K=L.nextSibling,N=K.nextSibling,R=m.nextSibling,x=R.firstChild,w=x.firstChild,F=w.firstChild,se=w.nextSibling,D=se.firstChild,T=se.nextSibling,I=T.firstChild,j=T.nextSibling,W=j.firstChild,z=j.nextSibling,V=x.nextSibling;return _.$$input=A=>s(A.currentTarget.value),o(S,()=>t("sort_by"),P),b.addEventListener("change",A=>i(A.currentTarget.value)),o(L,()=>t("name")),o(K,()=>t("quantity")),o(N,()=>t("size")),F.addEventListener("change",A=>{const U=A.currentTarget.checked;v.app.parts.forEach(G=>{C.updatePart(G.id,{selected:U})})}),se.$$click=()=>f("name"),o(se,()=>t("name"),D),o(se,(()=>{var A=qe(()=>n()==="name");return()=>A()&&(r()==="asc"?"":"")})(),null),T.$$click=()=>f("quantity"),o(T,()=>t("quantity"),I),o(T,(()=>{var A=qe(()=>n()==="quantity");return()=>A()&&(r()==="asc"?"":"")})(),null),j.$$click=()=>f("size"),o(j,()=>t("size"),W),o(j,(()=>{var A=qe(()=>n()==="size");return()=>A()&&(r()==="asc"?"":"")})(),null),o(z,()=>t("rotation")),o(V,y(Ie,{get each(){return l()},children:A=>(()=>{var U=yd(),G=U.firstChild,M=G.firstChild,Z=G.nextSibling,re=Z.firstChild,ae=Z.nextSibling,ue=ae.firstChild,he=ae.nextSibling,Pe=he.firstChild,$e=he.nextSibling,Se=$e.firstChild;return M.addEventListener("change",()=>c(A)),o(re,()=>A.name),ue.addEventListener("change",ce=>d(A.id,parseInt(ce.currentTarget.value))),o(Pe,()=>u(A.bounds)),Se.addEventListener("change",ce=>g(A.id,parseInt(ce.currentTarget.value))),k(ce=>{var be=`table-row ${A.selected?"selected":""}`,pe=A.source;return be!==ce.e&&Ve(U,ce.e=be),pe!==ce.t&&Y(re,"title",ce.t=pe),ce},{e:void 0,t:void 0}),k(()=>M.checked=A.selected),k(()=>ue.value=A.quantity),k(()=>Se.value=A.rotation),U})()})),k(A=>{var U=t("search_parts"),G=v.app.parts.some(M=>M.selected)&&!v.app.parts.every(M=>M.selected);return U!==A.e&&Y(_,"placeholder",A.e=U),G!==A.t&&(F.indeterminate=A.t=G),A},{e:void 0,t:void 0}),k(()=>_.value=e()),k(()=>b.value=n()),k(()=>F.checked=v.app.parts.every(A=>A.selected)),h})()};Ee(["input","click"]);var Cd=E('<div class=parts-panel><div class=panel-header><h2></h2><div class=panel-actions><button class="button secondary"> </button><button class="button secondary"> </button><button class="button secondary"> </button></div></div><div class=parts-summary><div class=summary-item><span class=summary-label>:</span><span class=summary-value></span></div><div class=summary-item><span class=summary-label>:</span><span class=summary-value></span></div><div class=summary-actions><button class=button-link></button><span class=separator>|</span><button class=button-link></button></div></div><div class=panel-content>'),kd=E('<div class=empty-state><div class=empty-icon></div><h3></h3><p></p><button class="button primary">');const Pd=()=>{const[t]=Ne("parts"),e=oe(()=>v.app.parts.length),s=oe(()=>v.app.parts.reduce((c,d)=>c+d.quantity,0)),n=async()=>{if(!ee.isAvailable){console.warn("IPC not available");return}try{const c=await ee.openFileDialog({title:t("import_parts"),filters:[{name:"Vector Files",extensions:["svg","dxf"]},{name:"SVG Files",extensions:["svg"]},{name:"DXF Files",extensions:["dxf"]},{name:"All Files",extensions:["*"]}],properties:["openFile","multiSelections"]});if(c.canceled||!c.filePaths?.length)return;const d=await ee.importParts(c.filePaths);C.setParts([...v.app.parts,...d])}catch(c){console.error("Failed to import parts:",c),C.setError(t("import_failed"))}},i=async()=>{const c=v.app.parts.filter(d=>d.selected);if(c.length===0){C.setError(t("no_parts_selected"));return}try{const d=await ee.saveFileDialog({title:t("export_parts"),defaultPath:"parts.svg",filters:[{name:"SVG Files",extensions:["svg"]},{name:"DXF Files",extensions:["dxf"]},{name:"All Files",extensions:["*"]}]});if(d.canceled||!d.filePath)return;await ee.exportParts(c,d.filePath)}catch(d){console.error("Failed to export parts:",d),C.setError(t("export_failed"))}},r=()=>{if(v.app.parts.filter(g=>g.selected).length===0){C.setError(t("no_parts_selected"));return}const d=v.app.parts.filter(g=>!g.selected);C.setParts(d)},a=()=>{v.app.parts.forEach(c=>{C.updatePart(c.id,{selected:!0})})},l=()=>{v.app.parts.forEach(c=>{C.updatePart(c.id,{selected:!1})})};return(()=>{var c=Cd(),d=c.firstChild,g=d.firstChild,f=g.nextSibling,u=f.firstChild;u.firstChild;var h=u.nextSibling;h.firstChild;var m=h.nextSibling;m.firstChild;var p=d.nextSibling,_=p.firstChild,$=_.firstChild,S=$.firstChild,P=$.nextSibling,b=_.nextSibling,L=b.firstChild,K=L.firstChild,N=L.nextSibling,R=b.nextSibling,x=R.firstChild,w=x.nextSibling,F=w.nextSibling,se=p.nextSibling;return o(g,()=>t("parts_title")),u.$$click=n,o(u,()=>t("import"),null),h.$$click=i,o(h,()=>t("export"),null),m.$$click=r,o(m,()=>t("delete"),null),o($,()=>t("total_parts"),S),o(P,e),o(L,()=>t("total_quantity"),K),o(N,s),x.$$click=a,o(x,()=>t("select_all")),F.$$click=l,o(F,()=>t("deselect_all")),o(se,y(te,{get when(){return e()>0},get fallback(){return(()=>{var D=kd(),T=D.firstChild,I=T.nextSibling,j=I.nextSibling,W=j.nextSibling;return o(I,()=>t("no_parts_loaded")),o(j,()=>t("import_parts_to_get_started")),W.$$click=n,o(W,()=>t("import_parts")),D})()},get children(){return y(wd,{})}})),k(D=>{var T=t("import_parts"),I=t("export_selected"),j=v.app.parts.filter(U=>U.selected).length===0,W=t("delete_selected"),z=v.app.parts.filter(U=>U.selected).length===0,V=e()===0,A=e()===0;return T!==D.e&&Y(u,"title",D.e=T),I!==D.t&&Y(h,"title",D.t=I),j!==D.a&&(h.disabled=D.a=j),W!==D.o&&Y(m,"title",D.o=W),z!==D.i&&(m.disabled=D.i=z),V!==D.n&&(x.disabled=D.n=V),A!==D.s&&(F.disabled=D.s=A),D},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),c})()};Ee(["click"]);var Ld=E("<div class=time-remaining>: "),Ad=E("<div class=current-operation><span class=operation-label>:</span><span class=operation-text>"),Od=E("<div class=current-nest-info><div class=info-item><span class=info-label>:</span><span class=info-value></span></div><div class=info-item><span class=info-label>:</span><span class=info-value>"),Ed=E('<div class=nesting-progress><div class=progress-header><h3></h3><div class=progress-percentage>%</div></div><div class=progress-bar-container><div class="progress-bar large"><div class=progress-fill></div></div></div><div class=progress-details><div class=worker-info><div class=info-item><span class=info-label>:</span><span class=info-value></span></div><div class=info-item><span class=info-label>:</span><span></span></div></div></div><div class=progress-actions><button class=button-link>');const Nd=()=>{const[t]=Ne("nesting"),e=oe(()=>Math.max(0,Math.min(100,v.process.progress))),s=oe(()=>{const n=e();if(n===0)return null;const r=6e4*(100-n)/n;return r<6e4?`${Math.round(r/1e3)}s`:`${Math.round(r/6e4)}m`});return(()=>{var n=Ed(),i=n.firstChild,r=i.firstChild,a=r.nextSibling,l=a.firstChild,c=i.nextSibling,d=c.firstChild,g=d.firstChild,f=c.nextSibling,u=f.firstChild,h=u.firstChild,m=h.firstChild,p=m.firstChild,_=m.nextSibling,$=h.nextSibling,S=$.firstChild,P=S.firstChild,b=S.nextSibling,L=f.nextSibling,K=L.firstChild;return o(r,()=>t("nesting_in_progress")),o(a,()=>e().toFixed(1),l),o(c,y(te,{get when(){return s()},get children(){var N=Ld(),R=N.firstChild;return o(N,()=>t("estimated_time_remaining"),R),o(N,s,null),N}}),null),o(f,y(te,{get when(){return v.process.workerStatus.currentOperation},get children(){var N=Ad(),R=N.firstChild,x=R.firstChild,w=R.nextSibling;return o(R,()=>t("current_operation"),x),o(w,()=>v.process.workerStatus.currentOperation),N}}),u),o(m,()=>t("threads_active"),p),o(_,()=>v.process.workerStatus.threadsActive),o(S,()=>t("worker_status"),P),o(b,(()=>{var N=qe(()=>!!v.process.workerStatus.isRunning);return()=>N()?t("running"):t("stopped")})()),o(f,y(te,{get when(){return v.process.currentNest},get children(){var N=Od(),R=N.firstChild,x=R.firstChild,w=x.firstChild,F=x.nextSibling,se=R.nextSibling,D=se.firstChild,T=D.firstChild,I=D.nextSibling;return o(x,()=>t("current_generation"),w),o(F,()=>v.process.currentNest?.generation||0),o(D,()=>t("best_fitness"),T),o(I,()=>v.process.currentNest?.fitness?.toFixed(2)||"N/A"),N}}),null),K.$$click=()=>window.location.reload(),o(K,()=>t("refresh_status")),k(N=>{var R=`${e()}%`,x=`info-value ${v.process.workerStatus.isRunning?"running":"stopped"}`;return R!==N.e&&((N.e=R)!=null?g.style.setProperty("width",R):g.style.removeProperty("width")),x!==N.t&&Ve(b,N.t=x),N},{e:void 0,t:void 0}),n})()};Ee(["click"]);var Fd=E("<div class=stat-row><span class=stat-title>:</span><span class=stat-data>ms"),Rd=E("<div class=stat-row><span class=stat-title>:</span><span class=stat-data>"),Td=E('<div class=result-viewer><div class=viewer-controls><div class=zoom-controls><button class=control-button></button><span class=zoom-level>%</span><button class=control-button>+</button><button class=control-button></button></div></div><div class=viewer-content><div class=svg-viewer-container><svg class=result-svg width=100% height=400 viewBox="0 0 800 400"><g><defs><pattern id=grid width=20 height=20 patternUnits=userSpaceOnUse><path d="M 20 0 L 0 0 0 20"fill=none stroke=#e0e0e0 stroke-width=1></path></pattern></defs><rect width=800 height=400 fill=url(#grid)></rect></g></svg></div><div class=result-statistics><h4></h4><div class=stats-grid><div class=stat-card><div class="stat-value efficiency"></div><div class=stat-label></div></div><div class=stat-card><div class=stat-value></div><div class=stat-label></div></div><div class=stat-card><div class=stat-value></div><div class=stat-label></div></div><div class=stat-card><div class=stat-value>%</div><div class=stat-label></div></div></div><div class=detailed-stats><div class=stat-row><span class=stat-title>:</span><span class=stat-data></span></div><div class=stat-row><span class=stat-title>:</span><span class=stat-data>'),Dd=E('<svg><g class=sheet-group><rect fill="rgba(200, 200, 200, 0.3)"stroke=var(--border-color) stroke-width=2></rect><text font-size=12 fill=var(--text-secondary)> </svg>',!1,!0,!1),Id=E('<svg><g class=part-group><rect fill="rgba(36, 199, 237, 0.7)"stroke=var(--button-primary) stroke-width=1></svg>',!1,!0,!1);const Md=t=>{const[e]=Ne("nesting"),[s,n]=X(1),[i,r]=X({x:0,y:0}),[a,l]=X(!1),[c,d]=X({x:0,y:0}),g=oe(()=>t.result.sheets?.reduce((b,L)=>b+L.width*L.height,0)||0),f=oe(()=>t.result.placedParts||0),u=oe(()=>{const b=g(),L=f();return b===0?0:(b-L)/b*100}),h=()=>{n(b=>Math.min(b*1.2,5))},m=()=>{n(b=>Math.max(b/1.2,.1))},p=()=>{n(1),r({x:0,y:0})},_=b=>{l(!0),d({x:b.clientX-i().x,y:b.clientY-i().y})},$=b=>{if(!a())return;const L={x:b.clientX-c().x,y:b.clientY-c().y};r(L)},S=()=>{l(!1)},P=oe(()=>{const b=s(),L=i();return`translate(${L.x}, ${L.y}) scale(${b})`});return(()=>{var b=Td(),L=b.firstChild,K=L.firstChild,N=K.firstChild,R=N.nextSibling,x=R.firstChild,w=R.nextSibling,F=w.nextSibling,se=L.nextSibling,D=se.firstChild,T=D.firstChild,I=T.firstChild,j=I.firstChild;j.nextSibling;var W=D.nextSibling,z=W.firstChild,V=z.nextSibling,A=V.firstChild,U=A.firstChild,G=U.nextSibling,M=A.nextSibling,Z=M.firstChild,re=Z.nextSibling,ae=M.nextSibling,ue=ae.firstChild,he=ue.nextSibling,Pe=ae.nextSibling,$e=Pe.firstChild,Se=$e.firstChild,ce=$e.nextSibling,be=V.nextSibling,pe=be.firstChild,ye=pe.firstChild,Fe=ye.firstChild,Me=ye.nextSibling,we=pe.nextSibling,Ce=we.firstChild,Le=Ce.firstChild,ke=Ce.nextSibling;return N.$$click=m,o(R,()=>Math.round(s()*100),x),w.$$click=h,F.$$click=p,T.addEventListener("mouseleave",S),T.$$mouseup=S,T.$$mousemove=$,T.$$mousedown=_,o(I,y(Ie,{get each(){return t.result.sheets||[]},children:(B,H)=>(()=>{var ie=Dd(),J=ie.firstChild,le=J.nextSibling,ge=le.firstChild;return o(le,()=>e("sheet"),ge),o(le,()=>H()+1,null),k(de=>{var Re=B.x||0,Te=B.y||0,Q=B.width,_e=B.height,je=(B.x||0)+10,We=(B.y||0)+25;return Re!==de.e&&Y(J,"x",de.e=Re),Te!==de.t&&Y(J,"y",de.t=Te),Q!==de.a&&Y(J,"width",de.a=Q),_e!==de.o&&Y(J,"height",de.o=_e),je!==de.i&&Y(le,"x",de.i=je),We!==de.n&&Y(le,"y",de.n=We),de},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),ie})()}),null),o(I,y(Ie,{get each(){return t.result.placements||[]},children:B=>(()=>{var H=Id(),ie=H.firstChild;return k(J=>{var le=B.x,ge=B.y,de=B.width||50,Re=B.height||50,Te=`rotate(${B.rotation||0} ${B.x+(B.width||50)/2} ${B.y+(B.height||50)/2})`;return le!==J.e&&Y(ie,"x",J.e=le),ge!==J.t&&Y(ie,"y",J.t=ge),de!==J.a&&Y(ie,"width",J.a=de),Re!==J.o&&Y(ie,"height",J.o=Re),Te!==J.i&&Y(ie,"transform",J.i=Te),J},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),H})()}),null),o(z,()=>e("statistics")),o(U,(()=>{var B=qe(()=>!!t.result.efficiency);return()=>B()?`${(t.result.efficiency*100).toFixed(1)}%`:"N/A"})()),o(G,()=>e("material_efficiency")),o(Z,()=>t.result.fitness?.toFixed(2)||"N/A"),o(re,()=>e("fitness_score")),o(ue,()=>t.result.sheets?.length||0),o(he,()=>e("sheets_used")),o($e,()=>u().toFixed(1),Se),o(ce,()=>e("material_waste")),o(ye,()=>e("total_parts_placed"),Fe),o(Me,()=>t.result.placedParts||0),o(Ce,()=>e("total_material_used"),Le),o(ke,()=>g().toFixed(2)),o(be,y(te,{get when(){return t.result.generationTime},get children(){var B=Fd(),H=B.firstChild,ie=H.firstChild,J=H.nextSibling,le=J.firstChild;return o(H,()=>e("generation_time"),ie),o(J,()=>t.result.generationTime,le),B}}),null),o(be,y(te,{get when(){return t.result.generation},get children(){var B=Rd(),H=B.firstChild,ie=H.firstChild,J=H.nextSibling;return o(H,()=>e("generation_number"),ie),o(J,()=>t.result.generation),B}}),null),k(B=>{var H=e("zoom_out"),ie=e("zoom_in"),J=e("reset_view"),le=a()?"grabbing":"grab",ge=P();return H!==B.e&&Y(N,"title",B.e=H),ie!==B.t&&Y(w,"title",B.t=ie),J!==B.a&&Y(F,"title",B.a=J),le!==B.o&&((B.o=le)!=null?T.style.setProperty("cursor",le):T.style.removeProperty("cursor")),ge!==B.i&&Y(I,"transform",B.i=ge),B},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),b})()};Ee(["click","mousedown","mousemove","mouseup"]);var Ud=E('<div class=result-detail-view><div class=detail-header><button class="button secondary"> </button><h3></h3><div class=detail-actions><button class="button secondary"> '),zd=E("<div class=results-header><h3> (<!>)</h3><div class=results-controls><label class=sort-label>"),jd=E("<div class=results-grid>"),Vd=E("<div class=results-grid-container>"),Bd=E("<span class=best-badge>"),Kd=E("<div class=stat-item><span class=stat-label>:</span><span class=stat-value>"),Hd=E('<div class=result-card><div class=result-preview><div class=preview-placeholder><div class=preview-icon></div><div class=preview-text></div></div></div><div class=result-info><div class=result-title> #</div><div class=result-stats><div class=stat-item><span class=stat-label>:</span><span class="stat-value efficiency"></span></div><div class=stat-item><span class=stat-label>:</span><span class=stat-value></span></div><div class=stat-item><span class=stat-label>:</span><span class=stat-value></span></div></div><div class=result-actions><button class=button-link></button><button class=button-link></button><button class="button-link danger">');const qd=()=>{const[t]=Ne("nesting"),[e,s]=X(null),[n,i]=X("grid"),r=oe(()=>[...v.app.nests].sort((u,h)=>u.efficiency!==h.efficiency?(h.efficiency||0)-(u.efficiency||0):(h.fitness||0)-(u.fitness||0))),a=u=>{s(u),i("detail")},l=()=>{s(null),i("grid")},c=async u=>{if(ee.isAvailable)try{const h=await ee.saveFileDialog({title:t("export_result"),defaultPath:`nest_result_${u.id}.svg`,filters:[{name:"SVG Files",extensions:["svg"]},{name:"DXF Files",extensions:["dxf"]},{name:"All Files",extensions:["*"]}]});if(h.canceled||!h.filePath)return;await ee.exportNestResult(u,h.filePath)}catch(h){console.error("Failed to export result:",h),C.setError(t("export_failed"))}},d=u=>{const h=v.app.nests.filter(m=>m.id!==u.id);C.setNests(h)},g=u=>u?`${(u*100).toFixed(1)}%`:"N/A",f=u=>u?u.toFixed(2):"N/A";return(()=>{var u=Vd();return o(u,y(te,{get when(){return qe(()=>n()==="detail")()&&e()},get children(){var h=Ud(),m=h.firstChild,p=m.firstChild;p.firstChild;var _=p.nextSibling,$=_.nextSibling,S=$.firstChild;return S.firstChild,p.$$click=l,o(p,()=>t("back_to_results"),null),o(_,()=>t("result_details")),S.$$click=()=>c(e()),o(S,()=>t("export"),null),o(h,y(Md,{get result(){return e()}}),null),h}}),null),o(u,y(te,{get when(){return n()==="grid"},get children(){return[(()=>{var h=zd(),m=h.firstChild,p=m.firstChild,_=p.nextSibling;_.nextSibling;var $=m.nextSibling,S=$.firstChild;return o(m,()=>t("nesting_results"),p),o(m,()=>r().length,_),o(S,()=>t("sorted_by_efficiency")),h})(),(()=>{var h=jd();return o(h,y(Ie,{get each(){return r()},children:(m,p)=>(()=>{var _=Hd(),$=_.firstChild,S=$.firstChild,P=S.firstChild,b=P.nextSibling,L=$.nextSibling,K=L.firstChild,N=K.firstChild,R=K.nextSibling,x=R.firstChild,w=x.firstChild,F=w.firstChild,se=w.nextSibling,D=x.nextSibling,T=D.firstChild,I=T.firstChild,j=T.nextSibling,W=D.nextSibling,z=W.firstChild,V=z.firstChild,A=z.nextSibling,U=R.nextSibling,G=U.firstChild,M=G.nextSibling,Z=M.nextSibling;return $.$$click=()=>a(m),o(b,()=>t("click_to_view")),o(K,()=>t("result"),N),o(K,()=>p()+1,null),o(K,y(te,{get when(){return p()===0},get children(){var re=Bd();return o(re,()=>t("best")),re}}),null),o(w,()=>t("efficiency"),F),o(se,()=>g(m.efficiency)),o(T,()=>t("fitness"),I),o(j,()=>f(m.fitness)),o(z,()=>t("sheets_used"),V),o(A,()=>m.sheets?.length||0),o(R,y(te,{get when(){return m.placedParts},get children(){var re=Kd(),ae=re.firstChild,ue=ae.firstChild,he=ae.nextSibling;return o(ae,()=>t("parts_placed"),ue),o(he,()=>m.placedParts),re}}),null),G.$$click=()=>a(m),o(G,()=>t("view_details")),M.$$click=()=>c(m),o(M,()=>t("export")),Z.$$click=()=>d(m),o(Z,()=>t("delete")),_})()})),h})()]}}),null),u})()};Ee(["click"]);var Wd=E('<button class="button secondary"> '),Jd=E('<div class=nesting-panel><div class=panel-header><h2></h2><div class=panel-actions><button class="button primary"> </button><button class="button secondary"> </button></div></div><div class=nesting-summary><div class=summary-item><span class=summary-label>:</span><span class=summary-value></span></div><div class=summary-item><span class=summary-label>:</span><span class=summary-value></span></div><div class=summary-item><span class=summary-label>:</span><span class=summary-value></span></div></div><div class=panel-content>'),Gd=E("<p class=warning-text>"),Qd=E("<div class=empty-state><div class=empty-icon></div><h3></h3><p>");const Xd=()=>{const[t]=Ne("nesting"),e=oe(()=>v.app.parts.length>0&&v.app.sheets.length>0&&!v.process.isNesting),s=oe(()=>v.app.nests.length>0),n=async()=>{if(e())try{C.setNestingStatus(!0),C.setNestingProgress(0),C.setError(null);const l={parts:v.app.parts.filter(c=>c.quantity>0),sheets:v.app.sheets,config:v.config};await ee.startNesting(l)}catch(l){console.error("Failed to start nesting:",l),C.setError(t("start_nesting_failed")),C.setNestingStatus(!1)}},i=async()=>{if(v.process.isNesting)try{await ee.stopNesting(),C.setNestingStatus(!1)}catch(l){console.error("Failed to stop nesting:",l),C.setError(t("stop_nesting_failed"))}},r=()=>{C.setNests([])},a=oe(()=>v.app.parts.filter(l=>l.quantity>0).length);return(()=>{var l=Jd(),c=l.firstChild,d=c.firstChild,g=d.nextSibling,f=g.firstChild;f.firstChild;var u=f.nextSibling;u.firstChild;var h=c.nextSibling,m=h.firstChild,p=m.firstChild,_=p.firstChild,$=p.nextSibling,S=m.nextSibling,P=S.firstChild,b=P.firstChild,L=P.nextSibling,K=S.nextSibling,N=K.firstChild,R=N.firstChild,x=N.nextSibling,w=h.nextSibling;return o(d,()=>t("nesting_title")),f.$$click=n,o(f,()=>t("start_nesting"),null),u.$$click=i,o(u,()=>t("stop_nesting"),null),o(g,y(te,{get when(){return s()&&!v.process.isNesting},get children(){var F=Wd();return F.firstChild,F.$$click=r,o(F,()=>t("clear_results"),null),k(()=>Y(F,"title",t("clear_results"))),F}}),null),o(p,()=>t("parts_to_nest"),_),o($,a),o(P,()=>t("available_sheets"),b),o(L,()=>v.app.sheets.length),o(N,()=>t("results_count"),R),o(x,()=>v.app.nests.length),o(w,y(te,{get when(){return v.process.isNesting},get children(){return y(Nd,{})}}),null),o(w,y(te,{get when(){return s()},get fallback(){return(()=>{var F=Qd(),se=F.firstChild,D=se.nextSibling,T=D.nextSibling;return o(D,()=>t("no_nesting_results")),o(T,()=>t("start_nesting_to_see_results")),o(F,y(te,{get when(){return!e()},get children(){var I=Gd();return o(I,()=>t("add_parts_and_sheets_first")),I}}),null),F})()},get children(){return y(qd,{})}}),null),k(F=>{var se=!e(),D=e()?t("start_nesting"):t("cannot_start_nesting"),T=!v.process.isNesting,I=t("stop_nesting");return se!==F.e&&(f.disabled=F.e=se),D!==F.t&&Y(f,"title",F.t=D),T!==F.a&&(u.disabled=F.a=T),I!==F.o&&Y(u,"title",F.o=I),F},{e:void 0,t:void 0,a:void 0,o:void 0}),l})()};Ee(["click"]);var vt=E("<span class=error-message>"),Yd=E("<div class=preview-detail>: <!> mm"),Zd=E('<div class=sheet-config><div class=config-form><div class=form-section><h4></h4><div class=form-group><label for=sheet-name>:</label><input id=sheet-name type=text class=form-input></div><div class=form-group><label for=material>:</label><select id=material class=form-select></select></div></div><div class=form-section><h4></h4><div class=preset-buttons></div><div class=dimensions-row><div class=form-group><label for=width> (mm):</label><input id=width type=number min=1 step=0.1></div><button type=button class=swap-button></button><div class=form-group><label for=height> (mm):</label><input id=height type=number min=1 step=0.1></div></div><div class=area-display>: <!> mm</div></div><div class=form-section><h4></h4><div class=properties-row><div class=form-group><label for=thickness> (mm):</label><input id=thickness type=number min=0.1 step=0.1></div><div class=form-group><label for=quantity>:</label><input id=quantity type=number min=1></div><div class=form-group><label for=margin> (mm):</label><input id=margin type=number min=0 step=0.1></div></div></div><div class=sheet-preview-section><h4></h4><div class=sheet-preview-container><div class=sheet-preview-visual><div class=sheet-preview-margin></div></div><div class=preview-info><div class=preview-detail>  <!> mm</div><div class=preview-detail>: <!> mm</div></div></div></div></div><div class=form-actions><button type=button class="button secondary"></button><button type=button class="button primary">'),eu=E("<option>"),tu=E("<button type=button class=preset-button>");const su=t=>{const[e]=Ne("sheets"),[s,n]=X(""),[i,r]=X(200),[a,l]=X(200),[c,d]=X(3),[g,f]=X(1),[u,h]=X(5),[m,p]=X("Generic"),[_,$]=X({}),S=["Generic","Wood - Plywood","Wood - MDF","Wood - Hardwood","Metal - Aluminum","Metal - Steel","Metal - Brass","Plastic - Acrylic","Plastic - ABS","Cardboard","Fabric","Leather","Paper"],P=[{name:"A4",width:210,height:297},{name:"A3",width:297,height:420},{name:"A2",width:420,height:594},{name:"A1",width:594,height:841},{name:"Letter",width:216,height:279},{name:"Legal",width:216,height:356},{name:'1212"',width:305,height:305},{name:'2424"',width:610,height:610},{name:'4824"',width:1219,height:610}];ns(()=>{const x=t.sheet;x?(n(x.name||""),r(x.width),l(x.height),d(x.thickness||3),f(x.quantity||1),h(x.margin||5),p(x.material||"Generic")):(n(""),r(200),l(200),d(3),f(1),h(5),p("Generic")),$({})});const b=()=>{const x={};return i()<=0&&(x.width=e("width_must_be_positive")),a()<=0&&(x.height=e("height_must_be_positive")),c()<=0&&(x.thickness=e("thickness_must_be_positive")),g()<=0&&(x.quantity=e("quantity_must_be_positive")),u()<0&&(x.margin=e("margin_cannot_be_negative")),$(x),Object.keys(x).length===0},L=()=>{if(!b())return;const x={id:t.sheet?.id||`sheet_${Date.now()}`,name:s().trim()||`Sheet ${Date.now()}`,width:i(),height:a(),thickness:c(),quantity:g(),margin:u(),material:m()};t.onSave(x)},K=x=>{r(x.width),l(x.height),s().trim()||n(x.name)},N=()=>{const x=i();r(a()),l(x)},R=()=>(i()*a()).toFixed(0);return(()=>{var x=Zd(),w=x.firstChild,F=w.firstChild,se=F.firstChild,D=se.nextSibling,T=D.firstChild,I=T.firstChild,j=T.nextSibling,W=D.nextSibling,z=W.firstChild,V=z.firstChild,A=z.nextSibling,U=F.nextSibling,G=U.firstChild,M=G.nextSibling,Z=M.nextSibling,re=Z.firstChild,ae=re.firstChild,ue=ae.firstChild,he=ae.nextSibling,Pe=re.nextSibling,$e=Pe.nextSibling,Se=$e.firstChild,ce=Se.firstChild,be=Se.nextSibling,pe=Z.nextSibling,ye=pe.firstChild,Fe=ye.nextSibling;Fe.nextSibling;var Me=U.nextSibling,we=Me.firstChild,Ce=we.nextSibling,Le=Ce.firstChild,ke=Le.firstChild,B=ke.firstChild,H=ke.nextSibling,ie=Le.nextSibling,J=ie.firstChild,le=J.firstChild,ge=J.nextSibling,de=ie.nextSibling,Re=de.firstChild,Te=Re.firstChild,Q=Re.nextSibling,_e=Me.nextSibling,je=_e.firstChild,We=je.nextSibling,Ue=We.firstChild,rt=Ue.firstChild,tt=Ue.nextSibling,Je=tt.firstChild,Be=Je.firstChild,at=Be.nextSibling;at.nextSibling;var Ge=Je.nextSibling,lt=Ge.firstChild,Ye=lt.nextSibling;Ye.nextSibling;var Ke=w.nextSibling,De=Ke.firstChild,Ze=De.nextSibling;return o(se,()=>e("basic_information")),o(T,()=>e("sheet_name"),I),j.$$input=O=>n(O.currentTarget.value),o(z,()=>e("material"),V),A.addEventListener("change",O=>p(O.currentTarget.value)),o(A,y(Ie,{each:S,children:O=>(()=>{var Ae=eu();return Ae.value=O,o(Ae,O),Ae})()})),o(G,()=>e("dimensions")),o(M,y(Ie,{each:P,children:O=>(()=>{var Ae=tu();return Ae.$$click=()=>K(O),o(Ae,()=>O.name),k(()=>Y(Ae,"title",`${O.width}  ${O.height} mm`)),Ae})()})),o(ae,()=>e("width"),ue),he.$$input=O=>r(parseFloat(O.currentTarget.value)||0),o(re,y(te,{get when(){return _().width},get children(){var O=vt();return o(O,()=>_().width),O}}),null),Pe.$$click=N,o(Se,()=>e("height"),ce),be.$$input=O=>l(parseFloat(O.currentTarget.value)||0),o($e,y(te,{get when(){return _().height},get children(){var O=vt();return o(O,()=>_().height),O}}),null),o(pe,()=>e("area"),ye),o(pe,R,Fe),o(we,()=>e("properties")),o(ke,()=>e("thickness"),B),H.$$input=O=>d(parseFloat(O.currentTarget.value)||0),o(Le,y(te,{get when(){return _().thickness},get children(){var O=vt();return o(O,()=>_().thickness),O}}),null),o(J,()=>e("quantity"),le),ge.$$input=O=>f(parseInt(O.currentTarget.value)||0),o(ie,y(te,{get when(){return _().quantity},get children(){var O=vt();return o(O,()=>_().quantity),O}}),null),o(Re,()=>e("margin"),Te),Q.$$input=O=>h(parseFloat(O.currentTarget.value)||0),o(de,y(te,{get when(){return _().margin},get children(){var O=vt();return o(O,()=>_().margin),O}}),null),o(je,()=>e("preview")),Ue.style.setProperty("max-width","200px"),Ue.style.setProperty("max-height","200px"),o(Je,i,Be),o(Je,a,at),o(Ge,()=>e("area"),lt),o(Ge,R,Ye),o(tt,y(te,{get when(){return u()>0},get children(){var O=Yd(),Ae=O.firstChild,st=Ae.nextSibling;return st.nextSibling,o(O,()=>e("margin"),Ae),o(O,u,st),O}}),null),hn(De,"click",t.onCancel),o(De,()=>e("cancel")),Ze.$$click=L,o(Ze,(()=>{var O=qe(()=>!!t.sheet);return()=>O()?e("update_sheet"):e("add_sheet")})()),k(O=>{var Ae=e("enter_sheet_name"),st=`form-input ${_().width?"error":""}`,ht=e("swap_dimensions"),ot=`form-input ${_().height?"error":""}`,Pt=`form-input ${_().thickness?"error":""}`,Lt=`form-input ${_().quantity?"error":""}`,At=`form-input ${_().margin?"error":""}`,ne=`${i()} / ${a()}`,nt=`${Math.max(u()/Math.max(i(),a())*100,2)}%`;return Ae!==O.e&&Y(j,"placeholder",O.e=Ae),st!==O.t&&Ve(he,O.t=st),ht!==O.a&&Y(Pe,"title",O.a=ht),ot!==O.o&&Ve(be,O.o=ot),Pt!==O.i&&Ve(H,O.i=Pt),Lt!==O.n&&Ve(ge,O.n=Lt),At!==O.s&&Ve(Q,O.s=At),ne!==O.h&&((O.h=ne)!=null?Ue.style.setProperty("aspect-ratio",ne):Ue.style.removeProperty("aspect-ratio")),nt!==O.r&&((O.r=nt)!=null?rt.style.setProperty("margin",nt):rt.style.removeProperty("margin")),O},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0}),k(()=>j.value=s()),k(()=>A.value=m()),k(()=>he.value=i()),k(()=>be.value=a()),k(()=>H.value=c()),k(()=>ge.value=g()),k(()=>Q.value=u()),x})()};Ee(["input","click"]);var nu=E("<div class=sheet-config-overlay><div class=sheet-config-modal><div class=modal-header><h3></h3><button class=close-button>"),iu=E("<div class=sheets-list><div class=list-header><h3></h3></div><div class=sheets-grid>"),ru=E('<div class=sheets-panel><div class=panel-header><h2></h2><div class=panel-actions><button class="button primary"> </button></div></div><div class=sheets-summary><div class=summary-item><span class=summary-label>:</span><span class=summary-value></span></div><div class=summary-item><span class=summary-label>:</span><span class=summary-value> mm</span></div></div><div class=panel-content>'),au=E("<div class=empty-state><div class=empty-icon></div><h3></h3><p></p><div class=template-section><h4></h4><div class=template-grid>"),lu=E("<button class=template-button><div class=template-name></div><div class=template-size>  "),ou=E("<div class=detail-item><span class=detail-label>:</span><span class=detail-value> mm"),cu=E('<div class=sheet-card><div class=sheet-preview><div class=sheet-visual><div class=sheet-rectangle><div class=sheet-margin></div></div></div></div><div class=sheet-info><div class=sheet-title></div><div class=sheet-details><div class=detail-item><span class=detail-label>:</span><span class=detail-value></span></div><div class=detail-item><span class=detail-label>:</span><span class=detail-value></span></div><div class=detail-item><span class=detail-label>:</span><span class=detail-value></span></div></div><div class=sheet-actions><button class=button-link></button><button class="button-link danger">');const du=()=>{const[t]=Ne("sheets"),[e,s]=X(!1),[n,i]=X(null),r=oe(()=>v.app.sheets.length),a=oe(()=>v.app.sheets.reduce((p,_)=>p+_.width*_.height,0)),l=[{name:"A4",width:210,height:297,units:"mm"},{name:"A3",width:297,height:420,units:"mm"},{name:"A2",width:420,height:594,units:"mm"},{name:"A1",width:594,height:841,units:"mm"},{name:"Letter",width:216,height:279,units:"mm"},{name:"Legal",width:216,height:356,units:"mm"},{name:'12x12"',width:305,height:305,units:"mm"},{name:'24x24"',width:610,height:610,units:"mm"},{name:'48x24"',width:1219,height:610,units:"mm"}],c=()=>{i(null),s(!0)},d=p=>{i(p),s(!0)},g=p=>{const _=v.app.sheets.filter($=>$.id!==p);C.setSheets(_)},f=p=>{n()?C.updateSheet(p.id,p):C.addSheet(p),s(!1),i(null)},u=()=>{s(!1),i(null)},h=p=>{const _={name:p.name,width:p.width,height:p.height,thickness:3,quantity:1,margin:5,material:"Generic"};C.addSheet(_)},m=p=>`${p.width}  ${p.height} mm`;return(()=>{var p=ru(),_=p.firstChild,$=_.firstChild,S=$.nextSibling,P=S.firstChild;P.firstChild;var b=_.nextSibling,L=b.firstChild,K=L.firstChild,N=K.firstChild,R=K.nextSibling,x=L.nextSibling,w=x.firstChild,F=w.firstChild,se=w.nextSibling,D=se.firstChild,T=b.nextSibling;return o($,()=>t("sheets_title")),P.$$click=c,o(P,()=>t("add_sheet"),null),o(K,()=>t("total_sheets"),N),o(R,r),o(w,()=>t("total_area"),F),o(se,()=>a().toFixed(0),D),o(p,y(te,{get when(){return e()},get children(){var I=nu(),j=I.firstChild,W=j.firstChild,z=W.firstChild,V=z.nextSibling;return o(z,(()=>{var A=qe(()=>!!n());return()=>A()?t("edit_sheet"):t("add_new_sheet")})()),V.$$click=u,o(j,y(su,{get sheet(){return n()},onSave:f,onCancel:u}),null),I}}),T),o(T,y(te,{get when(){return r()>0},get fallback(){return(()=>{var I=au(),j=I.firstChild,W=j.nextSibling,z=W.nextSibling,V=z.nextSibling,A=V.firstChild,U=A.nextSibling;return o(W,()=>t("no_sheets_loaded")),o(z,()=>t("add_sheets_to_get_started")),o(A,()=>t("quick_templates")),o(U,y(Ie,{each:l,children:G=>(()=>{var M=lu(),Z=M.firstChild,re=Z.nextSibling,ae=re.firstChild;return M.$$click=()=>h(G),o(Z,()=>G.name),o(re,()=>G.width,ae),o(re,()=>G.height,null),k(()=>Y(M,"title",`${G.width}  ${G.height} ${G.units}`)),M})()})),I})()},get children(){var I=iu(),j=I.firstChild,W=j.firstChild,z=j.nextSibling;return o(W,()=>t("configured_sheets")),o(z,y(Ie,{get each(){return v.app.sheets},children:(V,A)=>(()=>{var U=cu(),G=U.firstChild,M=G.firstChild,Z=M.firstChild,re=Z.firstChild,ae=G.nextSibling,ue=ae.firstChild,he=ue.nextSibling,Pe=he.firstChild,$e=Pe.firstChild,Se=$e.firstChild,ce=$e.nextSibling,be=Pe.nextSibling,pe=be.firstChild,ye=pe.firstChild,Fe=pe.nextSibling,Me=be.nextSibling,we=Me.firstChild,Ce=we.firstChild,Le=we.nextSibling,ke=he.nextSibling,B=ke.firstChild,H=B.nextSibling;return Z.style.setProperty("max-width","120px"),Z.style.setProperty("max-height","120px"),re.style.setProperty("margin","8px"),o(ue,()=>V.name||`${t("sheet")} ${A()+1}`),o($e,()=>t("dimensions"),Se),o(ce,()=>m(V)),o(pe,()=>t("quantity"),ye),o(Fe,()=>V.quantity),o(we,()=>t("material"),Ce),o(Le,()=>V.material||"Generic"),o(he,y(te,{get when(){return V.margin},get children(){var ie=ou(),J=ie.firstChild,le=J.firstChild,ge=J.nextSibling,de=ge.firstChild;return o(J,()=>t("margin"),le),o(ge,()=>V.margin,de),ie}}),null),B.$$click=()=>d(V),o(B,()=>t("edit")),H.$$click=()=>g(V.id),o(H,()=>t("delete")),k(ie=>(ie=`${V.width} / ${V.height}`)!=null?Z.style.setProperty("aspect-ratio",ie):Z.style.removeProperty("aspect-ratio")),U})()})),I}})),k(()=>Y(P,"title",t("add_sheet"))),p})()};Ee(["click"]);var uu=E('<div class=create-preset-form><h4></h4><div class=form-group><label for=preset-name>:</label><input id=preset-name type=text class=form-input></div><div class=form-group><label for=preset-description>:</label><textarea id=preset-description class=form-textarea rows=3></textarea></div><div class=form-actions><button class="button secondary"></button><button class="button primary">'),gu=E("<div class=presets-grid>"),fu=E('<div class=preset-manager><div class=section-header><h3></h3><div class=header-actions><button class="button secondary"> </button><button class="button primary"> </button></div></div><div class=preset-description><p></p></div><div class=presets-list>'),hu=E("<div class=empty-state><div class=empty-icon></div><h4></h4><p>"),pu=E("<p class=preset-description>"),_u=E("<div class=meta-item><span class=meta-label>:</span><span class=meta-value>"),mu=E('<div><div class=preset-header><h4 class=preset-name></h4><div class=preset-actions><button class=action-button></button><button class="action-button danger"></button></div></div><div class=preset-meta><div class=meta-item><span class=meta-label>:</span><span class=meta-value></span></div></div><div class=preset-footer><button class="button primary">');const vu=()=>{const[t]=Ne("settings"),[e,s]=X(!1),[n,i]=X(""),[r,a]=X(""),[l,c]=X(""),d=async()=>{const p=n().trim();if(!p){C.setError(t("preset_name_required"));return}try{const _={id:`preset_${Date.now()}`,name:p,description:r().trim(),config:{...v.config},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};C.addPreset(_),ee.isAvailable&&await ee.savePreset(_),i(""),a(""),s(!1)}catch(_){console.error("Failed to create preset:",_),C.setError(t("preset_create_failed"))}},g=async p=>{const _=v.presets.find($=>$.id===p);if(_)try{C.updateConfig(_.config),ee.isAvailable&&await ee.saveConfig(_.config),c(p)}catch($){console.error("Failed to load preset:",$),C.setError(t("preset_load_failed"))}},f=async p=>{const _=v.presets.find(S=>S.id===p);if(!(!_||!confirm(t("confirm_delete_preset",{name:_.name}))))try{C.removePreset(p),ee.isAvailable&&await ee.deletePreset(p),l()===p&&c("")}catch(S){console.error("Failed to delete preset:",S),C.setError(t("preset_delete_failed"))}},u=async p=>{const _=v.presets.find($=>$.id===p);if(!(!_||!ee.isAvailable))try{const $=await ee.saveFileDialog({title:t("export_preset"),defaultPath:`${_.name}.json`,filters:[{name:"JSON Files",extensions:["json"]},{name:"All Files",extensions:["*"]}]});if($.canceled||!$.filePath)return;await ee.exportPreset(_,$.filePath)}catch($){console.error("Failed to export preset:",$),C.setError(t("preset_export_failed"))}},h=async()=>{if(ee.isAvailable)try{const p=await ee.openFileDialog({title:t("import_preset"),filters:[{name:"JSON Files",extensions:["json"]},{name:"All Files",extensions:["*"]}],properties:["openFile","multiSelections"]});if(p.canceled||!p.filePaths?.length)return;for(const _ of p.filePaths){const $=await ee.importPreset(_);C.addPreset({...$,id:`preset_${Date.now()}_${Math.random()}`,updatedAt:new Date().toISOString()})}}catch(p){console.error("Failed to import preset:",p),C.setError(t("preset_import_failed"))}},m=p=>new Date(p).toLocaleDateString();return(()=>{var p=fu(),_=p.firstChild,$=_.firstChild,S=$.nextSibling,P=S.firstChild;P.firstChild;var b=P.nextSibling;b.firstChild;var L=_.nextSibling,K=L.firstChild,N=L.nextSibling;return o($,()=>t("preset_management")),P.$$click=h,o(P,()=>t("import"),null),b.$$click=()=>s(!0),o(b,()=>t("create_preset"),null),o(K,()=>t("preset_description")),o(p,y(te,{get when(){return e()},get children(){var R=uu(),x=R.firstChild,w=x.nextSibling,F=w.firstChild,se=F.firstChild,D=F.nextSibling,T=w.nextSibling,I=T.firstChild,j=I.firstChild,W=I.nextSibling,z=T.nextSibling,V=z.firstChild,A=V.nextSibling;return o(x,()=>t("create_new_preset")),o(F,()=>t("preset_name"),se),D.$$input=U=>i(U.currentTarget.value),o(I,()=>t("preset_description_optional"),j),W.$$input=U=>a(U.currentTarget.value),V.$$click=()=>{s(!1),i(""),a("")},o(V,()=>t("cancel")),A.$$click=d,o(A,()=>t("create_preset")),k(U=>{var G=t("enter_preset_name"),M=t("enter_preset_description"),Z=!n().trim();return G!==U.e&&Y(D,"placeholder",U.e=G),M!==U.t&&Y(W,"placeholder",U.t=M),Z!==U.a&&(A.disabled=U.a=Z),U},{e:void 0,t:void 0,a:void 0}),k(()=>D.value=n()),k(()=>W.value=r()),R}}),N),o(N,y(te,{get when(){return v.presets.length>0},get fallback(){return(()=>{var R=hu(),x=R.firstChild,w=x.nextSibling,F=w.nextSibling;return o(w,()=>t("no_presets_available")),o(F,()=>t("create_preset_to_get_started")),R})()},get children(){var R=gu();return o(R,y(Ie,{get each(){return v.presets},children:x=>(()=>{var w=mu(),F=w.firstChild,se=F.firstChild,D=se.nextSibling,T=D.firstChild,I=T.nextSibling,j=F.nextSibling,W=j.firstChild,z=W.firstChild,V=z.firstChild,A=z.nextSibling,U=j.nextSibling,G=U.firstChild;return o(se,()=>x.name),T.$$click=()=>u(x.id),I.$$click=()=>f(x.id),o(w,y(te,{get when(){return x.description},get children(){var M=pu();return o(M,()=>x.description),M}}),j),o(z,()=>t("created"),V),o(A,()=>m(x.createdAt)),o(j,y(te,{get when(){return x.updatedAt!==x.createdAt},get children(){var M=_u(),Z=M.firstChild,re=Z.firstChild,ae=Z.nextSibling;return o(Z,()=>t("updated"),re),o(ae,()=>m(x.updatedAt)),M}}),null),G.$$click=()=>g(x.id),o(G,(()=>{var M=qe(()=>l()===x.id);return()=>M()?t("active"):t("load_preset")})()),k(M=>{var Z=`preset-card ${l()===x.id?"active":""}`,re=t("export_preset"),ae=t("delete_preset"),ue=l()===x.id;return Z!==M.e&&Ve(w,M.e=Z),re!==M.t&&Y(T,"title",M.t=re),ae!==M.a&&Y(I,"title",M.a=ae),ue!==M.o&&(G.disabled=M.o=ue),M},{e:void 0,t:void 0,a:void 0,o:void 0}),w})()})),R}})),k(R=>{var x=t("import_preset"),w=t("create_new_preset");return x!==R.e&&Y(P,"title",R.e=x),w!==R.t&&Y(b,"title",R.t=w),R},{e:void 0,t:void 0}),p})()};Ee(["click","input"]);var bu=E("<div class=algorithm-settings><div class=section-header><h3></h3></div><div class=settings-sections><div class=settings-section><h4></h4><div class=setting-group><label class=setting-label> (mm)</label><div class=input-with-slider><input type=range min=0 max=20 step=0.1 class=slider><input type=number min=0 max=20 step=0.1 class=number-input></div><div class=setting-description></div></div><div class=setting-group><label class=setting-label> (mm)</label><div class=input-with-slider><input type=range min=0.1 max=2 step=0.1 class=slider><input type=number min=0.1 max=2 step=0.1 class=number-input></div><div class=setting-description></div></div><div class=setting-group><label class=setting-label></label><select class=setting-select></select><div class=setting-description></div></div></div><div class=settings-section><h4></h4><div class=setting-group><label class=setting-label></label><div class=input-with-slider><input type=range min=5 max=50 step=1 class=slider><input type=number min=5 max=50 step=1 class=number-input></div><div class=setting-description></div></div><div class=setting-group><label class=setting-label> (%)</label><div class=input-with-slider><input type=range min=1 max=50 step=1 class=slider><input type=number min=1 max=50 step=1 class=number-input></div><div class=setting-description></div></div></div><div class=settings-section><h4></h4><div class=setting-group><label class=checkbox-setting><input type=checkbox><span class=checkmark></span><span class=setting-label></span></label><div class=setting-description></div></div><div class=setting-group><label class=checkbox-setting><input type=checkbox><span class=checkmark></span><span class=setting-label></span></label><div class=setting-description></div></div><div class=setting-group><label class=checkbox-setting><input type=checkbox><span class=checkmark></span><span class=setting-label></span></label><div class=setting-description></div></div><div class=setting-group><label class=checkbox-setting><input type=checkbox><span class=checkmark></span><span class=setting-label></span></label><div class=setting-description>"),$u=E("<option>");const xu=()=>{const[t]=Ne("settings"),[e,s]=X(0),[n,i]=X(.3),[r,a]=X(4),[l,c]=X(10),[d,g]=X(10),[f,u]=X(!1),[h,m]=X(!1),[p,_]=X(!1),[$,S]=X(!0);ns(()=>{const w=v.config;s(w.spacing||0),i(w.curveTolerance||.3),a(w.rotations||4),c(w.populationSize||10),g(w.mutationRate||10),u(w.useHoles||!1),m(w.exploreConcave||!1),_(w.mergeLines||!1),S(w.useRoughApproximation!==!1)});const P=w=>{C.updateConfig({...v.config,...w})},b=w=>{s(w),P({spacing:w})},L=w=>{i(w),P({curveTolerance:w})},K=w=>{a(w),P({rotations:w})},N=w=>{c(w),P({populationSize:w})},R=w=>{g(w),P({mutationRate:w})},x=[{value:0,label:t("no_rotation")},{value:2,label:t("2_rotations")},{value:4,label:t("4_rotations")},{value:8,label:t("8_rotations")},{value:12,label:t("12_rotations")},{value:360,label:t("free_rotation")}];return(()=>{var w=bu(),F=w.firstChild,se=F.firstChild,D=F.nextSibling,T=D.firstChild,I=T.firstChild,j=I.nextSibling,W=j.firstChild,z=W.firstChild,V=W.nextSibling,A=V.firstChild,U=A.nextSibling,G=V.nextSibling,M=j.nextSibling,Z=M.firstChild,re=Z.firstChild,ae=Z.nextSibling,ue=ae.firstChild,he=ue.nextSibling,Pe=ae.nextSibling,$e=M.nextSibling,Se=$e.firstChild,ce=Se.nextSibling,be=ce.nextSibling,pe=T.nextSibling,ye=pe.firstChild,Fe=ye.nextSibling,Me=Fe.firstChild,we=Me.nextSibling,Ce=we.firstChild,Le=Ce.nextSibling,ke=we.nextSibling,B=Fe.nextSibling,H=B.firstChild,ie=H.firstChild,J=H.nextSibling,le=J.firstChild,ge=le.nextSibling,de=J.nextSibling,Re=pe.nextSibling,Te=Re.firstChild,Q=Te.nextSibling,_e=Q.firstChild,je=_e.firstChild,We=je.nextSibling,Ue=We.nextSibling,rt=_e.nextSibling,tt=Q.nextSibling,Je=tt.firstChild,Be=Je.firstChild,at=Be.nextSibling,Ge=at.nextSibling,lt=Je.nextSibling,Ye=tt.nextSibling,Ke=Ye.firstChild,De=Ke.firstChild,Ze=De.nextSibling,O=Ze.nextSibling,Ae=Ke.nextSibling,st=Ye.nextSibling,ht=st.firstChild,ot=ht.firstChild,Pt=ot.nextSibling,Lt=Pt.nextSibling,At=ht.nextSibling;return o(se,()=>t("algorithm_settings")),o(I,()=>t("nesting_parameters")),o(W,()=>t("space_between_parts"),z),A.$$input=ne=>b(parseFloat(ne.currentTarget.value)),U.$$input=ne=>b(parseFloat(ne.currentTarget.value)||0),o(G,()=>t("spacing_description")),o(Z,()=>t("curve_tolerance"),re),ue.$$input=ne=>L(parseFloat(ne.currentTarget.value)),he.$$input=ne=>L(parseFloat(ne.currentTarget.value)||.3),o(Pe,()=>t("curve_tolerance_description")),o(Se,()=>t("part_rotations")),ce.addEventListener("change",ne=>K(parseInt(ne.currentTarget.value))),o(ce,y(Ie,{each:x,children:ne=>(()=>{var nt=$u();return o(nt,()=>ne.label),k(()=>nt.value=ne.value),nt})()})),o(be,()=>t("rotations_description")),o(ye,()=>t("genetic_algorithm")),o(Me,()=>t("population_size")),Ce.$$input=ne=>N(parseInt(ne.currentTarget.value)),Le.$$input=ne=>N(parseInt(ne.currentTarget.value)||10),o(ke,()=>t("population_size_description")),o(H,()=>t("mutation_rate"),ie),le.$$input=ne=>R(parseInt(ne.currentTarget.value)),ge.$$input=ne=>R(parseInt(ne.currentTarget.value)||10),o(de,()=>t("mutation_rate_description")),o(Te,()=>t("advanced_options")),je.addEventListener("change",ne=>{u(ne.currentTarget.checked),P({useHoles:ne.currentTarget.checked})}),o(Ue,()=>t("use_holes")),o(rt,()=>t("use_holes_description")),Be.addEventListener("change",ne=>{m(ne.currentTarget.checked),P({exploreConcave:ne.currentTarget.checked})}),o(Ge,()=>t("explore_concave")),o(lt,()=>t("explore_concave_description")),De.addEventListener("change",ne=>{_(ne.currentTarget.checked),P({mergeLines:ne.currentTarget.checked})}),o(O,()=>t("merge_common_lines")),o(Ae,()=>t("merge_lines_description")),ot.addEventListener("change",ne=>{S(ne.currentTarget.checked),P({useRoughApproximation:ne.currentTarget.checked})}),o(Lt,()=>t("use_rough_approximation")),o(At,()=>t("rough_approximation_description")),k(()=>A.value=e()),k(()=>U.value=e()),k(()=>ue.value=n()),k(()=>he.value=n()),k(()=>ce.value=r()),k(()=>Ce.value=l()),k(()=>Le.value=l()),k(()=>le.value=d()),k(()=>ge.value=d()),k(()=>je.checked=f()),k(()=>Be.checked=h()),k(()=>De.checked=p()),k(()=>ot.checked=$()),w})()};Ee(["input"]);var Su=E('<div class=ui-preferences><div class=section-header><h3></h3></div><div class=settings-sections><div class=settings-section><h4></h4><div class=setting-group><label class=setting-label></label><select class=setting-select></select><div class=setting-description></div></div><div class=setting-group><label class=setting-label></label><select class=setting-select></select><div class=setting-description></div></div><div class=setting-group><label class=checkbox-setting><input type=checkbox><span class=checkmark></span><span class=setting-label></span></label><div class=setting-description></div></div></div><div class=settings-section><h4></h4><div class=setting-group><label class=setting-label></label><select class=setting-select></select><div class=setting-description></div></div><div class=setting-group><label class=checkbox-setting><input type=checkbox><span class=checkmark></span><span class=setting-label></span></label><div class=setting-description></div></div><div class=setting-group><label class=checkbox-setting><input type=checkbox><span class=checkmark></span><span class=setting-label></span></label><div class=setting-description></div></div></div><div class=settings-section><h4></h4><div class=setting-group><label class=setting-label></label><div class=input-with-button><input type=number min=200 max=600 class=number-input><button class="button secondary"></button></div><div class=setting-description></div></div><div class=setting-group><label class=checkbox-setting><input type=checkbox><span class=checkmark></span><span class=setting-label></span></label><div class=setting-description></div></div><div class=setting-group><label class=checkbox-setting><input type=checkbox><span class=checkmark></span><span class=setting-label></span></label><div class=setting-description>'),Qt=E("<option>");const yu=()=>{const[t,{changeLanguage:e}]=Ne("settings"),s=[{code:"en",name:"English"},{code:"de",name:"Deutsch"},{code:"fr",name:"Franais"},{code:"es",name:"Espaol"}],n=[{value:"mm",label:t("millimeters")},{value:"in",label:t("inches")},{value:"cm",label:t("centimeters")}],i=[{value:"auto",label:t("auto_theme")},{value:"light",label:t("light_theme")},{value:"dark",label:t("dark_theme")}],r=async d=>{C.setLanguage(d),await e(d)},a=d=>{if(d==="auto"){const g=window.matchMedia("(prefers-color-scheme: dark)").matches;C.setDarkMode(g)}else C.setDarkMode(d==="dark");C.setTheme(d)},l=d=>{C.updateConfig({...v.config,units:d})},c=()=>{C.setPanelWidth("partsWidth",300)};return(()=>{var d=Su(),g=d.firstChild,f=g.firstChild,u=g.nextSibling,h=u.firstChild,m=h.firstChild,p=m.nextSibling,_=p.firstChild,$=_.nextSibling,S=$.nextSibling,P=p.nextSibling,b=P.firstChild,L=b.nextSibling,K=L.nextSibling,N=P.nextSibling,R=N.firstChild,x=R.firstChild,w=x.nextSibling,F=w.nextSibling,se=R.nextSibling,D=h.nextSibling,T=D.firstChild,I=T.nextSibling,j=I.firstChild,W=j.nextSibling,z=W.nextSibling,V=I.nextSibling,A=V.firstChild,U=A.firstChild,G=U.nextSibling,M=G.nextSibling,Z=A.nextSibling,re=V.nextSibling,ae=re.firstChild,ue=ae.firstChild,he=ue.nextSibling,Pe=he.nextSibling,$e=ae.nextSibling,Se=D.nextSibling,ce=Se.firstChild,be=ce.nextSibling,pe=be.firstChild,ye=pe.nextSibling,Fe=ye.firstChild,Me=Fe.nextSibling,we=ye.nextSibling,Ce=be.nextSibling,Le=Ce.firstChild,ke=Le.firstChild,B=ke.nextSibling,H=B.nextSibling,ie=Le.nextSibling,J=Ce.nextSibling,le=J.firstChild,ge=le.firstChild,de=ge.nextSibling,Re=de.nextSibling,Te=le.nextSibling;return o(f,()=>t("ui_preferences")),o(m,()=>t("appearance")),o(_,()=>t("language")),$.addEventListener("change",Q=>r(Q.currentTarget.value)),o($,y(Ie,{each:s,children:Q=>(()=>{var _e=Qt();return o(_e,()=>Q.name),k(()=>_e.value=Q.code),_e})()})),o(S,()=>t("language_description")),o(b,()=>t("theme")),L.addEventListener("change",Q=>a(Q.currentTarget.value)),o(L,y(Ie,{each:i,children:Q=>(()=>{var _e=Qt();return o(_e,()=>Q.label),k(()=>_e.value=Q.value),_e})()})),o(K,()=>t("theme_description")),x.addEventListener("change",Q=>C.setDarkMode(Q.currentTarget.checked)),o(F,()=>t("dark_mode")),o(se,()=>t("dark_mode_description")),o(T,()=>t("units_and_formatting")),o(j,()=>t("display_units")),W.addEventListener("change",Q=>l(Q.currentTarget.value)),o(W,y(Ie,{each:n,children:Q=>(()=>{var _e=Qt();return o(_e,()=>Q.label),k(()=>_e.value=Q.value),_e})()})),o(z,()=>t("units_description")),U.addEventListener("change",Q=>C.updateConfig({...v.config,showGrid:Q.currentTarget.checked})),o(M,()=>t("show_grid")),o(Z,()=>t("show_grid_description")),ue.addEventListener("change",Q=>C.updateConfig({...v.config,showRulers:Q.currentTarget.checked})),o(Pe,()=>t("show_rulers")),o($e,()=>t("show_rulers_description")),o(ce,()=>t("layout_preferences")),o(pe,()=>t("parts_panel_width")),Fe.$$input=Q=>C.setPanelWidth("partsWidth",parseInt(Q.currentTarget.value)||300),Me.$$click=c,o(Me,()=>t("reset")),o(we,()=>t("panel_width_description")),ke.addEventListener("change",Q=>C.setShowTooltips(Q.currentTarget.checked)),o(H,()=>t("show_tooltips")),o(ie,()=>t("tooltips_description")),ge.addEventListener("change",Q=>C.setShowStatusBar(Q.currentTarget.checked)),o(Re,()=>t("show_status_bar")),o(Te,()=>t("status_bar_description")),k(()=>$.value=v.ui.language),k(()=>L.value=v.ui.theme||"auto"),k(()=>x.checked=v.ui.darkMode),k(()=>W.value=v.config.units||"mm"),k(()=>U.checked=v.config.showGrid!==!1),k(()=>ue.checked=v.config.showRulers!==!1),k(()=>Fe.value=v.ui.panels.partsWidth||300),k(()=>ke.checked=v.ui.showTooltips!==!1),k(()=>ge.checked=v.ui.showStatusBar!==!1),d})()};Ee(["input","click"]);var ks=E("<div class=debug-item><span class=debug-label>:</span><span class=debug-value>"),wu=E('<div class=debug-info><h5></h5><div class=debug-details><div class=debug-item><span class=debug-label>:</span><span class=debug-value></span></div><div class=debug-item><span class=debug-label>:</span><span class=debug-value></span></div><div class=debug-item><span class=debug-label>:</span><span class=debug-value></span></div><div class=debug-item><span class=debug-label>:</span><span class=debug-value>  </span></div></div><button class="button secondary">'),Cu=E('<div class=advanced-settings><div class=section-header><h3></h3></div><div class=settings-sections><div class=settings-section><h4></h4><div class=setting-group><label class=setting-label></label><input type=number min=1 class=number-input><div class=setting-description></div></div><div class=setting-group><label class=checkbox-setting><input type=checkbox><span class=checkmark></span><span class=setting-label></span></label><div class=setting-description></div></div><div class=setting-group><label class=checkbox-setting><input type=checkbox><span class=checkmark></span><span class=setting-label></span></label><div class=setting-description></div></div></div><div class=settings-section><h4></h4><div class=setting-group><label class=checkbox-setting><input type=checkbox><span class=checkmark></span><span class=setting-label></span></label><div class=setting-description></div></div><div class=setting-group><label class=checkbox-setting><input type=checkbox><span class=checkmark></span><span class=setting-label></span></label><div class=setting-description></div></div><div class=setting-group><button class="button secondary"></button></div></div><div class=settings-section><h4></h4><div class=setting-group><button class="button secondary"></button><div class=setting-description></div></div><div class=setting-group><button class="button secondary"></button><div class=setting-description></div></div><div class=setting-group><label class=setting-label> (<!>)</label><input type=number min=0 max=60 class=number-input><div class=setting-description>');const ku=()=>{const[t]=Ne("settings"),[e,s]=X(!1),n=()=>{if(confirm(t("confirm_clear_cache")))try{localStorage.clear(),C.setError(null),alert(t("cache_cleared_success"))}catch(c){console.error("Failed to clear cache:",c),C.setError(t("cache_clear_failed"))}},i=()=>{C.setPanelWidth("partsWidth",300),C.setActiveTab("parts")},r=()=>{const l={timestamp:new Date().toISOString(),platform:navigator.platform,userAgent:navigator.userAgent,language:navigator.language,viewport:{width:window.innerWidth,height:window.innerHeight},globalState:{ui:v.ui,config:v.config,partsCount:v.app.parts.length,sheetsCount:v.app.sheets.length,nestsCount:v.app.nests.length,presetsCount:v.presets.length},performance:{memory:performance.memory?{usedJSHeapSize:performance.memory.usedJSHeapSize,totalJSHeapSize:performance.memory.totalJSHeapSize,jsHeapSizeLimit:performance.memory.jsHeapSizeLimit}:null}},c=new Blob([JSON.stringify(l,null,2)],{type:"application/json"}),d=URL.createObjectURL(c),g=document.createElement("a");g.href=d,g.download=`deepnest-debug-${Date.now()}.json`,document.body.appendChild(g),g.click(),document.body.removeChild(g),URL.revokeObjectURL(d)},a=l=>{if(l===0)return"0 Bytes";const c=1024,d=["Bytes","KB","MB","GB"],g=Math.floor(Math.log(l)/Math.log(c));return parseFloat((l/Math.pow(c,g)).toFixed(2))+" "+d[g]};return(()=>{var l=Cu(),c=l.firstChild,d=c.firstChild,g=c.nextSibling,f=g.firstChild,u=f.firstChild,h=u.nextSibling,m=h.firstChild,p=m.nextSibling,_=p.nextSibling,$=h.nextSibling,S=$.firstChild,P=S.firstChild,b=P.nextSibling,L=b.nextSibling,K=S.nextSibling,N=$.nextSibling,R=N.firstChild,x=R.firstChild,w=x.nextSibling,F=w.nextSibling,se=R.nextSibling,D=f.nextSibling,T=D.firstChild,I=T.nextSibling,j=I.firstChild,W=j.firstChild,z=W.nextSibling,V=z.nextSibling,A=j.nextSibling,U=I.nextSibling,G=U.firstChild,M=G.firstChild,Z=M.nextSibling,re=Z.nextSibling,ae=G.nextSibling,ue=U.nextSibling,he=ue.firstChild,Pe=D.nextSibling,$e=Pe.firstChild,Se=$e.nextSibling,ce=Se.firstChild,be=ce.nextSibling,pe=Se.nextSibling,ye=pe.firstChild,Fe=ye.nextSibling,Me=pe.nextSibling,we=Me.firstChild,Ce=we.firstChild,Le=Ce.nextSibling;Le.nextSibling;var ke=we.nextSibling,B=ke.nextSibling;return o(d,()=>t("advanced_settings")),o(u,()=>t("performance")),o(m,()=>t("worker_threads")),p.$$input=H=>C.updateConfig({...v.config,workerThreads:parseInt(H.currentTarget.value)||4}),o(_,()=>t("worker_threads_description",{max:navigator.hardwareConcurrency||8})),P.addEventListener("change",H=>C.updateConfig({...v.config,enableGPU:H.currentTarget.checked})),o(L,()=>t("enable_gpu_acceleration")),o(K,()=>t("gpu_acceleration_description")),x.addEventListener("change",H=>C.updateConfig({...v.config,enableCaching:H.currentTarget.checked})),o(F,()=>t("enable_caching")),o(se,()=>t("caching_description")),o(T,()=>t("debugging")),W.addEventListener("change",H=>C.updateConfig({...v.config,debugMode:H.currentTarget.checked})),o(V,()=>t("debug_mode")),o(A,()=>t("debug_mode_description")),M.addEventListener("change",H=>C.updateConfig({...v.config,verboseLogging:H.currentTarget.checked})),o(re,()=>t("verbose_logging")),o(ae,()=>t("verbose_logging_description")),he.$$click=()=>s(!e()),o(he,(()=>{var H=qe(()=>!!e());return()=>H()?t("hide_debug_info"):t("show_debug_info")})()),o(ue,y(te,{get when(){return e()},get children(){var H=wu(),ie=H.firstChild,J=ie.nextSibling,le=J.firstChild,ge=le.firstChild,de=ge.firstChild,Re=ge.nextSibling,Te=le.nextSibling,Q=Te.firstChild,_e=Q.firstChild,je=Q.nextSibling,We=Te.nextSibling,Ue=We.firstChild,rt=Ue.firstChild,tt=Ue.nextSibling,Je=We.nextSibling,Be=Je.firstChild,at=Be.firstChild,Ge=Be.nextSibling,lt=Ge.firstChild,Ye=J.nextSibling;return o(ie,()=>t("system_information")),o(ge,()=>t("platform"),de),o(Re,()=>navigator.platform),o(Q,()=>t("language"),_e),o(je,()=>navigator.language),o(Ue,()=>t("cpu_cores"),rt),o(tt,()=>navigator.hardwareConcurrency||"Unknown"),o(Be,()=>t("viewport"),at),o(Ge,()=>window.innerWidth,lt),o(Ge,()=>window.innerHeight,null),o(J,y(te,{get when(){return performance.memory},get children(){return[(()=>{var Ke=ks(),De=Ke.firstChild,Ze=De.firstChild,O=De.nextSibling;return o(De,()=>t("memory_used"),Ze),o(O,()=>a(performance.memory.usedJSHeapSize)),Ke})(),(()=>{var Ke=ks(),De=Ke.firstChild,Ze=De.firstChild,O=De.nextSibling;return o(De,()=>t("memory_total"),Ze),o(O,()=>a(performance.memory.totalJSHeapSize)),Ke})()]}}),null),Ye.$$click=r,o(Ye,()=>t("export_debug_info")),H}}),null),o($e,()=>t("maintenance")),ce.$$click=n,o(ce,()=>t("clear_cache")),o(be,()=>t("clear_cache_description")),ye.$$click=i,o(ye,()=>t("reset_layout")),o(Fe,()=>t("reset_layout_description")),o(we,()=>t("auto_save_interval"),Ce),o(we,()=>t("minutes"),Le),ke.$$input=H=>C.updateConfig({...v.config,autoSaveInterval:parseInt(H.currentTarget.value)||5}),o(B,()=>t("auto_save_description")),k(()=>Y(p,"max",navigator.hardwareConcurrency||8)),k(()=>p.value=v.config.workerThreads||navigator.hardwareConcurrency||4),k(()=>P.checked=v.config.enableGPU||!1),k(()=>x.checked=v.config.enableCaching!==!1),k(()=>W.checked=v.config.debugMode||!1),k(()=>M.checked=v.config.verboseLogging||!1),k(()=>ke.value=v.config.autoSaveInterval||5),l})()};Ee(["input","click"]);var Pu=E('<div class=settings-panel><div class=panel-header><h2></h2><div class=panel-actions><button class="button secondary"> </button><button class="button secondary"> </button><button class="button secondary"> </button></div></div><div class=settings-layout><div class=settings-sidebar><div class=settings-nav></div></div><div class=settings-content>'),Lu=E("<button><span class=nav-icon></span><span class=nav-label>");const Au=()=>{const[t]=Ne("settings"),[e,s]=X("presets"),n=async()=>{if(confirm(t("confirm_reset_defaults")))try{C.resetToDefaults(),ee.isAvailable&&await ee.saveConfig(v.config)}catch(c){console.error("Failed to reset to defaults:",c),C.setError(t("reset_failed"))}},i=async()=>{if(ee.isAvailable)try{const l=await ee.saveFileDialog({title:t("export_configuration"),defaultPath:"deepnest-config.json",filters:[{name:"JSON Files",extensions:["json"]},{name:"All Files",extensions:["*"]}]});if(l.canceled||!l.filePath)return;await ee.exportConfig(v.config,l.filePath)}catch(l){console.error("Failed to export config:",l),C.setError(t("export_failed"))}},r=async()=>{if(ee.isAvailable)try{const l=await ee.openFileDialog({title:t("import_configuration"),filters:[{name:"JSON Files",extensions:["json"]},{name:"All Files",extensions:["*"]}],properties:["openFile"]});if(l.canceled||!l.filePaths?.length)return;const c=await ee.importConfig(l.filePaths[0]);C.updateConfig(c)}catch(l){console.error("Failed to import config:",l),C.setError(t("import_failed"))}},a=[{id:"presets",label:t("preset_management"),icon:""},{id:"algorithm",label:t("algorithm_settings"),icon:""},{id:"ui",label:t("ui_preferences"),icon:""},{id:"advanced",label:t("advanced_settings"),icon:""}];return(()=>{var l=Pu(),c=l.firstChild,d=c.firstChild,g=d.nextSibling,f=g.firstChild;f.firstChild;var u=f.nextSibling;u.firstChild;var h=u.nextSibling;h.firstChild;var m=c.nextSibling,p=m.firstChild,_=p.firstChild,$=p.nextSibling;return o(d,()=>t("settings_title")),f.$$click=r,o(f,()=>t("import"),null),u.$$click=i,o(u,()=>t("export"),null),h.$$click=n,o(h,()=>t("reset_defaults"),null),o(_,y(Ie,{each:a,children:S=>(()=>{var P=Lu(),b=P.firstChild,L=b.nextSibling;return P.$$click=()=>s(S.id),o(b,()=>S.icon),o(L,()=>S.label),k(()=>Ve(P,`settings-nav-item ${e()===S.id?"active":""}`)),P})()})),o($,y(te,{get when(){return e()==="presets"},get children(){return y(vu,{})}}),null),o($,y(te,{get when(){return e()==="algorithm"},get children(){return y(xu,{})}}),null),o($,y(te,{get when(){return e()==="ui"},get children(){return y(yu,{})}}),null),o($,y(te,{get when(){return e()==="advanced"},get children(){return y(ku,{})}}),null),k(S=>{var P=t("import_configuration"),b=t("export_configuration"),L=t("reset_to_defaults");return P!==S.e&&Y(f,"title",S.e=P),b!==S.t&&Y(u,"title",S.t=b),L!==S.a&&Y(h,"title",S.a=L),S},{e:void 0,t:void 0,a:void 0}),l})()};Ee(["click"]);var Ou=E("<main class=main-content>");const Eu=()=>(()=>{var t=Ou();return o(t,y(un,{get children(){return[y(Ot,{get when(){return v.ui.activeTab==="parts"},get children(){return y(Pd,{})}}),y(Ot,{get when(){return v.ui.activeTab==="nests"},get children(){return y(Xd,{})}}),y(Ot,{get when(){return v.ui.activeTab==="sheets"},get children(){return y(du,{})}}),y(Ot,{get when(){return v.ui.activeTab==="settings"},get children(){return y(Au,{})}})]}})),t})();var Nu=E("<div class=progress-container><div class=progress-bar><div class=progress-fill></div></div><span class=progress-text>%"),Fu=E("<span class=thread-count>"),Ru=E("<span class=parts-count>"),Tu=E("<span class=nests-count>"),Du=E("<div class=error-status><span class=error-icon></span><span class=error-text>"),Iu=E("<footer class=status-bar><div class=status-left><span class=status-text></span></div><div class=status-right>");const Mu=()=>{const[t]=Ne("common"),e=oe(()=>{const{process:n}=v;return n.isNesting?t("status.nesting_in_progress"):n.lastError?t("status.error_occurred"):n.workerStatus.isRunning?n.workerStatus.currentOperation||t("status.processing"):t("status.ready")}),s=oe(()=>Math.max(0,Math.min(100,v.process.progress)));return(()=>{var n=Iu(),i=n.firstChild,r=i.firstChild,a=i.nextSibling;return o(r,e),o(i,y(te,{get when(){return v.process.isNesting},get children(){var l=Nu(),c=l.firstChild,d=c.firstChild,g=c.nextSibling,f=g.firstChild;return o(g,()=>s().toFixed(1),f),k(u=>(u=`${s()}%`)!=null?d.style.setProperty("width",u):d.style.removeProperty("width")),l}}),null),o(a,y(te,{get when(){return v.process.workerStatus.threadsActive>0},get children(){var l=Fu();return o(l,()=>t("status.threads_active",{count:v.process.workerStatus.threadsActive})),l}}),null),o(a,y(te,{get when(){return v.app.parts.length>0},get children(){var l=Ru();return o(l,()=>t("status.parts_loaded",{count:v.app.parts.length})),l}}),null),o(a,y(te,{get when(){return v.app.nests.length>0},get children(){var l=Tu();return o(l,()=>t("status.nests_available",{count:v.app.nests.length})),l}}),null),o(a,y(te,{get when(){return v.process.lastError},get children(){var l=Du(),c=l.firstChild,d=c.nextSibling;return o(d,()=>v.process.lastError),l}}),null),n})()};var Uu=E('<div><div class=resizable-left></div><div class=resizable-handle title="Drag to resize"><div class=resizable-handle-line></div></div><div class=resizable-right>');const zu=t=>{const{minLeftWidth:e=250,maxLeftWidth:s=500,defaultLeftWidth:n=300}=t,[i,r]=X(!1),[a,l]=X(v.ui.panels.partsWidth||n);let c,d;const g=h=>{h.preventDefault(),r(!0),document.addEventListener("mousemove",f),document.addEventListener("mouseup",u),document.body.style.cursor="col-resize",document.body.style.userSelect="none"},f=h=>{if(!i()||!c)return;const m=c.getBoundingClientRect(),p=h.clientX-m.left,_=Math.max(e,Math.min(s,p));l(_),C.setPanelWidth("partsWidth",_)},u=()=>{r(!1),document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",u),document.body.style.cursor="",document.body.style.userSelect=""};return is(()=>{l(v.ui.panels.partsWidth||n)}),As(()=>{document.removeEventListener("mousemove",f),document.removeEventListener("mouseup",u),document.body.style.cursor="",document.body.style.userSelect=""}),(()=>{var h=Uu(),m=h.firstChild,p=m.nextSibling,_=p.nextSibling,$=c;typeof $=="function"?os($,h):c=h,o(m,()=>t.left),p.$$mousedown=g;var S=d;return typeof S=="function"?os(S,p):d=p,o(_,()=>t.right),k(P=>{var b=`resizable-layout ${i()?"resizing":""}`,L=`${a()}px`;return b!==P.e&&Ve(h,P.e=b),L!==P.t&&((P.t=L)!=null?m.style.setProperty("width",L):m.style.removeProperty("width")),P},{e:void 0,t:void 0}),h})()};Ee(["mousedown"]);var ju=E("<div class=layout><div class=layout-body>");const Vu=()=>(()=>{var t=ju(),e=t.firstChild;return o(t,y(vd,{}),e),o(e,y(zu,{get left(){return y(xd,{})},get right(){return y(Eu,{})},minLeftWidth:200,maxLeftWidth:600,defaultLeftWidth:300})),o(t,y(Mu,{}),null),t})();var Bu=E("<div class=app>");const Ku=()=>{is(async()=>{if(C.setDarkMode(v.ui.darkMode),t(),ee.isAvailable)try{const e=await ee.readConfig();C.updateConfig(e)}catch(e){console.warn("Failed to load initial config:",e)}});const t=()=>{ee.isAvailable&&(ee.onNestProgress(e=>{C.setNestingProgress(e)}),ee.onNestComplete(e=>{C.setNests(e),C.setNestingStatus(!1)}),ee.onBackgroundProgress(e=>{C.setNestingProgress(e.progress)}),ee.onWorkerStatus(e=>{C.setWorkerStatus(e)}),ee.onNestError(e=>{C.setError(e),C.setNestingStatus(!1)}))};return y(od,{get children(){var e=Bu();return o(e,y(Vu,{})),e}})},Hu=document.getElementById("root");fn(()=>y(Ku,{}),Hu);
