(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const l of n.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function s(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(r){if(r.ep)return;r.ep=!0;const n=s(r);fetch(r.href,n)}})();const Ys=!1,ei=(t,e)=>t===e,rt=Symbol("solid-proxy"),Xt=Symbol("solid-track"),Nt={equals:ei};let As=Ts;const et=1,Rt=2,Es={owned:null,cleanups:null,context:null,owner:null};var me=null;let Gt=null,ti=null,$e=null,Re=null,Xe=null,Ht=0;function Ft(t,e){const s=$e,i=me,r=t.length===0,n=e===void 0?i:e,l=r?Es:{owned:null,cleanups:null,context:n?n.context:null,owner:n},a=r?t:()=>t(()=>Ve(()=>yt(l)));me=l,$e=null;try{return ft(a,!0)}finally{$e=s,me=i}}function te(t,e){e=e?Object.assign({},Nt,e):Nt;const s={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0},i=r=>(typeof r=="function"&&(r=r(s.value)),Ms(s,r));return[Rs.bind(s),i]}function P(t,e,s){const i=as(t,e,!1,et);Ct(i)}function Kt(t,e,s){As=li;const i=as(t,e,!1,et);i.user=!0,Xe?Xe.push(i):Ct(i)}function ge(t,e,s){s=s?Object.assign({},Nt,s):Nt;const i=as(t,e,!0,0);return i.observers=null,i.observerSlots=null,i.comparator=s.equals||void 0,Ct(i),Rs.bind(i)}function si(t){return ft(t,!1)}function Ve(t){if($e===null)return t();const e=$e;$e=null;try{return t()}finally{$e=e}}function ns(t){Kt(()=>Ve(t))}function Fs(t){return me===null||(me.cleanups===null?me.cleanups=[t]:me.cleanups.push(t)),t}function Zt(){return $e}function ii(t,e){const s=Symbol("context");return{id:s,Provider:ci(s),defaultValue:t}}function ri(t){let e;return me&&me.context&&(e=me.context[t.id])!==void 0?e:t.defaultValue}function Ns(t){const e=ge(t),s=ge(()=>Yt(e()));return s.toArray=()=>{const i=s();return Array.isArray(i)?i:i!=null?[i]:[]},s}function Rs(){if(this.sources&&this.state)if(this.state===et)Ct(this);else{const t=Re;Re=null,ft(()=>Tt(this),!1),Re=t}if($e){const t=this.observers?this.observers.length:0;$e.sources?($e.sources.push(this),$e.sourceSlots.push(t)):($e.sources=[this],$e.sourceSlots=[t]),this.observers?(this.observers.push($e),this.observerSlots.push($e.sources.length-1)):(this.observers=[$e],this.observerSlots=[$e.sources.length-1])}return this.value}function Ms(t,e,s){let i=t.value;return(!t.comparator||!t.comparator(i,e))&&(t.value=e,t.observers&&t.observers.length&&ft(()=>{for(let r=0;r<t.observers.length;r+=1){const n=t.observers[r],l=Gt&&Gt.running;l&&Gt.disposed.has(n),(l?!n.tState:!n.state)&&(n.pure?Re.push(n):Xe.push(n),n.observers&&Ds(n)),l||(n.state=et)}if(Re.length>1e6)throw Re=[],new Error},!1)),e}function Ct(t){if(!t.fn)return;yt(t);const e=Ht;ni(t,t.value,e)}function ni(t,e,s){let i;const r=me,n=$e;$e=me=t;try{i=t.fn(e)}catch(l){return t.pure&&(t.state=et,t.owned&&t.owned.forEach(yt),t.owned=null),t.updatedAt=s+1,js(l)}finally{$e=n,me=r}(!t.updatedAt||t.updatedAt<=s)&&(t.updatedAt!=null&&"observers"in t?Ms(t,i):t.value=i,t.updatedAt=s)}function as(t,e,s,i=et,r){const n={fn:t,state:i,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:me,context:me?me.context:null,pure:s};return me===null||me!==Es&&(me.owned?me.owned.push(n):me.owned=[n]),n}function Mt(t){if(t.state===0)return;if(t.state===Rt)return Tt(t);if(t.suspense&&Ve(t.suspense.inFallback))return t.suspense.effects.push(t);const e=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<Ht);)t.state&&e.push(t);for(let s=e.length-1;s>=0;s--)if(t=e[s],t.state===et)Ct(t);else if(t.state===Rt){const i=Re;Re=null,ft(()=>Tt(t,e[0]),!1),Re=i}}function ft(t,e){if(Re)return t();let s=!1;e||(Re=[]),Xe?s=!0:Xe=[],Ht++;try{const i=t();return ai(s),i}catch(i){s||(Xe=null),Re=null,js(i)}}function ai(t){if(Re&&(Ts(Re),Re=null),t)return;const e=Xe;Xe=null,e.length&&ft(()=>As(e),!1)}function Ts(t){for(let e=0;e<t.length;e++)Mt(t[e])}function li(t){let e,s=0;for(e=0;e<t.length;e++){const i=t[e];i.user?t[s++]=i:Mt(i)}for(e=0;e<s;e++)Mt(t[e])}function Tt(t,e){t.state=0;for(let s=0;s<t.sources.length;s+=1){const i=t.sources[s];if(i.sources){const r=i.state;r===et?i!==e&&(!i.updatedAt||i.updatedAt<Ht)&&Mt(i):r===Rt&&Tt(i,e)}}}function Ds(t){for(let e=0;e<t.observers.length;e+=1){const s=t.observers[e];s.state||(s.state=Rt,s.pure?Re.push(s):Xe.push(s),s.observers&&Ds(s))}}function yt(t){let e;if(t.sources)for(;t.sources.length;){const s=t.sources.pop(),i=t.sourceSlots.pop(),r=s.observers;if(r&&r.length){const n=r.pop(),l=s.observerSlots.pop();i<r.length&&(n.sourceSlots[l]=i,r[i]=n,s.observerSlots[i]=l)}}if(t.tOwned){for(e=t.tOwned.length-1;e>=0;e--)yt(t.tOwned[e]);delete t.tOwned}if(t.owned){for(e=t.owned.length-1;e>=0;e--)yt(t.owned[e]);t.owned=null}if(t.cleanups){for(e=t.cleanups.length-1;e>=0;e--)t.cleanups[e]();t.cleanups=null}t.state=0}function oi(t){return t instanceof Error?t:new Error(typeof t=="string"?t:"Unknown error",{cause:t})}function js(t,e=me){throw oi(t)}function Yt(t){if(typeof t=="function"&&!t.length)return Yt(t());if(Array.isArray(t)){const e=[];for(let s=0;s<t.length;s++){const i=Yt(t[s]);Array.isArray(i)?e.push.apply(e,i):e.push(i)}return e}return t}function ci(t,e){return function(i){let r;return P(()=>r=Ve(()=>(me.context={...me.context,[t]:i.value},Ns(()=>i.children))),void 0),r}}const di=Symbol("fallback");function ls(t){for(let e=0;e<t.length;e++)t[e]()}function ui(t,e,s={}){let i=[],r=[],n=[],l=0,a=e.length>1?[]:null;return Fs(()=>ls(n)),()=>{let c=t()||[],d=c.length,g,u;return c[Xt],Ve(()=>{let f,p,m,b,y,C,E,$,R;if(d===0)l!==0&&(ls(n),n=[],i=[],r=[],l=0,a&&(a=[])),s.fallback&&(i=[di],r[0]=Ft(W=>(n[0]=W,s.fallback())),l=1);else if(l===0){for(r=new Array(d),u=0;u<d;u++)i[u]=c[u],r[u]=Ft(h);l=d}else{for(m=new Array(d),b=new Array(d),a&&(y=new Array(d)),C=0,E=Math.min(l,d);C<E&&i[C]===c[C];C++);for(E=l-1,$=d-1;E>=C&&$>=C&&i[E]===c[$];E--,$--)m[$]=r[E],b[$]=n[E],a&&(y[$]=a[E]);for(f=new Map,p=new Array($+1),u=$;u>=C;u--)R=c[u],g=f.get(R),p[u]=g===void 0?-1:g,f.set(R,u);for(g=C;g<=E;g++)R=i[g],u=f.get(R),u!==void 0&&u!==-1?(m[u]=r[g],b[u]=n[g],a&&(y[u]=a[g]),u=p[u],f.set(R,u)):n[g]();for(u=C;u<d;u++)u in m?(r[u]=m[u],n[u]=b[u],a&&(a[u]=y[u],a[u](u))):r[u]=Ft(h);r=r.slice(0,l=d),i=c.slice(0)}return r});function h(f){if(n[u]=f,a){const[p,m]=te(u);return a[u]=m,e(c[u],p)}return e(c[u])}}}function S(t,e){return Ve(()=>t(e||{}))}const Is=t=>`Stale read from <${t}>.`;function je(t){const e="fallback"in t&&{fallback:()=>t.fallback};return ge(ui(()=>t.each,t.children,e||void 0))}function re(t){const e=t.keyed,s=ge(()=>t.when,void 0,void 0),i=e?s:ge(s,void 0,{equals:(r,n)=>!r==!n});return ge(()=>{const r=i();if(r){const n=t.children;return typeof n=="function"&&n.length>0?Ve(()=>n(e?r:()=>{if(!Ve(i))throw Is("Show");return s()})):n}return t.fallback},void 0,void 0)}function gi(t){const e=Ns(()=>t.children),s=ge(()=>{const i=e(),r=Array.isArray(i)?i:[i];let n=()=>{};for(let l=0;l<r.length;l++){const a=l,c=r[l],d=n,g=ge(()=>d()?void 0:c.when,void 0,void 0),u=c.keyed?g:ge(g,void 0,{equals:(h,f)=>!h==!f});n=()=>d()||(u()?[a,g,c]:void 0)}return n});return ge(()=>{const i=s()();if(!i)return t.fallback;const[r,n,l]=i,a=l.children;return typeof a=="function"&&a.length>0?Ve(()=>a(l.keyed?n():()=>{if(Ve(s)()?.[0]!==r)throw Is("Match");return n()})):a},void 0,void 0)}function At(t){return t}const Ie=t=>ge(()=>t());function fi(t,e,s){let i=s.length,r=e.length,n=i,l=0,a=0,c=e[r-1].nextSibling,d=null;for(;l<r||a<n;){if(e[l]===s[a]){l++,a++;continue}for(;e[r-1]===s[n-1];)r--,n--;if(r===l){const g=n<i?a?s[a-1].nextSibling:s[n-a]:c;for(;a<n;)t.insertBefore(s[a++],g)}else if(n===a)for(;l<r;)(!d||!d.has(e[l]))&&e[l].remove(),l++;else if(e[l]===s[n-1]&&s[a]===e[r-1]){const g=e[--r].nextSibling;t.insertBefore(s[a++],e[l++].nextSibling),t.insertBefore(s[--n],g),e[r]=s[n]}else{if(!d){d=new Map;let u=a;for(;u<n;)d.set(s[u],u++)}const g=d.get(e[l]);if(g!=null)if(a<g&&g<n){let u=l,h=1,f;for(;++u<r&&u<n&&!((f=d.get(e[u]))==null||f!==g+h);)h++;if(h>g-a){const p=e[l];for(;a<g;)t.insertBefore(s[a++],p)}else t.replaceChild(s[a++],e[l++])}else l++;else e[l++].remove()}}}const os="_$DX_DELEGATE";function hi(t,e,s,i={}){let r;return Ft(n=>{r=n,e===document?t():o(e,t(),e.firstChild?null:void 0,s)},i.owner),()=>{r(),e.textContent=""}}function k(t,e,s,i){let r;const n=()=>{const a=i?document.createElementNS("http://www.w3.org/1998/Math/MathML","template"):document.createElement("template");return a.innerHTML=t,s?a.content.firstChild.firstChild:i?a.firstChild:a.content.firstChild},l=e?()=>Ve(()=>document.importNode(r||(r=n()),!0)):()=>(r||(r=n())).cloneNode(!0);return l.cloneNode=l,l}function Me(t,e=window.document){const s=e[os]||(e[os]=new Set);for(let i=0,r=t.length;i<r;i++){const n=t[i];s.has(n)||(s.add(n),e.addEventListener(n,mi))}}function ee(t,e,s){s==null?t.removeAttribute(e):t.setAttribute(e,s)}function Ne(t,e){e==null?t.removeAttribute("class"):t.className=e}function pi(t,e,s,i){Array.isArray(s)?(t[`$$${e}`]=s[0],t[`$$${e}Data`]=s[1]):t[`$$${e}`]=s}function cs(t,e,s){return Ve(()=>t(e,s))}function o(t,e,s,i){if(s!==void 0&&!i&&(i=[]),typeof e!="function")return Dt(t,e,i,s);P(r=>Dt(t,e(),r,s),i)}function mi(t){let e=t.target;const s=`$$${t.type}`,i=t.target,r=t.currentTarget,n=c=>Object.defineProperty(t,"target",{configurable:!0,value:c}),l=()=>{const c=e[s];if(c&&!e.disabled){const d=e[`${s}Data`];if(d!==void 0?c.call(e,d,t):c.call(e,t),t.cancelBubble)return}return e.host&&typeof e.host!="string"&&!e.host._$host&&e.contains(t.target)&&n(e.host),!0},a=()=>{for(;l()&&(e=e._$host||e.parentNode||e.host););};if(Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return e||document}}),t.composedPath){const c=t.composedPath();n(c[0]);for(let d=0;d<c.length-2&&(e=c[d],!!l());d++){if(e._$host){e=e._$host,a();break}if(e.parentNode===r)break}}else a();n(i)}function Dt(t,e,s,i,r){for(;typeof s=="function";)s=s();if(e===s)return s;const n=typeof e,l=i!==void 0;if(t=l&&s[0]&&s[0].parentNode||t,n==="string"||n==="number"){if(n==="number"&&(e=e.toString(),e===s))return s;if(l){let a=s[0];a&&a.nodeType===3?a.data!==e&&(a.data=e):a=document.createTextNode(e),s=lt(t,s,i,a)}else s!==""&&typeof s=="string"?s=t.firstChild.data=e:s=t.textContent=e}else if(e==null||n==="boolean")s=lt(t,s,i);else{if(n==="function")return P(()=>{let a=e();for(;typeof a=="function";)a=a();s=Dt(t,a,s,i)}),()=>s;if(Array.isArray(e)){const a=[],c=s&&Array.isArray(s);if(es(a,e,s,r))return P(()=>s=Dt(t,a,s,i,!0)),()=>s;if(a.length===0){if(s=lt(t,s,i),l)return s}else c?s.length===0?ds(t,a,i):fi(t,s,a):(s&&lt(t),ds(t,a));s=a}else if(e.nodeType){if(Array.isArray(s)){if(l)return s=lt(t,s,i,e);lt(t,s,null,e)}else s==null||s===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);s=e}}return s}function es(t,e,s,i){let r=!1;for(let n=0,l=e.length;n<l;n++){let a=e[n],c=s&&s[t.length],d;if(!(a==null||a===!0||a===!1))if((d=typeof a)=="object"&&a.nodeType)t.push(a);else if(Array.isArray(a))r=es(t,a,c)||r;else if(d==="function")if(i){for(;typeof a=="function";)a=a();r=es(t,Array.isArray(a)?a:[a],Array.isArray(c)?c:[c])||r}else t.push(a),r=!0;else{const g=String(a);c&&c.nodeType===3&&c.data===g?t.push(c):t.push(document.createTextNode(g))}}return r}function ds(t,e,s=null){for(let i=0,r=e.length;i<r;i++)t.insertBefore(e[i],s)}function lt(t,e,s,i){if(s===void 0)return t.textContent="";const r=i||document.createTextNode("");if(e.length){let n=!1;for(let l=e.length-1;l>=0;l--){const a=e[l];if(r!==a){const c=a.parentNode===t;!n&&!l?c?t.replaceChild(r,a):t.insertBefore(r,s):c&&a.remove()}else n=!0}}else t.insertBefore(r,s);return[r]}const H=t=>typeof t=="string",vt=()=>{let t,e;const s=new Promise((i,r)=>{t=i,e=r});return s.resolve=t,s.reject=e,s},us=t=>t==null?"":""+t,vi=(t,e,s)=>{t.forEach(i=>{e[i]&&(s[i]=e[i])})},bi=/###/g,gs=t=>t&&t.indexOf("###")>-1?t.replace(bi,"."):t,fs=t=>!t||H(t),_t=(t,e,s)=>{const i=H(e)?e.split("."):e;let r=0;for(;r<i.length-1;){if(fs(t))return{};const n=gs(i[r]);!t[n]&&s&&(t[n]=new s),Object.prototype.hasOwnProperty.call(t,n)?t=t[n]:t={},++r}return fs(t)?{}:{obj:t,k:gs(i[r])}},hs=(t,e,s)=>{const{obj:i,k:r}=_t(t,e,Object);if(i!==void 0||e.length===1){i[r]=s;return}let n=e[e.length-1],l=e.slice(0,e.length-1),a=_t(t,l,Object);for(;a.obj===void 0&&l.length;)n=`${l[l.length-1]}.${n}`,l=l.slice(0,l.length-1),a=_t(t,l,Object),a?.obj&&typeof a.obj[`${a.k}.${n}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${n}`]=s},xi=(t,e,s,i)=>{const{obj:r,k:n}=_t(t,e,Object);r[n]=r[n]||[],r[n].push(s)},jt=(t,e)=>{const{obj:s,k:i}=_t(t,e);if(s&&Object.prototype.hasOwnProperty.call(s,i))return s[i]},_i=(t,e,s)=>{const i=jt(t,s);return i!==void 0?i:jt(e,s)},zs=(t,e,s)=>{for(const i in e)i!=="__proto__"&&i!=="constructor"&&(i in t?H(t[i])||t[i]instanceof String||H(e[i])||e[i]instanceof String?s&&(t[i]=e[i]):zs(t[i],e[i],s):t[i]=e[i]);return t},ot=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var yi={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const $i=t=>H(t)?t.replace(/[&<>"'\/]/g,e=>yi[e]):t;class Si{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const s=this.regExpMap.get(e);if(s!==void 0)return s;const i=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,i),this.regExpQueue.push(e),i}}const wi=[" ",",","?","!",";"],ki=new Si(20),Ci=(t,e,s)=>{e=e||"",s=s||"";const i=wi.filter(l=>e.indexOf(l)<0&&s.indexOf(l)<0);if(i.length===0)return!0;const r=ki.getRegExp(`(${i.map(l=>l==="?"?"\\?":l).join("|")})`);let n=!r.test(t);if(!n){const l=t.indexOf(s);l>0&&!r.test(t.substring(0,l))&&(n=!0)}return n},ts=(t,e,s=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const i=e.split(s);let r=t;for(let n=0;n<i.length;){if(!r||typeof r!="object")return;let l,a="";for(let c=n;c<i.length;++c)if(c!==n&&(a+=s),a+=i[c],l=r[a],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&c<i.length-1)continue;n+=c-n+1;break}r=l}return r},$t=t=>t?.replace("_","-"),Pi={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}};class It{constructor(e,s={}){this.init(e,s)}init(e,s={}){this.prefix=s.prefix||"i18next:",this.logger=e||Pi,this.options=s,this.debug=s.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,s,i,r){return r&&!this.debug?null:(H(e[0])&&(e[0]=`${i}${this.prefix} ${e[0]}`),this.logger[s](e))}create(e){return new It(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new It(this.logger,e)}}var We=new It;class qt{constructor(){this.observers={}}on(e,s){return e.split(" ").forEach(i=>{this.observers[i]||(this.observers[i]=new Map);const r=this.observers[i].get(s)||0;this.observers[i].set(s,r+1)}),this}off(e,s){if(this.observers[e]){if(!s){delete this.observers[e];return}this.observers[e].delete(s)}}emit(e,...s){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([r,n])=>{for(let l=0;l<n;l++)r(...s)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([r,n])=>{for(let l=0;l<n;l++)r.apply(r,[e,...s])})}}class ps extends qt{constructor(e,s={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const s=this.options.ns.indexOf(e);s>-1&&this.options.ns.splice(s,1)}getResource(e,s,i,r={}){const n=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,l=r.ignoreJSONStructure!==void 0?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,s],i&&(Array.isArray(i)?a.push(...i):H(i)&&n?a.push(...i.split(n)):a.push(i)));const c=jt(this.data,a);return!c&&!s&&!i&&e.indexOf(".")>-1&&(e=a[0],s=a[1],i=a.slice(2).join(".")),c||!l||!H(i)?c:ts(this.data?.[e]?.[s],i,n)}addResource(e,s,i,r,n={silent:!1}){const l=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let a=[e,s];i&&(a=a.concat(l?i.split(l):i)),e.indexOf(".")>-1&&(a=e.split("."),r=s,s=a[1]),this.addNamespaces(s),hs(this.data,a,r),n.silent||this.emit("added",e,s,i,r)}addResources(e,s,i,r={silent:!1}){for(const n in i)(H(i[n])||Array.isArray(i[n]))&&this.addResource(e,s,n,i[n],{silent:!0});r.silent||this.emit("added",e,s,i)}addResourceBundle(e,s,i,r,n,l={silent:!1,skipCopy:!1}){let a=[e,s];e.indexOf(".")>-1&&(a=e.split("."),r=i,i=s,s=a[1]),this.addNamespaces(s);let c=jt(this.data,a)||{};l.skipCopy||(i=JSON.parse(JSON.stringify(i))),r?zs(c,i,n):c={...c,...i},hs(this.data,a,c),l.silent||this.emit("added",e,s,i)}removeResourceBundle(e,s){this.hasResourceBundle(e,s)&&delete this.data[e][s],this.removeNamespaces(s),this.emit("removed",e,s)}hasResourceBundle(e,s){return this.getResource(e,s)!==void 0}getResourceBundle(e,s){return s||(s=this.options.defaultNS),this.getResource(e,s)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const s=this.getDataByLanguage(e);return!!(s&&Object.keys(s)||[]).find(r=>s[r]&&Object.keys(s[r]).length>0)}toJSON(){return this.data}}var Us={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,s,i,r){return t.forEach(n=>{e=this.processors[n]?.process(e,s,i,r)??e}),e}};const ms={},vs=t=>!H(t)&&typeof t!="boolean"&&typeof t!="number";class zt extends qt{constructor(e,s={}){super(),vi(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=We.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,s={interpolation:{}}){const i={...s};return e==null?!1:this.resolve(e,i)?.res!==void 0}extractFromKey(e,s){let i=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;i===void 0&&(i=":");const r=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let n=s.ns||this.options.defaultNS||[];const l=i&&e.indexOf(i)>-1,a=!this.options.userDefinedKeySeparator&&!s.keySeparator&&!this.options.userDefinedNsSeparator&&!s.nsSeparator&&!Ci(e,i,r);if(l&&!a){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:H(n)?[n]:n};const d=e.split(i);(i!==r||i===r&&this.options.ns.indexOf(d[0])>-1)&&(n=d.shift()),e=d.join(r)}return{key:e,namespaces:H(n)?[n]:n}}translate(e,s,i){let r=typeof s=="object"?{...s}:s;if(typeof r!="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(r={...r}),r||(r={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const n=r.returnDetails!==void 0?r.returnDetails:this.options.returnDetails,l=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,{key:a,namespaces:c}=this.extractFromKey(e[e.length-1],r),d=c[c.length-1];let g=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;g===void 0&&(g=":");const u=r.lng||this.language,h=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u?.toLowerCase()==="cimode")return h?n?{res:`${d}${g}${a}`,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:d,usedParams:this.getUsedParamsDetails(r)}:`${d}${g}${a}`:n?{res:a,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:d,usedParams:this.getUsedParamsDetails(r)}:a;const f=this.resolve(e,r);let p=f?.res;const m=f?.usedKey||a,b=f?.exactUsedKey||a,y=["[object Number]","[object Function]","[object RegExp]"],C=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,E=!this.i18nFormat||this.i18nFormat.handleAsObject,$=r.count!==void 0&&!H(r.count),R=zt.hasDefaultValue(r),W=$?this.pluralResolver.getSuffix(u,r.count,r):"",V=r.ordinal&&$?this.pluralResolver.getSuffix(u,r.count,{ordinal:!1}):"",M=$&&!r.ordinal&&r.count===0,v=M&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${W}`]||r[`defaultValue${V}`]||r.defaultValue;let _=p;E&&!p&&R&&(_=v);const j=vs(_),N=Object.prototype.toString.apply(_);if(E&&_&&j&&y.indexOf(N)<0&&!(H(C)&&Array.isArray(_))){if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const I=this.options.returnedObjectHandler?this.options.returnedObjectHandler(m,_,{...r,ns:c}):`key '${a} (${this.language})' returned an object instead of string.`;return n?(f.res=I,f.usedParams=this.getUsedParamsDetails(r),f):I}if(l){const I=Array.isArray(_),F=I?[]:{},T=I?b:m;for(const z in _)if(Object.prototype.hasOwnProperty.call(_,z)){const B=`${T}${l}${z}`;R&&!p?F[z]=this.translate(B,{...r,defaultValue:vs(v)?v[z]:void 0,joinArrays:!1,ns:c}):F[z]=this.translate(B,{...r,joinArrays:!1,ns:c}),F[z]===B&&(F[z]=_[z])}p=F}}else if(E&&H(C)&&Array.isArray(p))p=p.join(C),p&&(p=this.extendTranslation(p,e,r,i));else{let I=!1,F=!1;!this.isValidLookup(p)&&R&&(I=!0,p=v),this.isValidLookup(p)||(F=!0,p=a);const z=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&F?void 0:p,B=R&&v!==p&&this.options.updateMissing;if(F||I||B){if(this.logger.log(B?"updateKey":"missingKey",u,d,a,B?v:p),l){const D=this.resolve(a,{...r,keySeparator:!1});D&&D.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Z=[];const Q=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Q&&Q[0])for(let D=0;D<Q.length;D++)Z.push(Q[D]);else this.options.saveMissingTo==="all"?Z=this.languageUtils.toResolveHierarchy(r.lng||this.language):Z.push(r.lng||this.language);const A=(D,K,U)=>{const G=R&&U!==p?U:z;this.options.missingKeyHandler?this.options.missingKeyHandler(D,d,K,G,B,r):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(D,d,K,G,B,r),this.emit("missingKey",D,d,K,p)};this.options.saveMissing&&(this.options.saveMissingPlurals&&$?Z.forEach(D=>{const K=this.pluralResolver.getSuffixes(D,r);M&&r[`defaultValue${this.options.pluralSeparator}zero`]&&K.indexOf(`${this.options.pluralSeparator}zero`)<0&&K.push(`${this.options.pluralSeparator}zero`),K.forEach(U=>{A([D],a+U,r[`defaultValue${U}`]||v)})}):A(Z,a,v))}p=this.extendTranslation(p,e,r,f,i),F&&p===a&&this.options.appendNamespaceToMissingKey&&(p=`${d}${g}${a}`),(F||I)&&this.options.parseMissingKeyHandler&&(p=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${d}${g}${a}`:a,I?p:void 0,r))}return n?(f.res=p,f.usedParams=this.getUsedParamsDetails(r),f):p}extendTranslation(e,s,i,r,n){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...i},i.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!i.skipInterpolation){i.interpolation&&this.interpolator.init({...i,interpolation:{...this.options.interpolation,...i.interpolation}});const c=H(e)&&(i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(c){const u=e.match(this.interpolator.nestingRegexp);d=u&&u.length}let g=i.replace&&!H(i.replace)?i.replace:i;if(this.options.interpolation.defaultVariables&&(g={...this.options.interpolation.defaultVariables,...g}),e=this.interpolator.interpolate(e,g,i.lng||this.language||r.usedLng,i),c){const u=e.match(this.interpolator.nestingRegexp),h=u&&u.length;d<h&&(i.nest=!1)}!i.lng&&r&&r.res&&(i.lng=this.language||r.usedLng),i.nest!==!1&&(e=this.interpolator.nest(e,(...u)=>n?.[0]===u[0]&&!i.context?(this.logger.warn(`It seems you are nesting recursively key: ${u[0]} in key: ${s[0]}`),null):this.translate(...u,s),i)),i.interpolation&&this.interpolator.reset()}const l=i.postProcess||this.options.postProcess,a=H(l)?[l]:l;return e!=null&&a?.length&&i.applyPostProcessor!==!1&&(e=Us.handle(a,e,s,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(i)},...i}:i,this)),e}resolve(e,s={}){let i,r,n,l,a;return H(e)&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(i))return;const d=this.extractFromKey(c,s),g=d.key;r=g;let u=d.namespaces;this.options.fallbackNS&&(u=u.concat(this.options.fallbackNS));const h=s.count!==void 0&&!H(s.count),f=h&&!s.ordinal&&s.count===0,p=s.context!==void 0&&(H(s.context)||typeof s.context=="number")&&s.context!=="",m=s.lngs?s.lngs:this.languageUtils.toResolveHierarchy(s.lng||this.language,s.fallbackLng);u.forEach(b=>{this.isValidLookup(i)||(a=b,!ms[`${m[0]}-${b}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(a)&&(ms[`${m[0]}-${b}`]=!0,this.logger.warn(`key "${r}" for languages "${m.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),m.forEach(y=>{if(this.isValidLookup(i))return;l=y;const C=[g];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(C,g,y,b,s);else{let $;h&&($=this.pluralResolver.getSuffix(y,s.count,s));const R=`${this.options.pluralSeparator}zero`,W=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(h&&(C.push(g+$),s.ordinal&&$.indexOf(W)===0&&C.push(g+$.replace(W,this.options.pluralSeparator)),f&&C.push(g+R)),p){const V=`${g}${this.options.contextSeparator}${s.context}`;C.push(V),h&&(C.push(V+$),s.ordinal&&$.indexOf(W)===0&&C.push(V+$.replace(W,this.options.pluralSeparator)),f&&C.push(V+R))}}let E;for(;E=C.pop();)this.isValidLookup(i)||(n=E,i=this.getResource(y,b,E,s))}))})}),{res:i,usedKey:r,exactUsedKey:n,usedLng:l,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,s,i,r={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,s,i,r):this.resourceStore.getResource(e,s,i,r)}getUsedParamsDetails(e={}){const s=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],i=e.replace&&!H(e.replace);let r=i?e.replace:e;if(i&&typeof e.count<"u"&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!i){r={...r};for(const n of s)delete r[n]}return r}static hasDefaultValue(e){const s="defaultValue";for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)&&s===i.substring(0,s.length)&&e[i]!==void 0)return!0;return!1}}class bs{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=We.create("languageUtils")}getScriptPartFromCode(e){if(e=$t(e),!e||e.indexOf("-")<0)return null;const s=e.split("-");return s.length===2||(s.pop(),s[s.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(s.join("-"))}getLanguagePartFromCode(e){if(e=$t(e),!e||e.indexOf("-")<0)return e;const s=e.split("-");return this.formatLanguageCode(s[0])}formatLanguageCode(e){if(H(e)&&e.indexOf("-")>-1){let s;try{s=Intl.getCanonicalLocales(e)[0]}catch{}return s&&this.options.lowerCaseLng&&(s=s.toLowerCase()),s||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let s;return e.forEach(i=>{if(s)return;const r=this.formatLanguageCode(i);(!this.options.supportedLngs||this.isSupportedCode(r))&&(s=r)}),!s&&this.options.supportedLngs&&e.forEach(i=>{if(s)return;const r=this.getScriptPartFromCode(i);if(this.isSupportedCode(r))return s=r;const n=this.getLanguagePartFromCode(i);if(this.isSupportedCode(n))return s=n;s=this.options.supportedLngs.find(l=>{if(l===n)return l;if(!(l.indexOf("-")<0&&n.indexOf("-")<0)&&(l.indexOf("-")>0&&n.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===n||l.indexOf(n)===0&&n.length>1))return l})}),s||(s=this.getFallbackCodes(this.options.fallbackLng)[0]),s}getFallbackCodes(e,s){if(!e)return[];if(typeof e=="function"&&(e=e(s)),H(e)&&(e=[e]),Array.isArray(e))return e;if(!s)return e.default||[];let i=e[s];return i||(i=e[this.getScriptPartFromCode(s)]),i||(i=e[this.formatLanguageCode(s)]),i||(i=e[this.getLanguagePartFromCode(s)]),i||(i=e.default),i||[]}toResolveHierarchy(e,s){const i=this.getFallbackCodes((s===!1?[]:s)||this.options.fallbackLng||[],e),r=[],n=l=>{l&&(this.isSupportedCode(l)?r.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))};return H(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&n(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&n(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&n(this.getLanguagePartFromCode(e))):H(e)&&n(this.formatLanguageCode(e)),i.forEach(l=>{r.indexOf(l)<0&&n(this.formatLanguageCode(l))}),r}}const xs={zero:0,one:1,two:2,few:3,many:4,other:5},_s={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Li{constructor(e,s={}){this.languageUtils=e,this.options=s,this.logger=We.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,s){this.rules[e]=s}clearCache(){this.pluralRulesCache={}}getRule(e,s={}){const i=$t(e==="dev"?"en":e),r=s.ordinal?"ordinal":"cardinal",n=JSON.stringify({cleanedCode:i,type:r});if(n in this.pluralRulesCache)return this.pluralRulesCache[n];let l;try{l=new Intl.PluralRules(i,{type:r})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),_s;if(!e.match(/-|_/))return _s;const c=this.languageUtils.getLanguagePartFromCode(e);l=this.getRule(c,s)}return this.pluralRulesCache[n]=l,l}needsPlural(e,s={}){let i=this.getRule(e,s);return i||(i=this.getRule("dev",s)),i?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,s,i={}){return this.getSuffixes(e,i).map(r=>`${s}${r}`)}getSuffixes(e,s={}){let i=this.getRule(e,s);return i||(i=this.getRule("dev",s)),i?i.resolvedOptions().pluralCategories.sort((r,n)=>xs[r]-xs[n]).map(r=>`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${r}`):[]}getSuffix(e,s,i={}){const r=this.getRule(e,i);return r?`${this.options.prepend}${i.ordinal?`ordinal${this.options.prepend}`:""}${r.select(s)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",s,i))}}const ys=(t,e,s,i=".",r=!0)=>{let n=_i(t,e,s);return!n&&r&&H(s)&&(n=ts(t,s,i),n===void 0&&(n=ts(e,s,i))),n},Jt=t=>t.replace(/\$/g,"$$$$");class Oi{constructor(e={}){this.logger=We.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(s=>s),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:s,escapeValue:i,useRawValueToEscape:r,prefix:n,prefixEscaped:l,suffix:a,suffixEscaped:c,formatSeparator:d,unescapeSuffix:g,unescapePrefix:u,nestingPrefix:h,nestingPrefixEscaped:f,nestingSuffix:p,nestingSuffixEscaped:m,nestingOptionsSeparator:b,maxReplaces:y,alwaysFormat:C}=e.interpolation;this.escape=s!==void 0?s:$i,this.escapeValue=i!==void 0?i:!0,this.useRawValueToEscape=r!==void 0?r:!1,this.prefix=n?ot(n):l||"{{",this.suffix=a?ot(a):c||"}}",this.formatSeparator=d||",",this.unescapePrefix=g?"":u||"-",this.unescapeSuffix=this.unescapePrefix?"":g||"",this.nestingPrefix=h?ot(h):f||ot("$t("),this.nestingSuffix=p?ot(p):m||ot(")"),this.nestingOptionsSeparator=b||",",this.maxReplaces=y||1e3,this.alwaysFormat=C!==void 0?C:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(s,i)=>s?.source===i?(s.lastIndex=0,s):new RegExp(i,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,s,i,r){let n,l,a;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},d=f=>{if(f.indexOf(this.formatSeparator)<0){const y=ys(s,c,f,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(y,void 0,i,{...r,...s,interpolationkey:f}):y}const p=f.split(this.formatSeparator),m=p.shift().trim(),b=p.join(this.formatSeparator).trim();return this.format(ys(s,c,m,this.options.keySeparator,this.options.ignoreJSONStructure),b,i,{...r,...s,interpolationkey:m})};this.resetRegExp();const g=r?.missingInterpolationHandler||this.options.missingInterpolationHandler,u=r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:f=>Jt(f)},{regex:this.regexp,safeValue:f=>this.escapeValue?Jt(this.escape(f)):Jt(f)}].forEach(f=>{for(a=0;n=f.regex.exec(e);){const p=n[1].trim();if(l=d(p),l===void 0)if(typeof g=="function"){const b=g(e,n,r);l=H(b)?b:""}else if(r&&Object.prototype.hasOwnProperty.call(r,p))l="";else if(u){l=n[0];continue}else this.logger.warn(`missed to pass in variable ${p} for interpolating ${e}`),l="";else!H(l)&&!this.useRawValueToEscape&&(l=us(l));const m=f.safeValue(l);if(e=e.replace(n[0],m),u?(f.regex.lastIndex+=l.length,f.regex.lastIndex-=n[0].length):f.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,s,i={}){let r,n,l;const a=(c,d)=>{const g=this.nestingOptionsSeparator;if(c.indexOf(g)<0)return c;const u=c.split(new RegExp(`${g}[ ]*{`));let h=`{${u[1]}`;c=u[0],h=this.interpolate(h,l);const f=h.match(/'/g),p=h.match(/"/g);((f?.length??0)%2===0&&!p||p.length%2!==0)&&(h=h.replace(/'/g,'"'));try{l=JSON.parse(h),d&&(l={...d,...l})}catch(m){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,m),`${c}${g}${h}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,c};for(;r=this.nestingRegexp.exec(e);){let c=[];l={...i},l=l.replace&&!H(l.replace)?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;const d=/{.*}/.test(r[1])?r[1].lastIndexOf("}")+1:r[1].indexOf(this.formatSeparator);if(d!==-1&&(c=r[1].slice(d).split(this.formatSeparator).map(g=>g.trim()).filter(Boolean),r[1]=r[1].slice(0,d)),n=s(a.call(this,r[1].trim(),l),l),n&&r[0]===e&&!H(n))return n;H(n)||(n=us(n)),n||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${e}`),n=""),c.length&&(n=c.reduce((g,u)=>this.format(g,u,i.lng,{...i,interpolationkey:r[1].trim()}),n.trim())),e=e.replace(r[0],n),this.regexp.lastIndex=0}return e}}const Ai=t=>{let e=t.toLowerCase().trim();const s={};if(t.indexOf("(")>-1){const i=t.split("(");e=i[0].toLowerCase().trim();const r=i[1].substring(0,i[1].length-1);e==="currency"&&r.indexOf(":")<0?s.currency||(s.currency=r.trim()):e==="relativetime"&&r.indexOf(":")<0?s.range||(s.range=r.trim()):r.split(";").forEach(l=>{if(l){const[a,...c]=l.split(":"),d=c.join(":").trim().replace(/^'+|'+$/g,""),g=a.trim();s[g]||(s[g]=d),d==="false"&&(s[g]=!1),d==="true"&&(s[g]=!0),isNaN(d)||(s[g]=parseInt(d,10))}})}return{formatName:e,formatOptions:s}},$s=t=>{const e={};return(s,i,r)=>{let n=r;r&&r.interpolationkey&&r.formatParams&&r.formatParams[r.interpolationkey]&&r[r.interpolationkey]&&(n={...n,[r.interpolationkey]:void 0});const l=i+JSON.stringify(n);let a=e[l];return a||(a=t($t(i),r),e[l]=a),a(s)}},Ei=t=>(e,s,i)=>t($t(s),i)(e);class Fi{constructor(e={}){this.logger=We.create("formatter"),this.options=e,this.init(e)}init(e,s={interpolation:{}}){this.formatSeparator=s.interpolation.formatSeparator||",";const i=s.cacheInBuiltFormats?$s:Ei;this.formats={number:i((r,n)=>{const l=new Intl.NumberFormat(r,{...n});return a=>l.format(a)}),currency:i((r,n)=>{const l=new Intl.NumberFormat(r,{...n,style:"currency"});return a=>l.format(a)}),datetime:i((r,n)=>{const l=new Intl.DateTimeFormat(r,{...n});return a=>l.format(a)}),relativetime:i((r,n)=>{const l=new Intl.RelativeTimeFormat(r,{...n});return a=>l.format(a,n.range||"day")}),list:i((r,n)=>{const l=new Intl.ListFormat(r,{...n});return a=>l.format(a)})}}add(e,s){this.formats[e.toLowerCase().trim()]=s}addCached(e,s){this.formats[e.toLowerCase().trim()]=$s(s)}format(e,s,i,r={}){const n=s.split(this.formatSeparator);if(n.length>1&&n[0].indexOf("(")>1&&n[0].indexOf(")")<0&&n.find(a=>a.indexOf(")")>-1)){const a=n.findIndex(c=>c.indexOf(")")>-1);n[0]=[n[0],...n.splice(1,a)].join(this.formatSeparator)}return n.reduce((a,c)=>{const{formatName:d,formatOptions:g}=Ai(c);if(this.formats[d]){let u=a;try{const h=r?.formatParams?.[r.interpolationkey]||{},f=h.locale||h.lng||r.locale||r.lng||i;u=this.formats[d](a,f,{...g,...r,...h})}catch(h){this.logger.warn(h)}return u}else this.logger.warn(`there was no format function for ${d}`);return a},e)}}const Ni=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class Ri extends qt{constructor(e,s,i,r={}){super(),this.backend=e,this.store=s,this.services=i,this.languageUtils=i.languageUtils,this.options=r,this.logger=We.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(i,r.backend,r)}queueLoad(e,s,i,r){const n={},l={},a={},c={};return e.forEach(d=>{let g=!0;s.forEach(u=>{const h=`${d}|${u}`;!i.reload&&this.store.hasResourceBundle(d,u)?this.state[h]=2:this.state[h]<0||(this.state[h]===1?l[h]===void 0&&(l[h]=!0):(this.state[h]=1,g=!1,l[h]===void 0&&(l[h]=!0),n[h]===void 0&&(n[h]=!0),c[u]===void 0&&(c[u]=!0)))}),g||(a[d]=!0)}),(Object.keys(n).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(n),pending:Object.keys(l),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(c)}}loaded(e,s,i){const r=e.split("|"),n=r[0],l=r[1];s&&this.emit("failedLoading",n,l,s),!s&&i&&this.store.addResourceBundle(n,l,i,void 0,void 0,{skipCopy:!0}),this.state[e]=s?-1:2,s&&i&&(this.state[e]=0);const a={};this.queue.forEach(c=>{xi(c.loaded,[n],l),Ni(c,e),s&&c.errors.push(s),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(d=>{a[d]||(a[d]={});const g=c.loaded[d];g.length&&g.forEach(u=>{a[d][u]===void 0&&(a[d][u]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(c=>!c.done)}read(e,s,i,r=0,n=this.retryTimeout,l){if(!e.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:s,fcName:i,tried:r,wait:n,callback:l});return}this.readingCalls++;const a=(d,g)=>{if(this.readingCalls--,this.waitingReads.length>0){const u=this.waitingReads.shift();this.read(u.lng,u.ns,u.fcName,u.tried,u.wait,u.callback)}if(d&&g&&r<this.maxRetries){setTimeout(()=>{this.read.call(this,e,s,i,r+1,n*2,l)},n);return}l(d,g)},c=this.backend[i].bind(this.backend);if(c.length===2){try{const d=c(e,s);d&&typeof d.then=="function"?d.then(g=>a(null,g)).catch(a):a(null,d)}catch(d){a(d)}return}return c(e,s,a)}prepareLoading(e,s,i={},r){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();H(e)&&(e=this.languageUtils.toResolveHierarchy(e)),H(s)&&(s=[s]);const n=this.queueLoad(e,s,i,r);if(!n.toLoad.length)return n.pending.length||r(),null;n.toLoad.forEach(l=>{this.loadOne(l)})}load(e,s,i){this.prepareLoading(e,s,{},i)}reload(e,s,i){this.prepareLoading(e,s,{reload:!0},i)}loadOne(e,s=""){const i=e.split("|"),r=i[0],n=i[1];this.read(r,n,"read",void 0,void 0,(l,a)=>{l&&this.logger.warn(`${s}loading namespace ${n} for language ${r} failed`,l),!l&&a&&this.logger.log(`${s}loaded namespace ${n} for language ${r}`,a),this.loaded(e,l,a)})}saveMissing(e,s,i,r,n,l={},a=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(s)){this.logger.warn(`did not save key "${i}" as the namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(i==null||i==="")){if(this.backend?.create){const c={...l,isUpdate:n},d=this.backend.create.bind(this.backend);if(d.length<6)try{let g;d.length===5?g=d(e,s,i,r,c):g=d(e,s,i,r),g&&typeof g.then=="function"?g.then(u=>a(null,u)).catch(a):a(null,g)}catch(g){a(g)}else d(e,s,i,r,a,c)}!e||!e[0]||this.store.addResource(e[0],s,i,r)}}}const Ss=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),H(t[1])&&(e.defaultValue=t[1]),H(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const s=t[3]||t[2];Object.keys(s).forEach(i=>{e[i]=s[i]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),ws=t=>(H(t.ns)&&(t.ns=[t.ns]),H(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),H(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),Et=()=>{},Mi=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(s=>{typeof t[s]=="function"&&(t[s]=t[s].bind(t))})};class St extends qt{constructor(e={},s){if(super(),this.options=ws(e),this.services={},this.logger=We,this.modules={external:[]},Mi(this),s&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,s),this;setTimeout(()=>{this.init(e,s)},0)}}init(e={},s){this.isInitializing=!0,typeof e=="function"&&(s=e,e={}),e.defaultNS==null&&e.ns&&(H(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const i=Ss();this.options={...i,...this.options,...ws(e)},this.options.interpolation={...i.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const r=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?We.init(r(this.modules.logger),this.options):We.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:d=Fi;const g=new bs(this.options);this.store=new ps(this.options.resources,this.options);const u=this.services;u.logger=We,u.resourceStore=this.store,u.languageUtils=g,u.pluralResolver=new Li(g,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==i.interpolation.format&&this.logger.warn("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),d&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(u.formatter=r(d),u.formatter.init&&u.formatter.init(u,this.options),this.options.interpolation.format=u.formatter.format.bind(u.formatter)),u.interpolator=new Oi(this.options),u.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},u.backendConnector=new Ri(r(this.modules.backend),u.resourceStore,u,this.options),u.backendConnector.on("*",(f,...p)=>{this.emit(f,...p)}),this.modules.languageDetector&&(u.languageDetector=r(this.modules.languageDetector),u.languageDetector.init&&u.languageDetector.init(u,this.options.detection,this.options)),this.modules.i18nFormat&&(u.i18nFormat=r(this.modules.i18nFormat),u.i18nFormat.init&&u.i18nFormat.init(this)),this.translator=new zt(this.services,this.options),this.translator.on("*",(f,...p)=>{this.emit(f,...p)}),this.modules.external.forEach(f=>{f.init&&f.init(this)})}if(this.format=this.options.interpolation.format,s||(s=Et),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=(...g)=>this.store[d](...g)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=(...g)=>(this.store[d](...g),this)});const a=vt(),c=()=>{const d=(g,u)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),a.resolve(u),s(g,u)};if(this.languages&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),a}loadResources(e,s=Et){let i=s;const r=H(e)?e:this.language;if(typeof e=="function"&&(i=e),!this.options.resources||this.options.partialBundledLanguages){if(r?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return i();const n=[],l=a=>{if(!a||a==="cimode")return;this.services.languageUtils.toResolveHierarchy(a).forEach(d=>{d!=="cimode"&&n.indexOf(d)<0&&n.push(d)})};r?l(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>l(c)),this.options.preload?.forEach?.(a=>l(a)),this.services.backendConnector.load(n,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),i(a)})}else i(null)}reloadResources(e,s,i){const r=vt();return typeof e=="function"&&(i=e,e=void 0),typeof s=="function"&&(i=s,s=void 0),e||(e=this.languages),s||(s=this.options.ns),i||(i=Et),this.services.backendConnector.reload(e,s,n=>{r.resolve(),i(n)}),r}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Us.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let s=0;s<this.languages.length;s++){const i=this.languages[s];if(!(["cimode","dev"].indexOf(i)>-1)&&this.store.hasLanguageSomeTranslations(i)){this.resolvedLanguage=i;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,s){this.isLanguageChangingTo=e;const i=vt();this.emit("languageChanging",e);const r=a=>{this.language=a,this.languages=this.services.languageUtils.toResolveHierarchy(a),this.resolvedLanguage=void 0,this.setResolvedLanguage(a)},n=(a,c)=>{c?this.isLanguageChangingTo===e&&(r(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,i.resolve((...d)=>this.t(...d)),s&&s(a,(...d)=>this.t(...d))},l=a=>{!e&&!a&&this.services.languageDetector&&(a=[]);const c=H(a)?a:a&&a[0],d=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(H(a)?[a]:a);d&&(this.language||r(d),this.translator.language||this.translator.changeLanguage(d),this.services.languageDetector?.cacheUserLanguage?.(d)),this.loadResources(d,g=>{n(g,d)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e),i}getFixedT(e,s,i){const r=(n,l,...a)=>{let c;typeof l!="object"?c=this.options.overloadTranslationOptionHandler([n,l].concat(a)):c={...l},c.lng=c.lng||r.lng,c.lngs=c.lngs||r.lngs,c.ns=c.ns||r.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||i||r.keyPrefix);const d=this.options.keySeparator||".";let g;return c.keyPrefix&&Array.isArray(n)?g=n.map(u=>`${c.keyPrefix}${d}${u}`):g=c.keyPrefix?`${c.keyPrefix}${d}${n}`:n,this.t(g,c)};return H(e)?r.lng=e:r.lngs=e,r.ns=s,r.keyPrefix=i,r}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,s={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const i=s.lng||this.resolvedLanguage||this.languages[0],r=this.options?this.options.fallbackLng:!1,n=this.languages[this.languages.length-1];if(i.toLowerCase()==="cimode")return!0;const l=(a,c)=>{const d=this.services.backendConnector.state[`${a}|${c}`];return d===-1||d===0||d===2};if(s.precheck){const a=s.precheck(this,l);if(a!==void 0)return a}return!!(this.hasResourceBundle(i,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(i,e)&&(!r||l(n,e)))}loadNamespaces(e,s){const i=vt();return this.options.ns?(H(e)&&(e=[e]),e.forEach(r=>{this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}),this.loadResources(r=>{i.resolve(),s&&s(r)}),i):(s&&s(),Promise.resolve())}loadLanguages(e,s){const i=vt();H(e)&&(e=[e]);const r=this.options.preload||[],n=e.filter(l=>r.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return n.length?(this.options.preload=r.concat(n),this.loadResources(l=>{i.resolve(),s&&s(l)}),i):(s&&s(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const r=new Intl.Locale(e);if(r&&r.getTextInfo){const n=r.getTextInfo();if(n&&n.direction)return n.direction}}catch{}const s=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],i=this.services?.languageUtils||new bs(Ss());return e.toLowerCase().indexOf("-latn")>1?"ltr":s.indexOf(i.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},s){return new St(e,s)}cloneInstance(e={},s=Et){const i=e.forkResourceStore;i&&delete e.forkResourceStore;const r={...this.options,...e,isClone:!0},n=new St(r);if((e.debug!==void 0||e.prefix!==void 0)&&(n.logger=n.logger.clone(e)),["store","services","language"].forEach(a=>{n[a]=this[a]}),n.services={...this.services},n.services.utils={hasLoadedNamespace:n.hasLoadedNamespace.bind(n)},i){const a=Object.keys(this.store.data).reduce((c,d)=>(c[d]={...this.store.data[d]},c[d]=Object.keys(c[d]).reduce((g,u)=>(g[u]={...c[d][u]},g),c[d]),c),{});n.store=new ps(a,r),n.services.resourceStore=n.store}return n.translator=new zt(n.services,r),n.translator.on("*",(a,...c)=>{n.emit(a,...c)}),n.init(r,s),n.translator.options=r,n.translator.backendConnector.services.utils={hasLoadedNamespace:n.hasLoadedNamespace.bind(n)},n}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Fe=St.createInstance();Fe.createInstance=St.createInstance;Fe.createInstance;Fe.dir;Fe.init;Fe.loadResources;Fe.reloadResources;Fe.use;Fe.changeLanguage;Fe.getFixedT;Fe.t;Fe.exists;Fe.setDefaultNamespace;Fe.hasLoadedNamespace;Fe.loadNamespaces;Fe.loadLanguages;const{slice:Ti,forEach:Di}=[];function ji(t){return Di.call(Ti.call(arguments,1),e=>{if(e)for(const s in e)t[s]===void 0&&(t[s]=e[s])}),t}function Ii(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(s=>s.test(t))}const ks=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,zi=function(t,e){const i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},r=encodeURIComponent(e);let n=`${t}=${r}`;if(i.maxAge>0){const l=i.maxAge-0;if(Number.isNaN(l))throw new Error("maxAge should be a Number");n+=`; Max-Age=${Math.floor(l)}`}if(i.domain){if(!ks.test(i.domain))throw new TypeError("option domain is invalid");n+=`; Domain=${i.domain}`}if(i.path){if(!ks.test(i.path))throw new TypeError("option path is invalid");n+=`; Path=${i.path}`}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");n+=`; Expires=${i.expires.toUTCString()}`}if(i.httpOnly&&(n+="; HttpOnly"),i.secure&&(n+="; Secure"),i.sameSite)switch(typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite){case!0:n+="; SameSite=Strict";break;case"lax":n+="; SameSite=Lax";break;case"strict":n+="; SameSite=Strict";break;case"none":n+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return i.partitioned&&(n+="; Partitioned"),n},Cs={create(t,e,s,i){let r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};s&&(r.expires=new Date,r.expires.setTime(r.expires.getTime()+s*60*1e3)),i&&(r.domain=i),document.cookie=zi(t,e,r)},read(t){const e=`${t}=`,s=document.cookie.split(";");for(let i=0;i<s.length;i++){let r=s[i];for(;r.charAt(0)===" ";)r=r.substring(1,r.length);if(r.indexOf(e)===0)return r.substring(e.length,r.length)}return null},remove(t,e){this.create(t,"",-1,e)}};var Ui={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return Cs.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:s,cookieMinutes:i,cookieDomain:r,cookieOptions:n}=e;s&&typeof document<"u"&&Cs.create(s,t,i,r,n)}},Vi={name:"querystring",lookup(t){let{lookupQuerystring:e}=t,s;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const n=i.substring(1).split("&");for(let l=0;l<n.length;l++){const a=n[l].indexOf("=");a>0&&n[l].substring(0,a)===e&&(s=n[l].substring(a+1))}}return s}},Bi={name:"hash",lookup(t){let{lookupHash:e,lookupFromHashIndex:s}=t,i;if(typeof window<"u"){const{hash:r}=window.location;if(r&&r.length>2){const n=r.substring(1);if(e){const l=n.split("&");for(let a=0;a<l.length;a++){const c=l[a].indexOf("=");c>0&&l[a].substring(0,c)===e&&(i=l[a].substring(c+1))}}if(i)return i;if(!i&&s>-1){const l=r.match(/\/([a-zA-Z-]*)/g);return Array.isArray(l)?l[typeof s=="number"?s:0]?.replace("/",""):void 0}}}return i}};let ct=null;const Ps=()=>{if(ct!==null)return ct;try{if(ct=typeof window<"u"&&window.localStorage!==null,!ct)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{ct=!1}return ct};var Hi={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&Ps())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:s}=e;s&&Ps()&&window.localStorage.setItem(s,t)}};let dt=null;const Ls=()=>{if(dt!==null)return dt;try{if(dt=typeof window<"u"&&window.sessionStorage!==null,!dt)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{dt=!1}return dt};var Ki={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&Ls())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:s}=e;s&&Ls()&&window.sessionStorage.setItem(s,t)}},qi={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:s,userLanguage:i,language:r}=navigator;if(s)for(let n=0;n<s.length;n++)e.push(s[n]);i&&e.push(i),r&&e.push(r)}return e.length>0?e:void 0}},Wi={name:"htmlTag",lookup(t){let{htmlTag:e}=t,s;const i=e||(typeof document<"u"?document.documentElement:null);return i&&typeof i.getAttribute=="function"&&(s=i.getAttribute("lang")),s}},Gi={name:"path",lookup(t){let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const s=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(s)?s[typeof e=="number"?e:0]?.replace("/",""):void 0}},Ji={name:"subdomain",lookup(t){let{lookupFromSubdomainIndex:e}=t;const s=typeof e=="number"?e+1:1,i=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(i)return i[s]}};let Vs=!1;try{document.cookie,Vs=!0}catch{}const Bs=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];Vs||Bs.splice(1,1);const Qi=()=>({order:Bs,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class Hs{constructor(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,s)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=ji(s,this.options||{},Qi()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=r=>r.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=i,this.addDetector(Ui),this.addDetector(Vi),this.addDetector(Hi),this.addDetector(Ki),this.addDetector(qi),this.addDetector(Wi),this.addDetector(Gi),this.addDetector(Ji),this.addDetector(Bi)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,s=[];return e.forEach(i=>{if(this.detectors[i]){let r=this.detectors[i].lookup(this.options);r&&typeof r=="string"&&(r=[r]),r&&(s=s.concat(r))}}),s=s.filter(i=>i!=null&&!Ii(i)).map(i=>this.options.convertDetectedLanguage(i)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?s:s.length>0?s[0]:null}cacheUserLanguage(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;s&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||s.forEach(i=>{this.detectors[i]&&this.detectors[i].cacheUserLanguage(e,this.options)}))}}Hs.type="languageDetector";const Xi={page_title:"deepnest - Industrial nesting",parts:"Parts",nests:"Nests",sheets:"Sheets",settings:"Settings"},Zi={stop_nest:"Stop nest",export:"Export",export_svg:"SVG file",export_dxf:"DXF file",export_json:"JSON file",back:"Back",import:"Import",start_nest:"Start nest",deselect:"Deselect",select:"Select",all:"all",add:"Add",cancel:"Cancel",save_preset:"Save Preset",load:"Load",delete:"Delete",save:"Save",reset_defaults:"set all to default"},Yi={size:"Size",sheet:"Sheet",quantity:"Quantity",add_sheet:"Add Sheet",width:"width",height:"height",nesting_config:"Nesting configuration",display_units:"Display units",inches:"inches",mm:"mm",space_between_parts:"Space between parts",curve_tolerance:"Curve tolerance",part_rotations:"Part rotations",optimization_type:"Optimization type",gravity:"Gravity",bounding_box:"Bounding Box",squeeze:"Squeeze",use_rough_approximation:"Use rough approximation",cpu_cores:"CPU cores",import_export:"Import/Export",use_svg_normalizer:"Use SVG Normalizer?",svg_scale:"SVG scale",units_per:"units/",endpoint_tolerance:"Endpoint tolerance",dxf_import_units:"DXF import units",points:"Points",picas:"Picas",inches_cap:"Inches",cm:"cm",dxf_export_units:"DXF export units",export_with_sheet_boundaries:"Export with Sheet Boundborders?",export_with_sheets_space:"Export with Space between Sheets?",distance_between_sheets:"Distance between Sheets?",laser_options:"Laser options",merge_common_lines:"Merge common lines",optimization_ratio:"Optimization ratio",meta_heuristic_tuning:"Meta-heuristic fine tuning",ga_population:"GA population",ga_mutation_rate:"GA mutation rate",other_settings:"Other Settings",use_quantity_from_filename:"Use Quantity from filename",presets:"Presets",save_config_presets:"Save Configuration Presets",load_delete_presets:"Load/Delete Configuration Presets",select_preset_default:"-- Select a preset --",save_preset_title:"Save Preset",enter_preset_name:"Enter preset name"},er={nesting_in_progress:"Nesting in progress...",error_occurred:"Error occurred",processing:"Processing...",ready:"Ready",threads_active:"{{count}} threads active",parts_loaded:"{{count}} parts loaded",nests_available:"{{count}} nests available"},tr={navigation:Xi,actions:Zi,labels:Yi,status:er},sr="Please enter a preset name",ir="Preset saved successfully!",rr="Error saving preset",nr="Please select a preset to load",ar="Preset loaded successfully!",lr="Selected preset not found",or="Error loading preset",cr="Please select a preset to delete",dr='Are you sure you want to delete the preset "{{presetName}}"?',ur="Preset deleted successfully!",gr="Error deleting preset",fr="Please import some parts first",hr="Please mark at least one part as the sheet",pr="No file selected",mr="An error occurred reading the file",vr="Error processing SVG",br="could not contact file conversion server",xr="There was an Error while converting",_r={enter_preset_name:sr,preset_saved:ir,error_saving_preset:rr,select_preset_to_load:nr,preset_loaded:ar,preset_not_found:lr,error_loading_preset:or,select_preset_to_delete:cr,confirm_delete_preset:dr,preset_deleted:ur,error_deleting_preset:gr,import_parts_first:fr,mark_part_as_sheet:hr,no_file_selected:pr,file_read_error:mr,svg_processing_error:vr,conversion_server_error:br,conversion_error:xr},yr="Parts",$r="Import Parts",Sr="Export Parts",wr="Export Selected",kr="Delete Selected",Cr="No parts selected",Pr="Failed to import parts",Lr="Failed to export parts",Or="Total Parts",Ar="Total Quantity",Er="Select All",Fr="Deselect All",Nr="No Parts Loaded",Rr="Import SVG or DXF files to get started",Mr="Search parts...",Tr="Sort by",Dr="Name",jr="Quantity",Ir="Size",zr="Rotation",Ur="Dimensions",Vr="Area",Br="Preview Error",Hr={parts_title:yr,import:"Import",export:"Export",delete:"Delete",import_parts:$r,export_parts:Sr,export_selected:wr,delete_selected:kr,no_parts_selected:Cr,import_failed:Pr,export_failed:Lr,total_parts:Or,total_quantity:Ar,select_all:Er,deselect_all:Fr,no_parts_loaded:Nr,import_parts_to_get_started:Rr,search_parts:Mr,sort_by:Tr,name:Dr,quantity:jr,size:Ir,rotation:zr,dimensions:Ur,area:Vr,preview_error:Br},Kr="Nesting",qr="Start Nesting",Wr="Stop Nesting",Gr="Clear Results",Jr="Cannot start nesting: need parts and sheets",Qr="Failed to start nesting",Xr="Failed to stop nesting",Zr="Parts to Nest",Yr="Available Sheets",en="Results Count",tn="No Nesting Results",sn="Start nesting to see results here",rn="Add parts and sheets first to enable nesting",nn="Nesting in Progress",an="Est. time remaining",ln="Current Operation",on="Threads Active",cn="Worker Status",dn="Running",un="Stopped",gn="Generation",fn="Best Fitness",hn="Refresh Status",pn="Nesting Results",mn="Sorted by efficiency",vn="Result",bn="Best",xn="Efficiency",_n="Fitness",yn="Sheets Used",$n="Parts Placed",Sn="View Details",wn="Back to Results",kn="Result Details",Cn="Export Result",Pn="Export failed",Ln="Click to view",On="Zoom Out",An="Zoom In",En="Reset View",Fn="Sheet",Nn="Statistics",Rn="Material Efficiency",Mn="Fitness Score",Tn="Material Waste",Dn="Total Parts Placed",jn="Total Material Used",In="Generation Time",zn="Generation Number",Un={nesting_title:Kr,start_nesting:qr,stop_nesting:Wr,clear_results:Gr,cannot_start_nesting:Jr,start_nesting_failed:Qr,stop_nesting_failed:Xr,parts_to_nest:Zr,available_sheets:Yr,results_count:en,no_nesting_results:tn,start_nesting_to_see_results:sn,add_parts_and_sheets_first:rn,nesting_in_progress:nn,estimated_time_remaining:an,current_operation:ln,threads_active:on,worker_status:cn,running:dn,stopped:un,current_generation:gn,best_fitness:fn,refresh_status:hn,nesting_results:pn,sorted_by_efficiency:mn,result:vn,best:bn,efficiency:xn,fitness:_n,sheets_used:yn,parts_placed:$n,view_details:Sn,export:"Export",delete:"Delete",back_to_results:wn,result_details:kn,export_result:Cn,export_failed:Pn,click_to_view:Ln,zoom_out:On,zoom_in:An,reset_view:En,sheet:Fn,statistics:Nn,material_efficiency:Rn,fitness_score:Mn,material_waste:Tn,total_parts_placed:Dn,total_material_used:jn,generation_time:In,generation_number:zn},Vn="Sheets",Bn="Add Sheet",Hn="Edit Sheet",Kn="Add New Sheet",qn="Total Sheets",Wn="Total Area",Gn="No Sheets Loaded",Jn="Add sheets to define your material constraints",Qn="Quick Templates",Xn="Configured Sheets",Zn="Sheet",Yn="Dimensions",ea="Quantity",ta="Material",sa="Margin",ia="Edit",ra="Basic Information",na="Sheet Name",aa="Enter sheet name (optional)",la="Width",oa="Height",ca="Thickness",da="Properties",ua="Area",ga="Preview",fa="Cancel",ha="Update Sheet",pa="Swap Width/Height",ma="Width must be greater than 0",va="Height must be greater than 0",ba="Thickness must be greater than 0",xa="Quantity must be greater than 0",_a="Margin cannot be negative",ya={sheets_title:Vn,add_sheet:Bn,edit_sheet:Hn,add_new_sheet:Kn,total_sheets:qn,total_area:Wn,no_sheets_loaded:Gn,add_sheets_to_get_started:Jn,quick_templates:Qn,configured_sheets:Xn,sheet:Zn,dimensions:Yn,quantity:ea,material:ta,margin:sa,edit:ia,delete:"Delete",basic_information:ra,sheet_name:na,enter_sheet_name:aa,width:la,height:oa,thickness:ca,properties:da,area:ua,preview:ga,cancel:fa,update_sheet:ha,swap_dimensions:pa,width_must_be_positive:ma,height_must_be_positive:va,thickness_must_be_positive:ba,quantity_must_be_positive:xa,margin_cannot_be_negative:_a},$a="Settings",Sa="Preset Management",wa="Algorithm Settings",ka="UI Preferences",Ca="Advanced Settings",Pa="Reset Defaults",La="Import Configuration",Oa="Export Configuration",Aa="Reset to Defaults",Ea="Are you sure you want to reset all settings to defaults?",Fa="Failed to reset settings",Na="Failed to export configuration",Ra="Failed to import configuration",Ma="Presets allow you to save and restore complete nesting configurations.",Ta="Create Preset",Da="Create New Preset",ja="Preset Name",Ia="Preset name is required",za="Enter preset name",Ua="Description (optional)",Va="Enter a description for this preset",Ba="Cancel",Ha="No Presets Available",Ka="Create a preset to save your current configuration",qa="Export Preset",Wa="Delete Preset",Ga="Load Preset",Ja="Active",Qa="Created",Xa="Updated",Za="Are you sure you want to delete preset '{{name}}'?",Ya="Failed to create preset",el="Failed to load preset",tl="Failed to delete preset",sl="Failed to export preset",il="Failed to import preset",rl="Import Preset",nl="Nesting Parameters",al="Space Between Parts",ll="Minimum distance between parts in millimeters",ol="Curve Tolerance",cl="Tolerance for curve approximation. Lower values = more accurate but slower",dl="Part Rotations",ul="Number of rotation angles to try for each part",gl="No Rotation",fl="Free Rotation (any angle)",hl="Genetic Algorithm",pl="Population Size",ml="Number of solutions in each generation. Higher = better results but slower",vl="Mutation Rate",bl="Probability of random changes. Higher = more exploration but less stability",xl="Advanced Options",_l="Use Holes",yl="Consider holes in parts for nesting (experimental)",$l="Explore Concave",Sl="Try placing parts in concave areas of other parts",wl="Merge Common Lines",kl="Combine overlapping cut lines to reduce cutting time",Cl="Use Rough Approximation",Pl="Use faster but less accurate calculations for initial placement",Ll="Appearance",Ol="Language",Al="Select the interface language",El="Theme",Fl="Choose between light, dark, or automatic theme",Nl="Auto (follows system)",Rl="Light",Ml="Dark",Tl="Dark Mode",Dl="Use dark colors for the interface",jl="Units and Formatting",Il="Display Units",zl="Units for displaying measurements",Ul="Millimeters (mm)",Vl="Inches (in)",Bl="Centimeters (cm)",Hl="Show Grid",Kl="Display grid lines in the viewport",ql="Show Rulers",Wl="Display measurement rulers",Gl="Layout Preferences",Jl="Parts Panel Width",Ql="Width of the parts panel in pixels",Xl="Reset",Zl="Show Tooltips",Yl="Display helpful tooltips on hover",eo="Show Status Bar",to="Display the status bar at the bottom",so="Performance",io="Worker Threads",ro="Number of CPU threads to use (max: {{max}})",no="Enable GPU Acceleration",ao="Use graphics card for calculations (experimental)",lo="Enable Caching",oo="Cache calculations to improve performance",co="Debugging",uo="Debug Mode",go="Enable additional debugging information",fo="Verbose Logging",ho="Log detailed information to console",po="Show Debug Info",mo="Hide Debug Info",vo="System Information",bo="Platform",xo="CPU Cores",_o="Viewport",yo="Memory Used",$o="Memory Total",So="Export Debug Info",wo="Maintenance",ko="Clear Cache",Co="Clear all cached data and preferences",Po="Are you sure you want to clear all cached data?",Lo="Cache cleared successfully",Oo="Failed to clear cache",Ao="Reset Layout",Eo="Reset panel sizes and positions to defaults",Fo="Auto-save Interval",No="minutes",Ro="How often to automatically save your work (0 = disabled)",Mo={settings_title:$a,preset_management:Sa,algorithm_settings:wa,ui_preferences:ka,advanced_settings:Ca,import:"Import",export:"Export",reset_defaults:Pa,import_configuration:La,export_configuration:Oa,reset_to_defaults:Aa,confirm_reset_defaults:Ea,reset_failed:Fa,export_failed:Na,import_failed:Ra,preset_description:Ma,create_preset:Ta,create_new_preset:Da,preset_name:ja,preset_name_required:Ia,enter_preset_name:za,preset_description_optional:Ua,enter_preset_description:Va,cancel:Ba,no_presets_available:Ha,create_preset_to_get_started:Ka,export_preset:qa,delete_preset:Wa,load_preset:Ga,active:Ja,created:Qa,updated:Xa,confirm_delete_preset:Za,preset_create_failed:Ya,preset_load_failed:el,preset_delete_failed:tl,preset_export_failed:sl,preset_import_failed:il,import_preset:rl,nesting_parameters:nl,space_between_parts:al,spacing_description:ll,curve_tolerance:ol,curve_tolerance_description:cl,part_rotations:dl,rotations_description:ul,no_rotation:gl,"2_rotations":"2 Rotations (0°, 180°)","4_rotations":"4 Rotations (0°, 90°, 180°, 270°)","8_rotations":"8 Rotations (45° steps)","12_rotations":"12 Rotations (30° steps)",free_rotation:fl,genetic_algorithm:hl,population_size:pl,population_size_description:ml,mutation_rate:vl,mutation_rate_description:bl,advanced_options:xl,use_holes:_l,use_holes_description:yl,explore_concave:$l,explore_concave_description:Sl,merge_common_lines:wl,merge_lines_description:kl,use_rough_approximation:Cl,rough_approximation_description:Pl,appearance:Ll,language:Ol,language_description:Al,theme:El,theme_description:Fl,auto_theme:Nl,light_theme:Rl,dark_theme:Ml,dark_mode:Tl,dark_mode_description:Dl,units_and_formatting:jl,display_units:Il,units_description:zl,millimeters:Ul,inches:Vl,centimeters:Bl,show_grid:Hl,show_grid_description:Kl,show_rulers:ql,show_rulers_description:Wl,layout_preferences:Gl,parts_panel_width:Jl,panel_width_description:Ql,reset:Xl,show_tooltips:Zl,tooltips_description:Yl,show_status_bar:eo,status_bar_description:to,performance:so,worker_threads:io,worker_threads_description:ro,enable_gpu_acceleration:no,gpu_acceleration_description:ao,enable_caching:lo,caching_description:oo,debugging:co,debug_mode:uo,debug_mode_description:go,verbose_logging:fo,verbose_logging_description:ho,show_debug_info:po,hide_debug_info:mo,system_information:vo,platform:bo,cpu_cores:xo,viewport:_o,memory_used:yo,memory_total:$o,export_debug_info:So,maintenance:wo,clear_cache:ko,clear_cache_description:Co,confirm_clear_cache:Po,cache_cleared_success:Lo,cache_clear_failed:Oo,reset_layout:Ao,reset_layout_description:Eo,auto_save_interval:Fo,minutes:No,auto_save_description:Ro},To="File Operations",Do="Drag & Drop Files",jo="Import Files",Io="Export Options",zo="Recent Files",Uo="Drop files here to import",Vo="or click to browse",Bo="Supported formats: SVG, DXF, JSON",Ho="Select Files",Ko="Browse Files",qo="Importing Files...",Wo="{{count}} files imported successfully",Go="Importing {{current}} of {{total}} files",Jo="Failed to import files",Qo="File validation error",Xo="Invalid file format: {{format}}",Zo="File too large: {{size}}. Maximum size is {{max}}",Yo="Failed to read file: {{filename}}",ec="Export Format",tc="Export Settings",sc="Export All",ic="Export Selected",rc="Export Current",nc="Files exported successfully",ac="Failed to export files",lc="SVG Vector",oc="DXF CAD",cc="PDF Document",dc="JSON Data",uc="Include Sheet Outline",gc="Include Part Labels",fc="Optimize Cut Paths",hc="Merge Common Lines",pc="Export Scale",mc="Export Units",vc="No Recent Files",bc="Clear Recent",xc="Open Recent File",_c="Pin File",yc="Unpin File",$c="Remove from Recent",Sc="File not found: {{filename}}",wc="Quickly access your recently used files",kc="Maximum {{count}} recent files",Cc="Pinned",Pc="Size",Lc="Modified",Oc="Path",Ac="Copy Path",Ec="Open File Location",Fc="File Information",Nc="Processing...",Rc="Cancel Import",Mc="Retry Import",Tc="Skip File",Dc="Continue Import",jc="Validation Warning",Ic="File contains errors but can be imported",zc="Import Anyway",Uc="Fix Errors",Vc="Auto Fix",Bc="Manual Fix",Hc="Error Details",Kc="Line {{number}}",qc="Invalid geometry detected",Wc="Duplicate points found",Gc="Self-intersecting polygon",Jc="Unclosed path detected",Qc="File is empty",Xc="File appears to be corrupted",Zc="Unsupported file version",Yc="Missing required data",ed={file_operations:To,drag_drop_files:Do,import_files:jo,export_options:Io,recent_files:zo,drop_files_here:Uo,or_click_to_browse:Vo,supported_formats:Bo,select_files:Ho,browse_files:Ko,importing_files:qo,files_imported:Wo,import_progress:Go,import_failed:Jo,file_validation_error:Qo,invalid_file_format:Xo,file_too_large:Zo,file_read_error:Yo,export_format:ec,export_settings:tc,export_all:sc,export_selected:ic,export_current:rc,export_success:nc,export_failed:ac,svg_format:lc,dxf_format:oc,pdf_format:cc,json_format:dc,include_sheet:uc,include_labels:gc,optimize_paths:fc,merge_lines:hc,export_scale:pc,export_units:mc,no_recent_files:vc,clear_recent:bc,open_recent:xc,pin_file:_c,unpin_file:yc,remove_from_recent:$c,file_not_found:Sc,recent_files_description:wc,max_recent_files:kc,pinned:Cc,file_size:Pc,last_modified:Lc,file_path:Oc,copy_path:Ac,open_location:Ec,file_info:Fc,processing:Nc,cancel_import:Rc,retry_import:Mc,skip_file:Tc,continue_import:Dc,validation_warning:jc,file_contains_errors:Ic,import_anyway:zc,fix_errors:Uc,auto_fix:Vc,manual_fix:Bc,error_details:Hc,line_number:Kc,invalid_geometry:qc,duplicate_points:Wc,self_intersecting:Gc,unclosed_path:Jc,empty_file:Qc,corrupted_file:Xc,unsupported_version:Zc,missing_required_data:Yc},td={fallbackLng:"en",debug:!1,detection:{order:["localStorage","navigator"],caches:["localStorage"],lookupLocalStorage:"deepnest-language"},interpolation:{escapeValue:!1},resources:{en:{common:tr,messages:_r,parts:Hr,nesting:Un,sheets:ya,settings:Mo,files:ed}}},sd={t:t=>t,changeLanguage:async t=>{},language:()=>"en",ready:()=>!1},Ks=ii(sd),Te=(t="common")=>{const e=ri(Ks);return e?[(i,r)=>{if(!e.ready())return i;const n=`${t}.${i}`;return e.t(n,r)},{changeLanguage:e.changeLanguage,language:e.language}]:[i=>i,{changeLanguage:async i=>{},language:()=>"en"}]},id=t=>{const[e,s]=te("en"),[i,r]=te(!1);ns(async()=>{try{await Fe.use(Hs).init(td),s(Fe.language||"en"),r(!0)}catch(c){console.error("Failed to initialize i18n:",c),r(!0)}});const a={t:(c,d)=>i()&&Fe.t(c,d)||c,changeLanguage:async c=>{try{await Fe.changeLanguage(c),s(c)}catch(d){console.error("Failed to change language:",d)}},language:e,ready:i};return Ks.Provider({value:a,children:t.children})},ss=Symbol("store-raw"),gt=Symbol("store-node"),Qe=Symbol("store-has"),qs=Symbol("store-self");function Ws(t){let e=t[rt];if(!e&&(Object.defineProperty(t,rt,{value:e=new Proxy(t,ad)}),!Array.isArray(t))){const s=Object.keys(t),i=Object.getOwnPropertyDescriptors(t);for(let r=0,n=s.length;r<n;r++){const l=s[r];i[l].get&&Object.defineProperty(t,l,{enumerable:i[l].enumerable,get:i[l].get.bind(e)})}}return e}function Ut(t){let e;return t!=null&&typeof t=="object"&&(t[rt]||!(e=Object.getPrototypeOf(t))||e===Object.prototype||Array.isArray(t))}function wt(t,e=new Set){let s,i,r,n;if(s=t!=null&&t[ss])return s;if(!Ut(t)||e.has(t))return t;if(Array.isArray(t)){Object.isFrozen(t)?t=t.slice(0):e.add(t);for(let l=0,a=t.length;l<a;l++)r=t[l],(i=wt(r,e))!==r&&(t[l]=i)}else{Object.isFrozen(t)?t=Object.assign({},t):e.add(t);const l=Object.keys(t),a=Object.getOwnPropertyDescriptors(t);for(let c=0,d=l.length;c<d;c++)n=l[c],!a[n].get&&(r=t[n],(i=wt(r,e))!==r&&(t[n]=i))}return t}function Vt(t,e){let s=t[e];return s||Object.defineProperty(t,e,{value:s=Object.create(null)}),s}function kt(t,e,s){if(t[e])return t[e];const[i,r]=te(s,{equals:!1,internal:!0});return i.$=r,t[e]=i}function rd(t,e){const s=Reflect.getOwnPropertyDescriptor(t,e);return!s||s.get||!s.configurable||e===rt||e===gt||(delete s.value,delete s.writable,s.get=()=>t[rt][e]),s}function Gs(t){Zt()&&kt(Vt(t,gt),qs)()}function nd(t){return Gs(t),Reflect.ownKeys(t)}const ad={get(t,e,s){if(e===ss)return t;if(e===rt)return s;if(e===Xt)return Gs(t),s;const i=Vt(t,gt),r=i[e];let n=r?r():t[e];if(e===gt||e===Qe||e==="__proto__")return n;if(!r){const l=Object.getOwnPropertyDescriptor(t,e);Zt()&&(typeof n!="function"||t.hasOwnProperty(e))&&!(l&&l.get)&&(n=kt(i,e,n)())}return Ut(n)?Ws(n):n},has(t,e){return e===ss||e===rt||e===Xt||e===gt||e===Qe||e==="__proto__"?!0:(Zt()&&kt(Vt(t,Qe),e)(),e in t)},set(){return!0},deleteProperty(){return!0},ownKeys:nd,getOwnPropertyDescriptor:rd};function Bt(t,e,s,i=!1){if(!i&&t[e]===s)return;const r=t[e],n=t.length;s===void 0?(delete t[e],t[Qe]&&t[Qe][e]&&r!==void 0&&t[Qe][e].$()):(t[e]=s,t[Qe]&&t[Qe][e]&&r===void 0&&t[Qe][e].$());let l=Vt(t,gt),a;if((a=kt(l,e,r))&&a.$(()=>s),Array.isArray(t)&&t.length!==n){for(let c=t.length;c<n;c++)(a=l[c])&&a.$();(a=kt(l,"length",n))&&a.$(t.length)}(a=l[qs])&&a.$()}function Js(t,e){const s=Object.keys(e);for(let i=0;i<s.length;i+=1){const r=s[i];Bt(t,r,e[r])}}function ld(t,e){if(typeof e=="function"&&(e=e(t)),e=wt(e),Array.isArray(e)){if(t===e)return;let s=0,i=e.length;for(;s<i;s++){const r=e[s];t[s]!==r&&Bt(t,s,r)}Bt(t,"length",i)}else Js(t,e)}function xt(t,e,s=[]){let i,r=t;if(e.length>1){i=e.shift();const l=typeof i,a=Array.isArray(t);if(Array.isArray(i)){for(let c=0;c<i.length;c++)xt(t,[i[c]].concat(e),s);return}else if(a&&l==="function"){for(let c=0;c<t.length;c++)i(t[c],c)&&xt(t,[c].concat(e),s);return}else if(a&&l==="object"){const{from:c=0,to:d=t.length-1,by:g=1}=i;for(let u=c;u<=d;u+=g)xt(t,[u].concat(e),s);return}else if(e.length>1){xt(t[i],e,[i].concat(s));return}r=t[i],s=[i].concat(s)}let n=e[0];typeof n=="function"&&(n=n(r,s),n===r)||i===void 0&&n==null||(n=wt(n),i===void 0||Ut(r)&&Ut(n)&&!Array.isArray(n)?Js(r,n):Bt(t,i,n))}function od(...[t,e]){const s=wt(t||{}),i=Array.isArray(s),r=Ws(s);function n(...l){si(()=>{i&&l.length===1?ld(s,l[0]):xt(s,l)})}return[r,n]}const cd=[{id:"part-1",name:"Rectangle Part",filename:"rectangle.svg",path:[[0,0],[100,0],[100,50],[0,50]],area:5e3,bounds:{x:0,y:0,width:100,height:50},quantity:5,placed:3,rotation:0,material:"wood",thickness:3,isSelected:!1},{id:"part-2",name:"Circle Part",filename:"circle.svg",path:fd(25,50,50),area:1963.5,bounds:{x:25,y:25,width:50,height:50},quantity:3,placed:2,rotation:0,material:"acrylic",thickness:5,isSelected:!1},{id:"part-3",name:"Triangle Part",filename:"triangle.svg",path:[[0,60],[30,0],[60,60]],area:1800,bounds:{x:0,y:0,width:60,height:60},quantity:8,placed:5,rotation:0,material:"plywood",thickness:6,isSelected:!0}],dd=[{id:"sheet-1",name:"Standard Sheet",width:600,height:400,thickness:3,material:"wood",margin:5,isSelected:!0,bounds:{x:0,y:0,width:600,height:400},utilization:0},{id:"sheet-2",name:"Large Acrylic Sheet",width:800,height:600,thickness:5,material:"acrylic",margin:3,isSelected:!1,bounds:{x:0,y:0,width:800,height:600},utilization:0}],ud=[{id:"nest-1",sheetId:"sheet-1",placements:[{id:"placement-1",partId:"part-1",x:10,y:10,rotation:0,bounds:{x:10,y:10,width:100,height:50}},{id:"placement-2",partId:"part-2",x:120,y:10,rotation:0,bounds:{x:120,y:10,width:50,height:50}},{id:"placement-3",partId:"part-3",x:10,y:70,rotation:0,bounds:{x:10,y:70,width:60,height:60}}],fitness:.75,utilization:.68,area:12e3,createdAt:new Date().toISOString(),isOptimal:!1},{id:"nest-2",sheetId:"sheet-1",placements:[{id:"placement-4",partId:"part-1",x:5,y:5,rotation:90,bounds:{x:5,y:5,width:50,height:100}},{id:"placement-5",partId:"part-2",x:65,y:5,rotation:0,bounds:{x:65,y:5,width:50,height:50}}],fitness:.82,utilization:.72,area:8500,createdAt:new Date(Date.now()-6e4).toISOString(),isOptimal:!0}],gd={"preset-1":{id:"preset-1",name:"Default Laser Settings",description:"Standard settings for laser cutting wood",config:{units:"mm",scale:1,spacing:2,rotations:4,populationSize:20,mutationRate:15,threads:4,placementType:"gravity",mergeLines:!0,timeRatio:.5,simplify:!1,tolerance:.1,endpointTolerance:.05,svgScale:1,dxfImportUnits:"mm",dxfExportUnits:"mm",exportSheetBounds:!0,exportSheetSpacing:!1,sheetSpacing:10,useQuantityFromFilename:!0,useSvgPreProcessor:!1,conversionServer:"https://converter.deepnest.app/convert"},createdAt:new Date(Date.now()-864e5).toISOString(),updatedAt:new Date(Date.now()-36e5).toISOString()},"preset-2":{id:"preset-2",name:"High Precision CNC",description:"Tight tolerances for CNC machining",config:{units:"inches",scale:72,spacing:.1,rotations:8,populationSize:50,mutationRate:5,threads:8,placementType:"bottom-left",mergeLines:!1,timeRatio:.8,simplify:!0,tolerance:.001,endpointTolerance:5e-4,svgScale:72,dxfImportUnits:"inches",dxfExportUnits:"inches",exportSheetBounds:!0,exportSheetSpacing:!0,sheetSpacing:.25,useQuantityFromFilename:!1,useSvgPreProcessor:!0,conversionServer:"https://converter.deepnest.app/convert"},createdAt:new Date(Date.now()-1728e5).toISOString(),updatedAt:new Date(Date.now()-72e5).toISOString()}};function fd(t,e,s){const i=[];for(let n=0;n<=32;n++){const l=n/32*2*Math.PI,a=e+t*Math.cos(l),c=s+t*Math.sin(l);i.push([a,c])}return i}const hd=()=>({ui:{activeTab:"parts",darkMode:!1,language:"en",theme:"auto",showTooltips:!0,showStatusBar:!0,modals:{presetModal:!1,helpModal:!1},panels:{partsWidth:300,resultsHeight:200}},config:{units:"mm",scale:1,spacing:2,rotations:4,populationSize:20,mutationRate:10,threads:4,placementType:"gravity",mergeLines:!0,timeRatio:.5,simplify:!1,tolerance:.1,endpointTolerance:.05,svgScale:1,dxfImportUnits:"mm",dxfExportUnits:"mm",exportSheetBounds:!1,exportSheetSpacing:!1,sheetSpacing:10,useQuantityFromFilename:!1,useSvgPreProcessor:!1,conversionServer:"https://converter.deepnest.app/convert"},app:{parts:cd,sheets:dd,nests:ud,presets:gd,importedFiles:[]},process:{isNesting:!1,progress:0,currentNest:null,workerStatus:{isRunning:!1,currentOperation:"",threadsActive:0},lastError:null}}),ut=()=>typeof window<"u"&&!window.electronAPI,is={units:"inches",scale:72,spacing:0,rotations:4,populationSize:10,mutationRate:10,threads:4,placementType:"gravity",mergeLines:!0,timeRatio:.5,simplify:!1,tolerance:.72,endpointTolerance:.36,svgScale:72,dxfImportUnits:"mm",dxfExportUnits:"mm",exportSheetBounds:!1,exportSheetSpacing:!1,sheetSpacing:10,useQuantityFromFilename:!1,useSvgPreProcessor:!1,conversionServer:"https://converter.deepnest.app/convert"},rs={activeTab:"parts",darkMode:!1,language:"en",modals:{presetModal:!1,helpModal:!1},panels:{partsWidth:300,resultsHeight:200}},Qs={parts:[],sheets:[],nests:[],presets:{},importedFiles:[]},Xs={isNesting:!1,progress:0,currentNest:null,workerStatus:{isRunning:!1,currentOperation:"",threadsActive:0},lastError:null},pd=()=>{try{if(typeof localStorage<"u"){const t=localStorage.getItem("deepnest-ui-state");if(t){const e=JSON.parse(t);return{...rs,...e}}}}catch(t){console.warn("Failed to load UI state from localStorage:",t)}return rs},Zs=ut()?hd():{ui:pd(),config:is,app:Qs,process:Xs},[x,he]=od(Zs);typeof document<"u"&&Zs.ui.darkMode&&document.documentElement.classList.add("dark");ut()&&console.info("🔧 Development mode: Global store initialized with mock data");const L={setActiveTab:t=>{he("ui","activeTab",t)},setDarkMode:t=>{if(he("ui","darkMode",t),typeof localStorage<"u")try{localStorage.setItem("deepnest-ui-state",JSON.stringify(x.ui))}catch(e){console.warn("Failed to save UI state to localStorage:",e)}},setLanguage:t=>{if(he("ui","language",t),typeof localStorage<"u")try{localStorage.setItem("deepnest-ui-state",JSON.stringify(x.ui))}catch(e){console.warn("Failed to save UI state to localStorage:",e)}},setPanelWidth:(t,e)=>{if(he("ui","panels",t,e),typeof localStorage<"u")try{localStorage.setItem("deepnest-ui-state",JSON.stringify(x.ui))}catch(s){console.warn("Failed to save UI state to localStorage:",s)}},openModal:t=>{he("ui","modals",t,!0)},closeModal:t=>{he("ui","modals",t,!1)},updateConfig:t=>{he("config",t)},resetConfig:()=>{he("config",is)},setParts:t=>{he("app","parts",t)},addPart:t=>{he("app","parts",e=>[...e,t])},removePart:t=>{he("app","parts",e=>e.filter(s=>s.id!==t))},updatePart:(t,e)=>{he("app","parts",s=>s.id===t,e)},setNests:t=>{he("app","nests",t)},addNest:t=>{he("app","nests",e=>[...e,t])},setPresets:t=>{he("app","presets",t)},addPreset:t=>{he("app","presets",t.id,t)},removePreset:t=>{he("app","presets",e=>{const s={...e};return delete s[t],s})},updatePreset:(t,e)=>{he("app","presets",t,s=>({...s,...e}))},setNestingStatus:t=>{he("process","isNesting",t)},setNestingProgress:t=>{he("process","progress",t)},setWorkerStatus:t=>{he("process","workerStatus",t)},setError:t=>{he("process","lastError",t)},setMessage:t=>{t&&console.info("App Message:",t)},setShowTooltips:t=>{he("ui","showTooltips",t)},setShowStatusBar:t=>{he("ui","showStatusBar",t)},setTheme:t=>{he("ui","theme",t)},resetToDefaults:()=>{he("config",is),he("ui",rs)},reset:()=>{he("app",Qs),he("process",Xs)}};class md{eventListeners=new Map;get isAvailable(){return ut()||typeof window<"u"&&!!window.electronAPI}async invoke(e,...s){if(!this.isAvailable)throw new Error("IPC not available");if(ut())return this.handleMockInvoke(e,...s);try{return await window.electronAPI.ipcRenderer.invoke(e,...s)}catch(i){throw console.error(`IPC invoke error on channel ${String(e)}:`,i),i}}async handleMockInvoke(e,...s){switch(await new Promise(i=>setTimeout(i,100)),console.info(`🔧 Mock IPC call: ${e}`,s),e){case"read-config":return{units:"mm",scale:1,spacing:2,rotations:4,populationSize:20,mutationRate:10,threads:4,placementType:"gravity",mergeLines:!0,timeRatio:.5,simplify:!1,tolerance:.1,endpointTolerance:.05,svgScale:1,dxfImportUnits:"mm",dxfExportUnits:"mm",exportSheetBounds:!1,exportSheetSpacing:!1,sheetSpacing:10,useQuantityFromFilename:!1,useSvgPreProcessor:!1,conversionServer:"https://converter.deepnest.app/convert"};case"write-config":case"save-preset":case"delete-preset":case"start-nesting":case"stop-nesting":return;case"load-presets":return{default:JSON.stringify({units:"mm",spacing:2,rotations:4}),precision:JSON.stringify({units:"inches",spacing:.1,rotations:8})};case"open-file-dialog":return{canceled:!1,filePaths:["/mock/path/example.svg"]};case"save-file-dialog":return{canceled:!1,filePath:"/mock/path/output.svg"};case"import-parts":return[{id:"mock-part-1",name:"Mock Part",bounds:{x:0,y:0,width:100,height:50},quantity:1,rotation:0}];default:console.warn(`🔧 Unhandled mock IPC channel: ${e}`);return}}on(e,s){if(!this.isAvailable)return console.warn("IPC not available, listener not registered"),()=>{};const i=String(e);return this.eventListeners.has(i)||this.eventListeners.set(i,new Set),this.eventListeners.get(i).add(s),ut()?(console.info(`🔧 Mock IPC listener registered for: ${i}`),()=>{const r=this.eventListeners.get(i);r&&(r.delete(s),r.size===0&&this.eventListeners.delete(i))}):(window.electronAPI.ipcRenderer.on(e,s),()=>{const r=this.eventListeners.get(i);r&&(r.delete(s),r.size===0&&(this.eventListeners.delete(i),window.electronAPI?.ipcRenderer&&window.electronAPI.ipcRenderer.removeAllListeners(e)))})}send(e,...s){if(!this.isAvailable){console.warn("IPC not available, message not sent");return}if(ut()){console.info(`🔧 Mock IPC send: ${e}`,s);return}window.electronAPI.ipcRenderer.send(e,...s)}async readConfig(){return this.invoke("read-config")}async writeConfig(e){return this.invoke("write-config",JSON.stringify(e))}async savePreset(e,s){return this.invoke("save-preset",e,JSON.stringify(s))}async loadPresets(){return this.invoke("load-presets")}async deletePreset(e){return this.invoke("delete-preset",e)}async startNesting(e){return this.invoke("start-nesting",e)}async stopNesting(){return this.invoke("stop-nesting")}stopBackgroundWorker(){this.send("background-stop")}onNestProgress(e){return this.on("nest-progress",e)}onNestComplete(e){return this.on("nest-complete",e)}onBackgroundProgress(e){return this.on("background-progress",e)}onWorkerStatus(e){return this.on("worker-status",e)}onNestError(e){return this.on("nest-error",e)}cleanup(){if(this.isAvailable){for(const e of this.eventListeners.keys())window.electronAPI.ipcRenderer.removeAllListeners(e);this.eventListeners.clear()}}}const ae=new md;var vd=k('<header class="h-16 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between px-6 shadow-sm"><div class="flex items-center"><div class="flex items-center gap-3"><div class="w-8 h-8 bg-blue-600 dark:bg-blue-500 rounded-lg flex items-center justify-center"><span class="text-white font-bold text-sm">DN</span></div><h1 class="text-xl font-semibold text-gray-900 dark:text-gray-100"></h1></div></div><div class="flex items-center gap-4"><div class=relative><select class="bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 px-3 py-2 pr-8 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none cursor-pointer"><option value=en>🇺🇸 EN</option><option value=de>🇩🇪 DE</option><option value=fr>🇫🇷 FR</option><option value=es>🇪🇸 ES</option></select><div class="absolute right-2 top-1/2 transform -translate-y-1/2 pointer-events-none"><svg class="w-4 h-4 text-gray-500 dark:text-gray-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 9l-7 7-7-7"></path></svg></div></div><button class="flex items-center justify-center w-10 h-10 bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800">'),bd=k('<svg class="w-5 h-5"fill=currentColor viewBox="0 0 20 20"><path fill-rule=evenodd d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"clip-rule=evenodd>'),xd=k('<svg class="w-5 h-5"fill=currentColor viewBox="0 0 20 20"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z">');const _d=()=>{const[t,{changeLanguage:e}]=Te("navigation"),s=()=>{L.setDarkMode(!x.ui.darkMode)},i=async r=>{L.setLanguage(r),await e(r)};return(()=>{var r=vd(),n=r.firstChild,l=n.firstChild,a=l.firstChild,c=a.nextSibling,d=n.nextSibling,g=d.firstChild,u=g.firstChild,h=g.nextSibling;return o(c,()=>t("page_title")),u.addEventListener("change",f=>i(f.currentTarget.value)),h.$$click=s,o(h,(()=>{var f=Ie(()=>!!x.ui.darkMode);return()=>f()?bd():xd()})()),P(()=>ee(h,"title",x.ui.darkMode?"Switch to light mode":"Switch to dark mode")),P(()=>u.value=x.ui.language),r})()};Me(["click"]);var yd=k('<nav class="h-full bg-gray-50 dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex flex-col w-full"><div class="flex flex-col py-4"><div class="px-4 mb-4"><h2 class="text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider">Navigation</h2></div></div><div class="mt-auto p-4 border-t border-gray-200 dark:border-gray-700"><div class="text-xs text-gray-500 dark:text-gray-400 text-center"><div>DeepNest Frontend</div><div class="mt-1 opacity-75">v2.0.0'),$d=k("<button><span></span><span class=font-medium>"),Sd=k('<div class="ml-auto w-1 h-6 bg-blue-600 dark:bg-blue-400 rounded-full">');const wd=()=>{const[t]=Te("navigation"),e=[{id:"parts",labelKey:"parts",icon:"📦"},{id:"nests",labelKey:"nests",icon:"🔧"},{id:"sheets",labelKey:"sheets",icon:"📄"},{id:"settings",labelKey:"settings",icon:"⚙️"}],s=i=>{L.setActiveTab(i)};return(()=>{var i=yd(),r=i.firstChild;return r.firstChild,o(r,S(je,{each:e,children:n=>(()=>{var l=$d(),a=l.firstChild,c=a.nextSibling;return l.$$click=()=>s(n.id),o(a,()=>n.icon),o(c,()=>t(n.labelKey)),o(l,(()=>{var d=Ie(()=>x.ui.activeTab===n.id);return()=>d()&&Sd()})(),null),P(d=>{var g=`mx-2 mb-1 flex items-center px-4 py-3 text-left transition-all duration-200 rounded-lg group ${x.ui.activeTab===n.id?"bg-blue-100 dark:bg-blue-900 text-blue-900 dark:text-blue-100 shadow-sm border border-blue-200 dark:border-blue-700":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-gray-100"}`,u=t(n.labelKey),h=`text-xl mr-4 transition-transform duration-200 ${x.ui.activeTab===n.id?"scale-110":"group-hover:scale-105"}`;return g!==d.e&&Ne(l,d.e=g),u!==d.t&&ee(l,"title",d.t=u),h!==d.a&&Ne(a,d.a=h),d},{e:void 0,t:void 0,a:void 0}),l})()}),null),i})()};Me(["click"]);var kd=k('<div class=parts-list><div class=parts-controls><div class=search-box><input type=text class=search-input></div><div class=sort-controls><label>:</label><select class=sort-select><option value=name></option><option value=quantity></option><option value=size></option></select></div></div><div class=parts-table><div class=table-header><div class="table-cell checkbox-cell"><input type=checkbox></div><div class="table-cell name-cell sortable"> </div><div class="table-cell quantity-cell sortable"> </div><div class="table-cell size-cell sortable"> </div><div class="table-cell rotation-cell"></div></div><div class=table-body>'),Cd=k('<div><div class="table-cell checkbox-cell"><input type=checkbox></div><div class="table-cell name-cell"><div class=part-name></div></div><div class="table-cell quantity-cell"><input type=number min=1 class=quantity-input></div><div class="table-cell size-cell"><span class=size-text></span></div><div class="table-cell rotation-cell"><input type=number min=0 max=360 step=90 class=rotation-input><span class=rotation-unit>°');const Pd=()=>{const[t]=Te("parts"),[e,s]=te(""),[i,r]=te("name"),[n,l]=te("asc"),a=ge(()=>{let f=x.app.parts;if(e()){const p=e().toLowerCase();f=f.filter(m=>m.name.toLowerCase().includes(p)||m.source.toLowerCase().includes(p))}return f=f.sort((p,m)=>{let b,y;switch(i()){case"name":b=p.name,y=m.name;break;case"quantity":b=p.quantity,y=m.quantity;break;case"size":b=p.bounds.width*p.bounds.height,y=m.bounds.width*m.bounds.height;break;default:b=p.name,y=m.name}return typeof b=="string"&&typeof y=="string"?n()==="asc"?b.localeCompare(y):y.localeCompare(b):n()==="asc"?b-y:y-b}),f}),c=f=>{L.updatePart(f.id,{selected:!f.selected})},d=(f,p)=>{p<1&&(p=1),L.updatePart(f,{quantity:p})},g=(f,p)=>{L.updatePart(f,{rotation:p})},u=f=>{i()===f?l(n()==="asc"?"desc":"asc"):(r(f),l("asc"))},h=f=>`${f.width.toFixed(1)} × ${f.height.toFixed(1)}`;return(()=>{var f=kd(),p=f.firstChild,m=p.firstChild,b=m.firstChild,y=m.nextSibling,C=y.firstChild,E=C.firstChild,$=C.nextSibling,R=$.firstChild,W=R.nextSibling,V=W.nextSibling,M=p.nextSibling,v=M.firstChild,_=v.firstChild,j=_.firstChild,N=_.nextSibling,I=N.firstChild,F=N.nextSibling,T=F.firstChild,z=F.nextSibling,B=z.firstChild,Z=z.nextSibling,Q=v.nextSibling;return b.$$input=A=>s(A.currentTarget.value),o(C,()=>t("sort_by"),E),$.addEventListener("change",A=>r(A.currentTarget.value)),o(R,()=>t("name")),o(W,()=>t("quantity")),o(V,()=>t("size")),j.addEventListener("change",A=>{const D=A.currentTarget.checked;x.app.parts.forEach(K=>{L.updatePart(K.id,{selected:D})})}),N.$$click=()=>u("name"),o(N,()=>t("name"),I),o(N,(()=>{var A=Ie(()=>i()==="name");return()=>A()&&(n()==="asc"?"▲":"▼")})(),null),F.$$click=()=>u("quantity"),o(F,()=>t("quantity"),T),o(F,(()=>{var A=Ie(()=>i()==="quantity");return()=>A()&&(n()==="asc"?"▲":"▼")})(),null),z.$$click=()=>u("size"),o(z,()=>t("size"),B),o(z,(()=>{var A=Ie(()=>i()==="size");return()=>A()&&(n()==="asc"?"▲":"▼")})(),null),o(Z,()=>t("rotation")),o(Q,S(je,{get each(){return a()},children:A=>(()=>{var D=Cd(),K=D.firstChild,U=K.firstChild,G=K.nextSibling,ne=G.firstChild,ce=G.nextSibling,le=ce.firstChild,fe=ce.nextSibling,Se=fe.firstChild,be=fe.nextSibling,ve=be.firstChild;return U.addEventListener("change",()=>c(A)),o(ne,()=>A.name),le.addEventListener("change",de=>d(A.id,parseInt(de.currentTarget.value))),o(Se,()=>h(A.bounds)),ve.addEventListener("change",de=>g(A.id,parseInt(de.currentTarget.value))),P(de=>{var xe=`table-row ${A.selected?"selected":""}`,pe=A.source;return xe!==de.e&&Ne(D,de.e=xe),pe!==de.t&&ee(ne,"title",de.t=pe),de},{e:void 0,t:void 0}),P(()=>U.checked=A.selected),P(()=>le.value=A.quantity),P(()=>ve.value=A.rotation),D})()})),P(A=>{var D=t("search_parts"),K=x.app.parts.some(U=>U.selected)&&!x.app.parts.every(U=>U.selected);return D!==A.e&&ee(b,"placeholder",A.e=D),K!==A.t&&(j.indeterminate=A.t=K),A},{e:void 0,t:void 0}),P(()=>b.value=e()),P(()=>$.value=i()),P(()=>j.checked=x.app.parts.every(A=>A.selected)),f})()};Me(["input","click"]);var Ld=k('<div class="flex items-center gap-2 px-3 py-1 bg-blue-50 dark:bg-blue-900/20 rounded-lg"><svg class="w-4 h-4 text-blue-600 dark:text-blue-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span class="text-sm text-blue-700 dark:text-blue-300 font-medium"> part<!> selected'),Od=k('<div class="h-full flex flex-col bg-white dark:bg-gray-900"><div class="bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700"><div class="px-6 py-4 flex items-center justify-between"><div class="flex items-center gap-3"><div class="w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center shadow-sm"><svg class="w-5 h-5 text-white"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path></svg></div><div><h1 class="text-xl font-semibold text-gray-900 dark:text-gray-100"></h1><p class="text-sm text-gray-500 dark:text-gray-400">Manage your parts and import new ones</p></div></div><div class="flex items-center gap-3"><button class="inline-flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg></button><div class="flex items-center gap-2"><button class="inline-flex items-center gap-2 px-3 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 font-medium rounded-lg transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg></button><button class="inline-flex items-center gap-2 px-3 py-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 font-medium rounded-lg transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg></button></div></div></div></div><div class="bg-gray-50 dark:bg-gray-800/50 px-6 py-4 border-b border-gray-200 dark:border-gray-700"><div class="grid grid-cols-1 md:grid-cols-4 gap-4"><div class="bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border border-gray-200 dark:border-gray-700"><div class="flex items-center gap-3"><div class="w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center"><svg class="w-5 h-5 text-blue-600 dark:text-blue-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path></svg></div><div><p class="text-sm font-medium text-gray-600 dark:text-gray-400"></p><p class="text-2xl font-bold text-gray-900 dark:text-gray-100"></p></div></div></div><div class="bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border border-gray-200 dark:border-gray-700"><div class="flex items-center gap-3"><div class="w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center"><svg class="w-5 h-5 text-green-600 dark:text-green-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"></path></svg></div><div><p class="text-sm font-medium text-gray-600 dark:text-gray-400"></p><p class="text-2xl font-bold text-gray-900 dark:text-gray-100"></p></div></div></div><div class="bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border border-gray-200 dark:border-gray-700"><div class="flex items-center gap-3"><div class="w-10 h-10 bg-purple-100 dark:bg-purple-900/30 rounded-lg flex items-center justify-center"><svg class="w-5 h-5 text-purple-600 dark:text-purple-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><div><p class="text-sm font-medium text-gray-600 dark:text-gray-400">Selected</p><p class="text-2xl font-bold text-gray-900 dark:text-gray-100"></p></div></div></div><div class="bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border border-gray-200 dark:border-gray-700"><div class="flex items-center gap-3"><div class="w-10 h-10 bg-orange-100 dark:bg-orange-900/30 rounded-lg flex items-center justify-center"><svg class="w-5 h-5 text-orange-600 dark:text-orange-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"></path></svg></div><div><p class="text-sm font-medium text-gray-600 dark:text-gray-400">Total Area</p><p class="text-2xl font-bold text-gray-900 dark:text-gray-100"></p></div></div></div></div></div><div class="bg-white dark:bg-gray-800 px-6 py-3 border-b border-gray-200 dark:border-gray-700"><div class="flex items-center justify-between"><div class="flex items-center gap-4"><span class="text-sm text-gray-600 dark:text-gray-400">Bulk Actions:</span><div class="flex items-center gap-2"><button class="text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed"></button><span class="text-gray-300 dark:text-gray-600">•</span><button class="text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed"></button></div></div></div></div><div class="flex-1 overflow-hidden bg-gray-50 dark:bg-gray-900">'),Ad=k('<div class="h-full flex flex-col items-center justify-center text-center gap-6 p-8"><div class="w-24 h-24 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center"><svg class="w-12 h-12 text-gray-400 dark:text-gray-600"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=1.5 d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path></svg></div><div class="max-w-sm space-y-3"><h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100"></h3><p class="text-gray-600 dark:text-gray-400 leading-relaxed"></p></div><div class="flex flex-col sm:flex-row gap-3"><button class="inline-flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-900"><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg></button><button class="inline-flex items-center gap-2 px-6 py-3 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 font-medium rounded-lg border border-gray-300 dark:border-gray-600 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-900"><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>Learn More</button></div><div class="text-xs text-gray-500 dark:text-gray-600 max-w-md"><p>Supported formats: SVG, DXF • Drag and drop files here');const Ed=()=>{const[t]=Te("parts"),e=ge(()=>x.app.parts.length),s=ge(()=>x.app.parts.reduce((g,u)=>g+u.quantity,0)),i=ge(()=>x.app.parts.filter(g=>g.selected).length),r=ge(()=>x.app.parts.reduce((g,u)=>g+(u.area||0),0)),n=async()=>{if(!ae.isAvailable){console.warn("IPC not available");return}try{const g=await ae.openFileDialog({title:t("import_parts"),filters:[{name:"Vector Files",extensions:["svg","dxf"]},{name:"SVG Files",extensions:["svg"]},{name:"DXF Files",extensions:["dxf"]},{name:"All Files",extensions:["*"]}],properties:["openFile","multiSelections"]});if(g.canceled||!g.filePaths?.length)return;const u=await ae.importParts(g.filePaths);L.setParts([...x.app.parts,...u])}catch(g){console.error("Failed to import parts:",g),L.setError(t("import_failed"))}},l=async()=>{const g=x.app.parts.filter(u=>u.selected);if(g.length===0){L.setError(t("no_parts_selected"));return}try{const u=await ae.saveFileDialog({title:t("export_parts"),defaultPath:"parts.svg",filters:[{name:"SVG Files",extensions:["svg"]},{name:"DXF Files",extensions:["dxf"]},{name:"All Files",extensions:["*"]}]});if(u.canceled||!u.filePath)return;await ae.exportParts(g,u.filePath)}catch(u){console.error("Failed to export parts:",u),L.setError(t("export_failed"))}},a=()=>{if(x.app.parts.filter(h=>h.selected).length===0){L.setError(t("no_parts_selected"));return}const u=x.app.parts.filter(h=>!h.selected);L.setParts(u)},c=()=>{x.app.parts.forEach(g=>{L.updatePart(g.id,{selected:!0})})},d=()=>{x.app.parts.forEach(g=>{L.updatePart(g.id,{selected:!1})})};return(()=>{var g=Od(),u=g.firstChild,h=u.firstChild,f=h.firstChild,p=f.firstChild,m=p.nextSibling,b=m.firstChild,y=f.nextSibling,C=y.firstChild;C.firstChild;var E=C.nextSibling,$=E.firstChild;$.firstChild;var R=$.nextSibling;R.firstChild;var W=u.nextSibling,V=W.firstChild,M=V.firstChild,v=M.firstChild,_=v.firstChild,j=_.nextSibling,N=j.firstChild,I=N.nextSibling,F=M.nextSibling,T=F.firstChild,z=T.firstChild,B=z.nextSibling,Z=B.firstChild,Q=Z.nextSibling,A=F.nextSibling,D=A.firstChild,K=D.firstChild,U=K.nextSibling,G=U.firstChild,ne=G.nextSibling,ce=A.nextSibling,le=ce.firstChild,fe=le.firstChild,Se=fe.nextSibling,be=Se.firstChild,ve=be.nextSibling,de=W.nextSibling,xe=de.firstChild,pe=xe.firstChild,Le=pe.firstChild,Oe=Le.nextSibling,Ae=Oe.firstChild,we=Ae.nextSibling,Ee=we.nextSibling,ke=de.nextSibling;return o(b,()=>t("parts_title")),C.$$click=n,o(C,()=>t("import"),null),$.$$click=l,o($,()=>t("export"),null),R.$$click=a,o(R,()=>t("delete"),null),o(N,()=>t("total_parts")),o(I,e),o(Z,()=>t("total_quantity")),o(Q,s),o(ne,i),o(ve,()=>Math.round(r())),Ae.$$click=c,o(Ae,()=>t("select_all")),Ee.$$click=d,o(Ee,()=>t("deselect_all")),o(xe,S(re,{get when(){return i()>0},get children(){var se=Ld(),Ce=se.firstChild,O=Ce.nextSibling,X=O.firstChild,Y=X.nextSibling;return Y.nextSibling,o(O,i,X),o(O,()=>i()===1?"":"s",Y),se}}),null),o(ke,S(re,{get when(){return e()>0},get fallback(){return(()=>{var se=Ad(),Ce=se.firstChild,O=Ce.nextSibling,X=O.firstChild,Y=X.nextSibling,q=O.nextSibling,ie=q.firstChild;return ie.firstChild,o(X,()=>t("no_parts_loaded")),o(Y,()=>t("import_parts_to_get_started")),ie.$$click=n,o(ie,()=>t("import_parts"),null),se})()},get children(){return S(Pd,{})}})),P(se=>{var Ce=t("import_parts"),O=t("export_selected"),X=x.app.parts.filter(ue=>ue.selected).length===0,Y=t("delete_selected"),q=x.app.parts.filter(ue=>ue.selected).length===0,ie=e()===0,_e=e()===0;return Ce!==se.e&&ee(C,"title",se.e=Ce),O!==se.t&&ee($,"title",se.t=O),X!==se.a&&($.disabled=se.a=X),Y!==se.o&&ee(R,"title",se.o=Y),q!==se.i&&(R.disabled=se.i=q),ie!==se.n&&(Ae.disabled=se.n=ie),_e!==se.s&&(Ee.disabled=se.s=_e),se},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),g})()};Me(["click"]);var Fd=k('<div class="text-sm text-gray-600 dark:text-gray-400 text-center">: '),Nd=k('<div class="bg-gray-50 dark:bg-gray-700 p-3 rounded"><span class="text-sm font-medium text-gray-700 dark:text-gray-300">:</span><span class="ml-2 text-sm text-gray-900 dark:text-gray-100">'),Rd=k('<div class="grid grid-cols-2 gap-4 pt-4 border-t border-gray-200 dark:border-gray-600"><div class="flex justify-between"><span class="text-sm text-gray-600 dark:text-gray-400">:</span><span class="text-sm font-medium text-gray-900 dark:text-gray-100"></span></div><div class="flex justify-between"><span class="text-sm text-gray-600 dark:text-gray-400">:</span><span class="text-sm font-medium text-gray-900 dark:text-gray-100">'),Md=k('<div class="p-6 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 m-4"><div class="flex items-center justify-between mb-4"><h3 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h3><div class="text-2xl font-bold text-blue-600 dark:text-blue-400">%</div></div><div class=mb-6><div class="progress-bar mb-2"><div class="progress-fill progress-fill-primary"></div></div></div><div class=space-y-4><div class="grid grid-cols-2 gap-4"><div class="flex justify-between"><span class="text-sm text-gray-600 dark:text-gray-400">:</span><span class="text-sm font-medium text-gray-900 dark:text-gray-100"></span></div><div class="flex justify-between"><span class="text-sm text-gray-600 dark:text-gray-400">:</span><span></span></div></div></div><div class="flex justify-center pt-4 border-t border-gray-200 dark:border-gray-600"><button class="text-blue-600 dark:text-blue-400 hover:underline text-sm">');const Td=()=>{const[t]=Te("nesting"),e=ge(()=>Math.max(0,Math.min(100,x.process.progress))),s=ge(()=>{const i=e();if(i===0)return null;const n=6e4*(100-i)/i;return n<6e4?`${Math.round(n/1e3)}s`:`${Math.round(n/6e4)}m`});return(()=>{var i=Md(),r=i.firstChild,n=r.firstChild,l=n.nextSibling,a=l.firstChild,c=r.nextSibling,d=c.firstChild,g=d.firstChild,u=c.nextSibling,h=u.firstChild,f=h.firstChild,p=f.firstChild,m=p.firstChild,b=p.nextSibling,y=f.nextSibling,C=y.firstChild,E=C.firstChild,$=C.nextSibling,R=u.nextSibling,W=R.firstChild;return o(n,()=>t("nesting_in_progress")),o(l,()=>e().toFixed(1),a),o(c,S(re,{get when(){return s()},get children(){var V=Fd(),M=V.firstChild;return o(V,()=>t("estimated_time_remaining"),M),o(V,s,null),V}}),null),o(u,S(re,{get when(){return x.process.workerStatus.currentOperation},get children(){var V=Nd(),M=V.firstChild,v=M.firstChild,_=M.nextSibling;return o(M,()=>t("current_operation"),v),o(_,()=>x.process.workerStatus.currentOperation),V}}),h),o(p,()=>t("threads_active"),m),o(b,()=>x.process.workerStatus.threadsActive),o(C,()=>t("worker_status"),E),o($,(()=>{var V=Ie(()=>!!x.process.workerStatus.isRunning);return()=>V()?t("running"):t("stopped")})()),o(u,S(re,{get when(){return x.process.currentNest},get children(){var V=Rd(),M=V.firstChild,v=M.firstChild,_=v.firstChild,j=v.nextSibling,N=M.nextSibling,I=N.firstChild,F=I.firstChild,T=I.nextSibling;return o(v,()=>t("current_generation"),_),o(j,()=>x.process.currentNest?.generation||0),o(I,()=>t("best_fitness"),F),o(T,()=>x.process.currentNest?.fitness?.toFixed(2)||"N/A"),V}}),null),W.$$click=()=>window.location.reload(),o(W,()=>t("refresh_status")),P(V=>{var M=`${e()}%`,v=`text-sm font-medium ${x.process.workerStatus.isRunning?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`;return M!==V.e&&((V.e=M)!=null?g.style.setProperty("width",M):g.style.removeProperty("width")),v!==V.t&&Ne($,V.t=v),V},{e:void 0,t:void 0}),i})()};Me(["click"]);var Dd=k('<div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100">ms'),jd=k('<div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100">'),Id=k('<div class="h-full flex flex-col"><div class="flex items-center justify-center p-4 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"><div class="flex items-center gap-4"><button class="btn-secondary btn-small">🔍−</button><span class="text-sm font-medium text-gray-900 dark:text-gray-100 min-w-16 text-center">%</span><button class="btn-secondary btn-small">🔍+</button><button class="btn-secondary btn-small">🎯</button></div></div><div class="flex-1 flex"><div class="flex-1 bg-white dark:bg-gray-900"><svg class=result-svg width=100% height=400 viewBox="0 0 800 400"><g><defs><pattern id=grid width=20 height=20 patternUnits=userSpaceOnUse><path d="M 20 0 L 0 0 0 20"fill=none stroke=#e0e0e0 stroke-width=1></path></pattern></defs><rect width=800 height=400 fill=url(#grid)></rect></g></svg></div><div class="w-80 bg-white dark:bg-gray-800 border-l border-gray-200 dark:border-gray-700 overflow-y-auto"><div class=p-4><h4 class="text-lg font-medium text-gray-900 dark:text-gray-100 mb-4"></h4><div class="grid grid-cols-2 gap-3 mb-6"><div class="bg-gray-50 dark:bg-gray-700 p-3 rounded text-center"><div class="text-2xl font-bold text-green-600 dark:text-green-400"></div><div class="text-xs text-gray-600 dark:text-gray-400 mt-1"></div></div><div class="bg-gray-50 dark:bg-gray-700 p-3 rounded text-center"><div class="text-2xl font-bold text-gray-900 dark:text-gray-100"></div><div class="text-xs text-gray-600 dark:text-gray-400 mt-1"></div></div><div class="bg-gray-50 dark:bg-gray-700 p-3 rounded text-center"><div class="text-2xl font-bold text-gray-900 dark:text-gray-100"></div><div class="text-xs text-gray-600 dark:text-gray-400 mt-1"></div></div><div class="bg-gray-50 dark:bg-gray-700 p-3 rounded text-center"><div class="text-2xl font-bold text-red-600 dark:text-red-400">%</div><div class="text-xs text-gray-600 dark:text-gray-400 mt-1"></div></div></div><div class=space-y-3><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100"></span></div><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100">'),zd=k('<svg><g class=sheet-group><rect fill="rgba(200, 200, 200, 0.3)"stroke=#e5e7eb stroke-width=2></rect><text font-size=12 fill=#6b7280> </svg>',!1,!0,!1),Ud=k('<svg><g class=part-group><rect fill="rgba(59, 130, 246, 0.7)"stroke=#3b82f6 stroke-width=1></svg>',!1,!0,!1);const Vd=t=>{const[e]=Te("nesting"),[s,i]=te(1),[r,n]=te({x:0,y:0}),[l,a]=te(!1),[c,d]=te({x:0,y:0}),g=ge(()=>t.result.sheets?.reduce(($,R)=>$+R.width*R.height,0)||0),u=ge(()=>t.result.placedParts||0),h=ge(()=>{const $=g(),R=u();return $===0?0:($-R)/$*100}),f=()=>{i($=>Math.min($*1.2,5))},p=()=>{i($=>Math.max($/1.2,.1))},m=()=>{i(1),n({x:0,y:0})},b=$=>{a(!0),d({x:$.clientX-r().x,y:$.clientY-r().y})},y=$=>{if(!l())return;const R={x:$.clientX-c().x,y:$.clientY-c().y};n(R)},C=()=>{a(!1)},E=ge(()=>{const $=s(),R=r();return`translate(${R.x}, ${R.y}) scale(${$})`});return(()=>{var $=Id(),R=$.firstChild,W=R.firstChild,V=W.firstChild,M=V.nextSibling,v=M.firstChild,_=M.nextSibling,j=_.nextSibling,N=R.nextSibling,I=N.firstChild,F=I.firstChild,T=F.firstChild,z=T.firstChild;z.nextSibling;var B=I.nextSibling,Z=B.firstChild,Q=Z.firstChild,A=Q.nextSibling,D=A.firstChild,K=D.firstChild,U=K.nextSibling,G=D.nextSibling,ne=G.firstChild,ce=ne.nextSibling,le=G.nextSibling,fe=le.firstChild,Se=fe.nextSibling,be=le.nextSibling,ve=be.firstChild,de=ve.firstChild,xe=ve.nextSibling,pe=A.nextSibling,Le=pe.firstChild,Oe=Le.firstChild,Ae=Oe.firstChild,we=Oe.nextSibling,Ee=Le.nextSibling,ke=Ee.firstChild,se=ke.firstChild,Ce=ke.nextSibling;return V.$$click=p,o(M,()=>Math.round(s()*100),v),_.$$click=f,j.$$click=m,F.addEventListener("mouseleave",C),F.$$mouseup=C,F.$$mousemove=y,F.$$mousedown=b,o(T,S(je,{get each(){return t.result.sheets||[]},children:(O,X)=>(()=>{var Y=zd(),q=Y.firstChild,ie=q.nextSibling,_e=ie.firstChild;return o(ie,()=>e("sheet"),_e),o(ie,()=>X()+1,null),P(ue=>{var De=O.x||0,J=O.y||0,ye=O.width,Be=O.height,Ge=(O.x||0)+10,He=(O.y||0)+25;return De!==ue.e&&ee(q,"x",ue.e=De),J!==ue.t&&ee(q,"y",ue.t=J),ye!==ue.a&&ee(q,"width",ue.a=ye),Be!==ue.o&&ee(q,"height",ue.o=Be),Ge!==ue.i&&ee(ie,"x",ue.i=Ge),He!==ue.n&&ee(ie,"y",ue.n=He),ue},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),Y})()}),null),o(T,S(je,{get each(){return t.result.placements||[]},children:O=>(()=>{var X=Ud(),Y=X.firstChild;return P(q=>{var ie=O.x,_e=O.y,ue=O.width||50,De=O.height||50,J=`rotate(${O.rotation||0} ${O.x+(O.width||50)/2} ${O.y+(O.height||50)/2})`;return ie!==q.e&&ee(Y,"x",q.e=ie),_e!==q.t&&ee(Y,"y",q.t=_e),ue!==q.a&&ee(Y,"width",q.a=ue),De!==q.o&&ee(Y,"height",q.o=De),J!==q.i&&ee(Y,"transform",q.i=J),q},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),X})()}),null),o(Q,()=>e("statistics")),o(K,(()=>{var O=Ie(()=>!!t.result.efficiency);return()=>O()?`${(t.result.efficiency*100).toFixed(1)}%`:"N/A"})()),o(U,()=>e("material_efficiency")),o(ne,()=>t.result.fitness?.toFixed(2)||"N/A"),o(ce,()=>e("fitness_score")),o(fe,()=>t.result.sheets?.length||0),o(Se,()=>e("sheets_used")),o(ve,()=>h().toFixed(1),de),o(xe,()=>e("material_waste")),o(Oe,()=>e("total_parts_placed"),Ae),o(we,()=>t.result.placedParts||0),o(ke,()=>e("total_material_used"),se),o(Ce,()=>g().toFixed(2)),o(pe,S(re,{get when(){return t.result.generationTime},get children(){var O=Dd(),X=O.firstChild,Y=X.firstChild,q=X.nextSibling,ie=q.firstChild;return o(X,()=>e("generation_time"),Y),o(q,()=>t.result.generationTime,ie),O}}),null),o(pe,S(re,{get when(){return t.result.generation},get children(){var O=jd(),X=O.firstChild,Y=X.firstChild,q=X.nextSibling;return o(X,()=>e("generation_number"),Y),o(q,()=>t.result.generation),O}}),null),P(O=>{var X=e("zoom_out"),Y=e("zoom_in"),q=e("reset_view"),ie=l()?"grabbing":"grab",_e=E();return X!==O.e&&ee(V,"title",O.e=X),Y!==O.t&&ee(_,"title",O.t=Y),q!==O.a&&ee(j,"title",O.a=q),ie!==O.o&&((O.o=ie)!=null?F.style.setProperty("cursor",ie):F.style.removeProperty("cursor")),_e!==O.i&&ee(T,"transform",O.i=_e),O},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),$})()};Me(["click","mousedown","mousemove","mouseup"]);var Bd=k('<div class="h-full flex flex-col"><div class="flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"><button class=btn-secondary>← </button><h3 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h3><div class="flex gap-2"><button class=btn-secondary>📤 '),Hd=k('<div class="flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"><h3 class="text-lg font-medium text-gray-900 dark:text-gray-100"> (<!>)</h3><div class="text-sm text-gray-600 dark:text-gray-400"><label>'),Kd=k('<div class="flex-1 overflow-y-auto p-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">'),qd=k('<div class="h-full flex flex-col">'),Wd=k('<span class="text-xs bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 px-2 py-1 rounded-full">'),Gd=k('<div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100">'),Jd=k('<div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-lg transition-shadow duration-200"><div class="h-32 bg-gray-50 dark:bg-gray-700 flex items-center justify-center cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors"><div class=text-center><div class="text-2xl mb-1">🎯</div><div class="text-sm text-gray-600 dark:text-gray-400"></div></div></div><div class=p-4><div class="flex items-center justify-between mb-3"><h4 class="font-medium text-gray-900 dark:text-gray-100"> #</h4></div><div class="space-y-2 mb-4"><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-green-600 dark:text-green-400"></span></div><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100"></span></div><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100"></span></div></div><div class="flex justify-between items-center pt-2 border-t border-gray-200 dark:border-gray-700"><button class="text-blue-600 dark:text-blue-400 hover:underline text-sm"></button><div class="flex gap-2"><button class="text-blue-600 dark:text-blue-400 hover:underline text-sm"></button><button class="text-red-600 dark:text-red-400 hover:underline text-sm">');const Qd=()=>{const[t]=Te("nesting"),[e,s]=te(null),[i,r]=te("grid"),n=ge(()=>[...x.app.nests].sort((h,f)=>h.efficiency!==f.efficiency?(f.efficiency||0)-(h.efficiency||0):(f.fitness||0)-(h.fitness||0))),l=h=>{s(h),r("detail")},a=()=>{s(null),r("grid")},c=async h=>{if(ae.isAvailable)try{const f=await ae.saveFileDialog({title:t("export_result"),defaultPath:`nest_result_${h.id}.svg`,filters:[{name:"SVG Files",extensions:["svg"]},{name:"DXF Files",extensions:["dxf"]},{name:"All Files",extensions:["*"]}]});if(f.canceled||!f.filePath)return;await ae.exportNestResult(h,f.filePath)}catch(f){console.error("Failed to export result:",f),L.setError(t("export_failed"))}},d=h=>{const f=x.app.nests.filter(p=>p.id!==h.id);L.setNests(f)},g=h=>h?`${(h*100).toFixed(1)}%`:"N/A",u=h=>h?h.toFixed(2):"N/A";return(()=>{var h=qd();return o(h,S(re,{get when(){return Ie(()=>i()==="detail")()&&e()},get children(){var f=Bd(),p=f.firstChild,m=p.firstChild;m.firstChild;var b=m.nextSibling,y=b.nextSibling,C=y.firstChild;return C.firstChild,m.$$click=a,o(m,()=>t("back_to_results"),null),o(b,()=>t("result_details")),C.$$click=()=>c(e()),o(C,()=>t("export"),null),o(f,S(Vd,{get result(){return e()}}),null),f}}),null),o(h,S(re,{get when(){return i()==="grid"},get children(){return[(()=>{var f=Hd(),p=f.firstChild,m=p.firstChild,b=m.nextSibling;b.nextSibling;var y=p.nextSibling,C=y.firstChild;return o(p,()=>t("nesting_results"),m),o(p,()=>n().length,b),o(C,()=>t("sorted_by_efficiency")),f})(),(()=>{var f=Kd();return o(f,S(je,{get each(){return n()},children:(p,m)=>(()=>{var b=Jd(),y=b.firstChild,C=y.firstChild,E=C.firstChild,$=E.nextSibling,R=y.nextSibling,W=R.firstChild,V=W.firstChild,M=V.firstChild,v=W.nextSibling,_=v.firstChild,j=_.firstChild,N=j.firstChild,I=j.nextSibling,F=_.nextSibling,T=F.firstChild,z=T.firstChild,B=T.nextSibling,Z=F.nextSibling,Q=Z.firstChild,A=Q.firstChild,D=Q.nextSibling,K=v.nextSibling,U=K.firstChild,G=U.nextSibling,ne=G.firstChild,ce=ne.nextSibling;return y.$$click=()=>l(p),o($,()=>t("click_to_view")),o(V,()=>t("result"),M),o(V,()=>m()+1,null),o(W,S(re,{get when(){return m()===0},get children(){var le=Wd();return o(le,()=>t("best")),le}}),null),o(j,()=>t("efficiency"),N),o(I,()=>g(p.efficiency)),o(T,()=>t("fitness"),z),o(B,()=>u(p.fitness)),o(Q,()=>t("sheets_used"),A),o(D,()=>p.sheets?.length||0),o(v,S(re,{get when(){return p.placedParts},get children(){var le=Gd(),fe=le.firstChild,Se=fe.firstChild,be=fe.nextSibling;return o(fe,()=>t("parts_placed"),Se),o(be,()=>p.placedParts),le}}),null),U.$$click=()=>l(p),o(U,()=>t("view_details")),ne.$$click=()=>c(p),o(ne,()=>t("export")),ce.$$click=()=>d(p),o(ce,()=>t("delete")),b})()})),f})()]}}),null),h})()};Me(["click"]);var Xd=k("<button class=btn-secondary>🗑️ "),Zd=k('<div class="h-full flex flex-col"><div class="flex items-center justify-between p-5 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"><h2 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h2><div class="flex gap-2"><button class="btn-primary disabled:opacity-50 disabled:cursor-not-allowed">▶️ </button><button class="btn-secondary disabled:opacity-50 disabled:cursor-not-allowed">⏹️ </button></div></div><div class="flex items-center justify-between p-4 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700"><div class="flex gap-6"><div class="flex items-center gap-2"><span class="text-sm text-gray-600 dark:text-gray-400">:</span><span class="text-sm font-medium text-gray-900 dark:text-gray-100"></span></div><div class="flex items-center gap-2"><span class="text-sm text-gray-600 dark:text-gray-400">:</span><span class="text-sm font-medium text-gray-900 dark:text-gray-100"></span></div><div class="flex items-center gap-2"><span class="text-sm text-gray-600 dark:text-gray-400">:</span><span class="text-sm font-medium text-gray-900 dark:text-gray-100"></span></div></div></div><div class="flex-1 overflow-hidden">'),Yd=k('<p class="text-amber-600 dark:text-amber-400">'),eu=k('<div class="h-full flex flex-col items-center justify-center text-center gap-4 p-8"><div class="text-6xl opacity-30">🎯</div><h3 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h3><p class="text-gray-600 dark:text-gray-400">');const tu=()=>{const[t]=Te("nesting"),e=ge(()=>x.app.parts.length>0&&x.app.sheets.length>0&&!x.process.isNesting),s=ge(()=>x.app.nests.length>0),i=async()=>{if(e())try{L.setNestingStatus(!0),L.setNestingProgress(0),L.setError(null);const a={parts:x.app.parts.filter(c=>c.quantity>0),sheets:x.app.sheets,config:x.config};await ae.startNesting(a)}catch(a){console.error("Failed to start nesting:",a),L.setError(t("start_nesting_failed")),L.setNestingStatus(!1)}},r=async()=>{if(x.process.isNesting)try{await ae.stopNesting(),L.setNestingStatus(!1)}catch(a){console.error("Failed to stop nesting:",a),L.setError(t("stop_nesting_failed"))}},n=()=>{L.setNests([])},l=ge(()=>x.app.parts.filter(a=>a.quantity>0).length);return(()=>{var a=Zd(),c=a.firstChild,d=c.firstChild,g=d.nextSibling,u=g.firstChild;u.firstChild;var h=u.nextSibling;h.firstChild;var f=c.nextSibling,p=f.firstChild,m=p.firstChild,b=m.firstChild,y=b.firstChild,C=b.nextSibling,E=m.nextSibling,$=E.firstChild,R=$.firstChild,W=$.nextSibling,V=E.nextSibling,M=V.firstChild,v=M.firstChild,_=M.nextSibling,j=f.nextSibling;return o(d,()=>t("nesting_title")),u.$$click=i,o(u,()=>t("start_nesting"),null),h.$$click=r,o(h,()=>t("stop_nesting"),null),o(g,S(re,{get when(){return s()&&!x.process.isNesting},get children(){var N=Xd();return N.firstChild,N.$$click=n,o(N,()=>t("clear_results"),null),P(()=>ee(N,"title",t("clear_results"))),N}}),null),o(b,()=>t("parts_to_nest"),y),o(C,l),o($,()=>t("available_sheets"),R),o(W,()=>x.app.sheets.length),o(M,()=>t("results_count"),v),o(_,()=>x.app.nests.length),o(j,S(re,{get when(){return x.process.isNesting},get children(){return S(Td,{})}}),null),o(j,S(re,{get when(){return s()},get fallback(){return(()=>{var N=eu(),I=N.firstChild,F=I.nextSibling,T=F.nextSibling;return o(F,()=>t("no_nesting_results")),o(T,()=>t("start_nesting_to_see_results")),o(N,S(re,{get when(){return!e()},get children(){var z=Yd();return o(z,()=>t("add_parts_and_sheets_first")),z}}),null),N})()},get children(){return S(Qd,{})}}),null),P(N=>{var I=!e(),F=e()?t("start_nesting"):t("cannot_start_nesting"),T=!x.process.isNesting,z=t("stop_nesting");return I!==N.e&&(u.disabled=N.e=I),F!==N.t&&ee(u,"title",N.t=F),T!==N.a&&(h.disabled=N.a=T),z!==N.o&&ee(h,"title",N.o=z),N},{e:void 0,t:void 0,a:void 0,o:void 0}),a})()};Me(["click"]);var bt=k('<span class="text-red-500 text-xs mt-1 block">'),su=k('<div class="text-sm text-gray-600 dark:text-gray-400">: <!> mm'),iu=k('<div class=modal-body><div class=space-y-6><div class=form-group><h4 class="text-md font-medium text-gray-900 dark:text-gray-100 mb-4"></h4><div class=form-group><label class=form-label for=sheet-name>:</label><input id=sheet-name type=text class=input-base></div><div class=form-group><label class=form-label for=material>:</label><select id=material class=input-select></select></div></div><div class=form-group><h4 class="text-md font-medium text-gray-900 dark:text-gray-100 mb-4"></h4><div class="grid grid-cols-3 gap-2 mb-4"></div><div class="flex items-end gap-2"><div class=flex-1><label class=form-label for=width> (mm):</label><input id=width type=number min=1 step=0.1></div><button type=button class="btn-secondary mb-1">⇄</button><div class=flex-1><label class=form-label for=height> (mm):</label><input id=height type=number min=1 step=0.1></div></div><div class="text-sm text-gray-600 dark:text-gray-400 mt-2">: <!> mm²</div></div><div class=form-group><h4 class="text-md font-medium text-gray-900 dark:text-gray-100 mb-4"></h4><div class="grid grid-cols-3 gap-4"><div><label class=form-label for=thickness> (mm):</label><input id=thickness type=number min=0.1 step=0.1></div><div><label class=form-label for=quantity>:</label><input id=quantity type=number min=1></div><div><label class=form-label for=margin> (mm):</label><input id=margin type=number min=0 step=0.1></div></div></div><div class=form-group><h4 class="text-md font-medium text-gray-900 dark:text-gray-100 mb-4"></h4><div class="flex items-center gap-6"><div class=flex-shrink-0><div class="bg-white dark:bg-gray-600 border-2 border-gray-300 dark:border-gray-500 rounded shadow-sm relative"><div class="absolute border border-dashed border-gray-400 dark:border-gray-400 rounded-sm"></div></div></div><div class=space-y-2><div class="text-sm text-gray-900 dark:text-gray-100"> × <!> mm</div><div class="text-sm text-gray-600 dark:text-gray-400">: <!> mm²'),ru=k("<div class=modal-footer><button type=button class=btn-secondary></button><button type=button class=btn-primary>"),nu=k("<option>"),au=k('<button type=button class="btn-secondary btn-small text-xs">');const lu=t=>{const[e]=Te("sheets"),[s,i]=te(""),[r,n]=te(200),[l,a]=te(200),[c,d]=te(3),[g,u]=te(1),[h,f]=te(5),[p,m]=te("Generic"),[b,y]=te({}),C=["Generic","Wood - Plywood","Wood - MDF","Wood - Hardwood","Metal - Aluminum","Metal - Steel","Metal - Brass","Plastic - Acrylic","Plastic - ABS","Cardboard","Fabric","Leather","Paper"],E=[{name:"A4",width:210,height:297},{name:"A3",width:297,height:420},{name:"A2",width:420,height:594},{name:"A1",width:594,height:841},{name:"Letter",width:216,height:279},{name:"Legal",width:216,height:356},{name:'12×12"',width:305,height:305},{name:'24×24"',width:610,height:610},{name:'48×24"',width:1219,height:610}];Kt(()=>{const v=t.sheet;v?(i(v.name||""),n(v.width),a(v.height),d(v.thickness||3),u(v.quantity||1),f(v.margin||5),m(v.material||"Generic")):(i(""),n(200),a(200),d(3),u(1),f(5),m("Generic")),y({})});const $=()=>{const v={};return r()<=0&&(v.width=e("width_must_be_positive")),l()<=0&&(v.height=e("height_must_be_positive")),c()<=0&&(v.thickness=e("thickness_must_be_positive")),g()<=0&&(v.quantity=e("quantity_must_be_positive")),h()<0&&(v.margin=e("margin_cannot_be_negative")),y(v),Object.keys(v).length===0},R=()=>{if(!$())return;const v={id:t.sheet?.id||`sheet_${Date.now()}`,name:s().trim()||`Sheet ${Date.now()}`,width:r(),height:l(),thickness:c(),quantity:g(),margin:h(),material:p()};t.onSave(v)},W=v=>{n(v.width),a(v.height),s().trim()||i(v.name)},V=()=>{const v=r();n(l()),a(v)},M=()=>(r()*l()).toFixed(0);return[(()=>{var v=iu(),_=v.firstChild,j=_.firstChild,N=j.firstChild,I=N.nextSibling,F=I.firstChild,T=F.firstChild,z=F.nextSibling,B=I.nextSibling,Z=B.firstChild,Q=Z.firstChild,A=Z.nextSibling,D=j.nextSibling,K=D.firstChild,U=K.nextSibling,G=U.nextSibling,ne=G.firstChild,ce=ne.firstChild,le=ce.firstChild,fe=ce.nextSibling,Se=ne.nextSibling,be=Se.nextSibling,ve=be.firstChild,de=ve.firstChild,xe=ve.nextSibling,pe=G.nextSibling,Le=pe.firstChild,Oe=Le.nextSibling;Oe.nextSibling;var Ae=D.nextSibling,we=Ae.firstChild,Ee=we.nextSibling,ke=Ee.firstChild,se=ke.firstChild,Ce=se.firstChild,O=se.nextSibling,X=ke.nextSibling,Y=X.firstChild,q=Y.firstChild,ie=Y.nextSibling,_e=X.nextSibling,ue=_e.firstChild,De=ue.firstChild,J=ue.nextSibling,ye=Ae.nextSibling,Be=ye.firstChild,Ge=Be.nextSibling,He=Ge.firstChild,Je=He.firstChild,ze=Je.firstChild,tt=He.nextSibling,Ue=tt.firstChild,nt=Ue.firstChild,Ze=nt.nextSibling;Ze.nextSibling;var st=Ue.nextSibling,Ye=st.firstChild,Ke=Ye.nextSibling;return Ke.nextSibling,o(N,()=>e("basic_information")),o(F,()=>e("sheet_name"),T),z.$$input=w=>i(w.currentTarget.value),o(Z,()=>e("material"),Q),A.addEventListener("change",w=>m(w.currentTarget.value)),o(A,S(je,{each:C,children:w=>(()=>{var Pe=nu();return Pe.value=w,o(Pe,w),Pe})()})),o(K,()=>e("dimensions")),o(U,S(je,{each:E,children:w=>(()=>{var Pe=au();return Pe.$$click=()=>W(w),o(Pe,()=>w.name),P(()=>ee(Pe,"title",`${w.width} × ${w.height} mm`)),Pe})()})),o(ce,()=>e("width"),le),fe.$$input=w=>n(parseFloat(w.currentTarget.value)||0),o(ne,S(re,{get when(){return b().width},get children(){var w=bt();return o(w,()=>b().width),w}}),null),Se.$$click=V,o(ve,()=>e("height"),de),xe.$$input=w=>a(parseFloat(w.currentTarget.value)||0),o(be,S(re,{get when(){return b().height},get children(){var w=bt();return o(w,()=>b().height),w}}),null),o(pe,()=>e("area"),Le),o(pe,M,Oe),o(we,()=>e("properties")),o(se,()=>e("thickness"),Ce),O.$$input=w=>d(parseFloat(w.currentTarget.value)||0),o(ke,S(re,{get when(){return b().thickness},get children(){var w=bt();return o(w,()=>b().thickness),w}}),null),o(Y,()=>e("quantity"),q),ie.$$input=w=>u(parseInt(w.currentTarget.value)||0),o(X,S(re,{get when(){return b().quantity},get children(){var w=bt();return o(w,()=>b().quantity),w}}),null),o(ue,()=>e("margin"),De),J.$$input=w=>f(parseFloat(w.currentTarget.value)||0),o(_e,S(re,{get when(){return b().margin},get children(){var w=bt();return o(w,()=>b().margin),w}}),null),o(Be,()=>e("preview")),Je.style.setProperty("width","120px"),Je.style.setProperty("max-height","120px"),o(Ue,r,nt),o(Ue,l,Ze),o(st,()=>e("area"),Ye),o(st,M,Ke),o(tt,S(re,{get when(){return h()>0},get children(){var w=su(),Pe=w.firstChild,qe=Pe.nextSibling;return qe.nextSibling,o(w,()=>e("margin"),Pe),o(w,h,qe),w}}),null),P(w=>{var Pe=e("enter_sheet_name"),qe=`input-number ${b().width?"border-red-500":""}`,Pt=e("swap_dimensions"),Lt=`input-number ${b().height?"border-red-500":""}`,ht=`input-number ${b().thickness?"border-red-500":""}`,at=`input-number ${b().quantity?"border-red-500":""}`,Ot=`input-number ${b().margin?"border-red-500":""}`,pt=`${r()} / ${l()}`,mt=`${Math.max(h()/Math.max(r(),l())*100,2)}%`,oe=`${Math.max(h()/Math.max(r(),l())*100,2)}%`,it=`${Math.max(h()/Math.max(r(),l())*100,2)}%`,Wt=`${Math.max(h()/Math.max(r(),l())*100,2)}%`;return Pe!==w.e&&ee(z,"placeholder",w.e=Pe),qe!==w.t&&Ne(fe,w.t=qe),Pt!==w.a&&ee(Se,"title",w.a=Pt),Lt!==w.o&&Ne(xe,w.o=Lt),ht!==w.i&&Ne(O,w.i=ht),at!==w.n&&Ne(ie,w.n=at),Ot!==w.s&&Ne(J,w.s=Ot),pt!==w.h&&((w.h=pt)!=null?Je.style.setProperty("aspect-ratio",pt):Je.style.removeProperty("aspect-ratio")),mt!==w.r&&((w.r=mt)!=null?ze.style.setProperty("top",mt):ze.style.removeProperty("top")),oe!==w.d&&((w.d=oe)!=null?ze.style.setProperty("left",oe):ze.style.removeProperty("left")),it!==w.l&&((w.l=it)!=null?ze.style.setProperty("right",it):ze.style.removeProperty("right")),Wt!==w.u&&((w.u=Wt)!=null?ze.style.setProperty("bottom",Wt):ze.style.removeProperty("bottom")),w},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0}),P(()=>z.value=s()),P(()=>A.value=p()),P(()=>fe.value=r()),P(()=>xe.value=l()),P(()=>O.value=c()),P(()=>ie.value=g()),P(()=>J.value=h()),v})(),(()=>{var v=ru(),_=v.firstChild,j=_.nextSibling;return pi(_,"click",t.onCancel),o(_,()=>e("cancel")),j.$$click=R,o(j,(()=>{var N=Ie(()=>!!t.sheet);return()=>N()?e("update_sheet"):e("add_sheet")})()),v})()]};Me(["input","click"]);var ou=k('<div class=modal-overlay><div class=modal-content><div class=modal-header><h3 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h3><button class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 text-2xl leading-none">×'),cu=k('<div class="h-full flex flex-col"><div class="p-4 border-b border-gray-200 dark:border-gray-700"><h3 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h3></div><div class="flex-1 overflow-y-auto p-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">'),du=k('<div class="h-full flex flex-col"><div class="flex items-center justify-between p-5 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"><h2 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h2><div class="flex gap-2"><button class=btn-primary>➕ </button></div></div><div class="flex items-center justify-between p-4 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700"><div class="flex gap-6"><div class="flex items-center gap-2"><span class="text-sm text-gray-600 dark:text-gray-400">:</span><span class="text-sm font-medium text-gray-900 dark:text-gray-100"></span></div><div class="flex items-center gap-2"><span class="text-sm text-gray-600 dark:text-gray-400">:</span><span class="text-sm font-medium text-gray-900 dark:text-gray-100"> mm²</span></div></div></div><div class="flex-1 overflow-hidden">'),uu=k('<div class="h-full flex flex-col items-center justify-center text-center gap-6 p-8"><div class="text-6xl opacity-30">📄</div><div><h3 class="text-lg font-medium text-gray-900 dark:text-gray-100 mb-2"></h3><p class="text-gray-600 dark:text-gray-400"></p></div><div class="w-full max-w-2xl"><h4 class="text-md font-medium text-gray-900 dark:text-gray-100 mb-4"></h4><div class="grid grid-cols-3 gap-3">'),gu=k('<button class="bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-3 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-center"><div class="font-medium text-gray-900 dark:text-gray-100 mb-1"></div><div class="text-sm text-gray-600 dark:text-gray-400"> × '),fu=k('<div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100"> mm'),hu=k('<div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-lg transition-shadow duration-200"><div class="h-32 bg-gray-50 dark:bg-gray-700 flex items-center justify-center p-4"><div class=relative><div class="bg-white dark:bg-gray-600 border-2 border-gray-300 dark:border-gray-500 rounded shadow-sm"><div class="absolute inset-1 border border-dashed border-gray-400 dark:border-gray-400 rounded-sm"></div></div></div></div><div class=p-4><div class="font-medium text-gray-900 dark:text-gray-100 mb-3"></div><div class="space-y-2 mb-4"><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100"></span></div><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100"></span></div><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100"></span></div></div><div class="flex justify-between items-center pt-2 border-t border-gray-200 dark:border-gray-700"><button class="text-blue-600 dark:text-blue-400 hover:underline text-sm"></button><button class="text-red-600 dark:text-red-400 hover:underline text-sm">');const pu=()=>{const[t]=Te("sheets"),[e,s]=te(!1),[i,r]=te(null),n=ge(()=>x.app.sheets.length),l=ge(()=>x.app.sheets.reduce((m,b)=>m+b.width*b.height,0)),a=[{name:"A4",width:210,height:297,units:"mm"},{name:"A3",width:297,height:420,units:"mm"},{name:"A2",width:420,height:594,units:"mm"},{name:"A1",width:594,height:841,units:"mm"},{name:"Letter",width:216,height:279,units:"mm"},{name:"Legal",width:216,height:356,units:"mm"},{name:'12x12"',width:305,height:305,units:"mm"},{name:'24x24"',width:610,height:610,units:"mm"},{name:'48x24"',width:1219,height:610,units:"mm"}],c=()=>{r(null),s(!0)},d=m=>{r(m),s(!0)},g=m=>{const b=x.app.sheets.filter(y=>y.id!==m);L.setSheets(b)},u=m=>{i()?L.updateSheet(m.id,m):L.addSheet(m),s(!1),r(null)},h=()=>{s(!1),r(null)},f=m=>{const b={name:m.name,width:m.width,height:m.height,thickness:3,quantity:1,margin:5,material:"Generic"};L.addSheet(b)},p=m=>`${m.width} × ${m.height} mm`;return(()=>{var m=du(),b=m.firstChild,y=b.firstChild,C=y.nextSibling,E=C.firstChild;E.firstChild;var $=b.nextSibling,R=$.firstChild,W=R.firstChild,V=W.firstChild,M=V.firstChild,v=V.nextSibling,_=W.nextSibling,j=_.firstChild,N=j.firstChild,I=j.nextSibling,F=I.firstChild,T=$.nextSibling;return o(y,()=>t("sheets_title")),E.$$click=c,o(E,()=>t("add_sheet"),null),o(V,()=>t("total_sheets"),M),o(v,n),o(j,()=>t("total_area"),N),o(I,()=>l().toFixed(0),F),o(m,S(re,{get when(){return e()},get children(){var z=ou(),B=z.firstChild,Z=B.firstChild,Q=Z.firstChild,A=Q.nextSibling;return o(Q,(()=>{var D=Ie(()=>!!i());return()=>D()?t("edit_sheet"):t("add_new_sheet")})()),A.$$click=h,o(B,S(lu,{get sheet(){return i()},onSave:u,onCancel:h}),null),z}}),T),o(T,S(re,{get when(){return n()>0},get fallback(){return(()=>{var z=uu(),B=z.firstChild,Z=B.nextSibling,Q=Z.firstChild,A=Q.nextSibling,D=Z.nextSibling,K=D.firstChild,U=K.nextSibling;return o(Q,()=>t("no_sheets_loaded")),o(A,()=>t("add_sheets_to_get_started")),o(K,()=>t("quick_templates")),o(U,S(je,{each:a,children:G=>(()=>{var ne=gu(),ce=ne.firstChild,le=ce.nextSibling,fe=le.firstChild;return ne.$$click=()=>f(G),o(ce,()=>G.name),o(le,()=>G.width,fe),o(le,()=>G.height,null),P(()=>ee(ne,"title",`${G.width} × ${G.height} ${G.units}`)),ne})()})),z})()},get children(){var z=cu(),B=z.firstChild,Z=B.firstChild,Q=B.nextSibling;return o(Z,()=>t("configured_sheets")),o(Q,S(je,{get each(){return x.app.sheets},children:(A,D)=>(()=>{var K=hu(),U=K.firstChild,G=U.firstChild,ne=G.firstChild,ce=U.nextSibling,le=ce.firstChild,fe=le.nextSibling,Se=fe.firstChild,be=Se.firstChild,ve=be.firstChild,de=be.nextSibling,xe=Se.nextSibling,pe=xe.firstChild,Le=pe.firstChild,Oe=pe.nextSibling,Ae=xe.nextSibling,we=Ae.firstChild,Ee=we.firstChild,ke=we.nextSibling,se=fe.nextSibling,Ce=se.firstChild,O=Ce.nextSibling;return ne.style.setProperty("max-width","80px"),ne.style.setProperty("max-height","80px"),ne.style.setProperty("min-width","40px"),ne.style.setProperty("min-height","40px"),o(le,()=>A.name||`${t("sheet")} ${D()+1}`),o(be,()=>t("dimensions"),ve),o(de,()=>p(A)),o(pe,()=>t("quantity"),Le),o(Oe,()=>A.quantity),o(we,()=>t("material"),Ee),o(ke,()=>A.material||"Generic"),o(fe,S(re,{get when(){return A.margin},get children(){var X=fu(),Y=X.firstChild,q=Y.firstChild,ie=Y.nextSibling,_e=ie.firstChild;return o(Y,()=>t("margin"),q),o(ie,()=>A.margin,_e),X}}),null),Ce.$$click=()=>d(A),o(Ce,()=>t("edit")),O.$$click=()=>g(A.id),o(O,()=>t("delete")),P(X=>(X=`${A.width} / ${A.height}`)!=null?ne.style.setProperty("aspect-ratio",X):ne.style.removeProperty("aspect-ratio")),K})()})),z}})),P(()=>ee(E,"title",t("add_sheet"))),m})()};Me(["click"]);var mu=k('<div class=create-preset-form><h4></h4><div class=form-group><label for=preset-name>:</label><input id=preset-name type=text class=form-input></div><div class=form-group><label for=preset-description>:</label><textarea id=preset-description class=form-textarea rows=3></textarea></div><div class=form-actions><button class="button secondary"></button><button class="button primary">'),vu=k("<div class=presets-grid>"),bu=k('<div class=preset-manager><div class=section-header><h3></h3><div class=header-actions><button class="button secondary">📁 </button><button class="button primary">➕ </button></div></div><div class=preset-description><p></p></div><div class=presets-list>'),xu=k("<div class=empty-state><div class=empty-icon>💾</div><h4></h4><p>"),_u=k("<p class=preset-description>"),yu=k("<div class=meta-item><span class=meta-label>:</span><span class=meta-value>"),$u=k('<div><div class=preset-header><h4 class=preset-name></h4><div class=preset-actions><button class=action-button>📤</button><button class="action-button danger">🗑️</button></div></div><div class=preset-meta><div class=meta-item><span class=meta-label>:</span><span class=meta-value></span></div></div><div class=preset-footer><button class="button primary">');const Su=()=>{const[t]=Te("settings"),[e,s]=te(!1),[i,r]=te(""),[n,l]=te(""),[a,c]=te(""),d=async()=>{const m=i().trim();if(!m){L.setError(t("preset_name_required"));return}try{const b={id:`preset_${Date.now()}`,name:m,description:n().trim(),config:{...x.config},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};L.addPreset(b),ae.isAvailable&&await ae.savePreset(b),r(""),l(""),s(!1)}catch(b){console.error("Failed to create preset:",b),L.setError(t("preset_create_failed"))}},g=async m=>{const b=Object.values(x.app.presets||{}).find(y=>y.id===m);if(b)try{L.updateConfig(b.config),ae.isAvailable&&await ae.saveConfig(b.config),c(m)}catch(y){console.error("Failed to load preset:",y),L.setError(t("preset_load_failed"))}},u=async m=>{const b=Object.values(x.app.presets||{}).find(C=>C.id===m);if(!(!b||!confirm(t("confirm_delete_preset",{name:b.name}))))try{L.removePreset(m),ae.isAvailable&&await ae.deletePreset(m),a()===m&&c("")}catch(C){console.error("Failed to delete preset:",C),L.setError(t("preset_delete_failed"))}},h=async m=>{const b=Object.values(x.app.presets||{}).find(y=>y.id===m);if(!(!b||!ae.isAvailable))try{const y=await ae.saveFileDialog({title:t("export_preset"),defaultPath:`${b.name}.json`,filters:[{name:"JSON Files",extensions:["json"]},{name:"All Files",extensions:["*"]}]});if(y.canceled||!y.filePath)return;await ae.exportPreset(b,y.filePath)}catch(y){console.error("Failed to export preset:",y),L.setError(t("preset_export_failed"))}},f=async()=>{if(ae.isAvailable)try{const m=await ae.openFileDialog({title:t("import_preset"),filters:[{name:"JSON Files",extensions:["json"]},{name:"All Files",extensions:["*"]}],properties:["openFile","multiSelections"]});if(m.canceled||!m.filePaths?.length)return;for(const b of m.filePaths){const y=await ae.importPreset(b);L.addPreset({...y,id:`preset_${Date.now()}_${Math.random()}`,updatedAt:new Date().toISOString()})}}catch(m){console.error("Failed to import preset:",m),L.setError(t("preset_import_failed"))}},p=m=>new Date(m).toLocaleDateString();return(()=>{var m=bu(),b=m.firstChild,y=b.firstChild,C=y.nextSibling,E=C.firstChild;E.firstChild;var $=E.nextSibling;$.firstChild;var R=b.nextSibling,W=R.firstChild,V=R.nextSibling;return o(y,()=>t("preset_management")),E.$$click=f,o(E,()=>t("import"),null),$.$$click=()=>s(!0),o($,()=>t("create_preset"),null),o(W,()=>t("preset_description")),o(m,S(re,{get when(){return e()},get children(){var M=mu(),v=M.firstChild,_=v.nextSibling,j=_.firstChild,N=j.firstChild,I=j.nextSibling,F=_.nextSibling,T=F.firstChild,z=T.firstChild,B=T.nextSibling,Z=F.nextSibling,Q=Z.firstChild,A=Q.nextSibling;return o(v,()=>t("create_new_preset")),o(j,()=>t("preset_name"),N),I.$$input=D=>r(D.currentTarget.value),o(T,()=>t("preset_description_optional"),z),B.$$input=D=>l(D.currentTarget.value),Q.$$click=()=>{s(!1),r(""),l("")},o(Q,()=>t("cancel")),A.$$click=d,o(A,()=>t("create_preset")),P(D=>{var K=t("enter_preset_name"),U=t("enter_preset_description"),G=!i().trim();return K!==D.e&&ee(I,"placeholder",D.e=K),U!==D.t&&ee(B,"placeholder",D.t=U),G!==D.a&&(A.disabled=D.a=G),D},{e:void 0,t:void 0,a:void 0}),P(()=>I.value=i()),P(()=>B.value=n()),M}}),V),o(V,S(re,{get when(){return Ie(()=>!!x.app.presets)()&&Object.keys(x.app.presets).length>0},get fallback(){return(()=>{var M=xu(),v=M.firstChild,_=v.nextSibling,j=_.nextSibling;return o(_,()=>t("no_presets_available")),o(j,()=>t("create_preset_to_get_started")),M})()},get children(){var M=vu();return o(M,S(je,{get each(){return Object.values(x.app.presets||{})},children:v=>(()=>{var _=$u(),j=_.firstChild,N=j.firstChild,I=N.nextSibling,F=I.firstChild,T=F.nextSibling,z=j.nextSibling,B=z.firstChild,Z=B.firstChild,Q=Z.firstChild,A=Z.nextSibling,D=z.nextSibling,K=D.firstChild;return o(N,()=>v.name),F.$$click=()=>h(v.id),T.$$click=()=>u(v.id),o(_,S(re,{get when(){return v.description},get children(){var U=_u();return o(U,()=>v.description),U}}),z),o(Z,()=>t("created"),Q),o(A,()=>p(v.createdAt)),o(z,S(re,{get when(){return v.updatedAt!==v.createdAt},get children(){var U=yu(),G=U.firstChild,ne=G.firstChild,ce=G.nextSibling;return o(G,()=>t("updated"),ne),o(ce,()=>p(v.updatedAt)),U}}),null),K.$$click=()=>g(v.id),o(K,(()=>{var U=Ie(()=>a()===v.id);return()=>U()?t("active"):t("load_preset")})()),P(U=>{var G=`preset-card ${a()===v.id?"active":""}`,ne=t("export_preset"),ce=t("delete_preset"),le=a()===v.id;return G!==U.e&&Ne(_,U.e=G),ne!==U.t&&ee(F,"title",U.t=ne),ce!==U.a&&ee(T,"title",U.a=ce),le!==U.o&&(K.disabled=U.o=le),U},{e:void 0,t:void 0,a:void 0,o:void 0}),_})()})),M}})),P(M=>{var v=t("import_preset"),_=t("create_new_preset");return v!==M.e&&ee(E,"title",M.e=v),_!==M.t&&ee($,"title",M.t=_),M},{e:void 0,t:void 0}),m})()};Me(["click","input"]);var wu=k("<div class=algorithm-settings><div class=section-header><h3></h3></div><div class=settings-sections><div class=settings-section><h4></h4><div class=setting-group><label class=setting-label> (mm)</label><div class=input-with-slider><input type=range min=0 max=20 step=0.1 class=slider><input type=number min=0 max=20 step=0.1 class=number-input></div><div class=setting-description></div></div><div class=setting-group><label class=setting-label> (mm)</label><div class=input-with-slider><input type=range min=0.1 max=2 step=0.1 class=slider><input type=number min=0.1 max=2 step=0.1 class=number-input></div><div class=setting-description></div></div><div class=setting-group><label class=setting-label></label><select class=setting-select></select><div class=setting-description></div></div></div><div class=settings-section><h4></h4><div class=setting-group><label class=setting-label></label><div class=input-with-slider><input type=range min=5 max=50 step=1 class=slider><input type=number min=5 max=50 step=1 class=number-input></div><div class=setting-description></div></div><div class=setting-group><label class=setting-label> (%)</label><div class=input-with-slider><input type=range min=1 max=50 step=1 class=slider><input type=number min=1 max=50 step=1 class=number-input></div><div class=setting-description></div></div></div><div class=settings-section><h4></h4><div class=setting-group><label class=checkbox-setting><input type=checkbox><span class=checkmark></span><span class=setting-label></span></label><div class=setting-description></div></div><div class=setting-group><label class=checkbox-setting><input type=checkbox><span class=checkmark></span><span class=setting-label></span></label><div class=setting-description></div></div><div class=setting-group><label class=checkbox-setting><input type=checkbox><span class=checkmark></span><span class=setting-label></span></label><div class=setting-description></div></div><div class=setting-group><label class=checkbox-setting><input type=checkbox><span class=checkmark></span><span class=setting-label></span></label><div class=setting-description>"),ku=k("<option>");const Cu=()=>{const[t]=Te("settings"),[e,s]=te(0),[i,r]=te(.3),[n,l]=te(4),[a,c]=te(10),[d,g]=te(10),[u,h]=te(!1),[f,p]=te(!1),[m,b]=te(!1),[y,C]=te(!0);Kt(()=>{const _=x.config;s(_.spacing||0),r(_.curveTolerance||.3),l(_.rotations||4),c(_.populationSize||10),g(_.mutationRate||10),h(_.useHoles||!1),p(_.exploreConcave||!1),b(_.mergeLines||!1),C(_.useRoughApproximation!==!1)});const E=_=>{L.updateConfig({...x.config,..._})},$=_=>{s(_),E({spacing:_})},R=_=>{r(_),E({curveTolerance:_})},W=_=>{l(_),E({rotations:_})},V=_=>{c(_),E({populationSize:_})},M=_=>{g(_),E({mutationRate:_})},v=[{value:0,label:t("no_rotation")},{value:2,label:t("2_rotations")},{value:4,label:t("4_rotations")},{value:8,label:t("8_rotations")},{value:12,label:t("12_rotations")},{value:360,label:t("free_rotation")}];return(()=>{var _=wu(),j=_.firstChild,N=j.firstChild,I=j.nextSibling,F=I.firstChild,T=F.firstChild,z=T.nextSibling,B=z.firstChild,Z=B.firstChild,Q=B.nextSibling,A=Q.firstChild,D=A.nextSibling,K=Q.nextSibling,U=z.nextSibling,G=U.firstChild,ne=G.firstChild,ce=G.nextSibling,le=ce.firstChild,fe=le.nextSibling,Se=ce.nextSibling,be=U.nextSibling,ve=be.firstChild,de=ve.nextSibling,xe=de.nextSibling,pe=F.nextSibling,Le=pe.firstChild,Oe=Le.nextSibling,Ae=Oe.firstChild,we=Ae.nextSibling,Ee=we.firstChild,ke=Ee.nextSibling,se=we.nextSibling,Ce=Oe.nextSibling,O=Ce.firstChild,X=O.firstChild,Y=O.nextSibling,q=Y.firstChild,ie=q.nextSibling,_e=Y.nextSibling,ue=pe.nextSibling,De=ue.firstChild,J=De.nextSibling,ye=J.firstChild,Be=ye.firstChild,Ge=Be.nextSibling,He=Ge.nextSibling,Je=ye.nextSibling,ze=J.nextSibling,tt=ze.firstChild,Ue=tt.firstChild,nt=Ue.nextSibling,Ze=nt.nextSibling,st=tt.nextSibling,Ye=ze.nextSibling,Ke=Ye.firstChild,w=Ke.firstChild,Pe=w.nextSibling,qe=Pe.nextSibling,Pt=Ke.nextSibling,Lt=Ye.nextSibling,ht=Lt.firstChild,at=ht.firstChild,Ot=at.nextSibling,pt=Ot.nextSibling,mt=ht.nextSibling;return o(N,()=>t("algorithm_settings")),o(T,()=>t("nesting_parameters")),o(B,()=>t("space_between_parts"),Z),A.$$input=oe=>$(parseFloat(oe.currentTarget.value)),D.$$input=oe=>$(parseFloat(oe.currentTarget.value)||0),o(K,()=>t("spacing_description")),o(G,()=>t("curve_tolerance"),ne),le.$$input=oe=>R(parseFloat(oe.currentTarget.value)),fe.$$input=oe=>R(parseFloat(oe.currentTarget.value)||.3),o(Se,()=>t("curve_tolerance_description")),o(ve,()=>t("part_rotations")),de.addEventListener("change",oe=>W(parseInt(oe.currentTarget.value))),o(de,S(je,{each:v,children:oe=>(()=>{var it=ku();return o(it,()=>oe.label),P(()=>it.value=oe.value),it})()})),o(xe,()=>t("rotations_description")),o(Le,()=>t("genetic_algorithm")),o(Ae,()=>t("population_size")),Ee.$$input=oe=>V(parseInt(oe.currentTarget.value)),ke.$$input=oe=>V(parseInt(oe.currentTarget.value)||10),o(se,()=>t("population_size_description")),o(O,()=>t("mutation_rate"),X),q.$$input=oe=>M(parseInt(oe.currentTarget.value)),ie.$$input=oe=>M(parseInt(oe.currentTarget.value)||10),o(_e,()=>t("mutation_rate_description")),o(De,()=>t("advanced_options")),Be.addEventListener("change",oe=>{h(oe.currentTarget.checked),E({useHoles:oe.currentTarget.checked})}),o(He,()=>t("use_holes")),o(Je,()=>t("use_holes_description")),Ue.addEventListener("change",oe=>{p(oe.currentTarget.checked),E({exploreConcave:oe.currentTarget.checked})}),o(Ze,()=>t("explore_concave")),o(st,()=>t("explore_concave_description")),w.addEventListener("change",oe=>{b(oe.currentTarget.checked),E({mergeLines:oe.currentTarget.checked})}),o(qe,()=>t("merge_common_lines")),o(Pt,()=>t("merge_lines_description")),at.addEventListener("change",oe=>{C(oe.currentTarget.checked),E({useRoughApproximation:oe.currentTarget.checked})}),o(pt,()=>t("use_rough_approximation")),o(mt,()=>t("rough_approximation_description")),P(()=>A.value=e()),P(()=>D.value=e()),P(()=>le.value=i()),P(()=>fe.value=i()),P(()=>de.value=n()),P(()=>Ee.value=a()),P(()=>ke.value=a()),P(()=>q.value=d()),P(()=>ie.value=d()),P(()=>Be.checked=u()),P(()=>Ue.checked=f()),P(()=>w.checked=m()),P(()=>at.checked=y()),_})()};Me(["input"]);var Pu=k('<div class=ui-preferences><div class=section-header><h3></h3></div><div class=settings-sections><div class=settings-section><h4></h4><div class=setting-group><label class=setting-label></label><select class=setting-select></select><div class=setting-description></div></div><div class=setting-group><label class=setting-label></label><select class=setting-select></select><div class=setting-description></div></div><div class=setting-group><label class=checkbox-setting><input type=checkbox><span class=checkmark></span><span class=setting-label></span></label><div class=setting-description></div></div></div><div class=settings-section><h4></h4><div class=setting-group><label class=setting-label></label><select class=setting-select></select><div class=setting-description></div></div><div class=setting-group><label class=checkbox-setting><input type=checkbox><span class=checkmark></span><span class=setting-label></span></label><div class=setting-description></div></div><div class=setting-group><label class=checkbox-setting><input type=checkbox><span class=checkmark></span><span class=setting-label></span></label><div class=setting-description></div></div></div><div class=settings-section><h4></h4><div class=setting-group><label class=setting-label></label><div class=input-with-button><input type=number min=200 max=600 class=number-input><button class="button secondary"></button></div><div class=setting-description></div></div><div class=setting-group><label class=checkbox-setting><input type=checkbox><span class=checkmark></span><span class=setting-label></span></label><div class=setting-description></div></div><div class=setting-group><label class=checkbox-setting><input type=checkbox><span class=checkmark></span><span class=setting-label></span></label><div class=setting-description>'),Qt=k("<option>");const Lu=()=>{const[t,{changeLanguage:e}]=Te("settings"),s=[{code:"en",name:"English"},{code:"de",name:"Deutsch"},{code:"fr",name:"Français"},{code:"es",name:"Español"}],i=[{value:"mm",label:t("millimeters")},{value:"in",label:t("inches")},{value:"cm",label:t("centimeters")}],r=[{value:"auto",label:t("auto_theme")},{value:"light",label:t("light_theme")},{value:"dark",label:t("dark_theme")}],n=async d=>{L.setLanguage(d),await e(d)},l=d=>{if(d==="auto"){const g=window.matchMedia("(prefers-color-scheme: dark)").matches;L.setDarkMode(g)}else L.setDarkMode(d==="dark");L.setTheme(d)},a=d=>{L.updateConfig({...x.config,units:d})},c=()=>{L.setPanelWidth("partsWidth",300)};return(()=>{var d=Pu(),g=d.firstChild,u=g.firstChild,h=g.nextSibling,f=h.firstChild,p=f.firstChild,m=p.nextSibling,b=m.firstChild,y=b.nextSibling,C=y.nextSibling,E=m.nextSibling,$=E.firstChild,R=$.nextSibling,W=R.nextSibling,V=E.nextSibling,M=V.firstChild,v=M.firstChild,_=v.nextSibling,j=_.nextSibling,N=M.nextSibling,I=f.nextSibling,F=I.firstChild,T=F.nextSibling,z=T.firstChild,B=z.nextSibling,Z=B.nextSibling,Q=T.nextSibling,A=Q.firstChild,D=A.firstChild,K=D.nextSibling,U=K.nextSibling,G=A.nextSibling,ne=Q.nextSibling,ce=ne.firstChild,le=ce.firstChild,fe=le.nextSibling,Se=fe.nextSibling,be=ce.nextSibling,ve=I.nextSibling,de=ve.firstChild,xe=de.nextSibling,pe=xe.firstChild,Le=pe.nextSibling,Oe=Le.firstChild,Ae=Oe.nextSibling,we=Le.nextSibling,Ee=xe.nextSibling,ke=Ee.firstChild,se=ke.firstChild,Ce=se.nextSibling,O=Ce.nextSibling,X=ke.nextSibling,Y=Ee.nextSibling,q=Y.firstChild,ie=q.firstChild,_e=ie.nextSibling,ue=_e.nextSibling,De=q.nextSibling;return o(u,()=>t("ui_preferences")),o(p,()=>t("appearance")),o(b,()=>t("language")),y.addEventListener("change",J=>n(J.currentTarget.value)),o(y,S(je,{each:s,children:J=>(()=>{var ye=Qt();return o(ye,()=>J.name),P(()=>ye.value=J.code),ye})()})),o(C,()=>t("language_description")),o($,()=>t("theme")),R.addEventListener("change",J=>l(J.currentTarget.value)),o(R,S(je,{each:r,children:J=>(()=>{var ye=Qt();return o(ye,()=>J.label),P(()=>ye.value=J.value),ye})()})),o(W,()=>t("theme_description")),v.addEventListener("change",J=>L.setDarkMode(J.currentTarget.checked)),o(j,()=>t("dark_mode")),o(N,()=>t("dark_mode_description")),o(F,()=>t("units_and_formatting")),o(z,()=>t("display_units")),B.addEventListener("change",J=>a(J.currentTarget.value)),o(B,S(je,{each:i,children:J=>(()=>{var ye=Qt();return o(ye,()=>J.label),P(()=>ye.value=J.value),ye})()})),o(Z,()=>t("units_description")),D.addEventListener("change",J=>L.updateConfig({...x.config,showGrid:J.currentTarget.checked})),o(U,()=>t("show_grid")),o(G,()=>t("show_grid_description")),le.addEventListener("change",J=>L.updateConfig({...x.config,showRulers:J.currentTarget.checked})),o(Se,()=>t("show_rulers")),o(be,()=>t("show_rulers_description")),o(de,()=>t("layout_preferences")),o(pe,()=>t("parts_panel_width")),Oe.$$input=J=>L.setPanelWidth("partsWidth",parseInt(J.currentTarget.value)||300),Ae.$$click=c,o(Ae,()=>t("reset")),o(we,()=>t("panel_width_description")),se.addEventListener("change",J=>L.setShowTooltips(J.currentTarget.checked)),o(O,()=>t("show_tooltips")),o(X,()=>t("tooltips_description")),ie.addEventListener("change",J=>L.setShowStatusBar(J.currentTarget.checked)),o(ue,()=>t("show_status_bar")),o(De,()=>t("status_bar_description")),P(()=>y.value=x.ui.language),P(()=>R.value=x.ui.theme||"auto"),P(()=>v.checked=x.ui.darkMode),P(()=>B.value=x.config.units||"mm"),P(()=>D.checked=x.config.showGrid!==!1),P(()=>le.checked=x.config.showRulers!==!1),P(()=>Oe.value=x.ui.panels.partsWidth||300),P(()=>se.checked=x.ui.showTooltips!==!1),P(()=>ie.checked=x.ui.showStatusBar!==!1),d})()};Me(["input","click"]);var Os=k("<div class=debug-item><span class=debug-label>:</span><span class=debug-value>"),Ou=k('<div class=debug-info><h5></h5><div class=debug-details><div class=debug-item><span class=debug-label>:</span><span class=debug-value></span></div><div class=debug-item><span class=debug-label>:</span><span class=debug-value></span></div><div class=debug-item><span class=debug-label>:</span><span class=debug-value></span></div><div class=debug-item><span class=debug-label>:</span><span class=debug-value> × </span></div></div><button class="button secondary">'),Au=k('<div class=advanced-settings><div class=section-header><h3></h3></div><div class=settings-sections><div class=settings-section><h4></h4><div class=setting-group><label class=setting-label></label><input type=number min=1 class=number-input><div class=setting-description></div></div><div class=setting-group><label class=checkbox-setting><input type=checkbox><span class=checkmark></span><span class=setting-label></span></label><div class=setting-description></div></div><div class=setting-group><label class=checkbox-setting><input type=checkbox><span class=checkmark></span><span class=setting-label></span></label><div class=setting-description></div></div></div><div class=settings-section><h4></h4><div class=setting-group><label class=checkbox-setting><input type=checkbox><span class=checkmark></span><span class=setting-label></span></label><div class=setting-description></div></div><div class=setting-group><label class=checkbox-setting><input type=checkbox><span class=checkmark></span><span class=setting-label></span></label><div class=setting-description></div></div><div class=setting-group><button class="button secondary"></button></div></div><div class=settings-section><h4></h4><div class=setting-group><button class="button secondary"></button><div class=setting-description></div></div><div class=setting-group><button class="button secondary"></button><div class=setting-description></div></div><div class=setting-group><label class=setting-label> (<!>)</label><input type=number min=0 max=60 class=number-input><div class=setting-description>');const Eu=()=>{const[t]=Te("settings"),[e,s]=te(!1),i=()=>{if(confirm(t("confirm_clear_cache")))try{localStorage.clear(),L.setError(null),alert(t("cache_cleared_success"))}catch(c){console.error("Failed to clear cache:",c),L.setError(t("cache_clear_failed"))}},r=()=>{L.setPanelWidth("partsWidth",300),L.setActiveTab("parts")},n=()=>{const a={timestamp:new Date().toISOString(),platform:navigator.platform,userAgent:navigator.userAgent,language:navigator.language,viewport:{width:window.innerWidth,height:window.innerHeight},globalState:{ui:x.ui,config:x.config,partsCount:x.app.parts.length,sheetsCount:x.app.sheets.length,nestsCount:x.app.nests.length,presetsCount:x.presets.length},performance:{memory:performance.memory?{usedJSHeapSize:performance.memory.usedJSHeapSize,totalJSHeapSize:performance.memory.totalJSHeapSize,jsHeapSizeLimit:performance.memory.jsHeapSizeLimit}:null}},c=new Blob([JSON.stringify(a,null,2)],{type:"application/json"}),d=URL.createObjectURL(c),g=document.createElement("a");g.href=d,g.download=`deepnest-debug-${Date.now()}.json`,document.body.appendChild(g),g.click(),document.body.removeChild(g),URL.revokeObjectURL(d)},l=a=>{if(a===0)return"0 Bytes";const c=1024,d=["Bytes","KB","MB","GB"],g=Math.floor(Math.log(a)/Math.log(c));return parseFloat((a/Math.pow(c,g)).toFixed(2))+" "+d[g]};return(()=>{var a=Au(),c=a.firstChild,d=c.firstChild,g=c.nextSibling,u=g.firstChild,h=u.firstChild,f=h.nextSibling,p=f.firstChild,m=p.nextSibling,b=m.nextSibling,y=f.nextSibling,C=y.firstChild,E=C.firstChild,$=E.nextSibling,R=$.nextSibling,W=C.nextSibling,V=y.nextSibling,M=V.firstChild,v=M.firstChild,_=v.nextSibling,j=_.nextSibling,N=M.nextSibling,I=u.nextSibling,F=I.firstChild,T=F.nextSibling,z=T.firstChild,B=z.firstChild,Z=B.nextSibling,Q=Z.nextSibling,A=z.nextSibling,D=T.nextSibling,K=D.firstChild,U=K.firstChild,G=U.nextSibling,ne=G.nextSibling,ce=K.nextSibling,le=D.nextSibling,fe=le.firstChild,Se=I.nextSibling,be=Se.firstChild,ve=be.nextSibling,de=ve.firstChild,xe=de.nextSibling,pe=ve.nextSibling,Le=pe.firstChild,Oe=Le.nextSibling,Ae=pe.nextSibling,we=Ae.firstChild,Ee=we.firstChild,ke=Ee.nextSibling;ke.nextSibling;var se=we.nextSibling,Ce=se.nextSibling;return o(d,()=>t("advanced_settings")),o(h,()=>t("performance")),o(p,()=>t("worker_threads")),m.$$input=O=>L.updateConfig({...x.config,workerThreads:parseInt(O.currentTarget.value)||4}),o(b,()=>t("worker_threads_description",{max:navigator.hardwareConcurrency||8})),E.addEventListener("change",O=>L.updateConfig({...x.config,enableGPU:O.currentTarget.checked})),o(R,()=>t("enable_gpu_acceleration")),o(W,()=>t("gpu_acceleration_description")),v.addEventListener("change",O=>L.updateConfig({...x.config,enableCaching:O.currentTarget.checked})),o(j,()=>t("enable_caching")),o(N,()=>t("caching_description")),o(F,()=>t("debugging")),B.addEventListener("change",O=>L.updateConfig({...x.config,debugMode:O.currentTarget.checked})),o(Q,()=>t("debug_mode")),o(A,()=>t("debug_mode_description")),U.addEventListener("change",O=>L.updateConfig({...x.config,verboseLogging:O.currentTarget.checked})),o(ne,()=>t("verbose_logging")),o(ce,()=>t("verbose_logging_description")),fe.$$click=()=>s(!e()),o(fe,(()=>{var O=Ie(()=>!!e());return()=>O()?t("hide_debug_info"):t("show_debug_info")})()),o(le,S(re,{get when(){return e()},get children(){var O=Ou(),X=O.firstChild,Y=X.nextSibling,q=Y.firstChild,ie=q.firstChild,_e=ie.firstChild,ue=ie.nextSibling,De=q.nextSibling,J=De.firstChild,ye=J.firstChild,Be=J.nextSibling,Ge=De.nextSibling,He=Ge.firstChild,Je=He.firstChild,ze=He.nextSibling,tt=Ge.nextSibling,Ue=tt.firstChild,nt=Ue.firstChild,Ze=Ue.nextSibling,st=Ze.firstChild,Ye=Y.nextSibling;return o(X,()=>t("system_information")),o(ie,()=>t("platform"),_e),o(ue,()=>navigator.platform),o(J,()=>t("language"),ye),o(Be,()=>navigator.language),o(He,()=>t("cpu_cores"),Je),o(ze,()=>navigator.hardwareConcurrency||"Unknown"),o(Ue,()=>t("viewport"),nt),o(Ze,()=>window.innerWidth,st),o(Ze,()=>window.innerHeight,null),o(Y,S(re,{get when(){return performance.memory},get children(){return[(()=>{var Ke=Os(),w=Ke.firstChild,Pe=w.firstChild,qe=w.nextSibling;return o(w,()=>t("memory_used"),Pe),o(qe,()=>l(performance.memory.usedJSHeapSize)),Ke})(),(()=>{var Ke=Os(),w=Ke.firstChild,Pe=w.firstChild,qe=w.nextSibling;return o(w,()=>t("memory_total"),Pe),o(qe,()=>l(performance.memory.totalJSHeapSize)),Ke})()]}}),null),Ye.$$click=n,o(Ye,()=>t("export_debug_info")),O}}),null),o(be,()=>t("maintenance")),de.$$click=i,o(de,()=>t("clear_cache")),o(xe,()=>t("clear_cache_description")),Le.$$click=r,o(Le,()=>t("reset_layout")),o(Oe,()=>t("reset_layout_description")),o(we,()=>t("auto_save_interval"),Ee),o(we,()=>t("minutes"),ke),se.$$input=O=>L.updateConfig({...x.config,autoSaveInterval:parseInt(O.currentTarget.value)||5}),o(Ce,()=>t("auto_save_description")),P(()=>ee(m,"max",navigator.hardwareConcurrency||8)),P(()=>m.value=x.config.workerThreads||navigator.hardwareConcurrency||4),P(()=>E.checked=x.config.enableGPU||!1),P(()=>v.checked=x.config.enableCaching!==!1),P(()=>B.checked=x.config.debugMode||!1),P(()=>U.checked=x.config.verboseLogging||!1),P(()=>se.value=x.config.autoSaveInterval||5),a})()};Me(["input","click"]);var Fu=k('<svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3-3m0 0l-3 3m3-3v12">'),Nu=k('<svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M15 12a3 3 0 11-6 0 3 3 0 016 0z">'),Ru=k('<svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM21 5a2 2 0 00-2-2h-4a2 2 0 00-2 2v12a4 4 0 004 4h4a2 2 0 002-2V5z">'),Mu=k('<svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4">'),Tu=k('<div class="bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700"><div class="p-6 border-b border-gray-200 dark:border-gray-700"><div class="flex items-center gap-3"><div class="w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-blue-600 dark:text-blue-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3-3m0 0l-3 3m3-3v12"></path></svg></div><div><h2 class="text-xl font-semibold text-gray-900 dark:text-gray-100"></h2><p class="text-sm text-gray-500 dark:text-gray-400">Save and manage configuration presets</p></div></div></div><div class=p-6>'),Du=k('<div class="bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700"><div class="p-6 border-b border-gray-200 dark:border-gray-700"><div class="flex items-center gap-3"><div class="w-8 h-8 bg-purple-100 dark:bg-purple-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-purple-600 dark:text-purple-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg></div><div><h2 class="text-xl font-semibold text-gray-900 dark:text-gray-100"></h2><p class="text-sm text-gray-500 dark:text-gray-400">Configure nesting algorithm parameters</p></div></div></div><div class=p-6>'),ju=k('<div class="bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700"><div class="p-6 border-b border-gray-200 dark:border-gray-700"><div class="flex items-center gap-3"><div class="w-8 h-8 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-green-600 dark:text-green-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM21 5a2 2 0 00-2-2h-4a2 2 0 00-2 2v12a4 4 0 004 4h4a2 2 0 002-2V5z"></path></svg></div><div><h2 class="text-xl font-semibold text-gray-900 dark:text-gray-100"></h2><p class="text-sm text-gray-500 dark:text-gray-400">Customize interface and appearance</p></div></div></div><div class=p-6>'),Iu=k('<div class="bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700"><div class="p-6 border-b border-gray-200 dark:border-gray-700"><div class="flex items-center gap-3"><div class="w-8 h-8 bg-orange-100 dark:bg-orange-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-orange-600 dark:text-orange-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4"></path></svg></div><div><h2 class="text-xl font-semibold text-gray-900 dark:text-gray-100"></h2><p class="text-sm text-gray-500 dark:text-gray-400">Advanced configuration options</p></div></div></div><div class=p-6>'),zu=k('<div class="h-full flex flex-col bg-white dark:bg-gray-900"><div class="bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700"><div class="px-6 py-4 flex items-center justify-between"><div class="flex items-center gap-3"><div class="w-10 h-10 bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg flex items-center justify-center shadow-sm"><svg class="w-5 h-5 text-white"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4"></path></svg></div><div><h1 class="text-xl font-semibold text-gray-900 dark:text-gray-100"></h1><p class="text-sm text-gray-500 dark:text-gray-400">Configure your preferences and application settings</p></div></div><div class="flex items-center gap-3"><button class="inline-flex items-center gap-2 px-3 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 font-medium rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"></path></svg></button><button class="inline-flex items-center gap-2 px-3 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 font-medium rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path></svg></button><button class="inline-flex items-center gap-2 px-4 py-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 font-medium rounded-lg border border-red-200 dark:border-red-800 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg></button></div></div></div><div class="flex-1 flex overflow-hidden bg-gray-50 dark:bg-gray-900"><div class="w-80 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700"><div class=p-6><h3 class="text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-4">Settings Categories</h3><nav class=space-y-2></nav></div></div><div class="flex-1 overflow-y-auto bg-gray-50 dark:bg-gray-900"><div class=p-6>'),Uu=k('<button><div></div><div class="flex-1 min-w-0"><div></div><div>'),Vu=k('<div class="w-1 h-8 bg-blue-500 dark:bg-blue-400 rounded-full flex-shrink-0">');const Bu=()=>{const[t]=Te("settings"),[e,s]=te("presets"),i=async()=>{if(confirm(t("confirm_reset_defaults")))try{L.resetToDefaults(),ae.isAvailable&&await ae.saveConfig(x.config)}catch(c){console.error("Failed to reset to defaults:",c),L.setError(t("reset_failed"))}},r=async()=>{if(ae.isAvailable)try{const a=await ae.saveFileDialog({title:t("export_configuration"),defaultPath:"deepnest-config.json",filters:[{name:"JSON Files",extensions:["json"]},{name:"All Files",extensions:["*"]}]});if(a.canceled||!a.filePath)return;await ae.exportConfig(x.config,a.filePath)}catch(a){console.error("Failed to export config:",a),L.setError(t("export_failed"))}},n=async()=>{if(ae.isAvailable)try{const a=await ae.openFileDialog({title:t("import_configuration"),filters:[{name:"JSON Files",extensions:["json"]},{name:"All Files",extensions:["*"]}],properties:["openFile"]});if(a.canceled||!a.filePaths?.length)return;const c=await ae.importConfig(a.filePaths[0]);L.updateConfig(c)}catch(a){console.error("Failed to import config:",a),L.setError(t("import_failed"))}},l=[{id:"presets",label:t("preset_management"),description:"Save and manage configuration presets",icon:Fu()},{id:"algorithm",label:t("algorithm_settings"),description:"Configure nesting algorithm parameters",icon:Nu()},{id:"ui",label:t("ui_preferences"),description:"Customize interface and appearance",icon:Ru()},{id:"advanced",label:t("advanced_settings"),description:"Advanced configuration options",icon:Mu()}];return(()=>{var a=zu(),c=a.firstChild,d=c.firstChild,g=d.firstChild,u=g.firstChild,h=u.nextSibling,f=h.firstChild,p=g.nextSibling,m=p.firstChild;m.firstChild;var b=m.nextSibling;b.firstChild;var y=b.nextSibling;y.firstChild;var C=c.nextSibling,E=C.firstChild,$=E.firstChild,R=$.firstChild,W=R.nextSibling,V=E.nextSibling,M=V.firstChild;return o(f,()=>t("settings_title")),m.$$click=n,o(m,()=>t("import"),null),b.$$click=r,o(b,()=>t("export"),null),y.$$click=i,o(y,()=>t("reset_defaults"),null),o(W,S(je,{each:l,children:v=>(()=>{var _=Uu(),j=_.firstChild,N=j.nextSibling,I=N.firstChild,F=I.nextSibling;return _.$$click=()=>s(v.id),o(j,()=>v.icon),o(I,()=>v.label),o(F,()=>v.description),o(_,(()=>{var T=Ie(()=>e()===v.id);return()=>T()&&Vu()})(),null),P(T=>{var z=`w-full flex items-start gap-4 px-4 py-3 rounded-xl text-left transition-all duration-200 group ${e()===v.id?"bg-blue-50 dark:bg-blue-900/30 border-2 border-blue-200 dark:border-blue-700 shadow-sm":"hover:bg-gray-50 dark:hover:bg-gray-700/50 border-2 border-transparent"}`,B=`w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0 transition-colors duration-200 ${e()===v.id?"bg-blue-100 dark:bg-blue-900/50 text-blue-600 dark:text-blue-400":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 group-hover:bg-gray-200 dark:group-hover:bg-gray-600"}`,Z=`font-medium transition-colors duration-200 ${e()===v.id?"text-blue-900 dark:text-blue-100":"text-gray-900 dark:text-gray-100 group-hover:text-gray-900 dark:group-hover:text-gray-100"}`,Q=`text-sm mt-1 transition-colors duration-200 ${e()===v.id?"text-blue-700 dark:text-blue-300":"text-gray-500 dark:text-gray-400"}`;return z!==T.e&&Ne(_,T.e=z),B!==T.t&&Ne(j,T.t=B),Z!==T.a&&Ne(I,T.a=Z),Q!==T.o&&Ne(F,T.o=Q),T},{e:void 0,t:void 0,a:void 0,o:void 0}),_})()})),o(M,S(re,{get when(){return e()==="presets"},get children(){var v=Tu(),_=v.firstChild,j=_.firstChild,N=j.firstChild,I=N.nextSibling,F=I.firstChild,T=_.nextSibling;return o(F,()=>t("preset_management")),o(T,S(Su,{})),v}}),null),o(M,S(re,{get when(){return e()==="algorithm"},get children(){var v=Du(),_=v.firstChild,j=_.firstChild,N=j.firstChild,I=N.nextSibling,F=I.firstChild,T=_.nextSibling;return o(F,()=>t("algorithm_settings")),o(T,S(Cu,{})),v}}),null),o(M,S(re,{get when(){return e()==="ui"},get children(){var v=ju(),_=v.firstChild,j=_.firstChild,N=j.firstChild,I=N.nextSibling,F=I.firstChild,T=_.nextSibling;return o(F,()=>t("ui_preferences")),o(T,S(Lu,{})),v}}),null),o(M,S(re,{get when(){return e()==="advanced"},get children(){var v=Iu(),_=v.firstChild,j=_.firstChild,N=j.firstChild,I=N.nextSibling,F=I.firstChild,T=_.nextSibling;return o(F,()=>t("advanced_settings")),o(T,S(Eu,{})),v}}),null),P(v=>{var _=t("import_configuration"),j=t("export_configuration"),N=t("reset_to_defaults");return _!==v.e&&ee(m,"title",v.e=_),j!==v.t&&ee(b,"title",v.t=j),N!==v.a&&ee(y,"title",v.a=N),v},{e:void 0,t:void 0,a:void 0}),a})()};Me(["click"]);var Hu=k('<main class="flex-1 overflow-hidden bg-gray-50 dark:bg-gray-900 w-full">');const Ku=()=>(()=>{var t=Hu();return o(t,S(gi,{get children(){return[S(At,{get when(){return x.ui.activeTab==="parts"},get children(){return S(Ed,{})}}),S(At,{get when(){return x.ui.activeTab==="nests"},get children(){return S(tu,{})}}),S(At,{get when(){return x.ui.activeTab==="sheets"},get children(){return S(pu,{})}}),S(At,{get when(){return x.ui.activeTab==="settings"},get children(){return S(Bu,{})}})]}})),t})();var qu=k('<div class="flex items-center gap-3"><div class="w-32 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden"><div class="h-full bg-blue-500 dark:bg-blue-400 rounded-full transition-all duration-300 ease-out"></div></div><span class="text-gray-600 dark:text-gray-400 min-w-10 text-right font-mono">%'),Wu=k('<div class="flex items-center gap-1"><svg class="w-3 h-3"fill=currentColor viewBox="0 0 20 20"><path fill-rule=evenodd d="M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z"clip-rule=evenodd></path></svg><span> threads'),Gu=k('<div class="flex items-center gap-1"><svg class="w-3 h-3"fill=currentColor viewBox="0 0 20 20"><path fill-rule=evenodd d="M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z"clip-rule=evenodd></path></svg><span> parts'),Ju=k('<div class="flex items-center gap-1"><svg class="w-3 h-3"fill=currentColor viewBox="0 0 20 20"><path fill-rule=evenodd d="M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"clip-rule=evenodd></path></svg><span> results'),Qu=k('<div class="flex items-center gap-1 text-red-500 dark:text-red-400"><svg class="w-3 h-3"fill=currentColor viewBox="0 0 20 20"><path fill-rule=evenodd d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z"clip-rule=evenodd></path></svg><span class="max-w-64 truncate">'),Xu=k('<footer class="h-10 bg-gray-100 dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 flex items-center justify-between px-4 text-xs"><div class="flex items-center gap-4"><div class="flex items-center gap-2"><div></div><span class="text-gray-900 dark:text-gray-100 font-medium"></span></div></div><div class="flex items-center gap-6 text-gray-600 dark:text-gray-400">');const Zu=()=>{const[t]=Te("common"),e=ge(()=>{const{process:i}=x;return i.isNesting?t("status.nesting_in_progress"):i.lastError?t("status.error_occurred"):i.workerStatus.isRunning?i.workerStatus.currentOperation||t("status.processing"):t("status.ready")}),s=ge(()=>Math.max(0,Math.min(100,x.process.progress)));return(()=>{var i=Xu(),r=i.firstChild,n=r.firstChild,l=n.firstChild,a=l.nextSibling,c=r.nextSibling;return o(a,e),o(r,S(re,{get when(){return x.process.isNesting},get children(){var d=qu(),g=d.firstChild,u=g.firstChild,h=g.nextSibling,f=h.firstChild;return o(h,()=>s().toFixed(1),f),P(p=>(p=`${s()}%`)!=null?u.style.setProperty("width",p):u.style.removeProperty("width")),d}}),null),o(c,S(re,{get when(){return x.process.workerStatus.threadsActive>0},get children(){var d=Wu(),g=d.firstChild,u=g.nextSibling,h=u.firstChild;return o(u,()=>x.process.workerStatus.threadsActive,h),d}}),null),o(c,S(re,{get when(){return x.app.parts.length>0},get children(){var d=Gu(),g=d.firstChild,u=g.nextSibling,h=u.firstChild;return o(u,()=>x.app.parts.length,h),d}}),null),o(c,S(re,{get when(){return x.app.nests.length>0},get children(){var d=Ju(),g=d.firstChild,u=g.nextSibling,h=u.firstChild;return o(u,()=>x.app.nests.length,h),d}}),null),o(c,S(re,{get when(){return x.process.lastError},get children(){var d=Qu(),g=d.firstChild,u=g.nextSibling;return o(u,()=>x.process.lastError),d}}),null),P(()=>Ne(l,`w-2 h-2 rounded-full ${x.process.isNesting?"bg-blue-500 animate-pulse":x.process.lastError?"bg-red-500":"bg-green-500"}`)),i})()};var Yu=k('<div><div class="flex-shrink-0 h-full w-full"></div><div title="Drag to resize panels"><div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-1 h-8 bg-gray-400 dark:bg-gray-500 group-hover:bg-blue-300 dark:group-hover:bg-blue-300 rounded-full transition-colors duration-200"></div><div class="absolute -left-1 -right-1 top-0 bottom-0 opacity-0 group-hover:opacity-100 transition-opacity duration-200"><div class="w-full h-full bg-blue-500/20 dark:bg-blue-400/20"></div></div></div><div class="flex-1 h-full min-w-0 w-full">');const eg=t=>{const{minLeftWidth:e=250,maxLeftWidth:s=500,defaultLeftWidth:i=300}=t,[r,n]=te(!1),[l,a]=te(x.ui.panels.partsWidth||i);let c,d;const g=f=>{f.preventDefault(),n(!0),document.addEventListener("mousemove",u),document.addEventListener("mouseup",h),document.body.style.cursor="col-resize",document.body.style.userSelect="none"},u=f=>{if(!r()||!c)return;const p=c.getBoundingClientRect(),m=f.clientX-p.left,b=Math.max(e,Math.min(s,m));a(b),L.setPanelWidth("partsWidth",b)},h=()=>{n(!1),document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",h),document.body.style.cursor="",document.body.style.userSelect=""};return ns(()=>{a(x.ui.panels.partsWidth||i)}),Fs(()=>{document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",h),document.body.style.cursor="",document.body.style.userSelect=""}),(()=>{var f=Yu(),p=f.firstChild,m=p.nextSibling,b=m.nextSibling,y=c;typeof y=="function"?cs(y,f):c=f,o(p,()=>t.left),m.$$mousedown=g;var C=d;return typeof C=="function"?cs(C,m):d=m,o(b,()=>t.right),P(E=>{var $=`flex h-full w-full ${r()?"select-none":""}`,R=`${l()}px`,W=`w-1 bg-gray-200 dark:bg-gray-700 hover:bg-blue-500 dark:hover:bg-blue-400 cursor-col-resize transition-colors duration-200 relative group ${r()?"bg-blue-500 dark:bg-blue-400":""}`;return $!==E.e&&Ne(f,E.e=$),R!==E.t&&((E.t=R)!=null?p.style.setProperty("width",R):p.style.removeProperty("width")),W!==E.a&&Ne(m,E.a=W),E},{e:void 0,t:void 0,a:void 0}),f})()};Me(["mousedown"]);var tg=k('<div class="h-screen flex flex-col bg-gray-50 text-gray-900 dark:bg-gray-900 dark:text-gray-100"><div class="flex-1 flex overflow-hidden">');const sg=()=>(()=>{var t=tg(),e=t.firstChild;return o(t,S(_d,{}),e),o(e,S(eg,{get left(){return S(wd,{})},get right(){return S(Ku,{})},minLeftWidth:200,maxLeftWidth:600,defaultLeftWidth:300})),o(t,S(Zu,{}),null),t})();var ig=k('<div class="app min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 transition-colors duration-200">');const rg=()=>{Kt(()=>{const e=x.ui.darkMode;typeof document<"u"&&(document.documentElement.classList.toggle("dark",e),document.documentElement.setAttribute("data-theme",e?"dark":"light"))}),ns(async()=>{if(L.setDarkMode(x.ui.darkMode),t(),ae.isAvailable)try{const e=await ae.readConfig();L.updateConfig(e)}catch(e){console.warn("Failed to load initial config:",e)}});const t=()=>{ae.isAvailable&&(ae.onNestProgress(e=>{L.setNestingProgress(e)}),ae.onNestComplete(e=>{L.setNests(e),L.setNestingStatus(!1)}),ae.onBackgroundProgress(e=>{L.setNestingProgress(e.progress)}),ae.onWorkerStatus(e=>{L.setWorkerStatus(e)}),ae.onNestError(e=>{L.setError(e),L.setNestingStatus(!1)}))};return S(id,{get children(){var e=ig();return o(e,S(sg,{})),e}})},ng=document.getElementById("root");hi(()=>S(rg,{}),ng);
