(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();const hs=!1,_s=(t,e)=>t===e,dt=Symbol("solid-proxy"),dr=Symbol("solid-track"),Bt={equals:_s};let qr=Zr;const nt=1,Vt=2,Kr={owned:null,cleanups:null,context:null,owner:null};var Ae=null;let ir=null,ms=null,Re=null,Te=null,st=null,tr=0;function Dt(t,e){const r=Re,s=Ae,i=t.length===0,a=e===void 0?s:e,l=i?Kr:{owned:null,cleanups:null,context:a?a.context:null,owner:a},o=i?t:()=>t(()=>qe(()=>Lt(l)));Ae=l,Re=null;try{return _t(o,!0)}finally{Re=r,Ae=s}}function te(t,e){e=e?Object.assign({},Bt,e):Bt;const r={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0},s=i=>(typeof i=="function"&&(i=i(r.value)),Xr(r,i));return[Qr.bind(r),s]}function j(t,e,r){const s=yr(t,e,!1,nt);Mt(s)}function ht(t,e,r){qr=ks;const s=yr(t,e,!1,nt);s.user=!0,st?st.push(s):Mt(s)}function ye(t,e,r){r=r?Object.assign({},Bt,r):Bt;const s=yr(t,e,!0,0);return s.observers=null,s.observerSlots=null,s.comparator=r.equals||void 0,Mt(s),Qr.bind(s)}function bs(t){return _t(t,!1)}function qe(t){if(Re===null)return t();const e=Re;Re=null;try{return t()}finally{Re=e}}function br(t){ht(()=>qe(t))}function xr(t){return Ae===null||(Ae.cleanups===null?Ae.cleanups=[t]:Ae.cleanups.push(t)),t}function cr(){return Re}const[Sx,Cx]=te(!1);function xs(t,e){const r=Symbol("context");return{id:r,Provider:Ss(r),defaultValue:t}}function ys(t){let e;return Ae&&Ae.context&&(e=Ae.context[t.id])!==void 0?e:t.defaultValue}function Jr(t){const e=ye(t),r=ye(()=>gr(e()));return r.toArray=()=>{const s=r();return Array.isArray(s)?s:s!=null?[s]:[]},r}function Qr(){if(this.sources&&this.state)if(this.state===nt)Mt(this);else{const t=Te;Te=null,_t(()=>Ht(this),!1),Te=t}if(Re){const t=this.observers?this.observers.length:0;Re.sources?(Re.sources.push(this),Re.sourceSlots.push(t)):(Re.sources=[this],Re.sourceSlots=[t]),this.observers?(this.observers.push(Re),this.observerSlots.push(Re.sources.length-1)):(this.observers=[Re],this.observerSlots=[Re.sources.length-1])}return this.value}function Xr(t,e,r){let s=t.value;return(!t.comparator||!t.comparator(s,e))&&(t.value=e,t.observers&&t.observers.length&&_t(()=>{for(let i=0;i<t.observers.length;i+=1){const a=t.observers[i],l=ir&&ir.running;l&&ir.disposed.has(a),(l?!a.tState:!a.state)&&(a.pure?Te.push(a):st.push(a),a.observers&&Yr(a)),l||(a.state=nt)}if(Te.length>1e6)throw Te=[],new Error},!1)),e}function Mt(t){if(!t.fn)return;Lt(t);const e=tr;vs(t,t.value,e)}function vs(t,e,r){let s;const i=Ae,a=Re;Re=Ae=t;try{s=t.fn(e)}catch(l){return t.pure&&(t.state=nt,t.owned&&t.owned.forEach(Lt),t.owned=null),t.updatedAt=r+1,es(l)}finally{Re=a,Ae=i}(!t.updatedAt||t.updatedAt<=r)&&(t.updatedAt!=null&&"observers"in t?Xr(t,s):t.value=s,t.updatedAt=r)}function yr(t,e,r,s=nt,i){const a={fn:t,state:s,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:Ae,context:Ae?Ae.context:null,pure:r};return Ae===null||Ae!==Kr&&(Ae.owned?Ae.owned.push(a):Ae.owned=[a]),a}function Ut(t){if(t.state===0)return;if(t.state===Vt)return Ht(t);if(t.suspense&&qe(t.suspense.inFallback))return t.suspense.effects.push(t);const e=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<tr);)t.state&&e.push(t);for(let r=e.length-1;r>=0;r--)if(t=e[r],t.state===nt)Mt(t);else if(t.state===Vt){const s=Te;Te=null,_t(()=>Ht(t,e[0]),!1),Te=s}}function _t(t,e){if(Te)return t();let r=!1;e||(Te=[]),st?r=!0:st=[],tr++;try{const s=t();return $s(r),s}catch(s){r||(st=null),Te=null,es(s)}}function $s(t){if(Te&&(Zr(Te),Te=null),t)return;const e=st;st=null,e.length&&_t(()=>qr(e),!1)}function Zr(t){for(let e=0;e<t.length;e++)Ut(t[e])}function ks(t){let e,r=0;for(e=0;e<t.length;e++){const s=t[e];s.user?t[r++]=s:Ut(s)}for(e=0;e<r;e++)Ut(t[e])}function Ht(t,e){t.state=0;for(let r=0;r<t.sources.length;r+=1){const s=t.sources[r];if(s.sources){const i=s.state;i===nt?s!==e&&(!s.updatedAt||s.updatedAt<tr)&&Ut(s):i===Vt&&Ht(s,e)}}}function Yr(t){for(let e=0;e<t.observers.length;e+=1){const r=t.observers[e];r.state||(r.state=Vt,r.pure?Te.push(r):st.push(r),r.observers&&Yr(r))}}function Lt(t){let e;if(t.sources)for(;t.sources.length;){const r=t.sources.pop(),s=t.sourceSlots.pop(),i=r.observers;if(i&&i.length){const a=i.pop(),l=r.observerSlots.pop();s<i.length&&(a.sourceSlots[l]=s,i[s]=a,r.observerSlots[s]=l)}}if(t.tOwned){for(e=t.tOwned.length-1;e>=0;e--)Lt(t.tOwned[e]);delete t.tOwned}if(t.owned){for(e=t.owned.length-1;e>=0;e--)Lt(t.owned[e]);t.owned=null}if(t.cleanups){for(e=t.cleanups.length-1;e>=0;e--)t.cleanups[e]();t.cleanups=null}t.state=0}function ws(t){return t instanceof Error?t:new Error(typeof t=="string"?t:"Unknown error",{cause:t})}function es(t,e=Ae){throw ws(t)}function gr(t){if(typeof t=="function"&&!t.length)return gr(t());if(Array.isArray(t)){const e=[];for(let r=0;r<t.length;r++){const s=gr(t[r]);Array.isArray(s)?e.push.apply(e,s):e.push(s)}return e}return t}function Ss(t,e){return function(s){let i;return j(()=>i=qe(()=>(Ae.context={...Ae.context,[t]:s.value},Jr(()=>s.children))),void 0),i}}const Cs=Symbol("fallback");function wr(t){for(let e=0;e<t.length;e++)t[e]()}function Ps(t,e,r={}){let s=[],i=[],a=[],l=0,o=e.length>1?[]:null;return xr(()=>wr(a)),()=>{let d=t()||[],g=d.length,u,c;return d[dr],qe(()=>{let f,h,p,b,v,C,P,$,O;if(g===0)l!==0&&(wr(a),a=[],s=[],i=[],l=0,o&&(o=[])),r.fallback&&(s=[Cs],i[0]=Dt(V=>(a[0]=V,r.fallback())),l=1);else if(l===0){for(i=new Array(g),c=0;c<g;c++)s[c]=d[c],i[c]=Dt(m);l=g}else{for(p=new Array(g),b=new Array(g),o&&(v=new Array(g)),C=0,P=Math.min(l,g);C<P&&s[C]===d[C];C++);for(P=l-1,$=g-1;P>=C&&$>=C&&s[P]===d[$];P--,$--)p[$]=i[P],b[$]=a[P],o&&(v[$]=o[P]);for(f=new Map,h=new Array($+1),c=$;c>=C;c--)O=d[c],u=f.get(O),h[c]=u===void 0?-1:u,f.set(O,c);for(u=C;u<=P;u++)O=s[u],c=f.get(O),c!==void 0&&c!==-1?(p[c]=i[u],b[c]=a[u],o&&(v[c]=o[u]),c=h[c],f.set(O,c)):a[u]();for(c=C;c<g;c++)c in p?(i[c]=p[c],a[c]=b[c],o&&(o[c]=v[c],o[c](c))):i[c]=Dt(m);i=i.slice(0,l=g),s=d.slice(0)}return i});function m(f){if(a[c]=f,o){const[h,p]=te(c);return o[c]=p,e(d[c],h)}return e(d[c])}}}function w(t,e){return qe(()=>t(e||{}))}const ts=t=>`Stale read from <${t}>.`;function Ie(t){const e="fallback"in t&&{fallback:()=>t.fallback};return ye(Ps(()=>t.each,t.children,e||void 0))}function re(t){const e=t.keyed,r=ye(()=>t.when,void 0,void 0),s=e?r:ye(r,void 0,{equals:(i,a)=>!i==!a});return ye(()=>{const i=s();if(i){const a=t.children;return typeof a=="function"&&a.length>0?qe(()=>a(e?i:()=>{if(!qe(s))throw ts("Show");return r()})):a}return t.fallback},void 0,void 0)}function Ls(t){const e=Jr(()=>t.children),r=ye(()=>{const s=e(),i=Array.isArray(s)?s:[s];let a=()=>{};for(let l=0;l<i.length;l++){const o=l,d=i[l],g=a,u=ye(()=>g()?void 0:d.when,void 0,void 0),c=d.keyed?u:ye(u,void 0,{equals:(m,f)=>!m==!f});a=()=>g()||(c()?[o,u,d]:void 0)}return a});return ye(()=>{const s=r()();if(!s)return t.fallback;const[i,a,l]=s,o=l.children;return typeof o=="function"&&o.length>0?qe(()=>o(l.keyed?a():()=>{if(qe(r)()?.[0]!==i)throw ts("Match");return a()})):o},void 0,void 0)}function vt(t){return t}const Me=t=>ye(()=>t());function Ns(t,e,r){let s=r.length,i=e.length,a=s,l=0,o=0,d=e[i-1].nextSibling,g=null;for(;l<i||o<a;){if(e[l]===r[o]){l++,o++;continue}for(;e[i-1]===r[a-1];)i--,a--;if(i===l){const u=a<s?o?r[o-1].nextSibling:r[a-o]:d;for(;o<a;)t.insertBefore(r[o++],u)}else if(a===o)for(;l<i;)(!g||!g.has(e[l]))&&e[l].remove(),l++;else if(e[l]===r[a-1]&&r[o]===e[i-1]){const u=e[--i].nextSibling;t.insertBefore(r[o++],e[l++].nextSibling),t.insertBefore(r[--a],u),e[i]=r[a]}else{if(!g){g=new Map;let c=o;for(;c<a;)g.set(r[c],c++)}const u=g.get(e[l]);if(u!=null)if(o<u&&u<a){let c=l,m=1,f;for(;++c<i&&c<a&&!((f=g.get(e[c]))==null||f!==u+m);)m++;if(m>u-o){const h=e[l];for(;o<u;)t.insertBefore(r[o++],h)}else t.replaceChild(r[o++],e[l++])}else l++;else e[l++].remove()}}}const Sr="_$DX_DELEGATE";function As(t,e,r,s={}){let i;return Dt(a=>{i=a,e===document?t():n(e,t(),e.firstChild?null:void 0,r)},s.owner),()=>{i(),e.textContent=""}}function S(t,e,r,s){let i;const a=()=>{const o=s?document.createElementNS("http://www.w3.org/1998/Math/MathML","template"):document.createElement("template");return o.innerHTML=t,r?o.content.firstChild.firstChild:s?o.firstChild:o.content.firstChild},l=e?()=>qe(()=>document.importNode(i||(i=a()),!0)):()=>(i||(i=a())).cloneNode(!0);return l.cloneNode=l,l}function Oe(t,e=window.document){const r=e[Sr]||(e[Sr]=new Set);for(let s=0,i=t.length;s<i;s++){const a=t[s];r.has(a)||(r.add(a),e.addEventListener(a,Es))}}function de(t,e,r){r==null?t.removeAttribute(e):t.setAttribute(e,r)}function Le(t,e){e==null?t.removeAttribute("class"):t.className=e}function Nt(t,e,r,s){Array.isArray(r)?(t[`$$${e}`]=r[0],t[`$$${e}Data`]=r[1]):t[`$$${e}`]=r}function Cr(t,e,r){return qe(()=>t(e,r))}function n(t,e,r,s){if(r!==void 0&&!s&&(s=[]),typeof e!="function")return Wt(t,e,s,r);j(i=>Wt(t,e(),i,r),s)}function Es(t){let e=t.target;const r=`$$${t.type}`,s=t.target,i=t.currentTarget,a=d=>Object.defineProperty(t,"target",{configurable:!0,value:d}),l=()=>{const d=e[r];if(d&&!e.disabled){const g=e[`${r}Data`];if(g!==void 0?d.call(e,g,t):d.call(e,t),t.cancelBubble)return}return e.host&&typeof e.host!="string"&&!e.host._$host&&e.contains(t.target)&&a(e.host),!0},o=()=>{for(;l()&&(e=e._$host||e.parentNode||e.host););};if(Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return e||document}}),t.composedPath){const d=t.composedPath();a(d[0]);for(let g=0;g<d.length-2&&(e=d[g],!!l());g++){if(e._$host){e=e._$host,o();break}if(e.parentNode===i)break}}else o();a(s)}function Wt(t,e,r,s,i){for(;typeof r=="function";)r=r();if(e===r)return r;const a=typeof e,l=s!==void 0;if(t=l&&r[0]&&r[0].parentNode||t,a==="string"||a==="number"){if(a==="number"&&(e=e.toString(),e===r))return r;if(l){let o=r[0];o&&o.nodeType===3?o.data!==e&&(o.data=e):o=document.createTextNode(e),r=ut(t,r,s,o)}else r!==""&&typeof r=="string"?r=t.firstChild.data=e:r=t.textContent=e}else if(e==null||a==="boolean")r=ut(t,r,s);else{if(a==="function")return j(()=>{let o=e();for(;typeof o=="function";)o=o();r=Wt(t,o,r,s)}),()=>r;if(Array.isArray(e)){const o=[],d=r&&Array.isArray(r);if(ur(o,e,r,i))return j(()=>r=Wt(t,o,r,s,!0)),()=>r;if(o.length===0){if(r=ut(t,r,s),l)return r}else d?r.length===0?Pr(t,o,s):Ns(t,r,o):(r&&ut(t),Pr(t,o));r=o}else if(e.nodeType){if(Array.isArray(r)){if(l)return r=ut(t,r,s,e);ut(t,r,null,e)}else r==null||r===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);r=e}}return r}function ur(t,e,r,s){let i=!1;for(let a=0,l=e.length;a<l;a++){let o=e[a],d=r&&r[t.length],g;if(!(o==null||o===!0||o===!1))if((g=typeof o)=="object"&&o.nodeType)t.push(o);else if(Array.isArray(o))i=ur(t,o,d)||i;else if(g==="function")if(s){for(;typeof o=="function";)o=o();i=ur(t,Array.isArray(o)?o:[o],Array.isArray(d)?d:[d])||i}else t.push(o),i=!0;else{const u=String(o);d&&d.nodeType===3&&d.data===u?t.push(d):t.push(document.createTextNode(u))}}return i}function Pr(t,e,r=null){for(let s=0,i=e.length;s<i;s++)t.insertBefore(e[s],r)}function ut(t,e,r,s){if(r===void 0)return t.textContent="";const i=s||document.createTextNode("");if(e.length){let a=!1;for(let l=e.length-1;l>=0;l--){const o=e[l];if(i!==o){const d=o.parentNode===t;!a&&!l?d?t.replaceChild(i,o):t.insertBefore(i,r):d&&o.remove()}else a=!0}}else t.insertBefore(i,r);return[i]}const fr=Symbol("store-raw"),pt=Symbol("store-node"),rt=Symbol("store-has"),rs=Symbol("store-self");function ss(t){let e=t[dt];if(!e&&(Object.defineProperty(t,dt,{value:e=new Proxy(t,Ms)}),!Array.isArray(t))){const r=Object.keys(t),s=Object.getOwnPropertyDescriptors(t);for(let i=0,a=r.length;i<a;i++){const l=r[i];s[l].get&&Object.defineProperty(t,l,{enumerable:s[l].enumerable,get:s[l].get.bind(e)})}}return e}function Gt(t){let e;return t!=null&&typeof t=="object"&&(t[dt]||!(e=Object.getPrototypeOf(t))||e===Object.prototype||Array.isArray(t))}function At(t,e=new Set){let r,s,i,a;if(r=t!=null&&t[fr])return r;if(!Gt(t)||e.has(t))return t;if(Array.isArray(t)){Object.isFrozen(t)?t=t.slice(0):e.add(t);for(let l=0,o=t.length;l<o;l++)i=t[l],(s=At(i,e))!==i&&(t[l]=s)}else{Object.isFrozen(t)?t=Object.assign({},t):e.add(t);const l=Object.keys(t),o=Object.getOwnPropertyDescriptors(t);for(let d=0,g=l.length;d<g;d++)a=l[d],!o[a].get&&(i=t[a],(s=At(i,e))!==i&&(t[a]=s))}return t}function qt(t,e){let r=t[e];return r||Object.defineProperty(t,e,{value:r=Object.create(null)}),r}function Et(t,e,r){if(t[e])return t[e];const[s,i]=te(r,{equals:!1,internal:!0});return s.$=i,t[e]=s}function Rs(t,e){const r=Reflect.getOwnPropertyDescriptor(t,e);return!r||r.get||!r.configurable||e===dt||e===pt||(delete r.value,delete r.writable,r.get=()=>t[dt][e]),r}function is(t){cr()&&Et(qt(t,pt),rs)()}function Fs(t){return is(t),Reflect.ownKeys(t)}const Ms={get(t,e,r){if(e===fr)return t;if(e===dt)return r;if(e===dr)return is(t),r;const s=qt(t,pt),i=s[e];let a=i?i():t[e];if(e===pt||e===rt||e==="__proto__")return a;if(!i){const l=Object.getOwnPropertyDescriptor(t,e);cr()&&(typeof a!="function"||t.hasOwnProperty(e))&&!(l&&l.get)&&(a=Et(s,e,a)())}return Gt(a)?ss(a):a},has(t,e){return e===fr||e===dt||e===dr||e===pt||e===rt||e==="__proto__"?!0:(cr()&&Et(qt(t,rt),e)(),e in t)},set(){return!0},deleteProperty(){return!0},ownKeys:Fs,getOwnPropertyDescriptor:Rs};function Kt(t,e,r,s=!1){if(!s&&t[e]===r)return;const i=t[e],a=t.length;r===void 0?(delete t[e],t[rt]&&t[rt][e]&&i!==void 0&&t[rt][e].$()):(t[e]=r,t[rt]&&t[rt][e]&&i===void 0&&t[rt][e].$());let l=qt(t,pt),o;if((o=Et(l,e,i))&&o.$(()=>r),Array.isArray(t)&&t.length!==a){for(let d=t.length;d<a;d++)(o=l[d])&&o.$();(o=Et(l,"length",a))&&o.$(t.length)}(o=l[rs])&&o.$()}function ns(t,e){const r=Object.keys(e);for(let s=0;s<r.length;s+=1){const i=r[s];Kt(t,i,e[i])}}function Os(t,e){if(typeof e=="function"&&(e=e(t)),e=At(e),Array.isArray(e)){if(t===e)return;let r=0,s=e.length;for(;r<s;r++){const i=e[r];t[r]!==i&&Kt(t,r,i)}Kt(t,"length",s)}else ns(t,e)}function St(t,e,r=[]){let s,i=t;if(e.length>1){s=e.shift();const l=typeof s,o=Array.isArray(t);if(Array.isArray(s)){for(let d=0;d<s.length;d++)St(t,[s[d]].concat(e),r);return}else if(o&&l==="function"){for(let d=0;d<t.length;d++)s(t[d],d)&&St(t,[d].concat(e),r);return}else if(o&&l==="object"){const{from:d=0,to:g=t.length-1,by:u=1}=s;for(let c=d;c<=g;c+=u)St(t,[c].concat(e),r);return}else if(e.length>1){St(t[s],e,[s].concat(r));return}i=t[s],r=[s].concat(r)}let a=e[0];typeof a=="function"&&(a=a(i,r),a===i)||s===void 0&&a==null||(a=At(a),s===void 0||Gt(i)&&Gt(a)&&!Array.isArray(a)?ns(i,a):Kt(t,s,a))}function js(...[t,e]){const r=At(t||{}),s=Array.isArray(r),i=ss(r);function a(...l){bs(()=>{s&&l.length===1?Os(r,l[0]):St(r,l)})}return[i,a]}const Ts=[{id:"part-1",name:"Rectangle Part",filename:"rectangle.svg",path:[[0,0],[100,0],[100,50],[0,50]],area:5e3,bounds:{x:0,y:0,width:100,height:50},quantity:5,placed:3,rotation:0,material:"wood",thickness:3,isSelected:!1},{id:"part-2",name:"Circle Part",filename:"circle.svg",path:Bs(25,50,50),area:1963.5,bounds:{x:25,y:25,width:50,height:50},quantity:3,placed:2,rotation:0,material:"acrylic",thickness:5,isSelected:!1},{id:"part-3",name:"Triangle Part",filename:"triangle.svg",path:[[0,60],[30,0],[60,60]],area:1800,bounds:{x:0,y:0,width:60,height:60},quantity:8,placed:5,rotation:0,material:"plywood",thickness:6,isSelected:!0}],Is=[{id:"sheet-1",name:"Standard Sheet",width:600,height:400,thickness:3,material:"wood",margin:5,isSelected:!0,bounds:{x:0,y:0,width:600,height:400},utilization:0},{id:"sheet-2",name:"Large Acrylic Sheet",width:800,height:600,thickness:5,material:"acrylic",margin:3,isSelected:!1,bounds:{x:0,y:0,width:800,height:600},utilization:0}],Ds=[{id:"nest-1",sheetId:"sheet-1",placements:[{id:"placement-1",partId:"part-1",x:10,y:10,rotation:0,bounds:{x:10,y:10,width:100,height:50}},{id:"placement-2",partId:"part-2",x:120,y:10,rotation:0,bounds:{x:120,y:10,width:50,height:50}},{id:"placement-3",partId:"part-3",x:10,y:70,rotation:0,bounds:{x:10,y:70,width:60,height:60}}],fitness:.75,utilization:.68,area:12e3,createdAt:new Date().toISOString(),isOptimal:!1},{id:"nest-2",sheetId:"sheet-1",placements:[{id:"placement-4",partId:"part-1",x:5,y:5,rotation:90,bounds:{x:5,y:5,width:50,height:100}},{id:"placement-5",partId:"part-2",x:65,y:5,rotation:0,bounds:{x:65,y:5,width:50,height:50}}],fitness:.82,utilization:.72,area:8500,createdAt:new Date(Date.now()-6e4).toISOString(),isOptimal:!0}],zs={"preset-1":{id:"preset-1",name:"Default Laser Settings",description:"Standard settings for laser cutting wood",config:{units:"mm",scale:1,spacing:2,rotations:4,populationSize:20,mutationRate:15,threads:4,placementType:"gravity",mergeLines:!0,timeRatio:.5,simplify:!1,tolerance:.1,endpointTolerance:.05,svgScale:1,dxfImportUnits:"mm",dxfExportUnits:"mm",exportSheetBounds:!0,exportSheetSpacing:!1,sheetSpacing:10,useQuantityFromFilename:!0,useSvgPreProcessor:!1,conversionServer:"https://converter.deepnest.app/convert"},createdAt:new Date(Date.now()-864e5).toISOString(),updatedAt:new Date(Date.now()-36e5).toISOString()},"preset-2":{id:"preset-2",name:"High Precision CNC",description:"Tight tolerances for CNC machining",config:{units:"inches",scale:72,spacing:.1,rotations:8,populationSize:50,mutationRate:5,threads:8,placementType:"bottom-left",mergeLines:!1,timeRatio:.8,simplify:!0,tolerance:.001,endpointTolerance:5e-4,svgScale:72,dxfImportUnits:"inches",dxfExportUnits:"inches",exportSheetBounds:!0,exportSheetSpacing:!0,sheetSpacing:.25,useQuantityFromFilename:!1,useSvgPreProcessor:!0,conversionServer:"https://converter.deepnest.app/convert"},createdAt:new Date(Date.now()-1728e5).toISOString(),updatedAt:new Date(Date.now()-72e5).toISOString()}};function Bs(t,e,r){const s=[];for(let a=0;a<=32;a++){const l=a/32*2*Math.PI,o=e+t*Math.cos(l),d=r+t*Math.sin(l);s.push([o,d])}return s}const Vs=()=>({ui:{activeTab:"parts",darkMode:!1,language:"en",theme:"auto",showTooltips:!0,showStatusBar:!0,modals:{presetModal:!1,helpModal:!1},panels:{partsWidth:300,resultsHeight:200}},config:{units:"mm",scale:1,spacing:2,rotations:4,populationSize:20,mutationRate:10,threads:4,placementType:"gravity",mergeLines:!0,timeRatio:.5,simplify:!1,tolerance:.1,endpointTolerance:.05,svgScale:1,dxfImportUnits:"mm",dxfExportUnits:"mm",exportSheetBounds:!1,exportSheetSpacing:!1,sheetSpacing:10,useQuantityFromFilename:!1,useSvgPreProcessor:!1,conversionServer:"https://converter.deepnest.app/convert"},app:{parts:Ts,sheets:Is,nests:Ds,presets:zs,importedFiles:[]},process:{isNesting:!1,progress:0,currentNest:null,workerStatus:{isRunning:!1,currentOperation:"",threadsActive:0},lastError:null}}),tt=()=>typeof window<"u"&&!window.electronAPI,pr={units:"inches",scale:72,spacing:0,rotations:4,populationSize:10,mutationRate:10,threads:4,placementType:"gravity",mergeLines:!0,timeRatio:.5,simplify:!1,tolerance:.72,endpointTolerance:.36,svgScale:72,dxfImportUnits:"mm",dxfExportUnits:"mm",exportSheetBounds:!1,exportSheetSpacing:!1,sheetSpacing:10,useQuantityFromFilename:!1,useSvgPreProcessor:!1,conversionServer:"https://converter.deepnest.app/convert"},zt={activeTab:"parts",darkMode:!1,language:"en",modals:{presetModal:!1,helpModal:!1},panels:{partsWidth:300,resultsHeight:200}},as={parts:[],sheets:[],nests:[],presets:{},importedFiles:[]},os={isNesting:!1,progress:0,currentNest:null,workerStatus:{isRunning:!1,currentOperation:"",threadsActive:0},lastError:null},Us=()=>{try{if(typeof localStorage<"u"){const t=localStorage.getItem("deepnest-ui-state");let e=zt;if(t){const r=JSON.parse(t);e={...zt,...r}}return"theme"in localStorage?e.darkMode=localStorage.theme==="dark":e.darkMode=window.matchMedia("(prefers-color-scheme: dark)").matches,e}}catch(t){console.warn("Failed to load UI state from localStorage:",t)}return zt},ls=tt()?Vs():{ui:Us(),config:pr,app:as,process:os},[_,xe]=js(ls);typeof document<"u"&&ls.ui.darkMode&&document.documentElement.classList.add("dark");tt()&&console.info("ðŸ”§ Development mode: Global store initialized with mock data");const A={setActiveTab:t=>{xe("ui","activeTab",t)},setDarkMode:t=>{if(xe("ui","darkMode",t),typeof localStorage<"u")try{t?localStorage.theme="dark":localStorage.theme="light",localStorage.setItem("deepnest-ui-state",JSON.stringify(_.ui))}catch(e){console.warn("Failed to save theme to localStorage:",e)}},setThemePreference:t=>{if(typeof localStorage<"u")try{if(t==="system"){localStorage.removeItem("theme");const e=window.matchMedia("(prefers-color-scheme: dark)").matches;xe("ui","darkMode",e)}else localStorage.theme=t,xe("ui","darkMode",t==="dark");localStorage.setItem("deepnest-ui-state",JSON.stringify(_.ui))}catch(e){console.warn("Failed to save theme preference to localStorage:",e)}},setLanguage:t=>{if(xe("ui","language",t),typeof localStorage<"u")try{localStorage.setItem("deepnest-ui-state",JSON.stringify(_.ui))}catch(e){console.warn("Failed to save UI state to localStorage:",e)}},setPanelWidth:(t,e)=>{if(xe("ui","panels",t,e),typeof localStorage<"u")try{localStorage.setItem("deepnest-ui-state",JSON.stringify(_.ui))}catch(r){console.warn("Failed to save UI state to localStorage:",r)}},openModal:t=>{xe("ui","modals",t,!0)},closeModal:t=>{xe("ui","modals",t,!1)},updateConfig:t=>{xe("config",t)},resetConfig:()=>{xe("config",pr)},setParts:t=>{xe("app","parts",t)},addPart:t=>{xe("app","parts",e=>[...e,t])},removePart:t=>{xe("app","parts",e=>e.filter(r=>r.id!==t))},updatePart:(t,e)=>{xe("app","parts",r=>r.id===t,e)},setNests:t=>{xe("app","nests",t)},addNest:t=>{xe("app","nests",e=>[...e,t])},setCurrentNest:t=>{xe("process","currentNest",t)},setPresets:t=>{xe("app","presets",t)},addPreset:t=>{xe("app","presets",t.id,t)},removePreset:t=>{xe("app","presets",e=>{const r={...e};return delete r[t],r})},updatePreset:(t,e)=>{xe("app","presets",t,r=>({...r,...e}))},setNestingStatus:t=>{xe("process","isNesting",t)},setNestingProgress:t=>{xe("process","progress",t)},setWorkerStatus:t=>{xe("process","workerStatus",t)},setError:t=>{xe("process","lastError",t)},setMessage:t=>{t&&console.info("App Message:",t)},setShowTooltips:t=>{xe("ui","showTooltips",t)},setShowStatusBar:t=>{xe("ui","showStatusBar",t)},setTheme:t=>{xe("ui","theme",t)},resetToDefaults:()=>{xe("config",pr),xe("ui",zt)},reset:()=>{xe("app",as),xe("process",os)}};class Hs{eventListeners=new Map;nestingProgress=0;isNesting=!1;activeWorkers=new Set;nestResults=[];get isAvailable(){return tt()||typeof window<"u"&&!!window.electronAPI}async invoke(e,...r){if(!this.isAvailable)throw new Error("IPC not available");if(tt())return this.handleMockInvoke(e,...r);try{return await window.electronAPI.ipcRenderer.invoke(e,...r)}catch(s){throw console.error(`IPC invoke error on channel ${String(e)}:`,s),s}}async handleMockInvoke(e,...r){switch(await new Promise(s=>setTimeout(s,100)),console.info(`ðŸ”§ Mock IPC call: ${e}`,r),e){case"read-config":return{units:"mm",scale:1,spacing:2,rotations:4,populationSize:20,mutationRate:10,threads:4,placementType:"gravity",mergeLines:!0,timeRatio:.5,simplify:!1,tolerance:.1,endpointTolerance:.05,svgScale:1,dxfImportUnits:"mm",dxfExportUnits:"mm",exportSheetBounds:!1,exportSheetSpacing:!1,sheetSpacing:10,useQuantityFromFilename:!1,useSvgPreProcessor:!1,conversionServer:"https://converter.deepnest.app/convert"};case"write-config":case"save-preset":case"delete-preset":case"start-nesting":case"stop-nesting":return;case"load-presets":return{default:JSON.stringify({units:"mm",spacing:2,rotations:4}),precision:JSON.stringify({units:"inches",spacing:.1,rotations:8})};case"open-file-dialog":return{canceled:!1,filePaths:["/mock/path/example.svg"]};case"save-file-dialog":return{canceled:!1,filePath:"/mock/path/output.svg"};case"import-parts":return[{id:"mock-part-1",name:"Mock Part",bounds:{x:0,y:0,width:100,height:50},quantity:1,rotation:0}];default:console.warn(`ðŸ”§ Unhandled mock IPC channel: ${e}`);return}}simulateBackgroundWorker(){if(!tt())return;console.info("ðŸ”§ Simulating background worker progress...");let e=0;const r=setInterval(()=>{e+=.1,this.emitToUIListeners("background-progress",{index:0,progress:Math.min(e,1)}),e>=1&&(clearInterval(r),this.emitToUIListeners("background-progress",{index:0,progress:-1}),setTimeout(()=>{this.emitToUIListeners("background-response",{index:0,fitness:.85,area:85e3,totalarea:1e5,mergedLength:0,utilisation:.85,placements:[{sheet:0,sheetid:1,sheetplacements:[{id:1,source:0,x:10,y:10,rotation:0}]}]})},500))},200)}async startNesting(e){return this.isNesting=!0,this.nestingProgress=0,this.nestResults=[],this.activeWorkers.clear(),this.eventListeners.has("background-progress")||this.initializeBackgroundWorkerListeners(),this.emitToUIListeners("nest-status",{isRunning:!0,operation:"Starting nesting..."}),tt()?(setTimeout(()=>this.simulateBackgroundWorker(),1e3),Promise.resolve()):this.invoke("start-nesting",e)}async stopNesting(){return this.isNesting=!1,this.activeWorkers.clear(),this.emitToUIListeners("nest-status",{isRunning:!1,operation:"Stopped"}),tt()?Promise.resolve():this.invoke("stop-nesting")}on(e,r){if(!this.isAvailable)return console.warn("IPC not available, listener not registered"),()=>{};const s=String(e);return this.eventListeners.has(s)||this.eventListeners.set(s,new Set),this.eventListeners.get(s).add(r),tt()?(console.info(`ðŸ”§ Mock IPC listener registered for: ${s}`),()=>{const i=this.eventListeners.get(s);i&&(i.delete(r),i.size===0&&this.eventListeners.delete(s))}):(window.electronAPI.ipcRenderer.on(e,r),()=>{const i=this.eventListeners.get(s);i&&(i.delete(r),i.size===0&&(this.eventListeners.delete(s),window.electronAPI?.ipcRenderer&&window.electronAPI.ipcRenderer.removeAllListeners(e)))})}send(e,...r){if(!this.isAvailable){console.warn("IPC not available, message not sent");return}if(tt()){console.info(`ðŸ”§ Mock IPC send: ${e}`,r);return}window.electronAPI.ipcRenderer.send(e,...r)}async readConfig(){return this.invoke("read-config")}async writeConfig(e){return this.invoke("write-config",JSON.stringify(e))}async savePreset(e,r){return this.invoke("save-preset",e,JSON.stringify(r))}async loadPresets(){return this.invoke("load-presets")}async deletePreset(e){return this.invoke("delete-preset",e)}async openFileDialog(){return this.invoke("open-file-dialog")}async saveFileDialog(){return this.invoke("save-file-dialog")}async importParts(e){return this.invoke("import-parts",e)}stopBackgroundWorker(){this.send("background-stop"),this.isNesting=!1,this.activeWorkers.clear()}initializeBackgroundWorkerListeners(){this.on("background-progress",e=>{this.activeWorkers.add(e.index),e.progress===-1&&this.activeWorkers.delete(e.index),this.nestingProgress=e.progress===-1?1:Math.max(this.nestingProgress,e.progress),this.emitToUIListeners("nest-progress",this.nestingProgress),this.emitToUIListeners("nest-status",{isRunning:this.isNesting&&this.activeWorkers.size>0,operation:e.progress===-1?"Complete":"Calculating placement..."})}),this.on("background-response",e=>{this.handleBackgroundWorkerResult(e)}),this.on("setPlacements",e=>{this.handleBackgroundWorkerResult(e)})}handleBackgroundWorkerResult(e){const r={id:`result-${e.index}`,fitness:e.fitness,area:e.area,totalArea:e.totalarea,utilisation:e.utilisation,sheets:e.placements.map(s=>({id:s.sheetid,parts:s.sheetplacements.map(i=>({id:i.id,x:i.x,y:i.y,rotation:i.rotation}))}))};this.nestResults.push(r),(this.nestResults.length===1||e.fitness<Math.min(...this.nestResults.map(s=>s.fitness)))&&this.emitToUIListeners("nest-complete",[...this.nestResults])}emitToUIListeners(e,r){const s=this.eventListeners.get(e);s&&s.forEach(i=>{try{i(r)}catch(a){console.error(`Error in ${e} listener:`,a)}})}onNestProgress(e){return this.on("nest-progress",e)}onNestComplete(e){return this.on("nest-complete",e)}onNestStatus(e){return this.on("nest-status",e)}onNestError(e){return this.on("nest-error",e)}onBackgroundProgress(e){return this.on("background-progress",e)}onBackgroundResponse(e){return this.on("background-response",e)}onSetPlacements(e){return this.on("setPlacements",e)}cleanup(){if(this.isAvailable){for(const e of this.eventListeners.keys())window.electronAPI.ipcRenderer.removeAllListeners(e);this.eventListeners.clear(),this.isNesting=!1,this.nestingProgress=0,this.activeWorkers.clear(),this.nestResults=[]}}}const ie=new Hs,ae=t=>typeof t=="string",$t=()=>{let t,e;const r=new Promise((s,i)=>{t=s,e=i});return r.resolve=t,r.reject=e,r},Lr=t=>t==null?"":""+t,Ws=(t,e,r)=>{t.forEach(s=>{e[s]&&(r[s]=e[s])})},Gs=/###/g,Nr=t=>t&&t.indexOf("###")>-1?t.replace(Gs,"."):t,Ar=t=>!t||ae(t),Ct=(t,e,r)=>{const s=ae(e)?e.split("."):e;let i=0;for(;i<s.length-1;){if(Ar(t))return{};const a=Nr(s[i]);!t[a]&&r&&(t[a]=new r),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={},++i}return Ar(t)?{}:{obj:t,k:Nr(s[i])}},Er=(t,e,r)=>{const{obj:s,k:i}=Ct(t,e,Object);if(s!==void 0||e.length===1){s[i]=r;return}let a=e[e.length-1],l=e.slice(0,e.length-1),o=Ct(t,l,Object);for(;o.obj===void 0&&l.length;)a=`${l[l.length-1]}.${a}`,l=l.slice(0,l.length-1),o=Ct(t,l,Object),o?.obj&&typeof o.obj[`${o.k}.${a}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${a}`]=r},qs=(t,e,r,s)=>{const{obj:i,k:a}=Ct(t,e,Object);i[a]=i[a]||[],i[a].push(r)},Jt=(t,e)=>{const{obj:r,k:s}=Ct(t,e);if(r&&Object.prototype.hasOwnProperty.call(r,s))return r[s]},Ks=(t,e,r)=>{const s=Jt(t,r);return s!==void 0?s:Jt(e,r)},ds=(t,e,r)=>{for(const s in e)s!=="__proto__"&&s!=="constructor"&&(s in t?ae(t[s])||t[s]instanceof String||ae(e[s])||e[s]instanceof String?r&&(t[s]=e[s]):ds(t[s],e[s],r):t[s]=e[s]);return t},ft=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Js={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Qs=t=>ae(t)?t.replace(/[&<>"'\/]/g,e=>Js[e]):t;class Xs{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const r=this.regExpMap.get(e);if(r!==void 0)return r;const s=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,s),this.regExpQueue.push(e),s}}const Zs=[" ",",","?","!",";"],Ys=new Xs(20),ei=(t,e,r)=>{e=e||"",r=r||"";const s=Zs.filter(l=>e.indexOf(l)<0&&r.indexOf(l)<0);if(s.length===0)return!0;const i=Ys.getRegExp(`(${s.map(l=>l==="?"?"\\?":l).join("|")})`);let a=!i.test(t);if(!a){const l=t.indexOf(r);l>0&&!i.test(t.substring(0,l))&&(a=!0)}return a},hr=(t,e,r=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const s=e.split(r);let i=t;for(let a=0;a<s.length;){if(!i||typeof i!="object")return;let l,o="";for(let d=a;d<s.length;++d)if(d!==a&&(o+=r),o+=s[d],l=i[o],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&d<s.length-1)continue;a+=d-a+1;break}i=l}return i},Rt=t=>t?.replace("_","-"),ti={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}};class Qt{constructor(e,r={}){this.init(e,r)}init(e,r={}){this.prefix=r.prefix||"i18next:",this.logger=e||ti,this.options=r,this.debug=r.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,r,s,i){return i&&!this.debug?null:(ae(e[0])&&(e[0]=`${s}${this.prefix} ${e[0]}`),this.logger[r](e))}create(e){return new Qt(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Qt(this.logger,e)}}var Qe=new Qt;class rr{constructor(){this.observers={}}on(e,r){return e.split(" ").forEach(s=>{this.observers[s]||(this.observers[s]=new Map);const i=this.observers[s].get(r)||0;this.observers[s].set(r,i+1)}),this}off(e,r){if(this.observers[e]){if(!r){delete this.observers[e];return}this.observers[e].delete(r)}}emit(e,...r){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,a])=>{for(let l=0;l<a;l++)i(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,a])=>{for(let l=0;l<a;l++)i.apply(i,[e,...r])})}}class Rr extends rr{constructor(e,r={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const r=this.options.ns.indexOf(e);r>-1&&this.options.ns.splice(r,1)}getResource(e,r,s,i={}){const a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,l=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,r],s&&(Array.isArray(s)?o.push(...s):ae(s)&&a?o.push(...s.split(a)):o.push(s)));const d=Jt(this.data,o);return!d&&!r&&!s&&e.indexOf(".")>-1&&(e=o[0],r=o[1],s=o.slice(2).join(".")),d||!l||!ae(s)?d:hr(this.data?.[e]?.[r],s,a)}addResource(e,r,s,i,a={silent:!1}){const l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let o=[e,r];s&&(o=o.concat(l?s.split(l):s)),e.indexOf(".")>-1&&(o=e.split("."),i=r,r=o[1]),this.addNamespaces(r),Er(this.data,o,i),a.silent||this.emit("added",e,r,s,i)}addResources(e,r,s,i={silent:!1}){for(const a in s)(ae(s[a])||Array.isArray(s[a]))&&this.addResource(e,r,a,s[a],{silent:!0});i.silent||this.emit("added",e,r,s)}addResourceBundle(e,r,s,i,a,l={silent:!1,skipCopy:!1}){let o=[e,r];e.indexOf(".")>-1&&(o=e.split("."),i=s,s=r,r=o[1]),this.addNamespaces(r);let d=Jt(this.data,o)||{};l.skipCopy||(s=JSON.parse(JSON.stringify(s))),i?ds(d,s,a):d={...d,...s},Er(this.data,o,d),l.silent||this.emit("added",e,r,s)}removeResourceBundle(e,r){this.hasResourceBundle(e,r)&&delete this.data[e][r],this.removeNamespaces(r),this.emit("removed",e,r)}hasResourceBundle(e,r){return this.getResource(e,r)!==void 0}getResourceBundle(e,r){return r||(r=this.options.defaultNS),this.getResource(e,r)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const r=this.getDataByLanguage(e);return!!(r&&Object.keys(r)||[]).find(i=>r[i]&&Object.keys(r[i]).length>0)}toJSON(){return this.data}}var cs={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,r,s,i){return t.forEach(a=>{e=this.processors[a]?.process(e,r,s,i)??e}),e}};const Fr={},Mr=t=>!ae(t)&&typeof t!="boolean"&&typeof t!="number";class Xt extends rr{constructor(e,r={}){super(),Ws(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Qe.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,r={interpolation:{}}){const s={...r};return e==null?!1:this.resolve(e,s)?.res!==void 0}extractFromKey(e,r){let s=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");const i=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let a=r.ns||this.options.defaultNS||[];const l=s&&e.indexOf(s)>-1,o=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!ei(e,s,i);if(l&&!o){const d=e.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:e,namespaces:ae(a)?[a]:a};const g=e.split(s);(s!==i||s===i&&this.options.ns.indexOf(g[0])>-1)&&(a=g.shift()),e=g.join(i)}return{key:e,namespaces:ae(a)?[a]:a}}translate(e,r,s){let i=typeof r=="object"?{...r}:r;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(i={...i}),i||(i={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const a=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,l=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:o,namespaces:d}=this.extractFromKey(e[e.length-1],i),g=d[d.length-1];let u=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;u===void 0&&(u=":");const c=i.lng||this.language,m=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c?.toLowerCase()==="cimode")return m?a?{res:`${g}${u}${o}`,usedKey:o,exactUsedKey:o,usedLng:c,usedNS:g,usedParams:this.getUsedParamsDetails(i)}:`${g}${u}${o}`:a?{res:o,usedKey:o,exactUsedKey:o,usedLng:c,usedNS:g,usedParams:this.getUsedParamsDetails(i)}:o;const f=this.resolve(e,i);let h=f?.res;const p=f?.usedKey||o,b=f?.exactUsedKey||o,v=["[object Number]","[object Function]","[object RegExp]"],C=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,P=!this.i18nFormat||this.i18nFormat.handleAsObject,$=i.count!==void 0&&!ae(i.count),O=Xt.hasDefaultValue(i),V=$?this.pluralResolver.getSuffix(c,i.count,i):"",T=i.ordinal&&$?this.pluralResolver.getSuffix(c,i.count,{ordinal:!1}):"",H=$&&!i.ordinal&&i.count===0,y=H&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${V}`]||i[`defaultValue${T}`]||i.defaultValue;let x=h;P&&!h&&O&&(x=y);const R=Mr(x),L=Object.prototype.toString.apply(x);if(P&&x&&R&&v.indexOf(L)<0&&!(ae(C)&&Array.isArray(x))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const k=this.options.returnedObjectHandler?this.options.returnedObjectHandler(p,x,{...i,ns:d}):`key '${o} (${this.language})' returned an object instead of string.`;return a?(f.res=k,f.usedParams=this.getUsedParamsDetails(i),f):k}if(l){const k=Array.isArray(x),N=k?[]:{},F=k?b:p;for(const M in x)if(Object.prototype.hasOwnProperty.call(x,M)){const z=`${F}${l}${M}`;O&&!h?N[M]=this.translate(z,{...i,defaultValue:Mr(y)?y[M]:void 0,joinArrays:!1,ns:d}):N[M]=this.translate(z,{...i,joinArrays:!1,ns:d}),N[M]===z&&(N[M]=x[M])}h=N}}else if(P&&ae(C)&&Array.isArray(h))h=h.join(C),h&&(h=this.extendTranslation(h,e,i,s));else{let k=!1,N=!1;!this.isValidLookup(h)&&O&&(k=!0,h=y),this.isValidLookup(h)||(N=!0,h=o);const M=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&N?void 0:h,z=O&&y!==h&&this.options.updateMissing;if(N||k||z){if(this.logger.log(z?"updateKey":"missingKey",c,g,o,z?y:h),l){const I=this.resolve(o,{...i,keySeparator:!1});I&&I.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let W=[];const K=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&K&&K[0])for(let I=0;I<K.length;I++)W.push(K[I]);else this.options.saveMissingTo==="all"?W=this.languageUtils.toResolveHierarchy(i.lng||this.language):W.push(i.lng||this.language);const G=(I,Z,ne)=>{const Y=O&&ne!==h?ne:M;this.options.missingKeyHandler?this.options.missingKeyHandler(I,g,Z,Y,z,i):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(I,g,Z,Y,z,i),this.emit("missingKey",I,g,Z,h)};this.options.saveMissing&&(this.options.saveMissingPlurals&&$?W.forEach(I=>{const Z=this.pluralResolver.getSuffixes(I,i);H&&i[`defaultValue${this.options.pluralSeparator}zero`]&&Z.indexOf(`${this.options.pluralSeparator}zero`)<0&&Z.push(`${this.options.pluralSeparator}zero`),Z.forEach(ne=>{G([I],o+ne,i[`defaultValue${ne}`]||y)})}):G(W,o,y))}h=this.extendTranslation(h,e,i,f,s),N&&h===o&&this.options.appendNamespaceToMissingKey&&(h=`${g}${u}${o}`),(N||k)&&this.options.parseMissingKeyHandler&&(h=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${g}${u}${o}`:o,k?h:void 0,i))}return a?(f.res=h,f.usedParams=this.getUsedParamsDetails(i),f):h}extendTranslation(e,r,s,i,a){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...s},s.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init({...s,interpolation:{...this.options.interpolation,...s.interpolation}});const d=ae(e)&&(s?.interpolation?.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let g;if(d){const c=e.match(this.interpolator.nestingRegexp);g=c&&c.length}let u=s.replace&&!ae(s.replace)?s.replace:s;if(this.options.interpolation.defaultVariables&&(u={...this.options.interpolation.defaultVariables,...u}),e=this.interpolator.interpolate(e,u,s.lng||this.language||i.usedLng,s),d){const c=e.match(this.interpolator.nestingRegexp),m=c&&c.length;g<m&&(s.nest=!1)}!s.lng&&i&&i.res&&(s.lng=this.language||i.usedLng),s.nest!==!1&&(e=this.interpolator.nest(e,(...c)=>a?.[0]===c[0]&&!s.context?(this.logger.warn(`It seems you are nesting recursively key: ${c[0]} in key: ${r[0]}`),null):this.translate(...c,r),s)),s.interpolation&&this.interpolator.reset()}const l=s.postProcess||this.options.postProcess,o=ae(l)?[l]:l;return e!=null&&o?.length&&s.applyPostProcessor!==!1&&(e=cs.handle(o,e,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(s)},...s}:s,this)),e}resolve(e,r={}){let s,i,a,l,o;return ae(e)&&(e=[e]),e.forEach(d=>{if(this.isValidLookup(s))return;const g=this.extractFromKey(d,r),u=g.key;i=u;let c=g.namespaces;this.options.fallbackNS&&(c=c.concat(this.options.fallbackNS));const m=r.count!==void 0&&!ae(r.count),f=m&&!r.ordinal&&r.count===0,h=r.context!==void 0&&(ae(r.context)||typeof r.context=="number")&&r.context!=="",p=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);c.forEach(b=>{this.isValidLookup(s)||(o=b,!Fr[`${p[0]}-${b}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(o)&&(Fr[`${p[0]}-${b}`]=!0,this.logger.warn(`key "${i}" for languages "${p.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach(v=>{if(this.isValidLookup(s))return;l=v;const C=[u];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(C,u,v,b,r);else{let $;m&&($=this.pluralResolver.getSuffix(v,r.count,r));const O=`${this.options.pluralSeparator}zero`,V=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(m&&(C.push(u+$),r.ordinal&&$.indexOf(V)===0&&C.push(u+$.replace(V,this.options.pluralSeparator)),f&&C.push(u+O)),h){const T=`${u}${this.options.contextSeparator}${r.context}`;C.push(T),m&&(C.push(T+$),r.ordinal&&$.indexOf(V)===0&&C.push(T+$.replace(V,this.options.pluralSeparator)),f&&C.push(T+O))}}let P;for(;P=C.pop();)this.isValidLookup(s)||(a=P,s=this.getResource(v,b,P,r))}))})}),{res:s,usedKey:i,exactUsedKey:a,usedLng:l,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,r,s,i={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,r,s,i):this.resourceStore.getResource(e,r,s,i)}getUsedParamsDetails(e={}){const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],s=e.replace&&!ae(e.replace);let i=s?e.replace:e;if(s&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!s){i={...i};for(const a of r)delete i[a]}return i}static hasDefaultValue(e){const r="defaultValue";for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&r===s.substring(0,r.length)&&e[s]!==void 0)return!0;return!1}}class Or{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Qe.create("languageUtils")}getScriptPartFromCode(e){if(e=Rt(e),!e||e.indexOf("-")<0)return null;const r=e.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(e){if(e=Rt(e),!e||e.indexOf("-")<0)return e;const r=e.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(e){if(ae(e)&&e.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(e)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let r;return e.forEach(s=>{if(r)return;const i=this.formatLanguageCode(s);(!this.options.supportedLngs||this.isSupportedCode(i))&&(r=i)}),!r&&this.options.supportedLngs&&e.forEach(s=>{if(r)return;const i=this.getScriptPartFromCode(s);if(this.isSupportedCode(i))return r=i;const a=this.getLanguagePartFromCode(s);if(this.isSupportedCode(a))return r=a;r=this.options.supportedLngs.find(l=>{if(l===a)return l;if(!(l.indexOf("-")<0&&a.indexOf("-")<0)&&(l.indexOf("-")>0&&a.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===a||l.indexOf(a)===0&&a.length>1))return l})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(e,r){if(!e)return[];if(typeof e=="function"&&(e=e(r)),ae(e)&&(e=[e]),Array.isArray(e))return e;if(!r)return e.default||[];let s=e[r];return s||(s=e[this.getScriptPartFromCode(r)]),s||(s=e[this.formatLanguageCode(r)]),s||(s=e[this.getLanguagePartFromCode(r)]),s||(s=e.default),s||[]}toResolveHierarchy(e,r){const s=this.getFallbackCodes((r===!1?[]:r)||this.options.fallbackLng||[],e),i=[],a=l=>{l&&(this.isSupportedCode(l)?i.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))};return ae(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):ae(e)&&a(this.formatLanguageCode(e)),s.forEach(l=>{i.indexOf(l)<0&&a(this.formatLanguageCode(l))}),i}}const jr={zero:0,one:1,two:2,few:3,many:4,other:5},Tr={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class ri{constructor(e,r={}){this.languageUtils=e,this.options=r,this.logger=Qe.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,r){this.rules[e]=r}clearCache(){this.pluralRulesCache={}}getRule(e,r={}){const s=Rt(e==="dev"?"en":e),i=r.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:s,type:i});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let l;try{l=new Intl.PluralRules(s,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Tr;if(!e.match(/-|_/))return Tr;const d=this.languageUtils.getLanguagePartFromCode(e);l=this.getRule(d,r)}return this.pluralRulesCache[a]=l,l}needsPlural(e,r={}){let s=this.getRule(e,r);return s||(s=this.getRule("dev",r)),s?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,r,s={}){return this.getSuffixes(e,s).map(i=>`${r}${i}`)}getSuffixes(e,r={}){let s=this.getRule(e,r);return s||(s=this.getRule("dev",r)),s?s.resolvedOptions().pluralCategories.sort((i,a)=>jr[i]-jr[a]).map(i=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,r,s={}){const i=this.getRule(e,s);return i?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${i.select(r)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",r,s))}}const Ir=(t,e,r,s=".",i=!0)=>{let a=Ks(t,e,r);return!a&&i&&ae(r)&&(a=hr(t,r,s),a===void 0&&(a=hr(e,r,s))),a},nr=t=>t.replace(/\$/g,"$$$$");class si{constructor(e={}){this.logger=Qe.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:r,escapeValue:s,useRawValueToEscape:i,prefix:a,prefixEscaped:l,suffix:o,suffixEscaped:d,formatSeparator:g,unescapeSuffix:u,unescapePrefix:c,nestingPrefix:m,nestingPrefixEscaped:f,nestingSuffix:h,nestingSuffixEscaped:p,nestingOptionsSeparator:b,maxReplaces:v,alwaysFormat:C}=e.interpolation;this.escape=r!==void 0?r:Qs,this.escapeValue=s!==void 0?s:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=a?ft(a):l||"{{",this.suffix=o?ft(o):d||"}}",this.formatSeparator=g||",",this.unescapePrefix=u?"":c||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=m?ft(m):f||ft("$t("),this.nestingSuffix=h?ft(h):p||ft(")"),this.nestingOptionsSeparator=b||",",this.maxReplaces=v||1e3,this.alwaysFormat=C!==void 0?C:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(r,s)=>r?.source===s?(r.lastIndex=0,r):new RegExp(s,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,r,s,i){let a,l,o;const d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},g=f=>{if(f.indexOf(this.formatSeparator)<0){const v=Ir(r,d,f,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(v,void 0,s,{...i,...r,interpolationkey:f}):v}const h=f.split(this.formatSeparator),p=h.shift().trim(),b=h.join(this.formatSeparator).trim();return this.format(Ir(r,d,p,this.options.keySeparator,this.options.ignoreJSONStructure),b,s,{...i,...r,interpolationkey:p})};this.resetRegExp();const u=i?.missingInterpolationHandler||this.options.missingInterpolationHandler,c=i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:f=>nr(f)},{regex:this.regexp,safeValue:f=>this.escapeValue?nr(this.escape(f)):nr(f)}].forEach(f=>{for(o=0;a=f.regex.exec(e);){const h=a[1].trim();if(l=g(h),l===void 0)if(typeof u=="function"){const b=u(e,a,i);l=ae(b)?b:""}else if(i&&Object.prototype.hasOwnProperty.call(i,h))l="";else if(c){l=a[0];continue}else this.logger.warn(`missed to pass in variable ${h} for interpolating ${e}`),l="";else!ae(l)&&!this.useRawValueToEscape&&(l=Lr(l));const p=f.safeValue(l);if(e=e.replace(a[0],p),c?(f.regex.lastIndex+=l.length,f.regex.lastIndex-=a[0].length):f.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,r,s={}){let i,a,l;const o=(d,g)=>{const u=this.nestingOptionsSeparator;if(d.indexOf(u)<0)return d;const c=d.split(new RegExp(`${u}[ ]*{`));let m=`{${c[1]}`;d=c[0],m=this.interpolate(m,l);const f=m.match(/'/g),h=m.match(/"/g);((f?.length??0)%2===0&&!h||h.length%2!==0)&&(m=m.replace(/'/g,'"'));try{l=JSON.parse(m),g&&(l={...g,...l})}catch(p){return this.logger.warn(`failed parsing options string in nesting for key ${d}`,p),`${d}${u}${m}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,d};for(;i=this.nestingRegexp.exec(e);){let d=[];l={...s},l=l.replace&&!ae(l.replace)?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;const g=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(g!==-1&&(d=i[1].slice(g).split(this.formatSeparator).map(u=>u.trim()).filter(Boolean),i[1]=i[1].slice(0,g)),a=r(o.call(this,i[1].trim(),l),l),a&&i[0]===e&&!ae(a))return a;ae(a)||(a=Lr(a)),a||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),a=""),d.length&&(a=d.reduce((u,c)=>this.format(u,c,s.lng,{...s,interpolationkey:i[1].trim()}),a.trim())),e=e.replace(i[0],a),this.regexp.lastIndex=0}return e}}const ii=t=>{let e=t.toLowerCase().trim();const r={};if(t.indexOf("(")>-1){const s=t.split("(");e=s[0].toLowerCase().trim();const i=s[1].substring(0,s[1].length-1);e==="currency"&&i.indexOf(":")<0?r.currency||(r.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?r.range||(r.range=i.trim()):i.split(";").forEach(l=>{if(l){const[o,...d]=l.split(":"),g=d.join(":").trim().replace(/^'+|'+$/g,""),u=o.trim();r[u]||(r[u]=g),g==="false"&&(r[u]=!1),g==="true"&&(r[u]=!0),isNaN(g)||(r[u]=parseInt(g,10))}})}return{formatName:e,formatOptions:r}},Dr=t=>{const e={};return(r,s,i)=>{let a=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(a={...a,[i.interpolationkey]:void 0});const l=s+JSON.stringify(a);let o=e[l];return o||(o=t(Rt(s),i),e[l]=o),o(r)}},ni=t=>(e,r,s)=>t(Rt(r),s)(e);class ai{constructor(e={}){this.logger=Qe.create("formatter"),this.options=e,this.init(e)}init(e,r={interpolation:{}}){this.formatSeparator=r.interpolation.formatSeparator||",";const s=r.cacheInBuiltFormats?Dr:ni;this.formats={number:s((i,a)=>{const l=new Intl.NumberFormat(i,{...a});return o=>l.format(o)}),currency:s((i,a)=>{const l=new Intl.NumberFormat(i,{...a,style:"currency"});return o=>l.format(o)}),datetime:s((i,a)=>{const l=new Intl.DateTimeFormat(i,{...a});return o=>l.format(o)}),relativetime:s((i,a)=>{const l=new Intl.RelativeTimeFormat(i,{...a});return o=>l.format(o,a.range||"day")}),list:s((i,a)=>{const l=new Intl.ListFormat(i,{...a});return o=>l.format(o)})}}add(e,r){this.formats[e.toLowerCase().trim()]=r}addCached(e,r){this.formats[e.toLowerCase().trim()]=Dr(r)}format(e,r,s,i={}){const a=r.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(o=>o.indexOf(")")>-1)){const o=a.findIndex(d=>d.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,o)].join(this.formatSeparator)}return a.reduce((o,d)=>{const{formatName:g,formatOptions:u}=ii(d);if(this.formats[g]){let c=o;try{const m=i?.formatParams?.[i.interpolationkey]||{},f=m.locale||m.lng||i.locale||i.lng||s;c=this.formats[g](o,f,{...u,...i,...m})}catch(m){this.logger.warn(m)}return c}else this.logger.warn(`there was no format function for ${g}`);return o},e)}}const oi=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class li extends rr{constructor(e,r,s,i={}){super(),this.backend=e,this.store=r,this.services=s,this.languageUtils=s.languageUtils,this.options=i,this.logger=Qe.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(s,i.backend,i)}queueLoad(e,r,s,i){const a={},l={},o={},d={};return e.forEach(g=>{let u=!0;r.forEach(c=>{const m=`${g}|${c}`;!s.reload&&this.store.hasResourceBundle(g,c)?this.state[m]=2:this.state[m]<0||(this.state[m]===1?l[m]===void 0&&(l[m]=!0):(this.state[m]=1,u=!1,l[m]===void 0&&(l[m]=!0),a[m]===void 0&&(a[m]=!0),d[c]===void 0&&(d[c]=!0)))}),u||(o[g]=!0)}),(Object.keys(a).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(a),pending:Object.keys(l),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(d)}}loaded(e,r,s){const i=e.split("|"),a=i[0],l=i[1];r&&this.emit("failedLoading",a,l,r),!r&&s&&this.store.addResourceBundle(a,l,s,void 0,void 0,{skipCopy:!0}),this.state[e]=r?-1:2,r&&s&&(this.state[e]=0);const o={};this.queue.forEach(d=>{qs(d.loaded,[a],l),oi(d,e),r&&d.errors.push(r),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(g=>{o[g]||(o[g]={});const u=d.loaded[g];u.length&&u.forEach(c=>{o[g][c]===void 0&&(o[g][c]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(d=>!d.done)}read(e,r,s,i=0,a=this.retryTimeout,l){if(!e.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:r,fcName:s,tried:i,wait:a,callback:l});return}this.readingCalls++;const o=(g,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const c=this.waitingReads.shift();this.read(c.lng,c.ns,c.fcName,c.tried,c.wait,c.callback)}if(g&&u&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,r,s,i+1,a*2,l)},a);return}l(g,u)},d=this.backend[s].bind(this.backend);if(d.length===2){try{const g=d(e,r);g&&typeof g.then=="function"?g.then(u=>o(null,u)).catch(o):o(null,g)}catch(g){o(g)}return}return d(e,r,o)}prepareLoading(e,r,s={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();ae(e)&&(e=this.languageUtils.toResolveHierarchy(e)),ae(r)&&(r=[r]);const a=this.queueLoad(e,r,s,i);if(!a.toLoad.length)return a.pending.length||i(),null;a.toLoad.forEach(l=>{this.loadOne(l)})}load(e,r,s){this.prepareLoading(e,r,{},s)}reload(e,r,s){this.prepareLoading(e,r,{reload:!0},s)}loadOne(e,r=""){const s=e.split("|"),i=s[0],a=s[1];this.read(i,a,"read",void 0,void 0,(l,o)=>{l&&this.logger.warn(`${r}loading namespace ${a} for language ${i} failed`,l),!l&&o&&this.logger.log(`${r}loaded namespace ${a} for language ${i}`,o),this.loaded(e,l,o)})}saveMissing(e,r,s,i,a,l={},o=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(r)){this.logger.warn(`did not save key "${s}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(s==null||s==="")){if(this.backend?.create){const d={...l,isUpdate:a},g=this.backend.create.bind(this.backend);if(g.length<6)try{let u;g.length===5?u=g(e,r,s,i,d):u=g(e,r,s,i),u&&typeof u.then=="function"?u.then(c=>o(null,c)).catch(o):o(null,u)}catch(u){o(u)}else g(e,r,s,i,o,d)}!e||!e[0]||this.store.addResource(e[0],r,s,i)}}}const zr=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),ae(t[1])&&(e.defaultValue=t[1]),ae(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const r=t[3]||t[2];Object.keys(r).forEach(s=>{e[s]=r[s]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Br=t=>(ae(t.ns)&&(t.ns=[t.ns]),ae(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),ae(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),jt=()=>{},di=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(r=>{typeof t[r]=="function"&&(t[r]=t[r].bind(t))})};class Ft extends rr{constructor(e={},r){if(super(),this.options=Br(e),this.services={},this.logger=Qe,this.modules={external:[]},di(this),r&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,r),this;setTimeout(()=>{this.init(e,r)},0)}}init(e={},r){this.isInitializing=!0,typeof e=="function"&&(r=e,e={}),e.defaultNS==null&&e.ns&&(ae(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const s=zr();this.options={...s,...this.options,...Br(e)},this.options.interpolation={...s.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const i=g=>g?typeof g=="function"?new g:g:null;if(!this.options.isClone){this.modules.logger?Qe.init(i(this.modules.logger),this.options):Qe.init(null,this.options);let g;this.modules.formatter?g=this.modules.formatter:g=ai;const u=new Or(this.options);this.store=new Rr(this.options.resources,this.options);const c=this.services;c.logger=Qe,c.resourceStore=this.store,c.languageUtils=u,c.pluralResolver=new ri(u,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==s.interpolation.format&&this.logger.warn("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),g&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(c.formatter=i(g),c.formatter.init&&c.formatter.init(c,this.options),this.options.interpolation.format=c.formatter.format.bind(c.formatter)),c.interpolator=new si(this.options),c.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},c.backendConnector=new li(i(this.modules.backend),c.resourceStore,c,this.options),c.backendConnector.on("*",(f,...h)=>{this.emit(f,...h)}),this.modules.languageDetector&&(c.languageDetector=i(this.modules.languageDetector),c.languageDetector.init&&c.languageDetector.init(c,this.options.detection,this.options)),this.modules.i18nFormat&&(c.i18nFormat=i(this.modules.i18nFormat),c.i18nFormat.init&&c.i18nFormat.init(this)),this.translator=new Xt(this.services,this.options),this.translator.on("*",(f,...h)=>{this.emit(f,...h)}),this.modules.external.forEach(f=>{f.init&&f.init(this)})}if(this.format=this.options.interpolation.format,r||(r=jt),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const g=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);g.length>0&&g[0]!=="dev"&&(this.options.lng=g[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(g=>{this[g]=(...u)=>this.store[g](...u)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(g=>{this[g]=(...u)=>(this.store[g](...u),this)});const o=$t(),d=()=>{const g=(u,c)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(c),r(u,c)};if(this.languages&&!this.isInitialized)return g(null,this.t.bind(this));this.changeLanguage(this.options.lng,g)};return this.options.resources||!this.options.initAsync?d():setTimeout(d,0),o}loadResources(e,r=jt){let s=r;const i=ae(e)?e:this.language;if(typeof e=="function"&&(s=e),!this.options.resources||this.options.partialBundledLanguages){if(i?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return s();const a=[],l=o=>{if(!o||o==="cimode")return;this.services.languageUtils.toResolveHierarchy(o).forEach(g=>{g!=="cimode"&&a.indexOf(g)<0&&a.push(g)})};i?l(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>l(d)),this.options.preload?.forEach?.(o=>l(o)),this.services.backendConnector.load(a,this.options.ns,o=>{!o&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),s(o)})}else s(null)}reloadResources(e,r,s){const i=$t();return typeof e=="function"&&(s=e,e=void 0),typeof r=="function"&&(s=r,r=void 0),e||(e=this.languages),r||(r=this.options.ns),s||(s=jt),this.services.backendConnector.reload(e,r,a=>{i.resolve(),s(a)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&cs.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let r=0;r<this.languages.length;r++){const s=this.languages[r];if(!(["cimode","dev"].indexOf(s)>-1)&&this.store.hasLanguageSomeTranslations(s)){this.resolvedLanguage=s;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,r){this.isLanguageChangingTo=e;const s=$t();this.emit("languageChanging",e);const i=o=>{this.language=o,this.languages=this.services.languageUtils.toResolveHierarchy(o),this.resolvedLanguage=void 0,this.setResolvedLanguage(o)},a=(o,d)=>{d?this.isLanguageChangingTo===e&&(i(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,s.resolve((...g)=>this.t(...g)),r&&r(o,(...g)=>this.t(...g))},l=o=>{!e&&!o&&this.services.languageDetector&&(o=[]);const d=ae(o)?o:o&&o[0],g=this.store.hasLanguageSomeTranslations(d)?d:this.services.languageUtils.getBestMatchFromCodes(ae(o)?[o]:o);g&&(this.language||i(g),this.translator.language||this.translator.changeLanguage(g),this.services.languageDetector?.cacheUserLanguage?.(g)),this.loadResources(g,u=>{a(u,g)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e),s}getFixedT(e,r,s){const i=(a,l,...o)=>{let d;typeof l!="object"?d=this.options.overloadTranslationOptionHandler([a,l].concat(o)):d={...l},d.lng=d.lng||i.lng,d.lngs=d.lngs||i.lngs,d.ns=d.ns||i.ns,d.keyPrefix!==""&&(d.keyPrefix=d.keyPrefix||s||i.keyPrefix);const g=this.options.keySeparator||".";let u;return d.keyPrefix&&Array.isArray(a)?u=a.map(c=>`${d.keyPrefix}${g}${c}`):u=d.keyPrefix?`${d.keyPrefix}${g}${a}`:a,this.t(u,d)};return ae(e)?i.lng=e:i.lngs=e,i.ns=r,i.keyPrefix=s,i}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,r={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const s=r.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const l=(o,d)=>{const g=this.services.backendConnector.state[`${o}|${d}`];return g===-1||g===0||g===2};if(r.precheck){const o=r.precheck(this,l);if(o!==void 0)return o}return!!(this.hasResourceBundle(s,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(s,e)&&(!i||l(a,e)))}loadNamespaces(e,r){const s=$t();return this.options.ns?(ae(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{s.resolve(),r&&r(i)}),s):(r&&r(),Promise.resolve())}loadLanguages(e,r){const s=$t();ae(e)&&(e=[e]);const i=this.options.preload||[],a=e.filter(l=>i.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return a.length?(this.options.preload=i.concat(a),this.loadResources(l=>{s.resolve(),r&&r(l)}),s):(r&&r(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const i=new Intl.Locale(e);if(i&&i.getTextInfo){const a=i.getTextInfo();if(a&&a.direction)return a.direction}}catch{}const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],s=this.services?.languageUtils||new Or(zr());return e.toLowerCase().indexOf("-latn")>1?"ltr":r.indexOf(s.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},r){return new Ft(e,r)}cloneInstance(e={},r=jt){const s=e.forkResourceStore;s&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},a=new Ft(i);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(o=>{a[o]=this[o]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},s){const o=Object.keys(this.store.data).reduce((d,g)=>(d[g]={...this.store.data[g]},d[g]=Object.keys(d[g]).reduce((u,c)=>(u[c]={...d[g][c]},u),d[g]),d),{});a.store=new Rr(o,i),a.services.resourceStore=a.store}return a.translator=new Xt(a.services,i),a.translator.on("*",(o,...d)=>{a.emit(o,...d)}),a.init(i,r),a.translator.options=i,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const De=Ft.createInstance();De.createInstance=Ft.createInstance;De.createInstance;De.dir;De.init;De.loadResources;De.reloadResources;De.use;De.changeLanguage;De.getFixedT;De.t;De.exists;De.setDefaultNamespace;De.hasLoadedNamespace;De.loadNamespaces;De.loadLanguages;const ci={page_title:"deepnest - Industrial nesting",parts:"Parts",nests:"Nests",sheets:"Sheets",settings:"Settings",imprint:"Imprint"},gi={stop_nest:"Stop nest",export:"Export",export_svg:"SVG file",export_dxf:"DXF file",export_json:"JSON file",back:"Back",import:"Import",start_nest:"Start nest",deselect:"Deselect",select:"Select",all:"all",add:"Add",cancel:"Cancel",save_preset:"Save Preset",load:"Load",delete:"Delete",save:"Save",reset_defaults:"set all to default"},ui={size:"Size",sheet:"Sheet",quantity:"Quantity",add_sheet:"Add Sheet",width:"width",height:"height",nesting_config:"Nesting configuration",display_units:"Display units",inches:"inches",mm:"mm",space_between_parts:"Space between parts",curve_tolerance:"Curve tolerance",part_rotations:"Part rotations",optimization_type:"Optimization type",gravity:"Gravity",bounding_box:"Bounding Box",squeeze:"Squeeze",use_rough_approximation:"Use rough approximation",cpu_cores:"CPU cores",import_export:"Import/Export",use_svg_normalizer:"Use SVG Normalizer?",svg_scale:"SVG scale",units_per:"units/",endpoint_tolerance:"Endpoint tolerance",dxf_import_units:"DXF import units",points:"Points",picas:"Picas",inches_cap:"Inches",cm:"cm",dxf_export_units:"DXF export units",export_with_sheet_boundaries:"Export with Sheet Boundborders?",export_with_sheets_space:"Export with Space between Sheets?",distance_between_sheets:"Distance between Sheets?",laser_options:"Laser options",merge_common_lines:"Merge common lines",optimization_ratio:"Optimization ratio",meta_heuristic_tuning:"Meta-heuristic fine tuning",ga_population:"GA population",ga_mutation_rate:"GA mutation rate",other_settings:"Other Settings",use_quantity_from_filename:"Use Quantity from filename",presets:"Presets",save_config_presets:"Save Configuration Presets",load_delete_presets:"Load/Delete Configuration Presets",select_preset_default:"-- Select a preset --",save_preset_title:"Save Preset",enter_preset_name:"Enter preset name"},fi={nesting_in_progress:"Nesting in progress...",error_occurred:"Error occurred",processing:"Processing...",ready:"Ready",threads_active:"{{count}} threads active",parts_loaded:"{{count}} parts loaded",nests_available:"{{count}} nests available"},Vr={navigation:ci,actions:gi,labels:ui,status:fi},pi="Please enter a preset name",hi="Preset saved successfully!",_i="Error saving preset",mi="Please select a preset to load",bi="Preset loaded successfully!",xi="Selected preset not found",yi="Error loading preset",vi="Please select a preset to delete",$i='Are you sure you want to delete the preset "{{presetName}}"?',ki="Preset deleted successfully!",wi="Error deleting preset",Si="Please import some parts first",Ci="Please mark at least one part as the sheet",Pi="No file selected",Li="An error occurred reading the file",Ni="Error processing SVG",Ai="could not contact file conversion server",Ei="There was an Error while converting",Ri={enter_preset_name:pi,preset_saved:hi,error_saving_preset:_i,select_preset_to_load:mi,preset_loaded:bi,preset_not_found:xi,error_loading_preset:yi,select_preset_to_delete:vi,confirm_delete_preset:$i,preset_deleted:ki,error_deleting_preset:wi,import_parts_first:Si,mark_part_as_sheet:Ci,no_file_selected:Pi,file_read_error:Li,svg_processing_error:Ni,conversion_server_error:Ai,conversion_error:Ei},Fi="Parts",Mi="Import Parts",Oi="Export Parts",ji="Export Selected",Ti="Delete Selected",Ii="No parts selected",Di="Failed to import parts",zi="Failed to export parts",Bi="Total Parts",Vi="Total Quantity",Ui="Select All",Hi="Deselect All",Wi="No Parts Loaded",Gi="Import SVG or DXF files to get started",qi="Search parts...",Ki="Sort by",Ji="Name",Qi="Quantity",Xi="Size",Zi="Rotation",Yi="Dimensions",en="Area",tn="Preview Error",rn={parts_title:Fi,import:"Import",export:"Export",delete:"Delete",import_parts:Mi,export_parts:Oi,export_selected:ji,delete_selected:Ti,no_parts_selected:Ii,import_failed:Di,export_failed:zi,total_parts:Bi,total_quantity:Vi,select_all:Ui,deselect_all:Hi,no_parts_loaded:Wi,import_parts_to_get_started:Gi,search_parts:qi,sort_by:Ki,name:Ji,quantity:Qi,size:Xi,rotation:Zi,dimensions:Yi,area:en,preview_error:tn},sn="Nesting",nn="Start Nesting",an="Stop Nesting",on="Clear Results",ln="Cannot start nesting: need parts and sheets",dn="Failed to start nesting",cn="Failed to stop nesting",gn="Parts to Nest",un="Available Sheets",fn="Results Count",pn="No Nesting Results",hn="Start nesting to see results here",_n="Add parts and sheets first to enable nesting",mn="Nesting in Progress",bn="Est. time remaining",xn="Current Operation",yn="Threads Active",vn="Worker Status",$n="Running",kn="Stopped",wn="Generation",Sn="Best Fitness",Cn="Refresh Status",Pn="Nesting Results",Ln="Sorted by efficiency",Nn="Result",An="Best",En="Efficiency",Rn="Fitness",Fn="Sheets Used",Mn="Parts Placed",On="View Details",jn="Back to Results",Tn="Result Details",In="Export Result",Dn="Export failed",zn="Click to view",Bn="Zoom Out",Vn="Zoom In",Un="Reset View",Hn="Sheet",Wn="Statistics",Gn="Material Efficiency",qn="Fitness Score",Kn="Material Waste",Jn="Total Parts Placed",Qn="Total Material Used",Xn="Generation Time",Zn="Generation Number",Yn="Live Results",ea="Connected",ta="Disconnected",ra="Last Update",sa="Expand",ia="Collapse",na="Current Progress",aa="Best Result",oa="Utilization",la="Intermediate Results",da="No intermediate results yet",ca="Connection Lost",ga="Reconnect Attempts: {{count}}",ua="Error Occurred",fa="Just now",pa="{{count}} seconds ago",ha="{{count}} minutes ago",_a="{{count}} hours ago",ma="Sheets",ba={nesting_title:sn,start_nesting:nn,stop_nesting:an,clear_results:on,cannot_start_nesting:ln,start_nesting_failed:dn,stop_nesting_failed:cn,parts_to_nest:gn,available_sheets:un,results_count:fn,no_nesting_results:pn,start_nesting_to_see_results:hn,add_parts_and_sheets_first:_n,nesting_in_progress:mn,estimated_time_remaining:bn,current_operation:xn,threads_active:yn,worker_status:vn,running:$n,stopped:kn,current_generation:wn,best_fitness:Sn,refresh_status:Cn,nesting_results:Pn,sorted_by_efficiency:Ln,result:Nn,best:An,efficiency:En,fitness:Rn,sheets_used:Fn,parts_placed:Mn,view_details:On,export:"Export",delete:"Delete",back_to_results:jn,result_details:Tn,export_result:In,export_failed:Dn,click_to_view:zn,zoom_out:Bn,zoom_in:Vn,reset_view:Un,sheet:Hn,statistics:Wn,material_efficiency:Gn,fitness_score:qn,material_waste:Kn,total_parts_placed:Jn,total_material_used:Qn,generation_time:Xn,generation_number:Zn,live_results:Yn,connected:ea,disconnected:ta,last_update:ra,expand:sa,collapse:ia,current_progress:na,best_result:aa,utilization:oa,intermediate_results:la,no_intermediate_results:da,connection_lost:ca,reconnect_attempts:ga,error_occurred:ua,just_now:fa,seconds_ago:pa,minutes_ago:ha,hours_ago:_a,sheets:ma},xa="Sheets",ya="Add Sheet",va="Edit Sheet",$a="Add New Sheet",ka="Total Sheets",wa="Total Area",Sa="No Sheets Loaded",Ca="Add sheets to define your material constraints",Pa="Quick Templates",La="Configured Sheets",Na="Sheet",Aa="Dimensions",Ea="Quantity",Ra="Material",Fa="Margin",Ma="Edit",Oa="Basic Information",ja="Sheet Name",Ta="Enter sheet name (optional)",Ia="Width",Da="Height",za="Thickness",Ba="Properties",Va="Area",Ua="Preview",Ha="Cancel",Wa="Update Sheet",Ga="Swap Width/Height",qa="Width must be greater than 0",Ka="Height must be greater than 0",Ja="Thickness must be greater than 0",Qa="Quantity must be greater than 0",Xa="Margin cannot be negative",Za={sheets_title:xa,add_sheet:ya,edit_sheet:va,add_new_sheet:$a,total_sheets:ka,total_area:wa,no_sheets_loaded:Sa,add_sheets_to_get_started:Ca,quick_templates:Pa,configured_sheets:La,sheet:Na,dimensions:Aa,quantity:Ea,material:Ra,margin:Fa,edit:Ma,delete:"Delete",basic_information:Oa,sheet_name:ja,enter_sheet_name:Ta,width:Ia,height:Da,thickness:za,properties:Ba,area:Va,preview:Ua,cancel:Ha,update_sheet:Wa,swap_dimensions:Ga,width_must_be_positive:qa,height_must_be_positive:Ka,thickness_must_be_positive:Ja,quantity_must_be_positive:Qa,margin_cannot_be_negative:Xa},Ya="Settings",eo="Preset Management",to="Algorithm Settings",ro="UI Preferences",so="Advanced Settings",io="Reset Defaults",no="Import Configuration",ao="Export Configuration",oo="Reset to Defaults",lo="Are you sure you want to reset all settings to defaults?",co="Failed to reset settings",go="Failed to export configuration",uo="Failed to import configuration",fo="Presets allow you to save and restore complete nesting configurations.",po="Create Preset",ho="Create New Preset",_o="Preset Name",mo="Preset name is required",bo="Enter preset name",xo="Description (optional)",yo="Enter a description for this preset",vo="Cancel",$o="No Presets Available",ko="Create a preset to save your current configuration",wo="Export Preset",So="Delete Preset",Co="Load Preset",Po="Active",Lo="Created",No="Updated",Ao="Are you sure you want to delete preset '{{name}}'?",Eo="Failed to create preset",Ro="Failed to load preset",Fo="Failed to delete preset",Mo="Failed to export preset",Oo="Failed to import preset",jo="Import Preset",To="Nesting Parameters",Io="Space Between Parts",Do="Minimum distance between parts in millimeters",zo="Curve Tolerance",Bo="Tolerance for curve approximation. Lower values = more accurate but slower",Vo="Part Rotations",Uo="Number of rotation angles to try for each part",Ho="No Rotation",Wo="Free Rotation (any angle)",Go="Genetic Algorithm",qo="Population Size",Ko="Number of solutions in each generation. Higher = better results but slower",Jo="Mutation Rate",Qo="Probability of random changes. Higher = more exploration but less stability",Xo="Advanced Options",Zo="Use Holes",Yo="Consider holes in parts for nesting (experimental)",el="Explore Concave",tl="Try placing parts in concave areas of other parts",rl="Merge Common Lines",sl="Combine overlapping cut lines to reduce cutting time",il="Use Rough Approximation",nl="Use faster but less accurate calculations for initial placement",al="Appearance",ol="Language",ll="Select the interface language",dl="Theme",cl="Choose between light, dark, or automatic theme",gl="Auto (follows system)",ul="Light",fl="Dark",pl="Dark Mode",hl="Use dark colors for the interface",_l="Units and Formatting",ml="Display Units",bl="Units for displaying measurements",xl="Millimeters (mm)",yl="Inches (in)",vl="Centimeters (cm)",$l="Show Grid",kl="Display grid lines in the viewport",wl="Show Rulers",Sl="Display measurement rulers",Cl="Layout Preferences",Pl="Parts Panel Width",Ll="Width of the parts panel in pixels",Nl="Reset",Al="Show Tooltips",El="Display helpful tooltips on hover",Rl="Show Status Bar",Fl="Display the status bar at the bottom",Ml="Performance",Ol="Worker Threads",jl="Number of CPU threads to use (max: {{max}})",Tl="Enable GPU Acceleration",Il="Use graphics card for calculations (experimental)",Dl="Enable Caching",zl="Cache calculations to improve performance",Bl="Debugging",Vl="Debug Mode",Ul="Enable additional debugging information",Hl="Verbose Logging",Wl="Log detailed information to console",Gl="Show Debug Info",ql="Hide Debug Info",Kl="System Information",Jl="Platform",Ql="CPU Cores",Xl="Viewport",Zl="Memory Used",Yl="Memory Total",ed="Export Debug Info",td="Maintenance",rd="Clear Cache",sd="Clear all cached data and preferences",id="Are you sure you want to clear all cached data?",nd="Cache cleared successfully",ad="Failed to clear cache",od="Reset Layout",ld="Reset panel sizes and positions to defaults",dd="Auto-save Interval",cd="minutes",gd="How often to automatically save your work (0 = disabled)",ud={settings_title:Ya,preset_management:eo,algorithm_settings:to,ui_preferences:ro,advanced_settings:so,import:"Import",export:"Export",reset_defaults:io,import_configuration:no,export_configuration:ao,reset_to_defaults:oo,confirm_reset_defaults:lo,reset_failed:co,export_failed:go,import_failed:uo,preset_description:fo,create_preset:po,create_new_preset:ho,preset_name:_o,preset_name_required:mo,enter_preset_name:bo,preset_description_optional:xo,enter_preset_description:yo,cancel:vo,no_presets_available:$o,create_preset_to_get_started:ko,export_preset:wo,delete_preset:So,load_preset:Co,active:Po,created:Lo,updated:No,confirm_delete_preset:Ao,preset_create_failed:Eo,preset_load_failed:Ro,preset_delete_failed:Fo,preset_export_failed:Mo,preset_import_failed:Oo,import_preset:jo,nesting_parameters:To,space_between_parts:Io,spacing_description:Do,curve_tolerance:zo,curve_tolerance_description:Bo,part_rotations:Vo,rotations_description:Uo,no_rotation:Ho,"2_rotations":"2 Rotations (0Â°, 180Â°)","4_rotations":"4 Rotations (0Â°, 90Â°, 180Â°, 270Â°)","8_rotations":"8 Rotations (45Â° steps)","12_rotations":"12 Rotations (30Â° steps)",free_rotation:Wo,genetic_algorithm:Go,population_size:qo,population_size_description:Ko,mutation_rate:Jo,mutation_rate_description:Qo,advanced_options:Xo,use_holes:Zo,use_holes_description:Yo,explore_concave:el,explore_concave_description:tl,merge_common_lines:rl,merge_lines_description:sl,use_rough_approximation:il,rough_approximation_description:nl,appearance:al,language:ol,language_description:ll,theme:dl,theme_description:cl,auto_theme:gl,light_theme:ul,dark_theme:fl,dark_mode:pl,dark_mode_description:hl,units_and_formatting:_l,display_units:ml,units_description:bl,millimeters:xl,inches:yl,centimeters:vl,show_grid:$l,show_grid_description:kl,show_rulers:wl,show_rulers_description:Sl,layout_preferences:Cl,parts_panel_width:Pl,panel_width_description:Ll,reset:Nl,show_tooltips:Al,tooltips_description:El,show_status_bar:Rl,status_bar_description:Fl,performance:Ml,worker_threads:Ol,worker_threads_description:jl,enable_gpu_acceleration:Tl,gpu_acceleration_description:Il,enable_caching:Dl,caching_description:zl,debugging:Bl,debug_mode:Vl,debug_mode_description:Ul,verbose_logging:Hl,verbose_logging_description:Wl,show_debug_info:Gl,hide_debug_info:ql,system_information:Kl,platform:Jl,cpu_cores:Ql,viewport:Xl,memory_used:Zl,memory_total:Yl,export_debug_info:ed,maintenance:td,clear_cache:rd,clear_cache_description:sd,confirm_clear_cache:id,cache_cleared_success:nd,cache_clear_failed:ad,reset_layout:od,reset_layout_description:ld,auto_save_interval:dd,minutes:cd,auto_save_description:gd},fd="File Operations",pd="Drag & Drop Files",hd="Import Files",_d="Export Options",md="Recent Files",bd="Drop files here to import",xd="or click to browse",yd="Supported formats: SVG, DXF, JSON",vd="Select Files",$d="Browse Files",kd="Importing Files...",wd="{{count}} files imported successfully",Sd="Importing {{current}} of {{total}} files",Cd="Failed to import files",Pd="File validation error",Ld="Invalid file format: {{format}}",Nd="File too large: {{size}}. Maximum size is {{max}}",Ad="Failed to read file: {{filename}}",Ed="Export Format",Rd="Export Settings",Fd="Export All",Md="Export Selected",Od="Export Current",jd="Files exported successfully",Td="Failed to export files",Id="SVG Vector",Dd="DXF CAD",zd="PDF Document",Bd="JSON Data",Vd="Include Sheet Outline",Ud="Include Part Labels",Hd="Optimize Cut Paths",Wd="Merge Common Lines",Gd="Export Scale",qd="Export Units",Kd="No Recent Files",Jd="Clear Recent",Qd="Open Recent File",Xd="Pin File",Zd="Unpin File",Yd="Remove from Recent",ec="File not found: {{filename}}",tc="Quickly access your recently used files",rc="Maximum {{count}} recent files",sc="Pinned",ic="Size",nc="Modified",ac="Path",oc="Copy Path",lc="Open File Location",dc="File Information",cc="Processing...",gc="Cancel Import",uc="Retry Import",fc="Skip File",pc="Continue Import",hc="Validation Warning",_c="File contains errors but can be imported",mc="Import Anyway",bc="Fix Errors",xc="Auto Fix",yc="Manual Fix",vc="Error Details",$c="Line {{number}}",kc="Invalid geometry detected",wc="Duplicate points found",Sc="Self-intersecting polygon",Cc="Unclosed path detected",Pc="File is empty",Lc="File appears to be corrupted",Nc="Unsupported file version",Ac="Missing required data",Ec={file_operations:fd,drag_drop_files:pd,import_files:hd,export_options:_d,recent_files:md,drop_files_here:bd,or_click_to_browse:xd,supported_formats:yd,select_files:vd,browse_files:$d,importing_files:kd,files_imported:wd,import_progress:Sd,import_failed:Cd,file_validation_error:Pd,invalid_file_format:Ld,file_too_large:Nd,file_read_error:Ad,export_format:Ed,export_settings:Rd,export_all:Fd,export_selected:Md,export_current:Od,export_success:jd,export_failed:Td,svg_format:Id,dxf_format:Dd,pdf_format:zd,json_format:Bd,include_sheet:Vd,include_labels:Ud,optimize_paths:Hd,merge_lines:Wd,export_scale:Gd,export_units:qd,no_recent_files:Kd,clear_recent:Jd,open_recent:Qd,pin_file:Xd,unpin_file:Zd,remove_from_recent:Yd,file_not_found:ec,recent_files_description:tc,max_recent_files:rc,pinned:sc,file_size:ic,last_modified:nc,file_path:ac,copy_path:oc,open_location:lc,file_info:dc,processing:cc,cancel_import:gc,retry_import:uc,skip_file:fc,continue_import:pc,validation_warning:hc,file_contains_errors:_c,import_anyway:mc,fix_errors:bc,auto_fix:xc,manual_fix:yc,error_details:vc,line_number:$c,invalid_geometry:kc,duplicate_points:wc,self_intersecting:Sc,unclosed_path:Cc,empty_file:Pc,corrupted_file:Lc,unsupported_version:Nc,missing_required_data:Ac},Rc="Imprint",Fc="Advanced nesting software for CNC, laser cutters, and plotters",Mc="Version",Oc="Build Date",jc="About DeepNest Next",Tc="DeepNest Next is a powerful nesting software designed for CNC machines, laser cutters, and plotters. It optimizes the placement of parts on sheets to minimize material waste and maximize efficiency.",Ic="Key features include:",Dc="Advanced genetic algorithm for optimal part placement",zc="Support for multiple file formats (SVG, DXF, PDF)",Bc="Real-time preview and progress tracking",Vc="Advanced configuration options for fine-tuning",Uc="Multi-language support with internationalization",Hc="Technical Information",Wc="Frontend Technologies",Gc="Backend Technologies",qc="Project Information",Kc="Project Origin",Jc="DeepNest Next is a modern fork of the original SVGnest and Deepnest projects, rebuilt with modern technologies while maintaining the powerful nesting algorithms.",Qc="Open Source",Xc="This project is open source and available under the MIT License. Contributions, bug reports, and feature requests are welcome.",Zc="View Source Code",Yc="View Releases",eg="Legal Information",tg="Please review our privacy policy and legal notices for important information about data handling and software usage.",rg="Privacy Policy",sg="Legal Notice",ig="Contact & Support",ng="For questions, bug reports, or feature requests, please use our GitHub repository.",ag="Report Issue",og="Discussions",lg="Close",dg="Last Updated",cg="Overview",gg="DeepNest Next is a desktop application that processes your files locally. We are committed to protecting your privacy and ensuring your data remains secure.",ug="Data Collection",fg="DeepNest Next collects minimal data necessary for functionality:",pg="Application settings and preferences",hg="User interface preferences (theme, language)",_g="Project files and nesting results (stored locally)",mg="No personal information or tracking data",bg="Data Storage",xg="All data is stored locally on your device:",yg="Settings stored in application data directory",vg="No data transmitted to external servers",$g="Full user control over data deletion",kg="Third-Party Services",wg="DeepNest Next may use external services:",Sg="File conversion service (optional, user-controlled)",Cg="All external services are optional and user-initiated",Pg="No tracking or analytics services",Lg="User Rights",Ng="As a user of DeepNest Next, you have the right to:",Ag="Access all your stored data",Eg="Delete your settings and data at any time",Rg="Modify or update your preferences",Fg="Export your projects and settings",Mg="Policy Updates",Og="This privacy policy may be updated occasionally. Changes will be communicated through application updates and GitHub releases.",jg="Contact Information",Tg="For privacy-related questions or concerns, please contact us through our GitHub repository:",Ig="GitHub Issues",Dg="Last Updated",zg="Software Information",Bg="Software Name",Vg="Version",Ug="Software Type",Hg="Desktop Application for Nesting Optimization",Wg="Project Website",Gg="License",qg="DeepNest Next is licensed under the MIT License, which allows for free use, modification, and distribution.",Kg="License Type",Jg="License Text",Qg="Disclaimer",Xg="DeepNest Next is provided 'as is' without warranty of any kind. Users are responsible for verifying the accuracy of nesting results before production use.",Zg="Important",Yg="Always verify nesting results before cutting materials. The software is a tool to assist in optimization but should not be relied upon without human verification.",e0="Third-Party Software",t0="DeepNest Next incorporates several third-party libraries and components:",r0="Attribution",s0="DeepNest Next is based on previous work and incorporates algorithms from:",i0="Original SVGnest",n0="Previous Deepnest",a0="Contact",o0="For legal questions or licensing inquiries, please contact us through our GitHub repository:",l0="GitHub Issues",Ur={imprint_title:Rc,tagline:Fc,version:Mc,build_date:Oc,about_title:jc,about_description:Tc,about_features:Ic,feature_genetic_algorithm:Dc,feature_multiple_formats:zc,feature_real_time_preview:Bc,feature_advanced_settings:Vc,feature_multi_language:Uc,technical_info_title:Hc,frontend_technologies:Wc,backend_technologies:Gc,project_info_title:qc,project_origin:Kc,project_origin_description:Jc,open_source:Qc,open_source_description:Xc,view_source:Zc,releases:Yc,legal_title:eg,legal_description:tg,privacy_policy:rg,legal_notice:sg,contact_title:ig,contact_description:ng,report_issue:ag,discussions:og,close:lg,privacy_last_updated:dg,privacy_section_overview:cg,privacy_overview_text:gg,privacy_section_data_collection:ug,privacy_data_collection_text:fg,privacy_data_settings:pg,privacy_data_preferences:hg,privacy_data_projects:_g,privacy_data_no_personal:mg,privacy_section_data_storage:bg,privacy_data_storage_text:xg,privacy_storage_local:yg,privacy_storage_no_transmission:vg,privacy_storage_user_control:$g,privacy_section_third_party:kg,privacy_third_party_text:wg,privacy_third_party_converter:Sg,privacy_third_party_optional:Cg,privacy_third_party_no_tracking:Pg,privacy_section_user_rights:Lg,privacy_user_rights_text:Ng,privacy_rights_access:Ag,privacy_rights_delete:Eg,privacy_rights_modify:Rg,privacy_rights_export:Fg,privacy_section_updates:Mg,privacy_updates_text:Og,privacy_section_contact:jg,privacy_contact_text:Tg,privacy_contact_github:Ig,legal_last_updated:Dg,legal_section_software_info:zg,legal_software_name:Bg,legal_software_version:Vg,legal_software_type:Ug,legal_software_type_description:Hg,legal_project_website:Wg,legal_section_license:Gg,legal_license_text:qg,legal_license_type:Kg,legal_license_link:Jg,legal_section_disclaimer:Qg,legal_disclaimer_text:Xg,legal_disclaimer_warning:Zg,legal_disclaimer_warning_text:Yg,legal_section_third_party:e0,legal_third_party_text:t0,legal_section_attribution:r0,legal_attribution_text:s0,legal_attribution_original:i0,legal_attribution_previous:n0,legal_section_contact:a0,legal_contact_text:o0,legal_contact_github:l0},d0={page_title:"deepnest next - Nesting mit Industrie-Standard",parts:"Teile",nests:"Nester",sheets:"BlÃ¤tter",settings:"Einstellungen"},c0={stop_nest:"Nester stoppen",export:"Exportieren",export_svg:"SVG-Datei",export_dxf:"DXF-Datei",export_json:"JSON-Datei",back:"ZurÃ¼ck",import:"Importieren",start_nest:"Nester starten",deselect:"AbwÃ¤hlen",select:"AuswÃ¤hlen",all:"Alle",add:"HinzufÃ¼gen",cancel:"Abbrechen",save_preset:"Voreinstellung speichern",load:"Laden",delete:"LÃ¶schen",save:"Speichern",reset_defaults:"Alle auf Standard zurÃ¼cksetzen"},g0={size:"GrÃ¶ÃŸe",sheet:"Blatt",quantity:"Menge",add_sheet:"Blatt hinzufÃ¼gen",width:"Breite",height:"HÃ¶he",nesting_config:"Nesting-Konfiguration",display_units:"Anzeigeeinheiten",inches:"Zoll",mm:"mm",space_between_parts:"Abstand zwischen Teilen",curve_tolerance:"Kurventoleranz",part_rotations:"Teileinstellungen",optimization_type:"Optimierungstyp",gravity:"Schwerkraft",bounding_box:"Umrandungsbox",squeeze:"Quetschen",use_rough_approximation:"Grobe AnnÃ¤herung verwenden",cpu_cores:"CPU-Kerne",import_export:"Import/Export",use_svg_normalizer:"SVG-Normalisierer verwenden?",svg_scale:"SVG-Skalierung",units_per:"Einheiten/",endpoint_tolerance:"Endpunkt-Toleranz",dxf_import_units:"DXF-Importeinheiten",points:"Punkte",picas:"Picas",inches_cap:"Zoll",cm:"cm",dxf_export_units:"DXF-Exporteinheiten",export_with_sheet_boundaries:"Export mit Blattgrenzen?",export_with_sheets_space:"Export mit Abstand zwischen BlÃ¤ttern?",distance_between_sheets:"Abstand zwischen BlÃ¤ttern?",laser_options:"Laseroptionen",merge_common_lines:"Gemeinsame Linien zusammenfÃ¼hren",optimization_ratio:"OptimierungsverhÃ¤ltnis",meta_heuristic_tuning:"Meta-heuristische Feinabstimmung",ga_population:"GA-Population",ga_mutation_rate:"GA-Mutationsrate",other_settings:"Weitere Einstellungen",use_quantity_from_filename:"Menge aus Dateinamen verwenden",presets:"Voreinstellungen",save_config_presets:"Voreinstellungen speichern",load_delete_presets:"Voreinstellungen laden/lÃ¶schen",select_preset_default:"-- Voreinstellung auswÃ¤hlen --",save_preset_title:"Voreinstellung speichern",enter_preset_name:"Voreinstellungsnamen eingeben"},u0={nesting_in_progress:"Nesting wird durchgefÃ¼hrt...",error_occurred:"Fehler aufgetreten",processing:"Wird verarbeitet...",ready:"Bereit",threads_active:"{{count}} aktive Threads",parts_loaded:"{{count}} Teile geladen",nests_available:"{{count}} Nester verfÃ¼gbar"},Hr={navigation:d0,actions:c0,labels:g0,status:u0},f0="Please enter a preset name",p0="Preset saved successfully!",h0="Error saving preset",_0="Please select a preset to load",m0="Preset loaded successfully!",b0="Selected preset not found",x0="Error loading preset",y0="Please select a preset to delete",v0='Are you sure you want to delete the preset "{{presetName}}"?',$0="Preset deleted successfully!",k0="Error deleting preset",w0="Please import some parts first",S0="Please mark at least one part as the sheet",C0="No file selected",P0="An error occurred reading the file",L0="Error processing SVG",N0="could not contact file conversion server",A0="There was an Error while converting",E0={enter_preset_name:f0,preset_saved:p0,error_saving_preset:h0,select_preset_to_load:_0,preset_loaded:m0,preset_not_found:b0,error_loading_preset:x0,select_preset_to_delete:y0,confirm_delete_preset:v0,preset_deleted:$0,error_deleting_preset:k0,import_parts_first:w0,mark_part_as_sheet:S0,no_file_selected:C0,file_read_error:P0,svg_processing_error:L0,conversion_server_error:N0,conversion_error:A0},R0="Parts",F0="Import Parts",M0="Export Parts",O0="Export Selected",j0="Delete Selected",T0="No parts selected",I0="Failed to import parts",D0="Failed to export parts",z0="Total Parts",B0="Total Quantity",V0="Select All",U0="Deselect All",H0="No Parts Loaded",W0="Import SVG or DXF files to get started",G0="Search parts...",q0="Sort by",K0="Name",J0="Quantity",Q0="Size",X0="Rotation",Z0="Dimensions",Y0="Area",eu="Preview Error",tu={parts_title:R0,import:"Import",export:"Export",delete:"Delete",import_parts:F0,export_parts:M0,export_selected:O0,delete_selected:j0,no_parts_selected:T0,import_failed:I0,export_failed:D0,total_parts:z0,total_quantity:B0,select_all:V0,deselect_all:U0,no_parts_loaded:H0,import_parts_to_get_started:W0,search_parts:G0,sort_by:q0,name:K0,quantity:J0,size:Q0,rotation:X0,dimensions:Z0,area:Y0,preview_error:eu},ru="Nesting",su="Start Nesting",iu="Stop Nesting",nu="Clear Results",au="Cannot start nesting: need parts and sheets",ou="Failed to start nesting",lu="Failed to stop nesting",du="Parts to Nest",cu="Available Sheets",gu="Results Count",uu="No Nesting Results",fu="Start nesting to see results here",pu="Add parts and sheets first to enable nesting",hu="Nesting in Progress",_u="Est. time remaining",mu="Current Operation",bu="Threads Active",xu="Worker Status",yu="Running",vu="Stopped",$u="Generation",ku="Best Fitness",wu="Refresh Status",Su="Nesting Results",Cu="Sorted by efficiency",Pu="Result",Lu="Best",Nu="Efficiency",Au="Fitness",Eu="Sheets Used",Ru="Parts Placed",Fu="View Details",Mu="Back to Results",Ou="Result Details",ju="Export Result",Tu="Export failed",Iu="Click to view",Du="Zoom Out",zu="Zoom In",Bu="Reset View",Vu="Sheet",Uu="Statistics",Hu="Material Efficiency",Wu="Fitness Score",Gu="Material Waste",qu="Total Parts Placed",Ku="Total Material Used",Ju="Generation Time",Qu="Generation Number",Xu={nesting_title:ru,start_nesting:su,stop_nesting:iu,clear_results:nu,cannot_start_nesting:au,start_nesting_failed:ou,stop_nesting_failed:lu,parts_to_nest:du,available_sheets:cu,results_count:gu,no_nesting_results:uu,start_nesting_to_see_results:fu,add_parts_and_sheets_first:pu,nesting_in_progress:hu,estimated_time_remaining:_u,current_operation:mu,threads_active:bu,worker_status:xu,running:yu,stopped:vu,current_generation:$u,best_fitness:ku,refresh_status:wu,nesting_results:Su,sorted_by_efficiency:Cu,result:Pu,best:Lu,efficiency:Nu,fitness:Au,sheets_used:Eu,parts_placed:Ru,view_details:Fu,export:"Export",delete:"Delete",back_to_results:Mu,result_details:Ou,export_result:ju,export_failed:Tu,click_to_view:Iu,zoom_out:Du,zoom_in:zu,reset_view:Bu,sheet:Vu,statistics:Uu,material_efficiency:Hu,fitness_score:Wu,material_waste:Gu,total_parts_placed:qu,total_material_used:Ku,generation_time:Ju,generation_number:Qu},Zu="Sheets",Yu="Add Sheet",ef="Edit Sheet",tf="Add New Sheet",rf="Total Sheets",sf="Total Area",nf="No Sheets Loaded",af="Add sheets to define your material constraints",of="Quick Templates",lf="Configured Sheets",df="Sheet",cf="Dimensions",gf="Quantity",uf="Material",ff="Margin",pf="Edit",hf="Basic Information",_f="Sheet Name",mf="Enter sheet name (optional)",bf="Width",xf="Height",yf="Thickness",vf="Properties",$f="Area",kf="Preview",wf="Cancel",Sf="Update Sheet",Cf="Swap Width/Height",Pf="Width must be greater than 0",Lf="Height must be greater than 0",Nf="Thickness must be greater than 0",Af="Quantity must be greater than 0",Ef="Margin cannot be negative",Rf={sheets_title:Zu,add_sheet:Yu,edit_sheet:ef,add_new_sheet:tf,total_sheets:rf,total_area:sf,no_sheets_loaded:nf,add_sheets_to_get_started:af,quick_templates:of,configured_sheets:lf,sheet:df,dimensions:cf,quantity:gf,material:uf,margin:ff,edit:pf,delete:"Delete",basic_information:hf,sheet_name:_f,enter_sheet_name:mf,width:bf,height:xf,thickness:yf,properties:vf,area:$f,preview:kf,cancel:wf,update_sheet:Sf,swap_dimensions:Cf,width_must_be_positive:Pf,height_must_be_positive:Lf,thickness_must_be_positive:Nf,quantity_must_be_positive:Af,margin_cannot_be_negative:Ef},Ff="Settings DE",Mf="Preset Management",Of="Algorithm Settings",jf="UI Preferences",Tf="Advanced Settings",If="Reset Defaults",Df="Import Configuration",zf="Export Configuration",Bf="Reset to Defaults",Vf="Are you sure you want to reset all settings to defaults?",Uf="Failed to reset settings",Hf="Failed to export configuration",Wf="Failed to import configuration",Gf="Presets allow you to save and restore complete nesting configurations.",qf="Create Preset",Kf="Create New Preset",Jf="Preset Name",Qf="Preset name is required",Xf="Enter preset name",Zf="Description (optional)",Yf="Enter a description for this preset",ep="Cancel",tp="No Presets Available",rp="Create a preset to save your current configuration",sp="Export Preset",ip="Delete Preset",np="Load Preset",ap="Active",op="Created",lp="Updated",dp="Are you sure you want to delete preset '{{name}}'?",cp="Failed to create preset",gp="Failed to load preset",up="Failed to delete preset",fp="Failed to export preset",pp="Failed to import preset",hp="Import Preset",_p="Nesting Parameters",mp="Space Between Parts",bp="Minimum distance between parts in millimeters",xp="Curve Tolerance",yp="Tolerance for curve approximation. Lower values = more accurate but slower",vp="Part Rotations",$p="Number of rotation angles to try for each part",kp="No Rotation",wp="Free Rotation (any angle)",Sp="Genetic Algorithm",Cp="Population Size",Pp="Number of solutions in each generation. Higher = better results but slower",Lp="Mutation Rate",Np="Probability of random changes. Higher = more exploration but less stability",Ap="Advanced Options",Ep="Use Holes",Rp="Consider holes in parts for nesting (experimental)",Fp="Explore Concave",Mp="Try placing parts in concave areas of other parts",Op="Merge Common Lines",jp="Combine overlapping cut lines to reduce cutting time",Tp="Use Rough Approximation",Ip="Use faster but less accurate calculations for initial placement",Dp="Appearance",zp="Language",Bp="Select the interface language",Vp="Theme",Up="Choose between light, dark, or automatic theme",Hp="Auto (follows system)",Wp="Light",Gp="Dark",qp="Dark Mode",Kp="Use dark colors for the interface",Jp="Units and Formatting",Qp="Display Units",Xp="Units for displaying measurements",Zp="Millimeters (mm)",Yp="Inches (in)",eh="Centimeters (cm)",th="Show Grid",rh="Display grid lines in the viewport",sh="Show Rulers",ih="Display measurement rulers",nh="Layout Preferences",ah="Parts Panel Width",oh="Width of the parts panel in pixels",lh="Reset",dh="Show Tooltips",ch="Display helpful tooltips on hover",gh="Show Status Bar",uh="Display the status bar at the bottom",fh="Performance",ph="Worker Threads",hh="Number of CPU threads to use (max: {{max}})",_h="Enable GPU Acceleration",mh="Use graphics card for calculations (experimental)",bh="Enable Caching",xh="Cache calculations to improve performance",yh="Debugging",vh="Debug Mode",$h="Enable additional debugging information",kh="Verbose Logging",wh="Log detailed information to console",Sh="Show Debug Info",Ch="Hide Debug Info",Ph="System Information",Lh="Platform",Nh="CPU Cores",Ah="Viewport",Eh="Memory Used",Rh="Memory Total",Fh="Export Debug Info",Mh="Maintenance",Oh="Clear Cache",jh="Clear all cached data and preferences",Th="Are you sure you want to clear all cached data?",Ih="Cache cleared successfully",Dh="Failed to clear cache",zh="Reset Layout",Bh="Reset panel sizes and positions to defaults",Vh="Auto-save Interval",Uh="minutes",Hh="How often to automatically save your work (0 = disabled)",Wh={settings_title:Ff,preset_management:Mf,algorithm_settings:Of,ui_preferences:jf,advanced_settings:Tf,import:"Import",export:"Export",reset_defaults:If,import_configuration:Df,export_configuration:zf,reset_to_defaults:Bf,confirm_reset_defaults:Vf,reset_failed:Uf,export_failed:Hf,import_failed:Wf,preset_description:Gf,create_preset:qf,create_new_preset:Kf,preset_name:Jf,preset_name_required:Qf,enter_preset_name:Xf,preset_description_optional:Zf,enter_preset_description:Yf,cancel:ep,no_presets_available:tp,create_preset_to_get_started:rp,export_preset:sp,delete_preset:ip,load_preset:np,active:ap,created:op,updated:lp,confirm_delete_preset:dp,preset_create_failed:cp,preset_load_failed:gp,preset_delete_failed:up,preset_export_failed:fp,preset_import_failed:pp,import_preset:hp,nesting_parameters:_p,space_between_parts:mp,spacing_description:bp,curve_tolerance:xp,curve_tolerance_description:yp,part_rotations:vp,rotations_description:$p,no_rotation:kp,"2_rotations":"2 Rotations (0Â°, 180Â°)","4_rotations":"4 Rotations (0Â°, 90Â°, 180Â°, 270Â°)","8_rotations":"8 Rotations (45Â° steps)","12_rotations":"12 Rotations (30Â° steps)",free_rotation:wp,genetic_algorithm:Sp,population_size:Cp,population_size_description:Pp,mutation_rate:Lp,mutation_rate_description:Np,advanced_options:Ap,use_holes:Ep,use_holes_description:Rp,explore_concave:Fp,explore_concave_description:Mp,merge_common_lines:Op,merge_lines_description:jp,use_rough_approximation:Tp,rough_approximation_description:Ip,appearance:Dp,language:zp,language_description:Bp,theme:Vp,theme_description:Up,auto_theme:Hp,light_theme:Wp,dark_theme:Gp,dark_mode:qp,dark_mode_description:Kp,units_and_formatting:Jp,display_units:Qp,units_description:Xp,millimeters:Zp,inches:Yp,centimeters:eh,show_grid:th,show_grid_description:rh,show_rulers:sh,show_rulers_description:ih,layout_preferences:nh,parts_panel_width:ah,panel_width_description:oh,reset:lh,show_tooltips:dh,tooltips_description:ch,show_status_bar:gh,status_bar_description:uh,performance:fh,worker_threads:ph,worker_threads_description:hh,enable_gpu_acceleration:_h,gpu_acceleration_description:mh,enable_caching:bh,caching_description:xh,debugging:yh,debug_mode:vh,debug_mode_description:$h,verbose_logging:kh,verbose_logging_description:wh,show_debug_info:Sh,hide_debug_info:Ch,system_information:Ph,platform:Lh,cpu_cores:Nh,viewport:Ah,memory_used:Eh,memory_total:Rh,export_debug_info:Fh,maintenance:Mh,clear_cache:Oh,clear_cache_description:jh,confirm_clear_cache:Th,cache_cleared_success:Ih,cache_clear_failed:Dh,reset_layout:zh,reset_layout_description:Bh,auto_save_interval:Vh,minutes:Uh,auto_save_description:Hh},Gh="File Operations",qh="Drag & Drop Files",Kh="Import Files",Jh="Export Options",Qh="Recent Files",Xh="Drop files here to import",Zh="or click to browse",Yh="Supported formats: SVG, DXF, JSON",e_="Select Files",t_="Browse Files",r_="Importing Files...",s_="{{count}} files imported successfully",i_="Importing {{current}} of {{total}} files",n_="Failed to import files",a_="File validation error",o_="Invalid file format: {{format}}",l_="File too large: {{size}}. Maximum size is {{max}}",d_="Failed to read file: {{filename}}",c_="Export Format",g_="Export Settings",u_="Export All",f_="Export Selected",p_="Export Current",h_="Files exported successfully",__="Failed to export files",m_="SVG Vector",b_="DXF CAD",x_="PDF Document",y_="JSON Data",v_="Include Sheet Outline",$_="Include Part Labels",k_="Optimize Cut Paths",w_="Merge Common Lines",S_="Export Scale",C_="Export Units",P_="No Recent Files",L_="Clear Recent",N_="Open Recent File",A_="Pin File",E_="Unpin File",R_="Remove from Recent",F_="File not found: {{filename}}",M_="Quickly access your recently used files",O_="Maximum {{count}} recent files",j_="Pinned",T_="Size",I_="Modified",D_="Path",z_="Copy Path",B_="Open File Location",V_="File Information",U_="Processing...",H_="Cancel Import",W_="Retry Import",G_="Skip File",q_="Continue Import",K_="Validation Warning",J_="File contains errors but can be imported",Q_="Import Anyway",X_="Fix Errors",Z_="Auto Fix",Y_="Manual Fix",em="Error Details",tm="Line {{number}}",rm="Invalid geometry detected",sm="Duplicate points found",im="Self-intersecting polygon",nm="Unclosed path detected",am="File is empty",om="File appears to be corrupted",lm="Unsupported file version",dm="Missing required data",cm={file_operations:Gh,drag_drop_files:qh,import_files:Kh,export_options:Jh,recent_files:Qh,drop_files_here:Xh,or_click_to_browse:Zh,supported_formats:Yh,select_files:e_,browse_files:t_,importing_files:r_,files_imported:s_,import_progress:i_,import_failed:n_,file_validation_error:a_,invalid_file_format:o_,file_too_large:l_,file_read_error:d_,export_format:c_,export_settings:g_,export_all:u_,export_selected:f_,export_current:p_,export_success:h_,export_failed:__,svg_format:m_,dxf_format:b_,pdf_format:x_,json_format:y_,include_sheet:v_,include_labels:$_,optimize_paths:k_,merge_lines:w_,export_scale:S_,export_units:C_,no_recent_files:P_,clear_recent:L_,open_recent:N_,pin_file:A_,unpin_file:E_,remove_from_recent:R_,file_not_found:F_,recent_files_description:M_,max_recent_files:O_,pinned:j_,file_size:T_,last_modified:I_,file_path:D_,copy_path:z_,open_location:B_,file_info:V_,processing:U_,cancel_import:H_,retry_import:W_,skip_file:G_,continue_import:q_,validation_warning:K_,file_contains_errors:J_,import_anyway:Q_,fix_errors:X_,auto_fix:Z_,manual_fix:Y_,error_details:em,line_number:tm,invalid_geometry:rm,duplicate_points:sm,self_intersecting:im,unclosed_path:nm,empty_file:am,corrupted_file:om,unsupported_version:lm,missing_required_data:dm},gm={fallbackLng:"en",debug:!0,ns:["translation","common","parts","settings","nesting","sheets","files","messages","imprint"],defaultNS:"translation",languages:["en","de"],interpolation:{escapeValue:!1},resources:{en:{translation:Vr,common:Vr,messages:Ri,parts:rn,nesting:ba,sheets:Za,settings:ud,files:Ec,imprint:Ur},de:{translation:Hr,common:Hr,messages:E0,parts:tu,nesting:Xu,sheets:Rf,settings:Wh,files:cm,imprint:Ur}}},it=De.createInstance();let _r=!1;const gs="deepnest-language",um=()=>{try{return localStorage.getItem(gs)}catch(t){return console.warn("Failed to read language from localStorage:",t),null}},mr=t=>{try{localStorage.setItem(gs,t),console.log("âœ… Stored language preference:",t)}catch(e){console.warn("Failed to store language in localStorage:",e)}},[Pt,Zt]=te("en"),[Yt,fm]=te(!1),ar=async t=>{_r?(await it.changeLanguage(t),Zt(t),mr(t),console.log("âœ… i18next language changed to:",t)):(await it.init({...gm,lng:t}).then(()=>{Zt(t),fm(!0),mr(t)}),_r=!0,console.log("âœ… i18next initialized with language:",t))},us=xs({t:it.t.bind(it),language:Pt.bind(Pt),changeLanguage:Zt.bind(Zt),isReady:Yt.bind(Yt)}),pm=t=>{console.log("ðŸ—ï¸ I18nProvider: Initializing"),br(async()=>{const s=um(),i=_.ui.language,a=s||i||"en";console.log("ðŸš€ I18nProvider: Language preference check:",{stored:s,global:i,selected:a}),s&&s!==i&&(console.log(`ðŸ”„ Restoring language from localStorage: ${s}`),A.setLanguage(s)),await ar(a)}),ht(async()=>{const s=_.ui.language,i=Pt();console.log(`ðŸ‘€ I18nProvider: globalState.ui.language changed to: ${s}, current: ${i}`),s&&s!==i&&_r&&(console.log(`ðŸ”„ I18nProvider: Changing language from ${i} to ${s}`),await ar(s))});const r={t:(s,i)=>{const a=Yt(),l=Pt();if(console.log(`ðŸ” Translation called: key="${s}", ready=${a}, lang=${l}, typeof key=${typeof s}`),!a)return console.log(`â³ Translation not ready, returning key: ${s}`),s;if(!s||typeof s!="string")return console.warn("ðŸš¨ Invalid translation key:",s),s||"";const o=i?.ns||"translation",d={...i,ns:o};console.log("ðŸ” About to call i18nInstance.t with:",{key:s,namespace:o,lang:it.language,hasResources:!!it.getDataByLanguage(l)?.[o],resources:it.getDataByLanguage(l)});const g=it.t(s,d);return console.log(`ðŸ” i18nInstance.t result: "${g}" for key "${s}"`),g||s},language:Pt,changeLanguage:async s=>{console.log(`ðŸŽ¯ Changing language to: ${s}`),A.setLanguage(s),mr(s),await ar(s)},isReady:Yt};return us.Provider({value:r,children:t.children})},Ee=(t="translation")=>{const e=ys(us);return e?[(s,i)=>ye(()=>{e.language();const l={...i,ns:t};return e.t(s,l)})(),{changeLanguage:e.changeLanguage,language:e.language,isReady:e.isReady}]:(console.warn("useTranslation must be used within I18nProvider"),[s=>s,{changeLanguage:async()=>{},language:()=>"en"}])};var hm=S('<header class="h-16 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between px-6 shadow-sm"><div class="flex items-center"><div class="flex items-center gap-3"><div class="w-8 h-8 bg-blue-600 dark:bg-blue-500 rounded-lg flex items-center justify-center"><span class="text-white font-bold text-sm">DN</span></div><h1 class="text-xl font-semibold text-gray-900 dark:text-gray-100"></h1></div></div><div class="flex items-center gap-4"><div class=relative><select class="bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 px-3 py-2 pr-8 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none cursor-pointer"><option value=en>ðŸ‡ºðŸ‡¸ EN</option><option value=de>ðŸ‡©ðŸ‡ª DE</option></select><div class="absolute right-2 top-1/2 transform -translate-y-1/2 pointer-events-none"><svg class="w-4 h-4 text-gray-500 dark:text-gray-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 9l-7 7-7-7"></path></svg></div></div><button class="flex items-center justify-center w-10 h-10 bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800">'),_m=S('<svg class="w-5 h-5"fill=currentColor viewBox="0 0 20 20"><path fill-rule=evenodd d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"clip-rule=evenodd>'),mm=S('<svg class="w-5 h-5"fill=currentColor viewBox="0 0 20 20"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z">');const bm=()=>{const[t,{changeLanguage:e}]=Ee("common"),r=()=>{const i=_.ui.darkMode?"light":"dark";A.setThemePreference(i)},s=async i=>{console.log(`Header: handleLanguageChange called with ${i}`),console.log("Header: current globalState.ui.language:",_.ui.language),A.setLanguage(i),console.log("Header: after globalActions.setLanguage, globalState.ui.language:",_.ui.language),await e(i),console.log("Header: after changeLanguage call completed")};return(()=>{var i=hm(),a=i.firstChild,l=a.firstChild,o=l.firstChild,d=o.nextSibling,g=a.nextSibling,u=g.firstChild,c=u.firstChild,m=u.nextSibling;return n(d,()=>t("navigation.page_title")),c.addEventListener("change",f=>s(f.currentTarget.value)),m.$$click=r,n(m,(()=>{var f=Me(()=>!!_.ui.darkMode);return()=>f()?_m():mm()})()),j(()=>de(m,"title",_.ui.darkMode?"Switch to light mode":"Switch to dark mode")),j(()=>c.value=_.ui.language),i})()};Oe(["click"]);const xm={version:"2.0.0",buildDate:new Date().toISOString().split("T")[0],name:"DeepNest Next",description:"Advanced nesting software for CNC, laser cutters, and plotters"},fs=()=>xm;var ym=S('<nav class="h-full bg-gray-50 dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex flex-col w-full"><div class="flex flex-col py-4"><div class="px-4 mb-4"><h2 class="text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider">Navigation</h2></div></div><div class=mt-auto><div class=p-2><button><span>â„¹ï¸</span><span class=font-medium></span></button></div><div class="p-4 border-t border-gray-200 dark:border-gray-700"><div class="text-xs text-gray-500 dark:text-gray-400 text-center"><div></div><div class="mt-1 opacity-75">v'),vm=S("<button><span></span><span class=font-medium>"),Wr=S('<div class="ml-auto w-1 h-6 bg-blue-600 dark:bg-blue-400 rounded-full">');const $m=()=>{const[t]=Ee("common"),e=fs(),r=[{id:"parts",labelKey:"navigation.parts",icon:"ðŸ“¦"},{id:"nests",labelKey:"navigation.nests",icon:"ðŸ”§"},{id:"sheets",labelKey:"navigation.sheets",icon:"ðŸ“„"},{id:"settings",labelKey:"navigation.settings",icon:"âš™ï¸"}],s=i=>{A.setActiveTab(i)};return(()=>{var i=ym(),a=i.firstChild;a.firstChild;var l=a.nextSibling,o=l.firstChild,d=o.firstChild,g=d.firstChild,u=g.nextSibling,c=o.nextSibling,m=c.firstChild,f=m.firstChild,h=f.nextSibling;return h.firstChild,n(a,w(Ie,{each:r,children:p=>(()=>{var b=vm(),v=b.firstChild,C=v.nextSibling;return b.$$click=()=>s(p.id),n(v,()=>p.icon),n(C,()=>t(p.labelKey)),n(b,(()=>{var P=Me(()=>_.ui.activeTab===p.id);return()=>P()&&Wr()})(),null),j(P=>{var $=`mx-2 mb-1 flex items-center px-4 py-3 text-left transition-all duration-200 rounded-lg group ${_.ui.activeTab===p.id?"bg-blue-100 dark:bg-blue-900 text-blue-900 dark:text-blue-100 shadow-sm border border-blue-200 dark:border-blue-700":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-gray-100"}`,O=t(p.labelKey),V=`text-xl mr-4 transition-transform duration-200 ${_.ui.activeTab===p.id?"scale-110":"group-hover:scale-105"}`;return $!==P.e&&Le(b,P.e=$),O!==P.t&&de(b,"title",P.t=O),V!==P.a&&Le(v,P.a=V),P},{e:void 0,t:void 0,a:void 0}),b})()}),null),d.$$click=()=>s("imprint"),n(u,()=>t("navigation.imprint")),n(d,(()=>{var p=Me(()=>_.ui.activeTab==="imprint");return()=>p()&&Wr()})(),null),n(f,()=>e.name),n(h,()=>e.version,null),j(p=>{var b=`w-full flex items-center px-4 py-3 text-left transition-all duration-200 rounded-lg group ${_.ui.activeTab==="imprint"?"bg-blue-100 dark:bg-blue-900 text-blue-900 dark:text-blue-100 shadow-sm border border-blue-200 dark:border-blue-700":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-gray-100"}`,v=t("navigation.imprint"),C=`text-xl mr-4 transition-transform duration-200 ${_.ui.activeTab==="imprint"?"scale-110":"group-hover:scale-105"}`;return b!==p.e&&Le(d,p.e=b),v!==p.t&&de(d,"title",p.t=v),C!==p.a&&Le(g,p.a=C),p},{e:void 0,t:void 0,a:void 0}),i})()};Oe(["click"]);var km=S('<div class="h-full flex flex-col bg-white dark:bg-gray-900"><div class="p-4 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700"><div class="flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between"><div class="relative flex-1 max-w-md"><div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"><svg class="w-4 h-4 text-gray-400 dark:text-gray-500"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></div><input type=text class="block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200"></div><div class="flex items-center gap-3"><span class="text-sm font-medium text-gray-700 dark:text-gray-300">:</span><select class="px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"><option value=name></option><option value=quantity></option><option value=size></option></select><button class="p-2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors duration-200"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"></svg></button></div></div></div><div class="flex-1 overflow-auto"><div class=min-w-full><div class="sticky top-0 bg-gray-50 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 z-10"><div class="grid grid-cols-12 gap-4 px-4 py-3 text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"><div class="col-span-1 flex items-center"><input type=checkbox class="w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-2"></div><button><span></span></button><button><span></span></button><button><span></span></button><div class="col-span-2 text-center"></div></div></div><div class="bg-white dark:bg-gray-900">'),Tt=S('<svg><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M5 15l7-7 7 7"></svg>',!1,!0,!1),It=S('<svg><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 9l-7 7-7-7"></svg>',!1,!0,!1),or=S('<svg class="w-3 h-3"fill=none stroke=currentColor viewBox="0 0 24 24">'),wm=S('<div><div class="col-span-1 flex items-center"><input type=checkbox class="w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-2"></div><div class="col-span-4 flex items-center"><div class="flex items-center gap-3"><div class="w-8 h-8 bg-gray-100 dark:bg-gray-700 rounded-lg flex items-center justify-center flex-shrink-0"><svg class="w-4 h-4 text-gray-500 dark:text-gray-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path></svg></div><div class="min-w-0 flex-1"><p class="text-sm font-medium text-gray-900 dark:text-gray-100 truncate"></p><p class="text-xs text-gray-500 dark:text-gray-400 truncate"></p></div></div></div><div class="col-span-2 flex items-center"><div class=relative><input type=number min=1 class="w-20 px-3 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"></div></div><div class="col-span-3 flex items-center"><div class="flex items-center gap-2"><div class="px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded text-xs font-mono text-gray-600 dark:text-gray-300"></div><span class="text-xs text-gray-500 dark:text-gray-400">mm</span></div></div><div class="col-span-2 flex items-center justify-center"><div class="flex items-center gap-1"><input type=number min=0 max=360 step=90 class="w-16 px-2 py-1.5 text-sm text-center border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"><span class="text-xs text-gray-500 dark:text-gray-400">Â°');const Sm=()=>{const[t]=Ee("parts"),[e,r]=te(""),[s,i]=te("name"),[a,l]=te("asc"),o=ye(()=>{let f=_.app.parts;if(e()){const h=e().toLowerCase();f=f.filter(p=>p.name.toLowerCase().includes(h)||p.source.toLowerCase().includes(h))}return f=[...f].sort((h,p)=>{let b,v;switch(s()){case"name":b=h.name,v=p.name;break;case"quantity":b=h.quantity,v=p.quantity;break;case"size":b=h.bounds.width*h.bounds.height,v=p.bounds.width*p.bounds.height;break;default:b=h.name,v=p.name}return typeof b=="string"&&typeof v=="string"?a()==="asc"?b.localeCompare(v):v.localeCompare(b):a()==="asc"?b-v:v-b}),f}),d=f=>{A.updatePart(f.id,{selected:!f.selected})},g=(f,h)=>{h<1&&(h=1),A.updatePart(f,{quantity:h})},u=(f,h)=>{A.updatePart(f,{rotation:h})},c=f=>{s()===f?l(a()==="asc"?"desc":"asc"):(i(f),l("asc"))},m=f=>`${f.width.toFixed(1)} Ã— ${f.height.toFixed(1)}`;return(()=>{var f=km(),h=f.firstChild,p=h.firstChild,b=p.firstChild,v=b.firstChild,C=v.nextSibling,P=b.nextSibling,$=P.firstChild,O=$.firstChild,V=$.nextSibling,T=V.firstChild,H=T.nextSibling,y=H.nextSibling,x=V.nextSibling,R=x.firstChild,L=h.nextSibling,k=L.firstChild,N=k.firstChild,F=N.firstChild,M=F.firstChild,z=M.firstChild,W=M.nextSibling,K=W.firstChild,G=W.nextSibling,I=G.firstChild,Z=G.nextSibling,ne=Z.firstChild,Y=Z.nextSibling,U=N.nextSibling;return C.$$input=E=>r(E.currentTarget.value),n($,()=>t("sort_by"),O),V.addEventListener("change",E=>i(E.currentTarget.value)),n(T,()=>t("name")),n(H,()=>t("quantity")),n(y,()=>t("size")),x.$$click=()=>l(a()==="asc"?"desc":"asc"),n(R,(()=>{var E=Me(()=>a()==="asc");return()=>E()?Tt():It()})()),z.addEventListener("change",E=>{const q=E.currentTarget.checked;_.app.parts.forEach(Q=>{A.updatePart(Q.id,{selected:q})})}),W.$$click=()=>c("name"),n(K,()=>t("name")),n(W,(()=>{var E=Me(()=>s()==="name");return()=>E()&&(()=>{var q=or();return n(q,(()=>{var Q=Me(()=>a()==="asc");return()=>Q()?Tt():It()})()),q})()})(),null),G.$$click=()=>c("quantity"),n(I,()=>t("quantity")),n(G,(()=>{var E=Me(()=>s()==="quantity");return()=>E()&&(()=>{var q=or();return n(q,(()=>{var Q=Me(()=>a()==="asc");return()=>Q()?Tt():It()})()),q})()})(),null),Z.$$click=()=>c("size"),n(ne,()=>t("size")),n(Z,(()=>{var E=Me(()=>s()==="size");return()=>E()&&(()=>{var q=or();return n(q,(()=>{var Q=Me(()=>a()==="asc");return()=>Q()?Tt():It()})()),q})()})(),null),n(Y,()=>t("rotation")),n(U,w(Ie,{get each(){return o()},children:E=>(()=>{var q=wm(),Q=q.firstChild,ce=Q.firstChild,ge=Q.nextSibling,pe=ge.firstChild,ve=pe.firstChild,ue=ve.nextSibling,fe=ue.firstChild,ke=fe.nextSibling,$e=ge.nextSibling,Se=$e.firstChild,we=Se.firstChild,Ce=$e.nextSibling,he=Ce.firstChild,se=he.firstChild,_e=Ce.nextSibling,B=_e.firstChild,ee=B.firstChild;return ce.addEventListener("change",()=>d(E)),n(fe,()=>E.name),n(ke,()=>E.source),we.addEventListener("change",X=>g(E.id,parseInt(X.currentTarget.value))),n(se,()=>m(E.bounds)),ee.addEventListener("change",X=>u(E.id,parseInt(X.currentTarget.value))),j(X=>{var J=`grid grid-cols-12 gap-4 px-4 py-4 border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-200 ${E.selected?"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800":""}`,oe=E.source;return J!==X.e&&Le(q,X.e=J),oe!==X.t&&de(fe,"title",X.t=oe),X},{e:void 0,t:void 0}),j(()=>ce.checked=E.selected),j(()=>we.value=E.quantity),j(()=>ee.value=E.rotation),q})()})),j(E=>{var q=t("search_parts"),Q=a()==="asc"?"Sort descending":"Sort ascending",ce=_.app.parts.some(ue=>ue.selected)&&!_.app.parts.every(ue=>ue.selected),ge=`col-span-4 flex items-center gap-2 text-left hover:text-gray-700 dark:hover:text-gray-200 transition-colors duration-200 ${s()==="name"?"text-blue-600 dark:text-blue-400":""}`,pe=`col-span-2 flex items-center gap-2 text-left hover:text-gray-700 dark:hover:text-gray-200 transition-colors duration-200 ${s()==="quantity"?"text-blue-600 dark:text-blue-400":""}`,ve=`col-span-3 flex items-center gap-2 text-left hover:text-gray-700 dark:hover:text-gray-200 transition-colors duration-200 ${s()==="size"?"text-blue-600 dark:text-blue-400":""}`;return q!==E.e&&de(C,"placeholder",E.e=q),Q!==E.t&&de(x,"title",E.t=Q),ce!==E.a&&(z.indeterminate=E.a=ce),ge!==E.o&&Le(W,E.o=ge),pe!==E.i&&Le(G,E.i=pe),ve!==E.n&&Le(Z,E.n=ve),E},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),j(()=>C.value=e()),j(()=>V.value=s()),j(()=>z.checked=_.app.parts.every(E=>E.selected)),f})()};Oe(["input","click"]);var Cm=S('<div class="flex items-center gap-2 px-3 py-1 bg-blue-50 dark:bg-blue-900/20 rounded-lg"><svg class="w-4 h-4 text-blue-600 dark:text-blue-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span class="text-sm text-blue-700 dark:text-blue-300 font-medium"> part<!> selected'),Pm=S('<div class="h-full flex flex-col bg-white dark:bg-gray-900"><div class="bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700"><div class="px-6 py-4 flex items-center justify-between"><div class="flex items-center gap-3"><div class="w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center shadow-sm"><svg class="w-5 h-5 text-white"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path></svg></div><div><h1 class="text-xl font-semibold text-gray-900 dark:text-gray-100"></h1><p class="text-sm text-gray-500 dark:text-gray-400">Manage your parts and import new ones</p></div></div><div class="flex items-center gap-3"><button class="inline-flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg></button><div class="flex items-center gap-2"><button class="inline-flex items-center gap-2 px-3 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 font-medium rounded-lg transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg></button><button class="inline-flex items-center gap-2 px-3 py-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 font-medium rounded-lg transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg></button></div></div></div></div><div class="bg-gray-50 dark:bg-gray-800/50 px-6 py-4 border-b border-gray-200 dark:border-gray-700"><div class="grid grid-cols-1 md:grid-cols-4 gap-4"><div class="bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border border-gray-200 dark:border-gray-700"><div class="flex items-center gap-3"><div class="w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center"><svg class="w-5 h-5 text-blue-600 dark:text-blue-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path></svg></div><div><p class="text-sm font-medium text-gray-600 dark:text-gray-400"></p><p class="text-2xl font-bold text-gray-900 dark:text-gray-100"></p></div></div></div><div class="bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border border-gray-200 dark:border-gray-700"><div class="flex items-center gap-3"><div class="w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center"><svg class="w-5 h-5 text-green-600 dark:text-green-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"></path></svg></div><div><p class="text-sm font-medium text-gray-600 dark:text-gray-400"></p><p class="text-2xl font-bold text-gray-900 dark:text-gray-100"></p></div></div></div><div class="bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border border-gray-200 dark:border-gray-700"><div class="flex items-center gap-3"><div class="w-10 h-10 bg-purple-100 dark:bg-purple-900/30 rounded-lg flex items-center justify-center"><svg class="w-5 h-5 text-purple-600 dark:text-purple-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><div><p class="text-sm font-medium text-gray-600 dark:text-gray-400">Selected</p><p class="text-2xl font-bold text-gray-900 dark:text-gray-100"></p></div></div></div><div class="bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border border-gray-200 dark:border-gray-700"><div class="flex items-center gap-3"><div class="w-10 h-10 bg-orange-100 dark:bg-orange-900/30 rounded-lg flex items-center justify-center"><svg class="w-5 h-5 text-orange-600 dark:text-orange-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"></path></svg></div><div><p class="text-sm font-medium text-gray-600 dark:text-gray-400">Total Area</p><p class="text-2xl font-bold text-gray-900 dark:text-gray-100"></p></div></div></div></div></div><div class="bg-white dark:bg-gray-800 px-6 py-3 border-b border-gray-200 dark:border-gray-700"><div class="flex items-center justify-between"><div class="flex items-center gap-4"><span class="text-sm text-gray-600 dark:text-gray-400">Bulk Actions:</span><div class="flex items-center gap-2"><button class="text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed"></button><span class="text-gray-300 dark:text-gray-600">â€¢</span><button class="text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed"></button></div></div></div></div><div class="flex-1 overflow-hidden bg-gray-50 dark:bg-gray-900">'),Lm=S('<div class="h-full flex flex-col items-center justify-center text-center gap-6 p-8"><div class="w-24 h-24 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center"><svg class="w-12 h-12 text-gray-400 dark:text-gray-600"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=1.5 d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path></svg></div><div class="max-w-sm space-y-3"><h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100"></h3><p class="text-gray-600 dark:text-gray-400 leading-relaxed"></p></div><div class="flex flex-col sm:flex-row gap-3"><button class="inline-flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-900"><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg></button><button class="inline-flex items-center gap-2 px-6 py-3 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 font-medium rounded-lg border border-gray-300 dark:border-gray-600 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-900"><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>Learn More</button></div><div class="text-xs text-gray-500 dark:text-gray-600 max-w-md"><p>Supported formats: SVG, DXF â€¢ Drag and drop files here');const Nm=()=>{const[t]=Ee("parts"),e=ye(()=>_.app.parts.length),r=ye(()=>_.app.parts.reduce((u,c)=>u+c.quantity,0)),s=ye(()=>_.app.parts.filter(u=>u.selected).length),i=ye(()=>_.app.parts.reduce((u,c)=>u+(c.area||0),0)),a=async()=>{if(!ie.isAvailable){console.warn("IPC not available");return}try{const u=await ie.openFileDialog({title:t("import_parts"),filters:[{name:"Vector Files",extensions:["svg","dxf"]},{name:"SVG Files",extensions:["svg"]},{name:"DXF Files",extensions:["dxf"]},{name:"All Files",extensions:["*"]}],properties:["openFile","multiSelections"]});if(u.canceled||!u.filePaths?.length)return;const c=await ie.importParts(u.filePaths);A.setParts([..._.app.parts,...c])}catch(u){console.error("Failed to import parts:",u),A.setError(t("import_failed"))}},l=async()=>{const u=_.app.parts.filter(c=>c.selected);if(u.length===0){A.setError(t("no_parts_selected"));return}try{const c=await ie.saveFileDialog({title:t("export_parts"),defaultPath:"parts.svg",filters:[{name:"SVG Files",extensions:["svg"]},{name:"DXF Files",extensions:["dxf"]},{name:"All Files",extensions:["*"]}]});if(c.canceled||!c.filePath)return;await ie.exportParts(u,c.filePath)}catch(c){console.error("Failed to export parts:",c),A.setError(t("export_failed"))}},o=()=>{if(_.app.parts.filter(m=>m.selected).length===0){A.setError(t("no_parts_selected"));return}const c=_.app.parts.filter(m=>!m.selected);A.setParts(c)},d=()=>{_.app.parts.forEach(u=>{A.updatePart(u.id,{selected:!0})})},g=()=>{_.app.parts.forEach(u=>{A.updatePart(u.id,{selected:!1})})};return(()=>{var u=Pm(),c=u.firstChild,m=c.firstChild,f=m.firstChild,h=f.firstChild,p=h.nextSibling,b=p.firstChild,v=f.nextSibling,C=v.firstChild;C.firstChild;var P=C.nextSibling,$=P.firstChild;$.firstChild;var O=$.nextSibling;O.firstChild;var V=c.nextSibling,T=V.firstChild,H=T.firstChild,y=H.firstChild,x=y.firstChild,R=x.nextSibling,L=R.firstChild,k=L.nextSibling,N=H.nextSibling,F=N.firstChild,M=F.firstChild,z=M.nextSibling,W=z.firstChild,K=W.nextSibling,G=N.nextSibling,I=G.firstChild,Z=I.firstChild,ne=Z.nextSibling,Y=ne.firstChild,U=Y.nextSibling,E=G.nextSibling,q=E.firstChild,Q=q.firstChild,ce=Q.nextSibling,ge=ce.firstChild,pe=ge.nextSibling,ve=V.nextSibling,ue=ve.firstChild,fe=ue.firstChild,ke=fe.firstChild,$e=ke.nextSibling,Se=$e.firstChild,we=Se.nextSibling,Ce=we.nextSibling,he=ve.nextSibling;return n(b,()=>t("parts_title")),C.$$click=a,n(C,()=>t("import"),null),$.$$click=l,n($,()=>t("export"),null),O.$$click=o,n(O,()=>t("delete"),null),n(L,()=>t("total_parts")),n(k,e),n(W,()=>t("total_quantity")),n(K,r),n(U,s),n(pe,()=>Math.round(i())),Se.$$click=d,n(Se,()=>t("select_all")),Ce.$$click=g,n(Ce,()=>t("deselect_all")),n(ue,w(re,{get when(){return s()>0},get children(){var se=Cm(),_e=se.firstChild,B=_e.nextSibling,ee=B.firstChild,X=ee.nextSibling;return X.nextSibling,n(B,s,ee),n(B,()=>s()===1?"":"s",X),se}}),null),n(he,w(re,{get when(){return e()>0},get fallback(){return(()=>{var se=Lm(),_e=se.firstChild,B=_e.nextSibling,ee=B.firstChild,X=ee.nextSibling,J=B.nextSibling,oe=J.firstChild;return oe.firstChild,n(ee,()=>t("no_parts_loaded")),n(X,()=>t("import_parts_to_get_started")),oe.$$click=a,n(oe,()=>t("import_parts"),null),se})()},get children(){return w(Sm,{})}})),j(se=>{var _e=t("import_parts"),B=t("export_selected"),ee=_.app.parts.filter(me=>me.selected).length===0,X=t("delete_selected"),J=_.app.parts.filter(me=>me.selected).length===0,oe=e()===0,Pe=e()===0;return _e!==se.e&&de(C,"title",se.e=_e),B!==se.t&&de($,"title",se.t=B),ee!==se.a&&($.disabled=se.a=ee),X!==se.o&&de(O,"title",se.o=X),J!==se.i&&(O.disabled=se.i=J),oe!==se.n&&(Se.disabled=se.n=oe),Pe!==se.s&&(Ce.disabled=se.s=Pe),se},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),u})()};Oe(["click"]);class Am{progressCleanup=null;statusCleanup=null;completeCleanup=null;errorCleanup=null;constructor(){this.initializeEventListeners()}initializeEventListeners(){this.progressCleanup=ie.onNestProgress(e=>{A.setNestingProgress(e)}),this.statusCleanup=ie.onNestStatus(e=>{A.setNestingStatus(e.isRunning),A.setWorkerStatus({isRunning:e.isRunning,currentOperation:e.operation})}),this.completeCleanup=ie.onNestComplete(e=>{if(A.setNests(e),e.length>0){const r=e.reduce((s,i)=>i.fitness<s.fitness?i:s);A.setCurrentNest(r)}}),this.errorCleanup=ie.onNestError(e=>{A.setError(e)})}async startNesting(){try{A.setError(null);const e=_.config;if(!this.validateConfig(e))throw new Error("Invalid configuration");if(_.app.parts.length===0)throw new Error("No parts loaded. Please import parts before starting nesting.");if(_.app.sheets.length===0)throw new Error("No sheets configured. Please configure sheets before starting nesting.");await ie.startNesting(e)}catch(e){const r=e instanceof Error?e.message:"Unknown error occurred";throw A.setError(r),A.setNestingStatus(!1),e}}async stopNesting(){try{await ie.stopNesting(),A.setNestingStatus(!1),A.setNestingProgress(0),A.setError(null)}catch(e){const r=e instanceof Error?e.message:"Failed to stop nesting";throw A.setError(r),e}}stopBackgroundWorker(){ie.stopBackgroundWorker(),A.setNestingStatus(!1),A.setNestingProgress(0),A.setWorkerStatus({isRunning:!1,currentOperation:"Stopped"})}validateConfig(e){return!(!e||e.spacing<0||e.rotations<1||e.populationSize<1||e.mutationRate<0||e.mutationRate>100||e.threads<1||!e.units||!e.placementType)}get isNesting(){return _.process.isNesting}get progress(){return _.process.progress}get workerStatus(){return _.process.workerStatus}get results(){return _.app.nests}get lastError(){return _.process.lastError}onBackgroundProgress(e){return ie.onBackgroundProgress(e)}onBackgroundResponse(e){return ie.onBackgroundResponse(e)}cleanup(){this.progressCleanup?.(),this.statusCleanup?.(),this.completeCleanup?.(),this.errorCleanup?.(),this.progressCleanup=null,this.statusCleanup=null,this.completeCleanup=null,this.errorCleanup=null}}const er=new Am;var Em=S('<div class="text-sm text-gray-600 dark:text-gray-400 text-center">: '),Rm=S('<div class="bg-gray-50 dark:bg-gray-700 p-3 rounded"><span class="text-sm font-medium text-gray-700 dark:text-gray-300">:</span><span class="ml-2 text-sm text-gray-900 dark:text-gray-100">'),Fm=S('<div class="grid grid-cols-2 gap-4 pt-4 border-t border-gray-200 dark:border-gray-600"><div class="flex justify-between"><span class="text-sm text-gray-600 dark:text-gray-400">:</span><span class="text-sm font-medium text-gray-900 dark:text-gray-100"></span></div><div class="flex justify-between"><span class="text-sm text-gray-600 dark:text-gray-400">:</span><span class="text-sm font-medium text-gray-900 dark:text-gray-100">'),Mm=S('<div class="p-6 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 m-4"><div class="flex items-center justify-between mb-4"><h3 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h3><div class="text-2xl font-bold text-blue-600 dark:text-blue-400">%</div></div><div class=mb-6><div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3 mb-2 overflow-hidden"><div class="h-full bg-blue-500 dark:bg-blue-400 rounded-full transition-all duration-300 ease-out"></div></div></div><div class=space-y-4><div class="grid grid-cols-2 gap-4"><div class="flex justify-between"><span class="text-sm text-gray-600 dark:text-gray-400">:</span><span class="text-sm font-medium text-gray-900 dark:text-gray-100"></span></div><div class="flex justify-between"><span class="text-sm text-gray-600 dark:text-gray-400">:</span><span></span></div></div></div><div class="flex justify-center pt-4 border-t border-gray-200 dark:border-gray-600"><button class="text-blue-600 dark:text-blue-400 hover:underline text-sm">');const Om=()=>{const[t]=Ee("nesting"),e=ye(()=>Math.max(0,Math.min(100,_.process.progress))),r=ye(()=>{const s=e();if(s===0)return null;const a=6e4*(100-s)/s;return a<6e4?`${Math.round(a/1e3)}s`:`${Math.round(a/6e4)}m`});return(()=>{var s=Mm(),i=s.firstChild,a=i.firstChild,l=a.nextSibling,o=l.firstChild,d=i.nextSibling,g=d.firstChild,u=g.firstChild,c=d.nextSibling,m=c.firstChild,f=m.firstChild,h=f.firstChild,p=h.firstChild,b=h.nextSibling,v=f.nextSibling,C=v.firstChild,P=C.firstChild,$=C.nextSibling,O=c.nextSibling,V=O.firstChild;return n(a,()=>t("nesting_in_progress")),n(l,()=>e().toFixed(1),o),n(d,w(re,{get when(){return r()},get children(){var T=Em(),H=T.firstChild;return n(T,()=>t("estimated_time_remaining"),H),n(T,r,null),T}}),null),n(c,w(re,{get when(){return _.process.workerStatus.currentOperation},get children(){var T=Rm(),H=T.firstChild,y=H.firstChild,x=H.nextSibling;return n(H,()=>t("current_operation"),y),n(x,()=>_.process.workerStatus.currentOperation),T}}),m),n(h,()=>t("threads_active"),p),n(b,()=>_.process.workerStatus.threadsActive),n(C,()=>t("worker_status"),P),n($,(()=>{var T=Me(()=>!!_.process.workerStatus.isRunning);return()=>T()?t("running"):t("stopped")})()),n(c,w(re,{get when(){return _.process.currentNest},get children(){var T=Fm(),H=T.firstChild,y=H.firstChild,x=y.firstChild,R=y.nextSibling,L=H.nextSibling,k=L.firstChild,N=k.firstChild,F=k.nextSibling;return n(y,()=>t("current_generation"),x),n(R,()=>_.process.currentNest?.generation||0),n(k,()=>t("best_fitness"),N),n(F,()=>_.process.currentNest?.fitness?.toFixed(2)||"N/A"),T}}),null),V.$$click=()=>window.location.reload(),n(V,()=>t("refresh_status")),j(T=>{var H=`${e()}%`,y=`text-sm font-medium ${_.process.workerStatus.isRunning?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`;return H!==T.e&&((T.e=H)!=null?u.style.setProperty("width",H):u.style.removeProperty("width")),y!==T.t&&Le($,T.t=y),T},{e:void 0,t:void 0}),s})()};Oe(["click"]);class jm{isConnectedSignal=te(!1);lastHeartbeatSignal=te(Date.now());reconnectAttemptsSignal=te(0);connectionErrorSignal=te(null);get isConnected(){return this.isConnectedSignal[0]}get setIsConnected(){return this.isConnectedSignal[1]}get lastHeartbeat(){return this.lastHeartbeatSignal[0]}get setLastHeartbeat(){return this.lastHeartbeatSignal[1]}get reconnectAttempts(){return this.reconnectAttemptsSignal[0]}get setReconnectAttempts(){return this.reconnectAttemptsSignal[1]}get connectionError(){return this.connectionErrorSignal[0]}get setConnectionError(){return this.connectionErrorSignal[1]}heartbeatInterval=null;reconnectTimeout=null;maxReconnectAttempts=5;heartbeatInterval_ms=5e3;reconnectDelay_ms=2e3;constructor(){this.initializeConnection()}initializeConnection(){this.checkConnection(),this.startHeartbeat(),this.setupEventListeners()}async checkConnection(){try{if(ie.isAvailable)await ie.readConfig(),this.setConnectionStatus(!0),this.setReconnectAttempts(0),this.setConnectionError(null);else throw new Error("IPC not available")}catch(e){const r=e instanceof Error?e.message:"Connection failed";this.setConnectionStatus(!1),this.setConnectionError(r),this.reconnectAttempts()<this.maxReconnectAttempts&&this.scheduleReconnect()}}setConnectionStatus(e){this.setIsConnected(e),this.setLastHeartbeat(Date.now()),A.setWorkerStatus({isRunning:e&&_.process.isNesting,currentOperation:e?"Connected":"Disconnected"})}startHeartbeat(){this.heartbeatInterval&&clearInterval(this.heartbeatInterval),this.heartbeatInterval=setInterval(()=>{this.checkConnection()},this.heartbeatInterval_ms)}stopHeartbeat(){this.heartbeatInterval&&(clearInterval(this.heartbeatInterval),this.heartbeatInterval=null)}scheduleReconnect(){this.reconnectTimeout&&clearTimeout(this.reconnectTimeout);const e=this.reconnectAttempts();this.setReconnectAttempts(e+1);const r=Math.min(this.reconnectDelay_ms*Math.pow(2,e),3e4);this.reconnectTimeout=setTimeout(()=>{this.checkConnection()},r)}setupEventListeners(){ie.onNestError(e=>{(e.includes("IPC")||e.includes("connection")||e.includes("timeout"))&&(this.setConnectionError(e),this.setConnectionStatus(!1))}),ht(()=>{const e=this.isConnected(),r=this.connectionError();!e&&r?A.setError(`Connection lost: ${r}`):e&&_.process.lastError?.includes("Connection lost")&&A.setError(null)})}async forceReconnect(){this.setReconnectAttempts(0),this.setConnectionError(null),await this.checkConnection()}get connected(){return this.isConnected()}get error(){return this.connectionError()}get reconnectionAttempts(){return this.reconnectAttempts()}get lastHeartbeatTime(){return this.lastHeartbeat()}get isHealthy(){const e=Date.now(),r=this.lastHeartbeat(),s=e-r;return this.isConnected()&&s<this.heartbeatInterval_ms*2}get status(){return{connected:this.connected,healthy:this.isHealthy,error:this.error,reconnectAttempts:this.reconnectionAttempts,lastHeartbeat:this.lastHeartbeatTime}}cleanup(){this.stopHeartbeat(),this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null)}}const kt=new jm;var Tm=S('<div class="text-sm text-gray-600 dark:text-gray-400">'),Im=S('<div class="p-4 border-b border-gray-200 dark:border-gray-700"><h4 class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"></h4><div class="grid grid-cols-2 gap-4"><div><span class="text-xs text-gray-500 dark:text-gray-400"></span><div class="font-mono text-sm text-gray-900 dark:text-gray-100"></div></div><div><span class="text-xs text-gray-500 dark:text-gray-400"></span><div class="font-mono text-sm text-gray-900 dark:text-gray-100">%'),Dm=S('<div class="space-y-2 max-h-64 overflow-y-auto">'),zm=S('<div class=p-4><h4 class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"> (<!>)'),Bm=S('<span class="text-xs text-red-600 dark:text-red-400">(<!>)'),Vm=S('<div class="p-4 bg-red-50 dark:bg-red-900/20 border-t border-red-200 dark:border-red-700"><div class="flex items-center space-x-2"><div class="w-2 h-2 rounded-full bg-red-500"></div><span class="text-sm text-red-700 dark:text-red-300">'),Um=S('<div class="p-4 bg-red-50 dark:bg-red-900/20 border-t border-red-200 dark:border-red-700"><div class="flex items-start space-x-2"><div class="w-2 h-2 rounded-full bg-red-500 mt-1"></div><div><div class="text-sm font-medium text-red-700 dark:text-red-300"></div><div class="text-xs text-red-600 dark:text-red-400 mt-1">'),Hm=S('<div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 m-4"><div class="flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700"><div class="flex items-center space-x-3"><h3 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h3><div></div></div><div class="flex items-center space-x-2"><span class="text-sm text-gray-500 dark:text-gray-400">: </span><button class="text-blue-600 dark:text-blue-400 hover:underline text-sm"></button></div></div><div class="p-4 border-b border-gray-200 dark:border-gray-700"><div class="flex items-center justify-between mb-2"><span class="text-sm font-medium text-gray-700 dark:text-gray-300"></span><span class="text-sm font-bold text-blue-600 dark:text-blue-400">%</span></div><div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mb-2"><div class="h-full bg-blue-500 dark:bg-blue-400 rounded-full transition-all duration-300">'),Wm=S('<div class="text-sm text-gray-500 dark:text-gray-400 text-center py-4">'),Gm=S('<div class="flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded"><div class="flex items-center space-x-3"><div class="w-2 h-2 rounded-full bg-blue-500"></div><span class="text-sm font-medium text-gray-700 dark:text-gray-300">#</span></div><div class="flex items-center space-x-4"><div class=text-right><div class="text-xs text-gray-500 dark:text-gray-400"></div><div class="font-mono text-sm text-gray-900 dark:text-gray-100"></div></div><div class=text-right><div class="text-xs text-gray-500 dark:text-gray-400"></div><div class="font-mono text-sm text-gray-900 dark:text-gray-100">%</div></div><div class=text-right><div class="text-xs text-gray-500 dark:text-gray-400"></div><div class="font-mono text-sm text-gray-900 dark:text-gray-100">');const qm=()=>{const[t]=Ee("nesting"),[e,r]=te([]),[s,i]=te(Date.now()),[a,l]=te(!1),o=er.onBackgroundProgress(f=>{i(Date.now()),console.log("Background progress:",f)}),d=er.onBackgroundResponse(f=>{r(h=>[f,...h].slice(0,10)),i(Date.now())});xr(()=>{o?.(),d?.()});const g=()=>{const f=Date.now(),h=s(),p=f-h;return p<1e3?t("just_now"):p<6e4?t("seconds_ago",{count:Math.floor(p/1e3)}):p<36e5?t("minutes_ago",{count:Math.floor(p/6e4)}):t("hours_ago",{count:Math.floor(p/36e5)})},u=()=>{const f=kt.status;return f.connected?f.healthy?"text-green-500":"text-yellow-500":"text-red-500"},c=f=>f.toFixed(4),m=f=>(f*100).toFixed(1);return(()=>{var f=Hm(),h=f.firstChild,p=h.firstChild,b=p.firstChild,v=b.nextSibling,C=p.nextSibling,P=C.firstChild,$=P.firstChild,O=P.nextSibling,V=h.nextSibling,T=V.firstChild,H=T.firstChild,y=H.nextSibling,x=y.firstChild,R=T.nextSibling,L=R.firstChild;return n(b,()=>t("live_results")),n(P,()=>t("last_update"),$),n(P,g,null),O.$$click=()=>l(!a()),n(O,(()=>{var k=Me(()=>!!a());return()=>k()?t("collapse"):t("expand")})()),n(H,()=>t("current_progress")),n(y,()=>(_.process.progress*100).toFixed(1),x),n(V,w(re,{get when(){return _.process.workerStatus.currentOperation},get children(){var k=Tm();return n(k,()=>_.process.workerStatus.currentOperation),k}}),null),n(f,w(re,{get when(){return _.process.currentNest},get children(){var k=Im(),N=k.firstChild,F=N.nextSibling,M=F.firstChild,z=M.firstChild,W=z.nextSibling,K=M.nextSibling,G=K.firstChild,I=G.nextSibling,Z=I.firstChild;return n(N,()=>t("best_result")),n(z,()=>t("fitness")),n(W,()=>c(_.process.currentNest.fitness)),n(G,()=>t("utilization")),n(I,()=>m(_.process.currentNest.utilisation),Z),k}}),null),n(f,w(re,{get when(){return a()},get children(){var k=zm(),N=k.firstChild,F=N.firstChild,M=F.nextSibling;return M.nextSibling,n(N,()=>t("intermediate_results"),F),n(N,()=>e().length,M),n(k,w(re,{get when(){return e().length>0},get fallback(){return(()=>{var z=Wm();return n(z,()=>t("no_intermediate_results")),z})()},get children(){var z=Dm();return n(z,w(Ie,{get each(){return e()},children:(W,K)=>(()=>{var G=Gm(),I=G.firstChild,Z=I.firstChild,ne=Z.nextSibling;ne.firstChild;var Y=I.nextSibling,U=Y.firstChild,E=U.firstChild,q=E.nextSibling,Q=U.nextSibling,ce=Q.firstChild,ge=ce.nextSibling,pe=ge.firstChild,ve=Q.nextSibling,ue=ve.firstChild,fe=ue.nextSibling;return n(ne,()=>W.index,null),n(E,()=>t("fitness")),n(q,()=>c(W.fitness)),n(ce,()=>t("utilization")),n(ge,()=>m(W.utilisation),pe),n(ue,()=>t("sheets")),n(fe,()=>W.placements.length),G})()})),z}}),null),k}}),null),n(f,w(re,{get when(){return!kt.status.connected},get children(){var k=Vm(),N=k.firstChild,F=N.firstChild,M=F.nextSibling;return n(M,()=>t("connection_lost")),n(N,w(re,{get when(){return kt.status.reconnectAttempts>0},get children(){var z=Bm(),W=z.firstChild,K=W.nextSibling;return K.nextSibling,n(z,()=>t("reconnect_attempts",{count:kt.status.reconnectAttempts}),K),z}}),null),k}}),null),n(f,w(re,{get when(){return _.process.lastError},get children(){var k=Um(),N=k.firstChild,F=N.firstChild,M=F.nextSibling,z=M.firstChild,W=z.nextSibling;return n(z,()=>t("error_occurred")),n(W,()=>_.process.lastError),k}}),null),j(k=>{var N=`w-2 h-2 rounded-full ${u()}`,F=kt.status.connected?t("connected"):t("disconnected"),M=`${_.process.progress*100}%`;return N!==k.e&&Le(v,k.e=N),F!==k.t&&de(v,"title",k.t=F),M!==k.a&&((k.a=M)!=null?L.style.setProperty("width",M):L.style.removeProperty("width")),k},{e:void 0,t:void 0,a:void 0}),f})()};Oe(["click"]);var Km=S('<div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100">ms'),Jm=S('<div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100">'),Qm=S('<div class="h-full flex flex-col"><div class="flex items-center justify-center p-4 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"><div class="flex items-center gap-4"><button class="inline-flex items-center px-2 py-1 border border-gray-300 dark:border-gray-600 text-xs font-medium rounded text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors duration-200">ðŸ”âˆ’</button><span class="text-sm font-medium text-gray-900 dark:text-gray-100 min-w-16 text-center">%</span><button class="inline-flex items-center px-2 py-1 border border-gray-300 dark:border-gray-600 text-xs font-medium rounded text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors duration-200">ðŸ”+</button><button class="inline-flex items-center px-2 py-1 border border-gray-300 dark:border-gray-600 text-xs font-medium rounded text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors duration-200">ðŸŽ¯</button></div></div><div class="flex-1 flex"><div class="flex-1 bg-white dark:bg-gray-900"><svg class="w-full h-96 border border-gray-200 dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-gray-800"width=100% height=400 viewBox="0 0 800 400"><g><defs><pattern id=grid width=20 height=20 patternUnits=userSpaceOnUse><path d="M 20 0 L 0 0 0 20"fill=none stroke=#e0e0e0 stroke-width=1></path></pattern></defs><rect width=800 height=400 fill=url(#grid)></rect></g></svg></div><div class="w-80 bg-white dark:bg-gray-800 border-l border-gray-200 dark:border-gray-700 overflow-y-auto"><div class=p-4><h4 class="text-lg font-medium text-gray-900 dark:text-gray-100 mb-4"></h4><div class="grid grid-cols-2 gap-3 mb-6"><div class="bg-gray-50 dark:bg-gray-700 p-3 rounded text-center"><div class="text-2xl font-bold text-green-600 dark:text-green-400"></div><div class="text-xs text-gray-600 dark:text-gray-400 mt-1"></div></div><div class="bg-gray-50 dark:bg-gray-700 p-3 rounded text-center"><div class="text-2xl font-bold text-gray-900 dark:text-gray-100"></div><div class="text-xs text-gray-600 dark:text-gray-400 mt-1"></div></div><div class="bg-gray-50 dark:bg-gray-700 p-3 rounded text-center"><div class="text-2xl font-bold text-gray-900 dark:text-gray-100"></div><div class="text-xs text-gray-600 dark:text-gray-400 mt-1"></div></div><div class="bg-gray-50 dark:bg-gray-700 p-3 rounded text-center"><div class="text-2xl font-bold text-red-600 dark:text-red-400">%</div><div class="text-xs text-gray-600 dark:text-gray-400 mt-1"></div></div></div><div class=space-y-3><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100"></span></div><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100">'),Xm=S('<svg><g class=sheet-group><rect fill="rgba(200, 200, 200, 0.3)"stroke=#e5e7eb stroke-width=2></rect><text font-size=12 fill=#6b7280> </svg>',!1,!0,!1),Zm=S('<svg><g class=part-group><rect fill="rgba(59, 130, 246, 0.7)"stroke=#3b82f6 stroke-width=1></svg>',!1,!0,!1);const Ym=t=>{const[e]=Ee("nesting"),[r,s]=te(1),[i,a]=te({x:0,y:0}),[l,o]=te(!1),[d,g]=te({x:0,y:0}),u=ye(()=>t.result.sheets?.reduce(($,O)=>$+O.width*O.height,0)||0),c=ye(()=>t.result.placedParts||0),m=ye(()=>{const $=u(),O=c();return $===0?0:($-O)/$*100}),f=()=>{s($=>Math.min($*1.2,5))},h=()=>{s($=>Math.max($/1.2,.1))},p=()=>{s(1),a({x:0,y:0})},b=$=>{o(!0),g({x:$.clientX-i().x,y:$.clientY-i().y})},v=$=>{if(!l())return;const O={x:$.clientX-d().x,y:$.clientY-d().y};a(O)},C=()=>{o(!1)},P=ye(()=>{const $=r(),O=i();return`translate(${O.x}, ${O.y}) scale(${$})`});return(()=>{var $=Qm(),O=$.firstChild,V=O.firstChild,T=V.firstChild,H=T.nextSibling,y=H.firstChild,x=H.nextSibling,R=x.nextSibling,L=O.nextSibling,k=L.firstChild,N=k.firstChild,F=N.firstChild,M=F.firstChild;M.nextSibling;var z=k.nextSibling,W=z.firstChild,K=W.firstChild,G=K.nextSibling,I=G.firstChild,Z=I.firstChild,ne=Z.nextSibling,Y=I.nextSibling,U=Y.firstChild,E=U.nextSibling,q=Y.nextSibling,Q=q.firstChild,ce=Q.nextSibling,ge=q.nextSibling,pe=ge.firstChild,ve=pe.firstChild,ue=pe.nextSibling,fe=G.nextSibling,ke=fe.firstChild,$e=ke.firstChild,Se=$e.firstChild,we=$e.nextSibling,Ce=ke.nextSibling,he=Ce.firstChild,se=he.firstChild,_e=he.nextSibling;return T.$$click=h,n(H,()=>Math.round(r()*100),y),x.$$click=f,R.$$click=p,N.addEventListener("mouseleave",C),N.$$mouseup=C,N.$$mousemove=v,N.$$mousedown=b,n(F,w(Ie,{get each(){return t.result.sheets||[]},children:(B,ee)=>(()=>{var X=Xm(),J=X.firstChild,oe=J.nextSibling,Pe=oe.firstChild;return n(oe,()=>e("sheet"),Pe),n(oe,()=>ee()+1,null),j(me=>{var je=B.x||0,ze=B.y||0,Ke=B.width,Ve=B.height,Ue=(B.x||0)+10,He=(B.y||0)+25;return je!==me.e&&de(J,"x",me.e=je),ze!==me.t&&de(J,"y",me.t=ze),Ke!==me.a&&de(J,"width",me.a=Ke),Ve!==me.o&&de(J,"height",me.o=Ve),Ue!==me.i&&de(oe,"x",me.i=Ue),He!==me.n&&de(oe,"y",me.n=He),me},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),X})()}),null),n(F,w(Ie,{get each(){return t.result.placements||[]},children:B=>(()=>{var ee=Zm(),X=ee.firstChild;return j(J=>{var oe=B.x,Pe=B.y,me=B.width||50,je=B.height||50,ze=`rotate(${B.rotation||0} ${B.x+(B.width||50)/2} ${B.y+(B.height||50)/2})`;return oe!==J.e&&de(X,"x",J.e=oe),Pe!==J.t&&de(X,"y",J.t=Pe),me!==J.a&&de(X,"width",J.a=me),je!==J.o&&de(X,"height",J.o=je),ze!==J.i&&de(X,"transform",J.i=ze),J},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),ee})()}),null),n(K,()=>e("statistics")),n(Z,(()=>{var B=Me(()=>!!t.result.efficiency);return()=>B()?`${(t.result.efficiency*100).toFixed(1)}%`:"N/A"})()),n(ne,()=>e("material_efficiency")),n(U,()=>t.result.fitness?.toFixed(2)||"N/A"),n(E,()=>e("fitness_score")),n(Q,()=>t.result.sheets?.length||0),n(ce,()=>e("sheets_used")),n(pe,()=>m().toFixed(1),ve),n(ue,()=>e("material_waste")),n($e,()=>e("total_parts_placed"),Se),n(we,()=>t.result.placedParts||0),n(he,()=>e("total_material_used"),se),n(_e,()=>u().toFixed(2)),n(fe,w(re,{get when(){return t.result.generationTime},get children(){var B=Km(),ee=B.firstChild,X=ee.firstChild,J=ee.nextSibling,oe=J.firstChild;return n(ee,()=>e("generation_time"),X),n(J,()=>t.result.generationTime,oe),B}}),null),n(fe,w(re,{get when(){return t.result.generation},get children(){var B=Jm(),ee=B.firstChild,X=ee.firstChild,J=ee.nextSibling;return n(ee,()=>e("generation_number"),X),n(J,()=>t.result.generation),B}}),null),j(B=>{var ee=e("zoom_out"),X=e("zoom_in"),J=e("reset_view"),oe=l()?"grabbing":"grab",Pe=P();return ee!==B.e&&de(T,"title",B.e=ee),X!==B.t&&de(x,"title",B.t=X),J!==B.a&&de(R,"title",B.a=J),oe!==B.o&&((B.o=oe)!=null?N.style.setProperty("cursor",oe):N.style.removeProperty("cursor")),Pe!==B.i&&de(F,"transform",B.i=Pe),B},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),$})()};Oe(["click","mousedown","mousemove","mouseup"]);var eb=S('<div class="h-full flex flex-col"><div class="flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"><button class="inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors duration-200">â† </button><h3 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h3><div class="flex gap-2"><button class="inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors duration-200">ðŸ“¤ '),tb=S('<div class="flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"><h3 class="text-lg font-medium text-gray-900 dark:text-gray-100"> (<!>)</h3><div class="text-sm text-gray-600 dark:text-gray-400"><label>'),rb=S('<div class="flex-1 overflow-y-auto p-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">'),sb=S('<div class="h-full flex flex-col">'),ib=S('<span class="text-xs bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 px-2 py-1 rounded-full">'),nb=S('<div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100">'),ab=S('<div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-lg transition-shadow duration-200"><div class="h-32 bg-gray-50 dark:bg-gray-700 flex items-center justify-center cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors"><div class=text-center><div class="text-2xl mb-1">ðŸŽ¯</div><div class="text-sm text-gray-600 dark:text-gray-400"></div></div></div><div class=p-4><div class="flex items-center justify-between mb-3"><h4 class="font-medium text-gray-900 dark:text-gray-100"> #</h4></div><div class="space-y-2 mb-4"><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-green-600 dark:text-green-400"></span></div><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100"></span></div><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100"></span></div></div><div class="flex justify-between items-center pt-2 border-t border-gray-200 dark:border-gray-700"><button class="text-blue-600 dark:text-blue-400 hover:underline text-sm"></button><div class="flex gap-2"><button class="text-blue-600 dark:text-blue-400 hover:underline text-sm"></button><button class="text-red-600 dark:text-red-400 hover:underline text-sm">');const ob=()=>{const[t]=Ee("nesting"),[e,r]=te(null),[s,i]=te("grid"),a=ye(()=>[..._.app.nests].sort((m,f)=>m.efficiency!==f.efficiency?(f.efficiency||0)-(m.efficiency||0):(f.fitness||0)-(m.fitness||0))),l=m=>{r(m),i("detail")},o=()=>{r(null),i("grid")},d=async m=>{if(ie.isAvailable)try{const f=await ie.saveFileDialog({title:t("export_result"),defaultPath:`nest_result_${m.id}.svg`,filters:[{name:"SVG Files",extensions:["svg"]},{name:"DXF Files",extensions:["dxf"]},{name:"All Files",extensions:["*"]}]});if(f.canceled||!f.filePath)return;await ie.exportNestResult(m,f.filePath)}catch(f){console.error("Failed to export result:",f),A.setError(t("export_failed"))}},g=m=>{const f=_.app.nests.filter(h=>h.id!==m.id);A.setNests(f)},u=m=>m?`${(m*100).toFixed(1)}%`:"N/A",c=m=>m?m.toFixed(2):"N/A";return(()=>{var m=sb();return n(m,w(re,{get when(){return Me(()=>s()==="detail")()&&e()},get children(){var f=eb(),h=f.firstChild,p=h.firstChild;p.firstChild;var b=p.nextSibling,v=b.nextSibling,C=v.firstChild;return C.firstChild,p.$$click=o,n(p,()=>t("back_to_results"),null),n(b,()=>t("result_details")),C.$$click=()=>d(e()),n(C,()=>t("export"),null),n(f,w(Ym,{get result(){return e()}}),null),f}}),null),n(m,w(re,{get when(){return s()==="grid"},get children(){return[(()=>{var f=tb(),h=f.firstChild,p=h.firstChild,b=p.nextSibling;b.nextSibling;var v=h.nextSibling,C=v.firstChild;return n(h,()=>t("nesting_results"),p),n(h,()=>a().length,b),n(C,()=>t("sorted_by_efficiency")),f})(),(()=>{var f=rb();return n(f,w(Ie,{get each(){return a()},children:(h,p)=>(()=>{var b=ab(),v=b.firstChild,C=v.firstChild,P=C.firstChild,$=P.nextSibling,O=v.nextSibling,V=O.firstChild,T=V.firstChild,H=T.firstChild,y=V.nextSibling,x=y.firstChild,R=x.firstChild,L=R.firstChild,k=R.nextSibling,N=x.nextSibling,F=N.firstChild,M=F.firstChild,z=F.nextSibling,W=N.nextSibling,K=W.firstChild,G=K.firstChild,I=K.nextSibling,Z=y.nextSibling,ne=Z.firstChild,Y=ne.nextSibling,U=Y.firstChild,E=U.nextSibling;return v.$$click=()=>l(h),n($,()=>t("click_to_view")),n(T,()=>t("result"),H),n(T,()=>p()+1,null),n(V,w(re,{get when(){return p()===0},get children(){var q=ib();return n(q,()=>t("best")),q}}),null),n(R,()=>t("efficiency"),L),n(k,()=>u(h.efficiency)),n(F,()=>t("fitness"),M),n(z,()=>c(h.fitness)),n(K,()=>t("sheets_used"),G),n(I,()=>h.sheets?.length||0),n(y,w(re,{get when(){return h.placedParts},get children(){var q=nb(),Q=q.firstChild,ce=Q.firstChild,ge=Q.nextSibling;return n(Q,()=>t("parts_placed"),ce),n(ge,()=>h.placedParts),q}}),null),ne.$$click=()=>l(h),n(ne,()=>t("view_details")),U.$$click=()=>d(h),n(U,()=>t("export")),E.$$click=()=>g(h),n(E,()=>t("delete")),b})()})),f})()]}}),null),m})()};Oe(["click"]);var lb=S('<button class="inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors duration-200">ðŸ—‘ï¸ '),db=S('<div class="grid grid-cols-1 lg:grid-cols-2 gap-4 p-4">'),cb=S('<div class="h-full flex flex-col"><div class="flex items-center justify-between p-5 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"><h2 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h2><div class="flex gap-2"><button class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200">â–¶ï¸ </button><button class="inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200">â¹ï¸ </button></div></div><div class="flex items-center justify-between p-4 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700"><div class="flex gap-6"><div class="flex items-center gap-2"><span class="text-sm text-gray-600 dark:text-gray-400">:</span><span class="text-sm font-medium text-gray-900 dark:text-gray-100"></span></div><div class="flex items-center gap-2"><span class="text-sm text-gray-600 dark:text-gray-400">:</span><span class="text-sm font-medium text-gray-900 dark:text-gray-100"></span></div><div class="flex items-center gap-2"><span class="text-sm text-gray-600 dark:text-gray-400">:</span><span class="text-sm font-medium text-gray-900 dark:text-gray-100"></span></div></div></div><div class="flex-1 overflow-hidden">'),gb=S('<p class="text-amber-600 dark:text-amber-400">'),ub=S('<div class="h-full flex flex-col items-center justify-center text-center gap-4 p-8"><div class="text-6xl opacity-30">ðŸŽ¯</div><h3 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h3><p class="text-gray-600 dark:text-gray-400">');const fb=()=>{const[t]=Ee("nesting"),e=ye(()=>_.app.parts.length>0&&_.app.sheets.length>0&&!_.process.isNesting),r=ye(()=>_.app.nests.length>0),s=async()=>{if(e())try{await er.startNesting()}catch(o){console.error("Failed to start nesting:",o)}},i=async()=>{if(_.process.isNesting)try{await er.stopNesting()}catch(o){console.error("Failed to stop nesting:",o)}},a=()=>{A.setNests([])},l=ye(()=>_.app.parts.filter(o=>o.quantity>0).length);return(()=>{var o=cb(),d=o.firstChild,g=d.firstChild,u=g.nextSibling,c=u.firstChild;c.firstChild;var m=c.nextSibling;m.firstChild;var f=d.nextSibling,h=f.firstChild,p=h.firstChild,b=p.firstChild,v=b.firstChild,C=b.nextSibling,P=p.nextSibling,$=P.firstChild,O=$.firstChild,V=$.nextSibling,T=P.nextSibling,H=T.firstChild,y=H.firstChild,x=H.nextSibling,R=f.nextSibling;return n(g,()=>t("nesting_title")),c.$$click=s,n(c,()=>t("start_nesting"),null),m.$$click=i,n(m,()=>t("stop_nesting"),null),n(u,w(re,{get when(){return r()&&!_.process.isNesting},get children(){var L=lb();return L.firstChild,L.$$click=a,n(L,()=>t("clear_results"),null),j(()=>de(L,"title",t("clear_results"))),L}}),null),n(b,()=>t("parts_to_nest"),v),n(C,l),n($,()=>t("available_sheets"),O),n(V,()=>_.app.sheets.length),n(H,()=>t("results_count"),y),n(x,()=>_.app.nests.length),n(R,w(re,{get when(){return _.process.isNesting},get children(){var L=db();return n(L,w(Om,{}),null),n(L,w(qm,{}),null),L}}),null),n(R,w(re,{get when(){return r()},get fallback(){return(()=>{var L=ub(),k=L.firstChild,N=k.nextSibling,F=N.nextSibling;return n(N,()=>t("no_nesting_results")),n(F,()=>t("start_nesting_to_see_results")),n(L,w(re,{get when(){return!e()},get children(){var M=gb();return n(M,()=>t("add_parts_and_sheets_first")),M}}),null),L})()},get children(){return w(ob,{})}}),null),j(L=>{var k=!e(),N=e()?t("start_nesting"):t("cannot_start_nesting"),F=!_.process.isNesting,M=t("stop_nesting");return k!==L.e&&(c.disabled=L.e=k),N!==L.t&&de(c,"title",L.t=N),F!==L.a&&(m.disabled=L.a=F),M!==L.o&&de(m,"title",L.o=M),L},{e:void 0,t:void 0,a:void 0,o:void 0}),o})()};Oe(["click"]);var wt=S('<span class="text-red-500 dark:text-red-400 text-xs mt-1 block">'),pb=S('<div class="text-sm text-gray-600 dark:text-gray-400">: <!> mm'),hb=S('<div class="p-6 overflow-y-auto max-h-[calc(90vh-120px)]"><div class=space-y-6><div class=space-y-4><h4 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h4><div class=space-y-2><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"for=sheet-name>:</label><input id=sheet-name type=text class="block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"></div><div class=space-y-2><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"for=material>:</label><select id=material class="block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"></select></div></div><div class=space-y-4><h4 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h4><div class="grid grid-cols-3 gap-2 mb-4"></div><div class="flex items-end gap-2"><div class=flex-1><label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"for=width> (mm):</label><input id=width type=number min=1 step=0.1></div><button type=button class="px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition-colors duration-200 mb-1">â‡„</button><div class=flex-1><label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"for=height> (mm):</label><input id=height type=number min=1 step=0.1></div></div><div class="text-sm text-gray-600 dark:text-gray-400 mt-2">: <!> mmÂ²</div></div><div class=space-y-4><h4 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h4><div class="grid grid-cols-3 gap-4"><div class=space-y-2><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"for=thickness> (mm):</label><input id=thickness type=number min=0.1 step=0.1></div><div class=space-y-2><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"for=quantity>:</label><input id=quantity type=number min=1></div><div class=space-y-2><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"for=margin> (mm):</label><input id=margin type=number min=0 step=0.1></div></div></div><div class=space-y-4><h4 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h4><div class="flex items-center gap-6"><div class=flex-shrink-0><div class="bg-white dark:bg-gray-600 border-2 border-gray-300 dark:border-gray-500 rounded shadow-sm relative"><div class="absolute border border-dashed border-gray-400 dark:border-gray-400 rounded-sm"></div></div></div><div class=space-y-2><div class="text-sm text-gray-900 dark:text-gray-100"> Ã— <!> mm</div><div class="text-sm text-gray-600 dark:text-gray-400">: <!> mmÂ²'),_b=S('<div class="flex items-center justify-end gap-3 p-6 border-t border-gray-200 dark:border-gray-700"><button type=button class="px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition-colors duration-200"></button><button type=button class="px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition-colors duration-200">'),mb=S("<option>"),bb=S('<button type=button class="px-2 py-1 text-xs font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded hover:bg-gray-200 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition-colors duration-200">');const xb=t=>{const[e]=Ee("sheets"),[r,s]=te(""),[i,a]=te(200),[l,o]=te(200),[d,g]=te(3),[u,c]=te(1),[m,f]=te(5),[h,p]=te("Generic"),[b,v]=te({}),C=["Generic","Wood - Plywood","Wood - MDF","Wood - Hardwood","Metal - Aluminum","Metal - Steel","Metal - Brass","Plastic - Acrylic","Plastic - ABS","Cardboard","Fabric","Leather","Paper"],P=[{name:"A4",width:210,height:297},{name:"A3",width:297,height:420},{name:"A2",width:420,height:594},{name:"A1",width:594,height:841},{name:"Letter",width:216,height:279},{name:"Legal",width:216,height:356},{name:'12Ã—12"',width:305,height:305},{name:'24Ã—24"',width:610,height:610},{name:'48Ã—24"',width:1219,height:610}];ht(()=>{const y=t.sheet;y?(s(y.name||""),a(y.width),o(y.height),g(y.thickness||3),c(y.quantity||1),f(y.margin||5),p(y.material||"Generic")):(s(""),a(200),o(200),g(3),c(1),f(5),p("Generic")),v({})});const $=()=>{const y={};return i()<=0&&(y.width=e("width_must_be_positive")),l()<=0&&(y.height=e("height_must_be_positive")),d()<=0&&(y.thickness=e("thickness_must_be_positive")),u()<=0&&(y.quantity=e("quantity_must_be_positive")),m()<0&&(y.margin=e("margin_cannot_be_negative")),v(y),Object.keys(y).length===0},O=()=>{if(!$())return;const y={id:t.sheet?.id||`sheet_${Date.now()}`,name:r().trim()||`Sheet ${Date.now()}`,width:i(),height:l(),thickness:d(),quantity:u(),margin:m(),material:h()};t.onSave(y)},V=y=>{a(y.width),o(y.height),r().trim()||s(y.name)},T=()=>{const y=i();a(l()),o(y)},H=()=>(i()*l()).toFixed(0);return[(()=>{var y=hb(),x=y.firstChild,R=x.firstChild,L=R.firstChild,k=L.nextSibling,N=k.firstChild,F=N.firstChild,M=N.nextSibling,z=k.nextSibling,W=z.firstChild,K=W.firstChild,G=W.nextSibling,I=R.nextSibling,Z=I.firstChild,ne=Z.nextSibling,Y=ne.nextSibling,U=Y.firstChild,E=U.firstChild,q=E.firstChild,Q=E.nextSibling,ce=U.nextSibling,ge=ce.nextSibling,pe=ge.firstChild,ve=pe.firstChild,ue=pe.nextSibling,fe=Y.nextSibling,ke=fe.firstChild,$e=ke.nextSibling;$e.nextSibling;var Se=I.nextSibling,we=Se.firstChild,Ce=we.nextSibling,he=Ce.firstChild,se=he.firstChild,_e=se.firstChild,B=se.nextSibling,ee=he.nextSibling,X=ee.firstChild,J=X.firstChild,oe=X.nextSibling,Pe=ee.nextSibling,me=Pe.firstChild,je=me.firstChild,ze=me.nextSibling,Ke=Se.nextSibling,Ve=Ke.firstChild,Ue=Ve.nextSibling,He=Ue.firstChild,We=He.firstChild,le=We.firstChild,Ne=He.nextSibling,Je=Ne.firstChild,at=Je.firstChild,ot=at.nextSibling;ot.nextSibling;var Xe=Je.nextSibling,lt=Xe.firstChild,Ze=lt.nextSibling;return Ze.nextSibling,n(L,()=>e("basic_information")),n(N,()=>e("sheet_name"),F),M.$$input=D=>s(D.currentTarget.value),n(W,()=>e("material"),K),G.addEventListener("change",D=>p(D.currentTarget.value)),n(G,w(Ie,{each:C,children:D=>(()=>{var Fe=mb();return Fe.value=D,n(Fe,D),Fe})()})),n(Z,()=>e("dimensions")),n(ne,w(Ie,{each:P,children:D=>(()=>{var Fe=bb();return Fe.$$click=()=>V(D),n(Fe,()=>D.name),j(()=>de(Fe,"title",`${D.width} Ã— ${D.height} mm`)),Fe})()})),n(E,()=>e("width"),q),Q.$$input=D=>a(parseFloat(D.currentTarget.value)||0),n(U,w(re,{get when(){return b().width},get children(){var D=wt();return n(D,()=>b().width),D}}),null),ce.$$click=T,n(pe,()=>e("height"),ve),ue.$$input=D=>o(parseFloat(D.currentTarget.value)||0),n(ge,w(re,{get when(){return b().height},get children(){var D=wt();return n(D,()=>b().height),D}}),null),n(fe,()=>e("area"),ke),n(fe,H,$e),n(we,()=>e("properties")),n(se,()=>e("thickness"),_e),B.$$input=D=>g(parseFloat(D.currentTarget.value)||0),n(he,w(re,{get when(){return b().thickness},get children(){var D=wt();return n(D,()=>b().thickness),D}}),null),n(X,()=>e("quantity"),J),oe.$$input=D=>c(parseInt(D.currentTarget.value)||0),n(ee,w(re,{get when(){return b().quantity},get children(){var D=wt();return n(D,()=>b().quantity),D}}),null),n(me,()=>e("margin"),je),ze.$$input=D=>f(parseFloat(D.currentTarget.value)||0),n(Pe,w(re,{get when(){return b().margin},get children(){var D=wt();return n(D,()=>b().margin),D}}),null),n(Ve,()=>e("preview")),We.style.setProperty("width","120px"),We.style.setProperty("max-height","120px"),n(Je,i,at),n(Je,l,ot),n(Xe,()=>e("area"),lt),n(Xe,H,Ze),n(Ne,w(re,{get when(){return m()>0},get children(){var D=pb(),Fe=D.firstChild,Be=Fe.nextSibling;return Be.nextSibling,n(D,()=>e("margin"),Fe),n(D,m,Be),D}}),null),j(D=>{var Fe=e("enter_sheet_name"),Be=`block w-full px-3 py-2 border rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 ${b().width?"border-red-500":"border-gray-300 dark:border-gray-600"}`,Ge=e("swap_dimensions"),Ye=`block w-full px-3 py-2 border rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 ${b().height?"border-red-500":"border-gray-300 dark:border-gray-600"}`,et=`block w-full px-3 py-2 border rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 ${b().thickness?"border-red-500":"border-gray-300 dark:border-gray-600"}`,Ot=`block w-full px-3 py-2 border rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 ${b().quantity?"border-red-500":"border-gray-300 dark:border-gray-600"}`,mt=`block w-full px-3 py-2 border rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 ${b().margin?"border-red-500":"border-gray-300 dark:border-gray-600"}`,ct=`${i()} / ${l()}`,bt=`${Math.max(m()/Math.max(i(),l())*100,2)}%`,gt=`${Math.max(m()/Math.max(i(),l())*100,2)}%`,xt=`${Math.max(m()/Math.max(i(),l())*100,2)}%`,yt=`${Math.max(m()/Math.max(i(),l())*100,2)}%`;return Fe!==D.e&&de(M,"placeholder",D.e=Fe),Be!==D.t&&Le(Q,D.t=Be),Ge!==D.a&&de(ce,"title",D.a=Ge),Ye!==D.o&&Le(ue,D.o=Ye),et!==D.i&&Le(B,D.i=et),Ot!==D.n&&Le(oe,D.n=Ot),mt!==D.s&&Le(ze,D.s=mt),ct!==D.h&&((D.h=ct)!=null?We.style.setProperty("aspect-ratio",ct):We.style.removeProperty("aspect-ratio")),bt!==D.r&&((D.r=bt)!=null?le.style.setProperty("top",bt):le.style.removeProperty("top")),gt!==D.d&&((D.d=gt)!=null?le.style.setProperty("left",gt):le.style.removeProperty("left")),xt!==D.l&&((D.l=xt)!=null?le.style.setProperty("right",xt):le.style.removeProperty("right")),yt!==D.u&&((D.u=yt)!=null?le.style.setProperty("bottom",yt):le.style.removeProperty("bottom")),D},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0}),j(()=>M.value=r()),j(()=>G.value=h()),j(()=>Q.value=i()),j(()=>ue.value=l()),j(()=>B.value=d()),j(()=>oe.value=u()),j(()=>ze.value=m()),y})(),(()=>{var y=_b(),x=y.firstChild,R=x.nextSibling;return Nt(x,"click",t.onCancel),n(x,()=>e("cancel")),R.$$click=O,n(R,(()=>{var L=Me(()=>!!t.sheet);return()=>L()?e("update_sheet"):e("add_sheet")})()),y})()]};Oe(["input","click"]);var yb=S('<div class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"><div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden"><div class="flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700"><h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100"></h3><button class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 text-2xl leading-none">Ã—'),vb=S('<div class="h-full flex flex-col"><div class="p-4 border-b border-gray-200 dark:border-gray-700"><h3 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h3></div><div class="flex-1 overflow-y-auto p-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">'),$b=S('<div class="h-full flex flex-col"><div class="flex items-center justify-between p-5 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"><h2 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h2><div class="flex gap-2"><button class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200">âž• </button></div></div><div class="flex items-center justify-between p-4 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700"><div class="flex gap-6"><div class="flex items-center gap-2"><span class="text-sm text-gray-600 dark:text-gray-400">:</span><span class="text-sm font-medium text-gray-900 dark:text-gray-100"></span></div><div class="flex items-center gap-2"><span class="text-sm text-gray-600 dark:text-gray-400">:</span><span class="text-sm font-medium text-gray-900 dark:text-gray-100"> mmÂ²</span></div></div></div><div class="flex-1 overflow-hidden">'),kb=S('<div class="h-full flex flex-col items-center justify-center text-center gap-6 p-8"><div class="text-6xl opacity-30">ðŸ“„</div><div><h3 class="text-lg font-medium text-gray-900 dark:text-gray-100 mb-2"></h3><p class="text-gray-600 dark:text-gray-400"></p></div><div class="w-full max-w-2xl"><h4 class="text-md font-medium text-gray-900 dark:text-gray-100 mb-4"></h4><div class="grid grid-cols-3 gap-3">'),wb=S('<button class="bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-3 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-center"><div class="font-medium text-gray-900 dark:text-gray-100 mb-1"></div><div class="text-sm text-gray-600 dark:text-gray-400"> Ã— '),Sb=S('<div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100"> mm'),Cb=S('<div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-lg transition-shadow duration-200"><div class="h-32 bg-gray-50 dark:bg-gray-700 flex items-center justify-center p-4"><div class=relative><div class="bg-white dark:bg-gray-600 border-2 border-gray-300 dark:border-gray-500 rounded shadow-sm"><div class="absolute inset-1 border border-dashed border-gray-400 dark:border-gray-400 rounded-sm"></div></div></div></div><div class=p-4><div class="font-medium text-gray-900 dark:text-gray-100 mb-3"></div><div class="space-y-2 mb-4"><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100"></span></div><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100"></span></div><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100"></span></div></div><div class="flex justify-between items-center pt-2 border-t border-gray-200 dark:border-gray-700"><button class="text-blue-600 dark:text-blue-400 hover:underline text-sm"></button><button class="text-red-600 dark:text-red-400 hover:underline text-sm">');const Pb=()=>{const[t]=Ee("sheets"),[e,r]=te(!1),[s,i]=te(null),a=ye(()=>_.app.sheets.length),l=ye(()=>_.app.sheets.reduce((p,b)=>p+b.width*b.height,0)),o=[{name:"A4",width:210,height:297,units:"mm"},{name:"A3",width:297,height:420,units:"mm"},{name:"A2",width:420,height:594,units:"mm"},{name:"A1",width:594,height:841,units:"mm"},{name:"Letter",width:216,height:279,units:"mm"},{name:"Legal",width:216,height:356,units:"mm"},{name:'12x12"',width:305,height:305,units:"mm"},{name:'24x24"',width:610,height:610,units:"mm"},{name:'48x24"',width:1219,height:610,units:"mm"}],d=()=>{i(null),r(!0)},g=p=>{i(p),r(!0)},u=p=>{const b=_.app.sheets.filter(v=>v.id!==p);A.setSheets(b)},c=p=>{s()?A.updateSheet(p.id,p):A.addSheet(p),r(!1),i(null)},m=()=>{r(!1),i(null)},f=p=>{const b={name:p.name,width:p.width,height:p.height,thickness:3,quantity:1,margin:5,material:"Generic"};A.addSheet(b)},h=p=>`${p.width} Ã— ${p.height} mm`;return(()=>{var p=$b(),b=p.firstChild,v=b.firstChild,C=v.nextSibling,P=C.firstChild;P.firstChild;var $=b.nextSibling,O=$.firstChild,V=O.firstChild,T=V.firstChild,H=T.firstChild,y=T.nextSibling,x=V.nextSibling,R=x.firstChild,L=R.firstChild,k=R.nextSibling,N=k.firstChild,F=$.nextSibling;return n(v,()=>t("sheets_title")),P.$$click=d,n(P,()=>t("add_sheet"),null),n(T,()=>t("total_sheets"),H),n(y,a),n(R,()=>t("total_area"),L),n(k,()=>l().toFixed(0),N),n(p,w(re,{get when(){return e()},get children(){var M=yb(),z=M.firstChild,W=z.firstChild,K=W.firstChild,G=K.nextSibling;return n(K,(()=>{var I=Me(()=>!!s());return()=>I()?t("edit_sheet"):t("add_new_sheet")})()),G.$$click=m,n(z,w(xb,{get sheet(){return s()},onSave:c,onCancel:m}),null),M}}),F),n(F,w(re,{get when(){return a()>0},get fallback(){return(()=>{var M=kb(),z=M.firstChild,W=z.nextSibling,K=W.firstChild,G=K.nextSibling,I=W.nextSibling,Z=I.firstChild,ne=Z.nextSibling;return n(K,()=>t("no_sheets_loaded")),n(G,()=>t("add_sheets_to_get_started")),n(Z,()=>t("quick_templates")),n(ne,w(Ie,{each:o,children:Y=>(()=>{var U=wb(),E=U.firstChild,q=E.nextSibling,Q=q.firstChild;return U.$$click=()=>f(Y),n(E,()=>Y.name),n(q,()=>Y.width,Q),n(q,()=>Y.height,null),j(()=>de(U,"title",`${Y.width} Ã— ${Y.height} ${Y.units}`)),U})()})),M})()},get children(){var M=vb(),z=M.firstChild,W=z.firstChild,K=z.nextSibling;return n(W,()=>t("configured_sheets")),n(K,w(Ie,{get each(){return _.app.sheets},children:(G,I)=>(()=>{var Z=Cb(),ne=Z.firstChild,Y=ne.firstChild,U=Y.firstChild,E=ne.nextSibling,q=E.firstChild,Q=q.nextSibling,ce=Q.firstChild,ge=ce.firstChild,pe=ge.firstChild,ve=ge.nextSibling,ue=ce.nextSibling,fe=ue.firstChild,ke=fe.firstChild,$e=fe.nextSibling,Se=ue.nextSibling,we=Se.firstChild,Ce=we.firstChild,he=we.nextSibling,se=Q.nextSibling,_e=se.firstChild,B=_e.nextSibling;return U.style.setProperty("max-width","80px"),U.style.setProperty("max-height","80px"),U.style.setProperty("min-width","40px"),U.style.setProperty("min-height","40px"),n(q,()=>G.name||`${t("sheet")} ${I()+1}`),n(ge,()=>t("dimensions"),pe),n(ve,()=>h(G)),n(fe,()=>t("quantity"),ke),n($e,()=>G.quantity),n(we,()=>t("material"),Ce),n(he,()=>G.material||"Generic"),n(Q,w(re,{get when(){return G.margin},get children(){var ee=Sb(),X=ee.firstChild,J=X.firstChild,oe=X.nextSibling,Pe=oe.firstChild;return n(X,()=>t("margin"),J),n(oe,()=>G.margin,Pe),ee}}),null),_e.$$click=()=>g(G),n(_e,()=>t("edit")),B.$$click=()=>u(G.id),n(B,()=>t("delete")),j(ee=>(ee=`${G.width} / ${G.height}`)!=null?U.style.setProperty("aspect-ratio",ee):U.style.removeProperty("aspect-ratio")),Z})()})),M}})),j(()=>de(P,"title",t("add_sheet"))),p})()};Oe(["click"]);var Lb=S('<div class="bg-gray-50 dark:bg-gray-700/50 rounded-lg p-6 space-y-4"><h4 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h4><div class=space-y-3><label for=preset-name class="block text-sm font-medium text-gray-700 dark:text-gray-300"></label><input id=preset-name type=text class="block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"></div><div class=space-y-3><label for=preset-description class="block text-sm font-medium text-gray-700 dark:text-gray-300"></label><textarea id=preset-description rows=3 class="block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"></textarea></div><div class="flex gap-3 pt-2"><button class="px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 border border-gray-300 dark:border-gray-600 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"></button><button class="px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed border border-transparent rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800">'),Nb=S('<div class="grid gap-4 md:grid-cols-2 lg:grid-cols-3">'),Ab=S('<div class=space-y-6><div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 space-y-6"><div class="flex items-center justify-between pb-4 border-b border-gray-200 dark:border-gray-700"><div class="flex items-center gap-3"><div class="w-8 h-8 bg-violet-100 dark:bg-violet-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-violet-600 dark:text-violet-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg></div><h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100"></h3></div><div class="flex gap-3"><button class="inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 border border-gray-300 dark:border-gray-600 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"></path></svg></button><button class="inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 border border-transparent rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg></button></div></div><p class="text-sm text-gray-500 dark:text-gray-400"></p><div class=space-y-4>'),Eb=S('<div class="text-center py-12"><div class="mx-auto w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mb-4"><svg class="w-8 h-8 text-gray-400 dark:text-gray-500"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"></path></svg></div><h4 class="text-lg font-medium text-gray-900 dark:text-gray-100 mb-2"></h4><p class="text-sm text-gray-500 dark:text-gray-400">'),Rb=S('<p class="text-sm text-gray-600 dark:text-gray-400 mb-3 line-clamp-2">'),Fb=S('<div class="flex justify-between text-xs text-gray-500 dark:text-gray-400"><span>:</span><span>'),Mb=S('<div><div class=p-4><div class="flex items-center justify-between mb-3"><h4 class="text-base font-medium text-gray-900 dark:text-gray-100 truncate"></h4><div class="flex gap-1"><button class="p-1.5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors duration-200"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg></button><button class="p-1.5 text-gray-400 hover:text-red-600 dark:hover:text-red-400 rounded-md hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors duration-200"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg></button></div></div><div class="space-y-1 mb-4"><div class="flex justify-between text-xs text-gray-500 dark:text-gray-400"><span>:</span><span></span></div></div><button>');const Ob=()=>{const[t]=Ee("settings"),[e,r]=te(!1),[s,i]=te(""),[a,l]=te(""),[o,d]=te(""),g=async()=>{const p=s().trim();if(!p){A.setError(t("preset_name_required"));return}try{const b={id:`preset_${Date.now()}`,name:p,description:a().trim(),config:{..._.config},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};A.addPreset(b),ie.isAvailable&&await ie.savePreset(b),i(""),l(""),r(!1)}catch(b){console.error("Failed to create preset:",b),A.setError(t("preset_create_failed"))}},u=async p=>{const b=Object.values(_.app.presets||{}).find(v=>v.id===p);if(b)try{A.updateConfig(b.config),ie.isAvailable&&await ie.saveConfig(b.config),d(p)}catch(v){console.error("Failed to load preset:",v),A.setError(t("preset_load_failed"))}},c=async p=>{const b=Object.values(_.app.presets||{}).find(C=>C.id===p);if(!(!b||!confirm(t("confirm_delete_preset",{name:b.name}))))try{A.removePreset(p),ie.isAvailable&&await ie.deletePreset(p),o()===p&&d("")}catch(C){console.error("Failed to delete preset:",C),A.setError(t("preset_delete_failed"))}},m=async p=>{const b=Object.values(_.app.presets||{}).find(v=>v.id===p);if(!(!b||!ie.isAvailable))try{const v=await ie.saveFileDialog({title:t("export_preset"),defaultPath:`${b.name}.json`,filters:[{name:"JSON Files",extensions:["json"]},{name:"All Files",extensions:["*"]}]});if(v.canceled||!v.filePath)return;await ie.exportPreset(b,v.filePath)}catch(v){console.error("Failed to export preset:",v),A.setError(t("preset_export_failed"))}},f=async()=>{if(ie.isAvailable)try{const p=await ie.openFileDialog({title:t("import_preset"),filters:[{name:"JSON Files",extensions:["json"]},{name:"All Files",extensions:["*"]}],properties:["openFile","multiSelections"]});if(p.canceled||!p.filePaths?.length)return;for(const b of p.filePaths){const v=await ie.importPreset(b);A.addPreset({...v,id:`preset_${Date.now()}_${Math.random()}`,updatedAt:new Date().toISOString()})}}catch(p){console.error("Failed to import preset:",p),A.setError(t("preset_import_failed"))}},h=p=>new Date(p).toLocaleDateString();return(()=>{var p=Ab(),b=p.firstChild,v=b.firstChild,C=v.firstChild,P=C.firstChild,$=P.nextSibling,O=C.nextSibling,V=O.firstChild;V.firstChild;var T=V.nextSibling;T.firstChild;var H=v.nextSibling,y=H.nextSibling;return n($,()=>t("preset_management")),V.$$click=f,n(V,()=>t("import"),null),T.$$click=()=>r(!0),n(T,()=>t("create_preset"),null),n(H,()=>t("preset_description")),n(b,w(re,{get when(){return e()},get children(){var x=Lb(),R=x.firstChild,L=R.nextSibling,k=L.firstChild,N=k.nextSibling,F=L.nextSibling,M=F.firstChild,z=M.nextSibling,W=F.nextSibling,K=W.firstChild,G=K.nextSibling;return n(R,()=>t("create_new_preset")),n(k,()=>t("preset_name")),N.$$input=I=>i(I.currentTarget.value),n(M,()=>t("preset_description_optional")),z.$$input=I=>l(I.currentTarget.value),K.$$click=()=>{r(!1),i(""),l("")},n(K,()=>t("cancel")),G.$$click=g,n(G,()=>t("create_preset")),j(I=>{var Z=t("enter_preset_name"),ne=t("enter_preset_description"),Y=!s().trim();return Z!==I.e&&de(N,"placeholder",I.e=Z),ne!==I.t&&de(z,"placeholder",I.t=ne),Y!==I.a&&(G.disabled=I.a=Y),I},{e:void 0,t:void 0,a:void 0}),j(()=>N.value=s()),j(()=>z.value=a()),x}}),y),n(y,w(re,{get when(){return Me(()=>!!_.app.presets)()&&Object.keys(_.app.presets).length>0},get fallback(){return(()=>{var x=Eb(),R=x.firstChild,L=R.nextSibling,k=L.nextSibling;return n(L,()=>t("no_presets_available")),n(k,()=>t("create_preset_to_get_started")),x})()},get children(){var x=Nb();return n(x,w(Ie,{get each(){return Object.values(_.app.presets||{})},children:R=>(()=>{var L=Mb(),k=L.firstChild,N=k.firstChild,F=N.firstChild,M=F.nextSibling,z=M.firstChild,W=z.nextSibling,K=N.nextSibling,G=K.firstChild,I=G.firstChild,Z=I.firstChild,ne=I.nextSibling,Y=K.nextSibling;return n(F,()=>R.name),z.$$click=()=>m(R.id),W.$$click=()=>c(R.id),n(k,w(re,{get when(){return R.description},get children(){var U=Rb();return n(U,()=>R.description),U}}),K),n(I,()=>t("created"),Z),n(ne,()=>h(R.createdAt)),n(K,w(re,{get when(){return R.updatedAt!==R.createdAt},get children(){var U=Fb(),E=U.firstChild,q=E.firstChild,Q=E.nextSibling;return n(E,()=>t("updated"),q),n(Q,()=>h(R.updatedAt)),U}}),null),Y.$$click=()=>u(R.id),n(Y,(()=>{var U=Me(()=>o()===R.id);return()=>U()?t("active"):t("load_preset")})()),j(U=>{var E=`bg-white dark:bg-gray-700 rounded-lg border-2 transition-all duration-200 ${o()===R.id?"border-blue-500 ring-2 ring-blue-500/20":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"}`,q=t("export_preset"),Q=t("delete_preset"),ce=o()===R.id,ge=`w-full px-3 py-2 text-sm font-medium rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-gray-700 ${o()===R.id?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 cursor-default":"bg-blue-600 hover:bg-blue-700 text-white focus:ring-blue-500"}`;return E!==U.e&&Le(L,U.e=E),q!==U.t&&de(z,"title",U.t=q),Q!==U.a&&de(W,"title",U.a=Q),ce!==U.o&&(Y.disabled=U.o=ce),ge!==U.i&&Le(Y,U.i=ge),U},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),L})()})),x}})),j(x=>{var R=t("import_preset"),L=t("create_new_preset");return R!==x.e&&de(V,"title",x.e=R),L!==x.t&&de(T,"title",x.t=L),x},{e:void 0,t:void 0}),p})()};Oe(["click","input"]);var jb=S('<div class=space-y-6><div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 space-y-6"><div class="flex items-center gap-3 pb-4 border-b border-gray-200 dark:border-gray-700"><div class="w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-blue-600 dark:text-blue-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path></svg></div><h4 class="text-lg font-semibold text-gray-900 dark:text-gray-100"></h4></div><div class=space-y-3><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"> (mm)</label><div class=space-y-3><input type=range min=0 max=20 step=0.1 class="w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer slider-thumb"><div class="flex items-center gap-3"><input type=number min=0 max=20 step=0.1 class="w-24 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"><span class="text-sm text-gray-500 dark:text-gray-400">mm</span></div></div><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><div class=space-y-3><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"> (mm)</label><div class=space-y-3><input type=range min=0.1 max=2 step=0.1 class="w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer slider-thumb"><div class="flex items-center gap-3"><input type=number min=0.1 max=2 step=0.1 class="w-24 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"><span class="text-sm text-gray-500 dark:text-gray-400">mm</span></div></div><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><div class=space-y-3><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"></label><select class="block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"></select><p class="text-sm text-gray-500 dark:text-gray-400"></p></div></div><div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 space-y-6"><div class="flex items-center gap-3 pb-4 border-b border-gray-200 dark:border-gray-700"><div class="w-8 h-8 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-green-600 dark:text-green-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"></path></svg></div><h4 class="text-lg font-semibold text-gray-900 dark:text-gray-100"></h4></div><div class=space-y-3><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"></label><div class=space-y-3><input type=range min=5 max=50 step=1 class="w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer slider-thumb"><div class="flex items-center gap-3"><input type=number min=5 max=50 step=1 class="w-24 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"><span class="text-sm text-gray-500 dark:text-gray-400">individuals</span></div></div><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><div class=space-y-3><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"> (%)</label><div class=space-y-3><input type=range min=1 max=50 step=1 class="w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer slider-thumb"><div class="flex items-center gap-3"><input type=number min=1 max=50 step=1 class="w-24 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"><span class="text-sm text-gray-500 dark:text-gray-400">%</span></div></div><p class="text-sm text-gray-500 dark:text-gray-400"></p></div></div><div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 space-y-6"><div class="flex items-center gap-3 pb-4 border-b border-gray-200 dark:border-gray-700"><div class="w-8 h-8 bg-orange-100 dark:bg-orange-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-orange-600 dark:text-orange-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4"></path></svg></div><h4 class="text-lg font-semibold text-gray-900 dark:text-gray-100"></h4></div><div class=space-y-3><div class="flex items-center justify-between"><div><label class="text-sm font-medium text-gray-700 dark:text-gray-300"></label><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><input type=checkbox class="w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-2"></div></div><div class=space-y-3><div class="flex items-center justify-between"><div><label class="text-sm font-medium text-gray-700 dark:text-gray-300"></label><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><input type=checkbox class="w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-2"></div></div><div class=space-y-3><div class="flex items-center justify-between"><div><label class="text-sm font-medium text-gray-700 dark:text-gray-300"></label><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><input type=checkbox class="w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-2"></div></div><div class=space-y-3><div class="flex items-center justify-between"><div><label class="text-sm font-medium text-gray-700 dark:text-gray-300"></label><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><input type=checkbox class="w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-2">'),Tb=S("<option>");const Ib=()=>{const[t]=Ee("settings"),[e,r]=te(0),[s,i]=te(.3),[a,l]=te(4),[o,d]=te(10),[g,u]=te(10),[c,m]=te(!1),[f,h]=te(!1),[p,b]=te(!1),[v,C]=te(!0);ht(()=>{const x=_.config;r(x.spacing||0),i(x.curveTolerance||.3),l(x.rotations||4),d(x.populationSize||10),u(x.mutationRate||10),m(x.useHoles||!1),h(x.exploreConcave||!1),b(x.mergeLines||!1),C(x.useRoughApproximation!==!1)});const P=x=>{A.updateConfig({..._.config,...x})},$=x=>{r(x),P({spacing:x})},O=x=>{i(x),P({curveTolerance:x})},V=x=>{l(x),P({rotations:x})},T=x=>{d(x),P({populationSize:x})},H=x=>{u(x),P({mutationRate:x})},y=[{value:0,label:t("no_rotation")},{value:2,label:t("2_rotations")},{value:4,label:t("4_rotations")},{value:8,label:t("8_rotations")},{value:12,label:t("12_rotations")},{value:360,label:t("free_rotation")}];return(()=>{var x=jb(),R=x.firstChild,L=R.firstChild,k=L.firstChild,N=k.nextSibling,F=L.nextSibling,M=F.firstChild,z=M.firstChild,W=M.nextSibling,K=W.firstChild,G=K.nextSibling,I=G.firstChild,Z=W.nextSibling,ne=F.nextSibling,Y=ne.firstChild,U=Y.firstChild,E=Y.nextSibling,q=E.firstChild,Q=q.nextSibling,ce=Q.firstChild,ge=E.nextSibling,pe=ne.nextSibling,ve=pe.firstChild,ue=ve.nextSibling,fe=ue.nextSibling,ke=R.nextSibling,$e=ke.firstChild,Se=$e.firstChild,we=Se.nextSibling,Ce=$e.nextSibling,he=Ce.firstChild,se=he.nextSibling,_e=se.firstChild,B=_e.nextSibling,ee=B.firstChild,X=se.nextSibling,J=Ce.nextSibling,oe=J.firstChild,Pe=oe.firstChild,me=oe.nextSibling,je=me.firstChild,ze=je.nextSibling,Ke=ze.firstChild,Ve=me.nextSibling,Ue=ke.nextSibling,He=Ue.firstChild,We=He.firstChild,le=We.nextSibling,Ne=He.nextSibling,Je=Ne.firstChild,at=Je.firstChild,ot=at.firstChild,Xe=ot.nextSibling,lt=at.nextSibling,Ze=Ne.nextSibling,D=Ze.firstChild,Fe=D.firstChild,Be=Fe.firstChild,Ge=Be.nextSibling,Ye=Fe.nextSibling,et=Ze.nextSibling,Ot=et.firstChild,mt=Ot.firstChild,ct=mt.firstChild,bt=ct.nextSibling,gt=mt.nextSibling,xt=et.nextSibling,yt=xt.firstChild,vr=yt.firstChild,$r=vr.firstChild,ps=$r.nextSibling,kr=vr.nextSibling;return n(N,()=>t("nesting_parameters")),n(M,()=>t("space_between_parts"),z),K.$$input=be=>$(parseFloat(be.currentTarget.value)),I.$$input=be=>$(parseFloat(be.currentTarget.value)||0),n(Z,()=>t("spacing_description")),n(Y,()=>t("curve_tolerance"),U),q.$$input=be=>O(parseFloat(be.currentTarget.value)),ce.$$input=be=>O(parseFloat(be.currentTarget.value)||.3),n(ge,()=>t("curve_tolerance_description")),n(ve,()=>t("part_rotations")),ue.addEventListener("change",be=>V(parseInt(be.currentTarget.value))),n(ue,w(Ie,{each:y,children:be=>(()=>{var sr=Tb();return n(sr,()=>be.label),j(()=>sr.value=be.value),sr})()})),n(fe,()=>t("rotations_description")),n(we,()=>t("genetic_algorithm")),n(he,()=>t("population_size")),_e.$$input=be=>T(parseInt(be.currentTarget.value)),ee.$$input=be=>T(parseInt(be.currentTarget.value)||10),n(X,()=>t("population_size_description")),n(oe,()=>t("mutation_rate"),Pe),je.$$input=be=>H(parseInt(be.currentTarget.value)),Ke.$$input=be=>H(parseInt(be.currentTarget.value)||10),n(Ve,()=>t("mutation_rate_description")),n(le,()=>t("advanced_options")),n(ot,()=>t("use_holes")),n(Xe,()=>t("use_holes_description")),lt.addEventListener("change",be=>{m(be.currentTarget.checked),P({useHoles:be.currentTarget.checked})}),n(Be,()=>t("explore_concave")),n(Ge,()=>t("explore_concave_description")),Ye.addEventListener("change",be=>{h(be.currentTarget.checked),P({exploreConcave:be.currentTarget.checked})}),n(ct,()=>t("merge_common_lines")),n(bt,()=>t("merge_lines_description")),gt.addEventListener("change",be=>{b(be.currentTarget.checked),P({mergeLines:be.currentTarget.checked})}),n($r,()=>t("use_rough_approximation")),n(ps,()=>t("rough_approximation_description")),kr.addEventListener("change",be=>{C(be.currentTarget.checked),P({useRoughApproximation:be.currentTarget.checked})}),j(()=>K.value=e()),j(()=>I.value=e()),j(()=>q.value=s()),j(()=>ce.value=s()),j(()=>ue.value=a()),j(()=>_e.value=o()),j(()=>ee.value=o()),j(()=>je.value=g()),j(()=>Ke.value=g()),j(()=>lt.checked=c()),j(()=>Ye.checked=f()),j(()=>gt.checked=p()),j(()=>kr.checked=v()),x})()};Oe(["input"]);var Db=S('<div class=space-y-6><div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 space-y-6"><div class="flex items-center gap-3 pb-4 border-b border-gray-200 dark:border-gray-700"><div class="w-8 h-8 bg-purple-100 dark:bg-purple-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-purple-600 dark:text-purple-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM21 5a2 2 0 00-2-2h-4a2 2 0 00-2 2v12a4 4 0 004 4h4a2 2 0 002-2V5z"></path></svg></div><h4 class="text-lg font-semibold text-gray-900 dark:text-gray-100"></h4></div><div class=space-y-3><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"></label><select class="block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"></select><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><div class=space-y-3><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"></label><select class="block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"></select><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><div class=space-y-3><div class="flex items-center justify-between"><div><label class="text-sm font-medium text-gray-700 dark:text-gray-300"></label><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><button type=button><span class=sr-only>Toggle dark mode</span><span></span></button></div></div></div><div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 space-y-6"><div class="flex items-center gap-3 pb-4 border-b border-gray-200 dark:border-gray-700"><div class="w-8 h-8 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-green-600 dark:text-green-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 6h16M4 12h16M4 18h7"></path></svg></div><h4 class="text-lg font-semibold text-gray-900 dark:text-gray-100"></h4></div><div class=space-y-3><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"></label><select class="block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"></select><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><div class=space-y-3><div class="flex items-center justify-between"><div><label class="text-sm font-medium text-gray-700 dark:text-gray-300"></label><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><input type=checkbox class="w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-2"></div></div><div class=space-y-3><div class="flex items-center justify-between"><div><label class="text-sm font-medium text-gray-700 dark:text-gray-300"></label><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><input type=checkbox class="w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-2"></div></div></div><div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 space-y-6"><div class="flex items-center gap-3 pb-4 border-b border-gray-200 dark:border-gray-700"><div class="w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-blue-600 dark:text-blue-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"></path></svg></div><h4 class="text-lg font-semibold text-gray-900 dark:text-gray-100"></h4></div><div class=space-y-3><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"></label><div class="flex gap-3"><input type=number min=200 max=600 class="flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"><button class="px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 border border-gray-300 dark:border-gray-600 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"></button></div><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><div class=space-y-3><div class="flex items-center justify-between"><div><label class="text-sm font-medium text-gray-700 dark:text-gray-300"></label><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><input type=checkbox class="w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-2"></div></div><div class=space-y-3><div class="flex items-center justify-between"><div><label class="text-sm font-medium text-gray-700 dark:text-gray-300"></label><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><input type=checkbox class="w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-2">'),lr=S("<option>");const zb=()=>{const[t,{changeLanguage:e}]=Ee("settings"),r=[{code:"en",name:"English"},{code:"de",name:"Deutsch"}],s=[{value:"mm",label:t("millimeters")},{value:"in",label:t("inches")},{value:"cm",label:t("centimeters")}],i=[{value:"system",label:t("auto_theme")},{value:"light",label:t("light_theme")},{value:"dark",label:t("dark_theme")}],a=async u=>{A.setLanguage(u),await e(u)},l=u=>{A.setThemePreference(u)},o=()=>typeof localStorage<"u"&&"theme"in localStorage?localStorage.theme:"system",d=u=>{A.updateConfig({..._.config,units:u})},g=()=>{A.setPanelWidth("partsWidth",300)};return(()=>{var u=Db(),c=u.firstChild,m=c.firstChild,f=m.firstChild,h=f.nextSibling,p=m.nextSibling,b=p.firstChild,v=b.nextSibling,C=v.nextSibling,P=p.nextSibling,$=P.firstChild,O=$.nextSibling,V=O.nextSibling,T=P.nextSibling,H=T.firstChild,y=H.firstChild,x=y.firstChild,R=x.nextSibling,L=y.nextSibling,k=L.firstChild,N=k.nextSibling,F=c.nextSibling,M=F.firstChild,z=M.firstChild,W=z.nextSibling,K=M.nextSibling,G=K.firstChild,I=G.nextSibling,Z=I.nextSibling,ne=K.nextSibling,Y=ne.firstChild,U=Y.firstChild,E=U.firstChild,q=E.nextSibling,Q=U.nextSibling,ce=ne.nextSibling,ge=ce.firstChild,pe=ge.firstChild,ve=pe.firstChild,ue=ve.nextSibling,fe=pe.nextSibling,ke=F.nextSibling,$e=ke.firstChild,Se=$e.firstChild,we=Se.nextSibling,Ce=$e.nextSibling,he=Ce.firstChild,se=he.nextSibling,_e=se.firstChild,B=_e.nextSibling,ee=se.nextSibling,X=Ce.nextSibling,J=X.firstChild,oe=J.firstChild,Pe=oe.firstChild,me=Pe.nextSibling,je=oe.nextSibling,ze=X.nextSibling,Ke=ze.firstChild,Ve=Ke.firstChild,Ue=Ve.firstChild,He=Ue.nextSibling,We=Ve.nextSibling;return n(h,()=>t("appearance")),n(b,()=>t("language")),v.addEventListener("change",le=>a(le.currentTarget.value)),n(v,w(Ie,{each:r,children:le=>(()=>{var Ne=lr();return n(Ne,()=>le.name),j(()=>Ne.value=le.code),Ne})()})),n(C,()=>t("language_description")),n($,()=>t("theme")),O.addEventListener("change",le=>l(le.currentTarget.value)),n(O,w(Ie,{each:i,children:le=>(()=>{var Ne=lr();return n(Ne,()=>le.label),j(()=>Ne.value=le.value),Ne})()})),n(V,()=>t("theme_description")),n(x,()=>t("dark_mode")),n(R,()=>t("dark_mode_description")),L.$$click=()=>A.setThemePreference(_.ui.darkMode?"light":"dark"),n(W,()=>t("units_and_formatting")),n(G,()=>t("display_units")),I.addEventListener("change",le=>d(le.currentTarget.value)),n(I,w(Ie,{each:s,children:le=>(()=>{var Ne=lr();return n(Ne,()=>le.label),j(()=>Ne.value=le.value),Ne})()})),n(Z,()=>t("units_description")),n(E,()=>t("show_grid")),n(q,()=>t("show_grid_description")),Q.addEventListener("change",le=>A.updateConfig({..._.config,showGrid:le.currentTarget.checked})),n(ve,()=>t("show_rulers")),n(ue,()=>t("show_rulers_description")),fe.addEventListener("change",le=>A.updateConfig({..._.config,showRulers:le.currentTarget.checked})),n(we,()=>t("layout_preferences")),n(he,()=>t("parts_panel_width")),_e.$$input=le=>A.setPanelWidth("partsWidth",parseInt(le.currentTarget.value)||300),B.$$click=g,n(B,()=>t("reset")),n(ee,()=>t("panel_width_description")),n(Pe,()=>t("show_tooltips")),n(me,()=>t("tooltips_description")),je.addEventListener("change",le=>A.setShowTooltips(le.currentTarget.checked)),n(Ue,()=>t("show_status_bar")),n(He,()=>t("status_bar_description")),We.addEventListener("change",le=>A.setShowStatusBar(le.currentTarget.checked)),j(le=>{var Ne=`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 ${_.ui.darkMode?"bg-blue-600":"bg-gray-200 dark:bg-gray-700"}`,Je=`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${_.ui.darkMode?"translate-x-5":"translate-x-0"}`;return Ne!==le.e&&Le(L,le.e=Ne),Je!==le.t&&Le(N,le.t=Je),le},{e:void 0,t:void 0}),j(()=>v.value=_.ui.language),j(()=>O.value=o()),j(()=>I.value=_.config.units||"mm"),j(()=>Q.checked=_.config.showGrid!==!1),j(()=>fe.checked=_.config.showRulers!==!1),j(()=>_e.value=_.ui.panels.partsWidth||300),j(()=>je.checked=_.ui.showTooltips!==!1),j(()=>We.checked=_.ui.showStatusBar!==!1),u})()};Oe(["click","input"]);var Gr=S('<div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="text-gray-900 dark:text-gray-100">'),Bb=S('<div class="bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4 space-y-4"><h5 class="text-sm font-medium text-gray-900 dark:text-gray-100"></h5><div class=space-y-2><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="text-gray-900 dark:text-gray-100"></span></div><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="text-gray-900 dark:text-gray-100"></span></div><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="text-gray-900 dark:text-gray-100"></span></div><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="text-gray-900 dark:text-gray-100"> Ã— </span></div></div><button class="w-full px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 border border-gray-300 dark:border-gray-600 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800">'),Vb=S('<div class=space-y-6><div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 space-y-6"><div class="flex items-center gap-3 pb-4 border-b border-gray-200 dark:border-gray-700"><div class="w-8 h-8 bg-orange-100 dark:bg-orange-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-orange-600 dark:text-orange-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg></div><h4 class="text-lg font-semibold text-gray-900 dark:text-gray-100"></h4></div><div class=space-y-3><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"></label><input type=number min=1 class="block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><div class=space-y-3><div class="flex items-center justify-between"><div><label class="text-sm font-medium text-gray-700 dark:text-gray-300"></label><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><input type=checkbox class="w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-2"></div></div><div class=space-y-3><div class="flex items-center justify-between"><div><label class="text-sm font-medium text-gray-700 dark:text-gray-300"></label><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><input type=checkbox class="w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-2"></div></div></div><div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 space-y-6"><div class="flex items-center gap-3 pb-4 border-b border-gray-200 dark:border-gray-700"><div class="w-8 h-8 bg-red-100 dark:bg-red-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-red-600 dark:text-red-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><h4 class="text-lg font-semibold text-gray-900 dark:text-gray-100"></h4></div><div class=space-y-3><div class="flex items-center justify-between"><div><label class="text-sm font-medium text-gray-700 dark:text-gray-300"></label><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><input type=checkbox class="w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-2"></div></div><div class=space-y-3><div class="flex items-center justify-between"><div><label class="text-sm font-medium text-gray-700 dark:text-gray-300"></label><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><input type=checkbox class="w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-2"></div></div><div class=space-y-3><button class="px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 border border-gray-300 dark:border-gray-600 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"></button></div></div><div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 space-y-6"><div class="flex items-center gap-3 pb-4 border-b border-gray-200 dark:border-gray-700"><div class="w-8 h-8 bg-cyan-100 dark:bg-cyan-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-cyan-600 dark:text-cyan-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg></div><h4 class="text-lg font-semibold text-gray-900 dark:text-gray-100"></h4></div><div class=space-y-3><button class="px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 border border-gray-300 dark:border-gray-600 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"></button><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><div class=space-y-3><button class="px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 border border-gray-300 dark:border-gray-600 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"></button><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><div class=space-y-3><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"> (<!>)</label><input type=number min=0 max=60 class="block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"><p class="text-sm text-gray-500 dark:text-gray-400">');const Ub=()=>{const[t]=Ee("settings"),[e,r]=te(!1),s=()=>{if(confirm(t("confirm_clear_cache")))try{localStorage.clear(),A.setError(null),alert(t("cache_cleared_success"))}catch(d){console.error("Failed to clear cache:",d),A.setError(t("cache_clear_failed"))}},i=()=>{A.setPanelWidth("partsWidth",300),A.setActiveTab("parts")},a=()=>{const o={timestamp:new Date().toISOString(),platform:navigator.platform,userAgent:navigator.userAgent,language:navigator.language,viewport:{width:window.innerWidth,height:window.innerHeight},globalState:{ui:_.ui,config:_.config,partsCount:_.app.parts.length,sheetsCount:_.app.sheets.length,nestsCount:_.app.nests.length,presetsCount:_.presets.length},performance:{memory:performance.memory?{usedJSHeapSize:performance.memory.usedJSHeapSize,totalJSHeapSize:performance.memory.totalJSHeapSize,jsHeapSizeLimit:performance.memory.jsHeapSizeLimit}:null}},d=new Blob([JSON.stringify(o,null,2)],{type:"application/json"}),g=URL.createObjectURL(d),u=document.createElement("a");u.href=g,u.download=`deepnest-debug-${Date.now()}.json`,document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(g)},l=o=>{if(o===0)return"0 Bytes";const d=1024,g=["Bytes","KB","MB","GB"],u=Math.floor(Math.log(o)/Math.log(d));return parseFloat((o/Math.pow(d,u)).toFixed(2))+" "+g[u]};return(()=>{var o=Vb(),d=o.firstChild,g=d.firstChild,u=g.firstChild,c=u.nextSibling,m=g.nextSibling,f=m.firstChild,h=f.nextSibling,p=h.nextSibling,b=m.nextSibling,v=b.firstChild,C=v.firstChild,P=C.firstChild,$=P.nextSibling,O=C.nextSibling,V=b.nextSibling,T=V.firstChild,H=T.firstChild,y=H.firstChild,x=y.nextSibling,R=H.nextSibling,L=d.nextSibling,k=L.firstChild,N=k.firstChild,F=N.nextSibling,M=k.nextSibling,z=M.firstChild,W=z.firstChild,K=W.firstChild,G=K.nextSibling,I=W.nextSibling,Z=M.nextSibling,ne=Z.firstChild,Y=ne.firstChild,U=Y.firstChild,E=U.nextSibling,q=Y.nextSibling,Q=Z.nextSibling,ce=Q.firstChild,ge=L.nextSibling,pe=ge.firstChild,ve=pe.firstChild,ue=ve.nextSibling,fe=pe.nextSibling,ke=fe.firstChild,$e=ke.nextSibling,Se=fe.nextSibling,we=Se.firstChild,Ce=we.nextSibling,he=Se.nextSibling,se=he.firstChild,_e=se.firstChild,B=_e.nextSibling;B.nextSibling;var ee=se.nextSibling,X=ee.nextSibling;return n(c,()=>t("performance")),n(f,()=>t("worker_threads")),h.$$input=J=>A.updateConfig({..._.config,workerThreads:parseInt(J.currentTarget.value)||4}),n(p,()=>t("worker_threads_description",{max:navigator.hardwareConcurrency||8})),n(P,()=>t("enable_gpu_acceleration")),n($,()=>t("gpu_acceleration_description")),O.addEventListener("change",J=>A.updateConfig({..._.config,enableGPU:J.currentTarget.checked})),n(y,()=>t("enable_caching")),n(x,()=>t("caching_description")),R.addEventListener("change",J=>A.updateConfig({..._.config,enableCaching:J.currentTarget.checked})),n(F,()=>t("debugging")),n(K,()=>t("debug_mode")),n(G,()=>t("debug_mode_description")),I.addEventListener("change",J=>A.updateConfig({..._.config,debugMode:J.currentTarget.checked})),n(U,()=>t("verbose_logging")),n(E,()=>t("verbose_logging_description")),q.addEventListener("change",J=>A.updateConfig({..._.config,verboseLogging:J.currentTarget.checked})),ce.$$click=()=>r(!e()),n(ce,(()=>{var J=Me(()=>!!e());return()=>J()?t("hide_debug_info"):t("show_debug_info")})()),n(Q,w(re,{get when(){return e()},get children(){var J=Bb(),oe=J.firstChild,Pe=oe.nextSibling,me=Pe.firstChild,je=me.firstChild,ze=je.firstChild,Ke=je.nextSibling,Ve=me.nextSibling,Ue=Ve.firstChild,He=Ue.firstChild,We=Ue.nextSibling,le=Ve.nextSibling,Ne=le.firstChild,Je=Ne.firstChild,at=Ne.nextSibling,ot=le.nextSibling,Xe=ot.firstChild,lt=Xe.firstChild,Ze=Xe.nextSibling,D=Ze.firstChild,Fe=Pe.nextSibling;return n(oe,()=>t("system_information")),n(je,()=>t("platform"),ze),n(Ke,()=>navigator.platform),n(Ue,()=>t("language"),He),n(We,()=>navigator.language),n(Ne,()=>t("cpu_cores"),Je),n(at,()=>navigator.hardwareConcurrency||"Unknown"),n(Xe,()=>t("viewport"),lt),n(Ze,()=>window.innerWidth,D),n(Ze,()=>window.innerHeight,null),n(Pe,w(re,{get when(){return performance.memory},get children(){return[(()=>{var Be=Gr(),Ge=Be.firstChild,Ye=Ge.firstChild,et=Ge.nextSibling;return n(Ge,()=>t("memory_used"),Ye),n(et,()=>l(performance.memory.usedJSHeapSize)),Be})(),(()=>{var Be=Gr(),Ge=Be.firstChild,Ye=Ge.firstChild,et=Ge.nextSibling;return n(Ge,()=>t("memory_total"),Ye),n(et,()=>l(performance.memory.totalJSHeapSize)),Be})()]}}),null),Fe.$$click=a,n(Fe,()=>t("export_debug_info")),J}}),null),n(ue,()=>t("maintenance")),ke.$$click=s,n(ke,()=>t("clear_cache")),n($e,()=>t("clear_cache_description")),we.$$click=i,n(we,()=>t("reset_layout")),n(Ce,()=>t("reset_layout_description")),n(se,()=>t("auto_save_interval"),_e),n(se,()=>t("minutes"),B),ee.$$input=J=>A.updateConfig({..._.config,autoSaveInterval:parseInt(J.currentTarget.value)||5}),n(X,()=>t("auto_save_description")),j(()=>de(h,"max",navigator.hardwareConcurrency||8)),j(()=>h.value=_.config.workerThreads||navigator.hardwareConcurrency||4),j(()=>O.checked=_.config.enableGPU||!1),j(()=>R.checked=_.config.enableCaching!==!1),j(()=>I.checked=_.config.debugMode||!1),j(()=>q.checked=_.config.verboseLogging||!1),j(()=>ee.value=_.config.autoSaveInterval||5),o})()};Oe(["input","click"]);var Hb=S('<svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3-3m0 0l-3 3m3-3v12">'),Wb=S('<svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M15 12a3 3 0 11-6 0 3 3 0 016 0z">'),Gb=S('<svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM21 5a2 2 0 00-2-2h-4a2 2 0 00-2 2v12a4 4 0 004 4h4a2 2 0 002-2V5z">'),qb=S('<svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4">'),Kb=S('<div class="bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700"><div class="p-6 border-b border-gray-200 dark:border-gray-700"><div class="flex items-center gap-3"><div class="w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-blue-600 dark:text-blue-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3-3m0 0l-3 3m3-3v12"></path></svg></div><div><h2 class="text-xl font-semibold text-gray-900 dark:text-gray-100"></h2><p class="text-sm text-gray-500 dark:text-gray-400">Save and manage configuration presets</p></div></div></div><div class=p-6>'),Jb=S('<div class="bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700"><div class="p-6 border-b border-gray-200 dark:border-gray-700"><div class="flex items-center gap-3"><div class="w-8 h-8 bg-purple-100 dark:bg-purple-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-purple-600 dark:text-purple-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg></div><div><h2 class="text-xl font-semibold text-gray-900 dark:text-gray-100"></h2><p class="text-sm text-gray-500 dark:text-gray-400">Configure nesting algorithm parameters</p></div></div></div><div class=p-6>'),Qb=S('<div class="bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700"><div class="p-6 border-b border-gray-200 dark:border-gray-700"><div class="flex items-center gap-3"><div class="w-8 h-8 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-green-600 dark:text-green-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM21 5a2 2 0 00-2-2h-4a2 2 0 00-2 2v12a4 4 0 004 4h4a2 2 0 002-2V5z"></path></svg></div><div><h2 class="text-xl font-semibold text-gray-900 dark:text-gray-100"></h2><p class="text-sm text-gray-500 dark:text-gray-400">Customize interface and appearance</p></div></div></div><div class=p-6>'),Xb=S('<div class="bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700"><div class="p-6 border-b border-gray-200 dark:border-gray-700"><div class="flex items-center gap-3"><div class="w-8 h-8 bg-orange-100 dark:bg-orange-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-orange-600 dark:text-orange-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4"></path></svg></div><div><h2 class="text-xl font-semibold text-gray-900 dark:text-gray-100"></h2><p class="text-sm text-gray-500 dark:text-gray-400">Advanced configuration options</p></div></div></div><div class=p-6>'),Zb=S('<div class="h-full flex flex-col bg-white dark:bg-gray-900"><div class="bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700"><div class="px-6 py-4 flex items-center justify-between"><div class="flex items-center gap-3"><div class="w-10 h-10 bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg flex items-center justify-center shadow-sm"><svg class="w-5 h-5 text-white"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4"></path></svg></div><div><h1 class="text-xl font-semibold text-gray-900 dark:text-gray-100"></h1><p class="text-sm text-gray-500 dark:text-gray-400">Configure your preferences and application settings</p></div></div><div class="flex items-center gap-3"><button class="inline-flex items-center gap-2 px-3 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 font-medium rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"></path></svg></button><button class="inline-flex items-center gap-2 px-3 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 font-medium rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path></svg></button><button class="inline-flex items-center gap-2 px-4 py-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 font-medium rounded-lg border border-red-200 dark:border-red-800 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg></button></div></div></div><div class="flex-1 flex overflow-hidden bg-gray-50 dark:bg-gray-900"><div class="w-80 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700"><div class=p-6><h3 class="text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-4">Settings Categories</h3><nav class=space-y-2></nav></div></div><div class="flex-1 overflow-y-auto bg-gray-50 dark:bg-gray-900"><div class=p-6>'),Yb=S('<button><div></div><div class="flex-1 min-w-0"><div></div><div>'),ex=S('<div class="w-1 h-8 bg-blue-500 dark:bg-blue-400 rounded-full flex-shrink-0">');const tx=()=>{const[t]=Ee("settings"),[e,r]=te("presets"),s=async()=>{if(confirm(t("confirm_reset_defaults")))try{A.resetToDefaults(),ie.isAvailable&&await ie.saveConfig(_.config)}catch(d){console.error("Failed to reset to defaults:",d),A.setError(t("reset_failed"))}},i=async()=>{if(ie.isAvailable)try{const o=await ie.saveFileDialog({title:t("export_configuration"),defaultPath:"deepnest-config.json",filters:[{name:"JSON Files",extensions:["json"]},{name:"All Files",extensions:["*"]}]});if(o.canceled||!o.filePath)return;await ie.exportConfig(_.config,o.filePath)}catch(o){console.error("Failed to export config:",o),A.setError(t("export_failed"))}},a=async()=>{if(ie.isAvailable)try{const o=await ie.openFileDialog({title:t("import_configuration"),filters:[{name:"JSON Files",extensions:["json"]},{name:"All Files",extensions:["*"]}],properties:["openFile"]});if(o.canceled||!o.filePaths?.length)return;const d=await ie.importConfig(o.filePaths[0]);A.updateConfig(d)}catch(o){console.error("Failed to import config:",o),A.setError(t("import_failed"))}},l=[{id:"presets",label:t("preset_management"),description:"Save and manage configuration presets",icon:Hb()},{id:"algorithm",label:t("algorithm_settings"),description:"Configure nesting algorithm parameters",icon:Wb()},{id:"ui",label:t("ui_preferences"),description:"Customize interface and appearance",icon:Gb()},{id:"advanced",label:t("advanced_settings"),description:"Advanced configuration options",icon:qb()}];return(()=>{var o=Zb(),d=o.firstChild,g=d.firstChild,u=g.firstChild,c=u.firstChild,m=c.nextSibling,f=m.firstChild,h=u.nextSibling,p=h.firstChild;p.firstChild;var b=p.nextSibling;b.firstChild;var v=b.nextSibling;v.firstChild;var C=d.nextSibling,P=C.firstChild,$=P.firstChild,O=$.firstChild,V=O.nextSibling,T=P.nextSibling,H=T.firstChild;return n(f,()=>t("settings_title")),p.$$click=a,n(p,()=>t("import"),null),b.$$click=i,n(b,()=>t("export"),null),v.$$click=s,n(v,()=>t("reset_defaults"),null),n(V,w(Ie,{each:l,children:y=>(()=>{var x=Yb(),R=x.firstChild,L=R.nextSibling,k=L.firstChild,N=k.nextSibling;return x.$$click=()=>r(y.id),n(R,()=>y.icon),n(k,()=>y.label),n(N,()=>y.description),n(x,(()=>{var F=Me(()=>e()===y.id);return()=>F()&&ex()})(),null),j(F=>{var M=`w-full flex items-start gap-4 px-4 py-3 rounded-xl text-left transition-all duration-200 group ${e()===y.id?"bg-blue-50 dark:bg-blue-900/30 border-2 border-blue-200 dark:border-blue-700 shadow-sm":"hover:bg-gray-50 dark:hover:bg-gray-700/50 border-2 border-transparent"}`,z=`w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0 transition-colors duration-200 ${e()===y.id?"bg-blue-100 dark:bg-blue-900/50 text-blue-600 dark:text-blue-400":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 group-hover:bg-gray-200 dark:group-hover:bg-gray-600"}`,W=`font-medium transition-colors duration-200 ${e()===y.id?"text-blue-900 dark:text-blue-100":"text-gray-900 dark:text-gray-100 group-hover:text-gray-900 dark:group-hover:text-gray-100"}`,K=`text-sm mt-1 transition-colors duration-200 ${e()===y.id?"text-blue-700 dark:text-blue-300":"text-gray-500 dark:text-gray-400"}`;return M!==F.e&&Le(x,F.e=M),z!==F.t&&Le(R,F.t=z),W!==F.a&&Le(k,F.a=W),K!==F.o&&Le(N,F.o=K),F},{e:void 0,t:void 0,a:void 0,o:void 0}),x})()})),n(H,w(re,{get when(){return e()==="presets"},get children(){var y=Kb(),x=y.firstChild,R=x.firstChild,L=R.firstChild,k=L.nextSibling,N=k.firstChild,F=x.nextSibling;return n(N,()=>t("preset_management")),n(F,w(Ob,{})),y}}),null),n(H,w(re,{get when(){return e()==="algorithm"},get children(){var y=Jb(),x=y.firstChild,R=x.firstChild,L=R.firstChild,k=L.nextSibling,N=k.firstChild,F=x.nextSibling;return n(N,()=>t("algorithm_settings")),n(F,w(Ib,{})),y}}),null),n(H,w(re,{get when(){return e()==="ui"},get children(){var y=Qb(),x=y.firstChild,R=x.firstChild,L=R.firstChild,k=L.nextSibling,N=k.firstChild,F=x.nextSibling;return n(N,()=>t("ui_preferences")),n(F,w(zb,{})),y}}),null),n(H,w(re,{get when(){return e()==="advanced"},get children(){var y=Xb(),x=y.firstChild,R=x.firstChild,L=R.firstChild,k=L.nextSibling,N=k.firstChild,F=x.nextSibling;return n(N,()=>t("advanced_settings")),n(F,w(Ub,{})),y}}),null),j(y=>{var x=t("import_configuration"),R=t("export_configuration"),L=t("reset_to_defaults");return x!==y.e&&de(p,"title",y.e=x),R!==y.t&&de(b,"title",y.t=R),L!==y.a&&de(v,"title",y.a=L),y},{e:void 0,t:void 0,a:void 0}),o})()};Oe(["click"]);var rx=S('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"><div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden"><div class="flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700"><h2 class="text-xl font-semibold text-gray-900 dark:text-gray-100"></h2><button class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors"><span class=sr-only></span><svg class="w-6 h-6"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M6 18L18 6M6 6l12 12"></path></svg></button></div><div class="p-6 overflow-y-auto max-h-[70vh]"><div class="prose prose-gray dark:prose-invert max-w-none"><div class="mb-4 text-sm text-gray-600 dark:text-gray-400">: </div><section class=mb-6><h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3"></h3><p class="text-gray-600 dark:text-gray-400 mb-3"></p></section><section class=mb-6><h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3"></h3><p class="text-gray-600 dark:text-gray-400 mb-3"></p><ul class="list-disc pl-6 space-y-2 text-gray-600 dark:text-gray-400"><li></li><li></li><li></li><li></li></ul></section><section class=mb-6><h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3"></h3><p class="text-gray-600 dark:text-gray-400 mb-3"></p><ul class="list-disc pl-6 space-y-2 text-gray-600 dark:text-gray-400"><li></li><li></li><li></li></ul></section><section class=mb-6><h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3"></h3><p class="text-gray-600 dark:text-gray-400 mb-3"></p><ul class="list-disc pl-6 space-y-2 text-gray-600 dark:text-gray-400"><li></li><li></li><li></li></ul></section><section class=mb-6><h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3"></h3><p class="text-gray-600 dark:text-gray-400 mb-3"></p><ul class="list-disc pl-6 space-y-2 text-gray-600 dark:text-gray-400"><li></li><li></li><li></li><li></li></ul></section><section class=mb-6><h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3"></h3><p class="text-gray-600 dark:text-gray-400 mb-3"></p></section><section class=mb-6><h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3"></h3><p class="text-gray-600 dark:text-gray-400 mb-3"></p><div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"><p class="text-sm text-gray-600 dark:text-gray-400">: <a href=https://github.com/deepnest-next/deepnest/issues target=_blank rel="noopener noreferrer"class="text-blue-600 dark:text-blue-400 hover:underline ml-1">https://github.com/deepnest-next/deepnest/issues</a></p></div></section></div></div><div class="flex justify-end p-6 border-t border-gray-200 dark:border-gray-700"><button class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors">');const sx=t=>{const[e]=Ee("imprint"),r=s=>{s.target===s.currentTarget&&t.onClose()};return(()=>{var s=rx(),i=s.firstChild,a=i.firstChild,l=a.firstChild,o=l.nextSibling,d=o.firstChild,g=a.nextSibling,u=g.firstChild,c=u.firstChild,m=c.firstChild,f=c.nextSibling,h=f.firstChild,p=h.nextSibling,b=f.nextSibling,v=b.firstChild,C=v.nextSibling,P=C.nextSibling,$=P.firstChild,O=$.nextSibling,V=O.nextSibling,T=V.nextSibling,H=b.nextSibling,y=H.firstChild,x=y.nextSibling,R=x.nextSibling,L=R.firstChild,k=L.nextSibling,N=k.nextSibling,F=H.nextSibling,M=F.firstChild,z=M.nextSibling,W=z.nextSibling,K=W.firstChild,G=K.nextSibling,I=G.nextSibling,Z=F.nextSibling,ne=Z.firstChild,Y=ne.nextSibling,U=Y.nextSibling,E=U.firstChild,q=E.nextSibling,Q=q.nextSibling,ce=Q.nextSibling,ge=Z.nextSibling,pe=ge.firstChild,ve=pe.nextSibling,ue=ge.nextSibling,fe=ue.firstChild,ke=fe.nextSibling,$e=ke.nextSibling,Se=$e.firstChild,we=Se.firstChild,Ce=g.nextSibling,he=Ce.firstChild;return s.$$click=r,n(l,()=>e("privacy_policy")),Nt(o,"click",t.onClose),n(d,()=>e("close")),n(c,()=>e("privacy_last_updated"),m),n(c,()=>new Date().toLocaleDateString(),null),n(h,()=>e("privacy_section_overview")),n(p,()=>e("privacy_overview_text")),n(v,()=>e("privacy_section_data_collection")),n(C,()=>e("privacy_data_collection_text")),n($,()=>e("privacy_data_settings")),n(O,()=>e("privacy_data_preferences")),n(V,()=>e("privacy_data_projects")),n(T,()=>e("privacy_data_no_personal")),n(y,()=>e("privacy_section_data_storage")),n(x,()=>e("privacy_data_storage_text")),n(L,()=>e("privacy_storage_local")),n(k,()=>e("privacy_storage_no_transmission")),n(N,()=>e("privacy_storage_user_control")),n(M,()=>e("privacy_section_third_party")),n(z,()=>e("privacy_third_party_text")),n(K,()=>e("privacy_third_party_converter")),n(G,()=>e("privacy_third_party_optional")),n(I,()=>e("privacy_third_party_no_tracking")),n(ne,()=>e("privacy_section_user_rights")),n(Y,()=>e("privacy_user_rights_text")),n(E,()=>e("privacy_rights_access")),n(q,()=>e("privacy_rights_delete")),n(Q,()=>e("privacy_rights_modify")),n(ce,()=>e("privacy_rights_export")),n(pe,()=>e("privacy_section_updates")),n(ve,()=>e("privacy_updates_text")),n(fe,()=>e("privacy_section_contact")),n(ke,()=>e("privacy_contact_text")),n(Se,()=>e("privacy_contact_github"),we),Nt(he,"click",t.onClose),n(he,()=>e("close")),s})()};Oe(["click"]);var ix=S('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"><div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden"><div class="flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700"><h2 class="text-xl font-semibold text-gray-900 dark:text-gray-100"></h2><button class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors"><span class=sr-only></span><svg class="w-6 h-6"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M6 18L18 6M6 6l12 12"></path></svg></button></div><div class="p-6 overflow-y-auto max-h-[70vh]"><div class="prose prose-gray dark:prose-invert max-w-none"><div class="mb-4 text-sm text-gray-600 dark:text-gray-400">: </div><section class=mb-6><h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3"></h3><div class="space-y-2 text-gray-600 dark:text-gray-400"><p><strong>:</strong> DeepNest Next</p><p><strong>:</strong> 2.0.0</p><p><strong>:</strong> </p><p><strong>:</strong><a href=https://github.com/deepnest-next/deepnest target=_blank rel="noopener noreferrer"class="text-blue-600 dark:text-blue-400 hover:underline ml-1">https://github.com/deepnest-next/deepnest</a></p></div></section><section class=mb-6><h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3"></h3><p class="text-gray-600 dark:text-gray-400 mb-3"></p><div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"><p class="text-sm text-gray-600 dark:text-gray-400">: MIT License</p><p class="text-sm text-gray-600 dark:text-gray-400 mt-2">: <a href=https://github.com/deepnest-next/deepnest/blob/main/LICENSE target=_blank rel="noopener noreferrer"class="text-blue-600 dark:text-blue-400 hover:underline ml-1">https://github.com/deepnest-next/deepnest/blob/main/LICENSE</a></p></div></section><section class=mb-6><h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3"></h3><p class="text-gray-600 dark:text-gray-400 mb-3"></p><div class="bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 p-4 rounded-lg"><p class="text-sm text-yellow-800 dark:text-yellow-300"><strong>:</strong> </p></div></section><section class=mb-6><h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3"></h3><p class="text-gray-600 dark:text-gray-400 mb-3"></p><div class=space-y-3><div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"><h4 class="font-semibold text-gray-900 dark:text-gray-100 mb-2">Electron</h4><p class="text-sm text-gray-600 dark:text-gray-400">MIT License - <a href=https://github.com/electron/electron target=_blank rel="noopener noreferrer"class="text-blue-600 dark:text-blue-400 hover:underline">https://github.com/electron/electron</a></p></div><div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"><h4 class="font-semibold text-gray-900 dark:text-gray-100 mb-2">SolidJS</h4><p class="text-sm text-gray-600 dark:text-gray-400">MIT License - <a href=https://github.com/solidjs/solid target=_blank rel="noopener noreferrer"class="text-blue-600 dark:text-blue-400 hover:underline">https://github.com/solidjs/solid</a></p></div><div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"><h4 class="font-semibold text-gray-900 dark:text-gray-100 mb-2">Clipper Library</h4><p class="text-sm text-gray-600 dark:text-gray-400">Boost Software License - <a href=https://github.com/junmer/clipper-lib target=_blank rel="noopener noreferrer"class="text-blue-600 dark:text-blue-400 hover:underline">https://github.com/junmer/clipper-lib</a></p></div></div></section><section class=mb-6><h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3"></h3><p class="text-gray-600 dark:text-gray-400 mb-3"></p><div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"><p class="text-sm text-gray-600 dark:text-gray-400">: <a href=https://github.com/Jack000/SVGnest target=_blank rel="noopener noreferrer"class="text-blue-600 dark:text-blue-400 hover:underline ml-1">SVGnest by Jack000</a></p><p class="text-sm text-gray-600 dark:text-gray-400 mt-1">: <a href=https://github.com/deepnest-io/deepnest target=_blank rel="noopener noreferrer"class="text-blue-600 dark:text-blue-400 hover:underline ml-1">Deepnest by deepnest-io</a></p></div></section><section class=mb-6><h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3"></h3><p class="text-gray-600 dark:text-gray-400 mb-3"></p><div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"><p class="text-sm text-gray-600 dark:text-gray-400">: <a href=https://github.com/deepnest-next/deepnest/issues target=_blank rel="noopener noreferrer"class="text-blue-600 dark:text-blue-400 hover:underline ml-1">https://github.com/deepnest-next/deepnest/issues</a></p></div></section></div></div><div class="flex justify-end p-6 border-t border-gray-200 dark:border-gray-700"><button class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors">');const nx=t=>{const[e]=Ee("imprint"),r=s=>{s.target===s.currentTarget&&t.onClose()};return(()=>{var s=ix(),i=s.firstChild,a=i.firstChild,l=a.firstChild,o=l.nextSibling,d=o.firstChild,g=a.nextSibling,u=g.firstChild,c=u.firstChild,m=c.firstChild,f=c.nextSibling,h=f.firstChild,p=h.nextSibling,b=p.firstChild,v=b.firstChild,C=v.firstChild,P=b.nextSibling,$=P.firstChild,O=$.firstChild,V=P.nextSibling,T=V.firstChild,H=T.firstChild;T.nextSibling;var y=V.nextSibling,x=y.firstChild,R=x.firstChild,L=f.nextSibling,k=L.firstChild,N=k.nextSibling,F=N.nextSibling,M=F.firstChild,z=M.firstChild,W=M.nextSibling,K=W.firstChild,G=L.nextSibling,I=G.firstChild,Z=I.nextSibling,ne=Z.nextSibling,Y=ne.firstChild,U=Y.firstChild,E=U.firstChild;U.nextSibling;var q=G.nextSibling,Q=q.firstChild,ce=Q.nextSibling,ge=q.nextSibling,pe=ge.firstChild,ve=pe.nextSibling,ue=ve.nextSibling,fe=ue.firstChild,ke=fe.firstChild,$e=fe.nextSibling,Se=$e.firstChild,we=ge.nextSibling,Ce=we.firstChild,he=Ce.nextSibling,se=he.nextSibling,_e=se.firstChild,B=_e.firstChild,ee=g.nextSibling,X=ee.firstChild;return s.$$click=r,n(l,()=>e("legal_notice")),Nt(o,"click",t.onClose),n(d,()=>e("close")),n(c,()=>e("legal_last_updated"),m),n(c,()=>new Date().toLocaleDateString(),null),n(h,()=>e("legal_section_software_info")),n(v,()=>e("legal_software_name"),C),n($,()=>e("legal_software_version"),O),n(T,()=>e("legal_software_type"),H),n(V,()=>e("legal_software_type_description"),null),n(x,()=>e("legal_project_website"),R),n(k,()=>e("legal_section_license")),n(N,()=>e("legal_license_text")),n(M,()=>e("legal_license_type"),z),n(W,()=>e("legal_license_link"),K),n(I,()=>e("legal_section_disclaimer")),n(Z,()=>e("legal_disclaimer_text")),n(U,()=>e("legal_disclaimer_warning"),E),n(Y,()=>e("legal_disclaimer_warning_text"),null),n(Q,()=>e("legal_section_third_party")),n(ce,()=>e("legal_third_party_text")),n(pe,()=>e("legal_section_attribution")),n(ve,()=>e("legal_attribution_text")),n(fe,()=>e("legal_attribution_original"),ke),n($e,()=>e("legal_attribution_previous"),Se),n(Ce,()=>e("legal_section_contact")),n(he,()=>e("legal_contact_text")),n(_e,()=>e("legal_contact_github"),B),Nt(X,"click",t.onClose),n(X,()=>e("close")),s})()};Oe(["click"]);var ax=S('<div class="h-full flex flex-col bg-white dark:bg-gray-900"><div class="flex items-center justify-between p-5 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"><h2 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h2></div><div class="flex-1 overflow-y-auto p-6"><div class="max-w-4xl mx-auto space-y-8"><div class=text-center><div class="inline-flex items-center justify-center w-24 h-24 rounded-full bg-blue-100 dark:bg-blue-900 mb-6"><span class=text-4xl>ðŸ”§</span></div><h1 class="text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2">DeepNest Next</h1><p class="text-lg text-gray-600 dark:text-gray-400 mb-4"></p><div class="flex items-center justify-center space-x-4 text-sm text-gray-500 dark:text-gray-400"><span>: </span><span>â€¢</span><span>: </span></div></div><section class="bg-gray-50 dark:bg-gray-800 rounded-lg p-6"><h2 class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4"></h2><div class="prose prose-gray dark:prose-invert max-w-none"><p class=mb-4></p><p class=mb-4></p><ul class="list-disc pl-6 space-y-2"><li></li><li></li><li></li><li></li><li></li></ul></div></section><section class="bg-gray-50 dark:bg-gray-800 rounded-lg p-6"><h2 class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4"></h2><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><h3 class="font-semibold text-gray-900 dark:text-gray-100 mb-3"></h3><ul class="space-y-2 text-sm text-gray-600 dark:text-gray-400"><li>â€¢ SolidJS 1.8+</li><li>â€¢ TypeScript</li><li>â€¢ Tailwind CSS v4</li><li>â€¢ Vite</li><li>â€¢ i18next</li></ul></div><div><h3 class="font-semibold text-gray-900 dark:text-gray-100 mb-3"></h3><ul class="space-y-2 text-sm text-gray-600 dark:text-gray-400"><li>â€¢ Electron</li><li>â€¢ Node.js</li><li>â€¢ C++ Native Modules</li><li>â€¢ Clipper Library</li><li>â€¢ Genetic Algorithm</li></ul></div></div></section><section class="bg-gray-50 dark:bg-gray-800 rounded-lg p-6"><h2 class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4"></h2><div class=space-y-4><div><h3 class="font-semibold text-gray-900 dark:text-gray-100 mb-2"></h3><p class="text-gray-600 dark:text-gray-400"></p></div><div><h3 class="font-semibold text-gray-900 dark:text-gray-100 mb-2"></h3><p class="text-gray-600 dark:text-gray-400"></p></div><div class="flex space-x-4"><a href=https://github.com/deepnest-next/deepnest target=_blank rel="noopener noreferrer"class="inline-flex items-center px-4 py-2 bg-gray-900 dark:bg-gray-700 text-white rounded-lg hover:bg-gray-800 dark:hover:bg-gray-600 transition-colors"><span class=mr-2>ðŸ“š</span></a><a href=https://github.com/deepnest-next/deepnest/releases target=_blank rel="noopener noreferrer"class="inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"><span class=mr-2>ðŸ“¦</span></a></div></div></section><section class="bg-gray-50 dark:bg-gray-800 rounded-lg p-6"><h2 class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4"></h2><div class=space-y-4><p class="text-gray-600 dark:text-gray-400"></p><div class="flex space-x-4"><button class="inline-flex items-center px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors"><span class=mr-2>ðŸ”’</span></button><button class="inline-flex items-center px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors"><span class=mr-2>ðŸ“‹</span></button></div></div></section><section class="bg-gray-50 dark:bg-gray-800 rounded-lg p-6"><h2 class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4"></h2><div class=space-y-4><p class="text-gray-600 dark:text-gray-400"></p><div class="flex space-x-4"><a href=https://github.com/deepnest-next/deepnest/issues target=_blank rel="noopener noreferrer"class="inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors"><span class=mr-2>ðŸ›</span></a><a href=https://github.com/deepnest-next/deepnest/discussions target=_blank rel="noopener noreferrer"class="inline-flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors"><span class=mr-2>ðŸ’¬');const ox=()=>{const[t]=Ee("imprint"),[e,r]=te(!1),[s,i]=te(!1),a=fs();return(()=>{var l=ax(),o=l.firstChild,d=o.firstChild,g=o.nextSibling,u=g.firstChild,c=u.firstChild,m=c.firstChild,f=m.nextSibling,h=f.nextSibling,p=h.nextSibling,b=p.firstChild,v=b.firstChild,C=b.nextSibling,P=C.nextSibling,$=P.firstChild,O=c.nextSibling,V=O.firstChild,T=V.nextSibling,H=T.firstChild,y=H.nextSibling,x=y.nextSibling,R=x.firstChild,L=R.nextSibling,k=L.nextSibling,N=k.nextSibling,F=N.nextSibling,M=O.nextSibling,z=M.firstChild,W=z.nextSibling,K=W.firstChild,G=K.firstChild,I=K.nextSibling,Z=I.firstChild,ne=M.nextSibling,Y=ne.firstChild,U=Y.nextSibling,E=U.firstChild,q=E.firstChild,Q=q.nextSibling,ce=E.nextSibling,ge=ce.firstChild,pe=ge.nextSibling,ve=ce.nextSibling,ue=ve.firstChild;ue.firstChild;var fe=ue.nextSibling;fe.firstChild;var ke=ne.nextSibling,$e=ke.firstChild,Se=$e.nextSibling,we=Se.firstChild,Ce=we.nextSibling,he=Ce.firstChild;he.firstChild;var se=he.nextSibling;se.firstChild;var _e=ke.nextSibling,B=_e.firstChild,ee=B.nextSibling,X=ee.firstChild,J=X.nextSibling,oe=J.firstChild;oe.firstChild;var Pe=oe.nextSibling;return Pe.firstChild,n(d,()=>t("imprint_title")),n(h,()=>t("tagline")),n(b,()=>t("version"),v),n(b,()=>a.version,null),n(P,()=>t("build_date"),$),n(P,()=>a.buildDate,null),n(V,()=>t("about_title")),n(H,()=>t("about_description")),n(y,()=>t("about_features")),n(R,()=>t("feature_genetic_algorithm")),n(L,()=>t("feature_multiple_formats")),n(k,()=>t("feature_real_time_preview")),n(N,()=>t("feature_advanced_settings")),n(F,()=>t("feature_multi_language")),n(z,()=>t("technical_info_title")),n(G,()=>t("frontend_technologies")),n(Z,()=>t("backend_technologies")),n(Y,()=>t("project_info_title")),n(q,()=>t("project_origin")),n(Q,()=>t("project_origin_description")),n(ge,()=>t("open_source")),n(pe,()=>t("open_source_description")),n(ue,()=>t("view_source"),null),n(fe,()=>t("releases"),null),n($e,()=>t("legal_title")),n(we,()=>t("legal_description")),he.$$click=()=>r(!0),n(he,()=>t("privacy_policy"),null),se.$$click=()=>i(!0),n(se,()=>t("legal_notice"),null),n(B,()=>t("contact_title")),n(X,()=>t("contact_description")),n(oe,()=>t("report_issue"),null),n(Pe,()=>t("discussions"),null),n(l,w(re,{get when(){return e()},get children(){return w(sx,{onClose:()=>r(!1)})}}),null),n(l,w(re,{get when(){return s()},get children(){return w(nx,{onClose:()=>i(!1)})}}),null),l})()};Oe(["click"]);var lx=S('<main class="flex-1 overflow-hidden bg-gray-50 dark:bg-gray-900 w-full h-full">');const dx=()=>(()=>{var t=lx();return n(t,w(Ls,{get children(){return[w(vt,{get when(){return _.ui.activeTab==="parts"},get children(){return w(Nm,{})}}),w(vt,{get when(){return _.ui.activeTab==="nests"},get children(){return w(fb,{})}}),w(vt,{get when(){return _.ui.activeTab==="sheets"},get children(){return w(Pb,{})}}),w(vt,{get when(){return _.ui.activeTab==="settings"},get children(){return w(tx,{})}}),w(vt,{get when(){return _.ui.activeTab==="imprint"},get children(){return w(ox,{})}})]}})),t})();var cx=S('<div class="flex items-center gap-3"><div class="w-32 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden"><div class="h-full bg-blue-500 dark:bg-blue-400 rounded-full transition-all duration-300 ease-out"></div></div><span class="text-gray-600 dark:text-gray-400 min-w-10 text-right font-mono">%'),gx=S('<div class="flex items-center gap-1"><svg class="w-3 h-3"fill=currentColor viewBox="0 0 20 20"><path fill-rule=evenodd d="M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z"clip-rule=evenodd></path></svg><span> threads'),ux=S('<div class="flex items-center gap-1"><svg class="w-3 h-3"fill=currentColor viewBox="0 0 20 20"><path fill-rule=evenodd d="M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z"clip-rule=evenodd></path></svg><span> parts'),fx=S('<div class="flex items-center gap-1"><svg class="w-3 h-3"fill=currentColor viewBox="0 0 20 20"><path fill-rule=evenodd d="M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"clip-rule=evenodd></path></svg><span> results'),px=S('<div class="flex items-center gap-1 text-red-500 dark:text-red-400"><svg class="w-3 h-3"fill=currentColor viewBox="0 0 20 20"><path fill-rule=evenodd d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z"clip-rule=evenodd></path></svg><span class="max-w-64 truncate">'),hx=S('<footer class="h-10 bg-gray-100 dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 flex items-center justify-between px-4 text-xs"><div class="flex items-center gap-4"><div class="flex items-center gap-2"><div></div><span class="text-gray-900 dark:text-gray-100 font-medium"></span></div></div><div class="flex items-center gap-6 text-gray-600 dark:text-gray-400">');const _x=()=>{const[t]=Ee("common"),e=ye(()=>{const{process:s}=_;return s.isNesting?t("status.nesting_in_progress"):s.lastError?t("status.error_occurred"):s.workerStatus.isRunning?s.workerStatus.currentOperation||t("status.processing"):t("status.ready")}),r=ye(()=>Math.max(0,Math.min(100,_.process.progress)));return(()=>{var s=hx(),i=s.firstChild,a=i.firstChild,l=a.firstChild,o=l.nextSibling,d=i.nextSibling;return n(o,e),n(i,w(re,{get when(){return _.process.isNesting},get children(){var g=cx(),u=g.firstChild,c=u.firstChild,m=u.nextSibling,f=m.firstChild;return n(m,()=>r().toFixed(1),f),j(h=>(h=`${r()}%`)!=null?c.style.setProperty("width",h):c.style.removeProperty("width")),g}}),null),n(d,w(re,{get when(){return _.process.workerStatus.threadsActive>0},get children(){var g=gx(),u=g.firstChild,c=u.nextSibling,m=c.firstChild;return n(c,()=>_.process.workerStatus.threadsActive,m),g}}),null),n(d,w(re,{get when(){return _.app.parts.length>0},get children(){var g=ux(),u=g.firstChild,c=u.nextSibling,m=c.firstChild;return n(c,()=>_.app.parts.length,m),g}}),null),n(d,w(re,{get when(){return _.app.nests.length>0},get children(){var g=fx(),u=g.firstChild,c=u.nextSibling,m=c.firstChild;return n(c,()=>_.app.nests.length,m),g}}),null),n(d,w(re,{get when(){return _.process.lastError},get children(){var g=px(),u=g.firstChild,c=u.nextSibling;return n(c,()=>_.process.lastError),g}}),null),j(()=>Le(l,`w-2 h-2 rounded-full ${_.process.isNesting?"bg-blue-500 animate-pulse":_.process.lastError?"bg-red-500":"bg-green-500"}`)),s})()};var mx=S('<div><div class="flex-shrink-0 h-full w-full"></div><div title="Drag to resize panels"><div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-1 h-8 bg-gray-400 dark:bg-gray-500 group-hover:bg-blue-300 dark:group-hover:bg-blue-300 rounded-full transition-colors duration-200"></div><div class="absolute -left-1 -right-1 top-0 bottom-0 opacity-0 group-hover:opacity-100 transition-opacity duration-200"><div class="w-full h-full bg-blue-500/20 dark:bg-blue-400/20"></div></div></div><div class="flex-1 h-full min-w-0 w-full">');const bx=t=>{const{minLeftWidth:e=250,maxLeftWidth:r=500,defaultLeftWidth:s=300}=t,[i,a]=te(!1),[l,o]=te(_.ui.panels.partsWidth||s);let d,g;const u=f=>{f.preventDefault(),a(!0),document.addEventListener("mousemove",c),document.addEventListener("mouseup",m),document.body.style.cursor="col-resize",document.body.style.userSelect="none"},c=f=>{if(!i()||!d)return;const h=d.getBoundingClientRect(),p=f.clientX-h.left,b=Math.max(e,Math.min(r,p));o(b),A.setPanelWidth("partsWidth",b)},m=()=>{a(!1),document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",m),document.body.style.cursor="",document.body.style.userSelect=""};return br(()=>{o(_.ui.panels.partsWidth||s)}),xr(()=>{document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",m),document.body.style.cursor="",document.body.style.userSelect=""}),(()=>{var f=mx(),h=f.firstChild,p=h.nextSibling,b=p.nextSibling,v=d;typeof v=="function"?Cr(v,f):d=f,n(h,()=>t.left),p.$$mousedown=u;var C=g;return typeof C=="function"?Cr(C,p):g=p,n(b,()=>t.right),j(P=>{var $=`flex h-full w-full ${i()?"select-none":""}`,O=`${l()}px`,V=`w-1 bg-gray-200 dark:bg-gray-700 hover:bg-blue-500 dark:hover:bg-blue-400 cursor-col-resize transition-colors duration-200 relative group ${i()?"bg-blue-500 dark:bg-blue-400":""}`;return $!==P.e&&Le(f,P.e=$),O!==P.t&&((P.t=O)!=null?h.style.setProperty("width",O):h.style.removeProperty("width")),V!==P.a&&Le(p,P.a=V),P},{e:void 0,t:void 0,a:void 0}),f})()};Oe(["mousedown"]);var xx=S('<div class="h-screen flex flex-col bg-gray-50 text-gray-900 dark:bg-gray-900 dark:text-gray-100"><div class="flex-1 flex overflow-hidden">');const yx=()=>(()=>{var t=xx(),e=t.firstChild;return n(t,w(bm,{}),e),n(e,w(bx,{get left(){return w($m,{})},get right(){return w(dx,{})},minLeftWidth:200,maxLeftWidth:600,defaultLeftWidth:300})),n(t,w(_x,{}),null),t})();var vx=S('<div class="app min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 transition-colors duration-200">');const $x=()=>{const[t]=Ee("common");ht(()=>{const r=_.ui.darkMode;typeof document<"u"&&(document.documentElement.classList.toggle("dark",r),document.documentElement.setAttribute("data-theme",r?"dark":"light"))}),br(async()=>{if(e(),ie.isAvailable)try{const r=await ie.readConfig();A.updateConfig(r)}catch(r){console.warn("Failed to load initial config:",r)}});const e=()=>{ie.isAvailable&&(ie.onNestProgress(r=>{A.setNestingProgress(r)}),ie.onNestComplete(r=>{A.setNests(r),A.setNestingStatus(!1)}),ie.onBackgroundProgress(r=>{A.setNestingProgress(r.progress)}),ie.onWorkerStatus(r=>{A.setWorkerStatus(r)}),ie.onNestError(r=>{A.setError(r),A.setNestingStatus(!1)}))};return(()=>{var r=vx();return n(r,w(yx,{})),r})()},kx=document.getElementById("root"),[,{isReady:wx}]=Ee("common");As(()=>w(pm,{get children(){return w(re,{get when(){return wx()},get children(){return w($x,{})}})}}),kx);
