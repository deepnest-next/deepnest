import{a as e,c as t,t as r,j as i,h as a,F as s,f as d,s as l,S as n,e as g,i as o,m as h,g as u,b as c}from"./chunk-CloFZg_W.js";import{u as b}from"./chunk-CxE4G7Dl.js";import{a as x,g as y}from"./chunk-DwRD3xX6.js";import"./chunk-CJSr3jq0.js";var m=r('<span class="text-red-500 dark:text-red-400 text-xs mt-1 block">'),f=r('<div class="text-sm text-gray-600 dark:text-gray-400">: <!> mm'),v=r('<div class="p-6 overflow-y-auto max-h-[calc(90vh-120px)]"><div class=space-y-6><div class=space-y-4><h4 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h4><div class=space-y-2><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"for=sheet-name>:</label><input id=sheet-name type=text class="block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"></div><div class=space-y-2><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"for=material>:</label><select id=material class="block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"></select></div></div><div class=space-y-4><h4 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h4><div class="grid grid-cols-3 gap-2 mb-4"></div><div class="flex items-end gap-2"><div class=flex-1><label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"for=width> (mm):</label><input id=width type=number min=1 step=0.1></div><button type=button class="px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition-colors duration-200 mb-1">⇄</button><div class=flex-1><label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"for=height> (mm):</label><input id=height type=number min=1 step=0.1></div></div><div class="text-sm text-gray-600 dark:text-gray-400 mt-2">: <!> mm²</div></div><div class=space-y-4><h4 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h4><div class="grid grid-cols-3 gap-4"><div class=space-y-2><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"for=thickness> (mm):</label><input id=thickness type=number min=0.1 step=0.1></div><div class=space-y-2><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"for=quantity>:</label><input id=quantity type=number min=1></div><div class=space-y-2><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"for=margin> (mm):</label><input id=margin type=number min=0 step=0.1></div></div></div><div class=space-y-4><h4 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h4><div class="flex items-center gap-6"><div class=flex-shrink-0><div class="bg-white dark:bg-gray-600 border-2 border-gray-300 dark:border-gray-500 rounded shadow-sm relative"><div class="absolute border border-dashed border-gray-400 dark:border-gray-400 rounded-sm"></div></div></div><div class=space-y-2><div class="text-sm text-gray-900 dark:text-gray-100"> × <!> mm</div><div class="text-sm text-gray-600 dark:text-gray-400">: <!> mm²'),p=r('<div class="flex items-center justify-end gap-3 p-6 border-t border-gray-200 dark:border-gray-700"><button type=button class="px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition-colors duration-200"></button><button type=button class="px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition-colors duration-200">'),k=r("<option>"),w=r('<button type=button class="px-2 py-1 text-xs font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded hover:bg-gray-200 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition-colors duration-200">');const C=r=>{const[u]=b("sheets"),[c,x]=e(""),[y,C]=e(200),[S,$]=e(200),[_,P]=e(3),[j,q]=e(1),[M,A]=e(5),[F,T]=e("Generic"),[G,L]=e({}),D=["Generic","Wood - Plywood","Wood - MDF","Wood - Hardwood","Metal - Aluminum","Metal - Steel","Metal - Brass","Plastic - Acrylic","Plastic - ABS","Cardboard","Fabric","Leather","Paper"],W=[{name:"A4",width:210,height:297},{name:"A3",width:297,height:420},{name:"A2",width:420,height:594},{name:"A1",width:594,height:841},{name:"Letter",width:216,height:279},{name:"Legal",width:216,height:356},{name:'12×12"',width:305,height:305},{name:'24×24"',width:610,height:610},{name:'48×24"',width:1219,height:610}];t(()=>{const e=r.sheet;e?(x(e.name||""),C(e.width),$(e.height),P(e.thickness||3),q(e.quantity||1),A(e.margin||5),T(e.material||"Generic")):(x(""),C(200),$(200),P(3),q(1),A(5),T("Generic")),L({})});const B=()=>{const e=y();C(S()),$(e)},z=()=>(y()*S()).toFixed(0);return[(()=>{var e=v(),t=e.firstChild.firstChild,r=t.firstChild,o=r.nextSibling,h=o.firstChild,b=h.firstChild,p=h.nextSibling,L=o.nextSibling.firstChild,E=L.firstChild,H=L.nextSibling,I=t.nextSibling,O=I.firstChild,J=O.nextSibling,K=J.nextSibling,N=K.firstChild,Q=N.firstChild,R=Q.firstChild,U=Q.nextSibling,V=N.nextSibling,X=V.nextSibling,Y=X.firstChild,Z=Y.firstChild,ee=Y.nextSibling,te=K.nextSibling,re=te.firstChild,ie=re.nextSibling;ie.nextSibling;var ae=I.nextSibling,se=ae.firstChild,de=se.nextSibling.firstChild,le=de.firstChild,ne=le.firstChild,ge=le.nextSibling,oe=de.nextSibling,he=oe.firstChild,ue=he.firstChild,ce=he.nextSibling,be=oe.nextSibling,xe=be.firstChild,ye=xe.firstChild,me=xe.nextSibling,fe=ae.nextSibling.firstChild,ve=fe.nextSibling.firstChild,pe=ve.firstChild,ke=pe.firstChild,we=ve.nextSibling,Ce=we.firstChild,Se=Ce.firstChild,$e=Se.nextSibling;$e.nextSibling;var _e=Ce.nextSibling,Pe=_e.firstChild,je=Pe.nextSibling;return je.nextSibling,i(r,()=>u("basic_information")),i(h,()=>u("sheet_name"),b),p.$$input=e=>x(e.currentTarget.value),i(L,()=>u("material"),E),H.addEventListener("change",e=>T(e.currentTarget.value)),i(H,a(s,{each:D,children:e=>{return(t=k()).value=e,i(t,e),t;var t}})),i(O,()=>u("dimensions")),i(J,a(s,{each:W,children:e=>{return(t=w()).$$click=()=>(e=>{C(e.width),$(e.height),c().trim()||x(e.name)})(e),i(t,()=>e.name),d(()=>l(t,"title",`${e.width} × ${e.height} mm`)),t;var t}})),i(Q,()=>u("width"),R),U.$$input=e=>C(parseFloat(e.currentTarget.value)||0),i(N,a(n,{get when(){return G().width},get children(){var e=m();return i(e,()=>G().width),e}}),null),V.$$click=B,i(Y,()=>u("height"),Z),ee.$$input=e=>$(parseFloat(e.currentTarget.value)||0),i(X,a(n,{get when(){return G().height},get children(){var e=m();return i(e,()=>G().height),e}}),null),i(te,()=>u("area"),re),i(te,z,ie),i(se,()=>u("properties")),i(le,()=>u("thickness"),ne),ge.$$input=e=>P(parseFloat(e.currentTarget.value)||0),i(de,a(n,{get when(){return G().thickness},get children(){var e=m();return i(e,()=>G().thickness),e}}),null),i(he,()=>u("quantity"),ue),ce.$$input=e=>q(parseInt(e.currentTarget.value)||0),i(oe,a(n,{get when(){return G().quantity},get children(){var e=m();return i(e,()=>G().quantity),e}}),null),i(xe,()=>u("margin"),ye),me.$$input=e=>A(parseFloat(e.currentTarget.value)||0),i(be,a(n,{get when(){return G().margin},get children(){var e=m();return i(e,()=>G().margin),e}}),null),i(fe,()=>u("preview")),pe.style.setProperty("width","120px"),pe.style.setProperty("max-height","120px"),i(Ce,y,Se),i(Ce,S,$e),i(_e,()=>u("area"),Pe),i(_e,z,je),i(we,a(n,{get when(){return M()>0},get children(){var e=f(),t=e.firstChild,r=t.nextSibling;return r.nextSibling,i(e,()=>u("margin"),t),i(e,M,r),e}}),null),d(e=>{var t=u("enter_sheet_name"),r="block w-full px-3 py-2 border rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 "+(G().width?"border-red-500":"border-gray-300 dark:border-gray-600"),i=u("swap_dimensions"),a="block w-full px-3 py-2 border rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 "+(G().height?"border-red-500":"border-gray-300 dark:border-gray-600"),s="block w-full px-3 py-2 border rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 "+(G().thickness?"border-red-500":"border-gray-300 dark:border-gray-600"),d="block w-full px-3 py-2 border rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 "+(G().quantity?"border-red-500":"border-gray-300 dark:border-gray-600"),n="block w-full px-3 py-2 border rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 "+(G().margin?"border-red-500":"border-gray-300 dark:border-gray-600"),o=`${y()} / ${S()}`,h=`${Math.max(M()/Math.max(y(),S())*100,2)}%`,c=`${Math.max(M()/Math.max(y(),S())*100,2)}%`,b=`${Math.max(M()/Math.max(y(),S())*100,2)}%`,x=`${Math.max(M()/Math.max(y(),S())*100,2)}%`;return t!==e.e&&l(p,"placeholder",e.e=t),r!==e.t&&g(U,e.t=r),i!==e.a&&l(V,"title",e.a=i),a!==e.o&&g(ee,e.o=a),s!==e.i&&g(ge,e.i=s),d!==e.n&&g(ce,e.n=d),n!==e.s&&g(me,e.s=n),o!==e.h&&(null!=(e.h=o)?pe.style.setProperty("aspect-ratio",o):pe.style.removeProperty("aspect-ratio")),h!==e.r&&(null!=(e.r=h)?ke.style.setProperty("top",h):ke.style.removeProperty("top")),c!==e.d&&(null!=(e.d=c)?ke.style.setProperty("left",c):ke.style.removeProperty("left")),b!==e.l&&(null!=(e.l=b)?ke.style.setProperty("right",b):ke.style.removeProperty("right")),x!==e.u&&(null!=(e.u=x)?ke.style.setProperty("bottom",x):ke.style.removeProperty("bottom")),e},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0}),d(()=>p.value=c()),d(()=>H.value=F()),d(()=>U.value=y()),d(()=>ee.value=S()),d(()=>ge.value=_()),d(()=>ce.value=j()),d(()=>me.value=M()),e})(),(H=p(),I=H.firstChild,O=I.nextSibling,o(I,"click",r.onCancel,!0),i(I,()=>u("cancel")),O.$$click=()=>{if(!(()=>{const e={};return y()<=0&&(e.width=u("width_must_be_positive")),S()<=0&&(e.height=u("height_must_be_positive")),_()<=0&&(e.thickness=u("thickness_must_be_positive")),j()<=0&&(e.quantity=u("quantity_must_be_positive")),M()<0&&(e.margin=u("margin_cannot_be_negative")),L(e),0===Object.keys(e).length})())return;const e={id:r.sheet?.id||`sheet_${Date.now()}`,name:c().trim()||`Sheet ${Date.now()}`,width:y(),height:S(),thickness:_(),quantity:j(),margin:M(),material:F()};r.onSave(e)},i(O,(E=h(()=>!!r.sheet),()=>E()?u("update_sheet"):u("add_sheet"))),H)];var E,H,I,O};u(["input","click"]);var S=r('<div class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"><div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden"><div class="flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700"><h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100"></h3><button class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 text-2xl leading-none">×'),$=r('<div class="h-full flex flex-col"><div class="p-4 border-b border-gray-200 dark:border-gray-700"><h3 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h3></div><div class="flex-1 overflow-y-auto p-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">'),_=r('<div class="h-full flex flex-col"><div class="flex items-center justify-between p-5 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"><h2 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h2><div class="flex gap-2"><button class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200">➕ </button></div></div><div class="flex items-center justify-between p-4 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700"><div class="flex gap-6"><div class="flex items-center gap-2"><span class="text-sm text-gray-600 dark:text-gray-400">:</span><span class="text-sm font-medium text-gray-900 dark:text-gray-100"></span></div><div class="flex items-center gap-2"><span class="text-sm text-gray-600 dark:text-gray-400">:</span><span class="text-sm font-medium text-gray-900 dark:text-gray-100"> mm²</span></div></div></div><div class="flex-1 overflow-hidden">'),P=r('<div class="h-full flex flex-col items-center justify-center text-center gap-6 p-8"><div class="text-6xl opacity-30">📄</div><div><h3 class="text-lg font-medium text-gray-900 dark:text-gray-100 mb-2"></h3><p class="text-gray-600 dark:text-gray-400"></p></div><div class="w-full max-w-2xl"><h4 class="text-md font-medium text-gray-900 dark:text-gray-100 mb-4"></h4><div class="grid grid-cols-3 gap-3">'),j=r('<button class="bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-3 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-center"><div class="font-medium text-gray-900 dark:text-gray-100 mb-1"></div><div class="text-sm text-gray-600 dark:text-gray-400"> × '),q=r('<div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100"> mm'),M=r('<div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-lg transition-shadow duration-200"><div class="h-32 bg-gray-50 dark:bg-gray-700 flex items-center justify-center p-4"><div class=relative><div class="bg-white dark:bg-gray-600 border-2 border-gray-300 dark:border-gray-500 rounded shadow-sm"><div class="absolute inset-1 border border-dashed border-gray-400 dark:border-gray-400 rounded-sm"></div></div></div></div><div class=p-4><div class="font-medium text-gray-900 dark:text-gray-100 mb-3"></div><div class="space-y-2 mb-4"><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100"></span></div><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100"></span></div><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100"></span></div></div><div class="flex justify-between items-center pt-2 border-t border-gray-200 dark:border-gray-700"><button class="text-blue-600 dark:text-blue-400 hover:underline text-sm"></button><button class="text-red-600 dark:text-red-400 hover:underline text-sm">');const A=()=>{const[t]=b("sheets"),[r,g]=e(!1),[o,u]=e(null),m=c(()=>x.app.sheets.length),f=c(()=>x.app.sheets.reduce((e,t)=>e+t.width*t.height,0)),v=[{name:"A4",width:210,height:297,units:"mm"},{name:"A3",width:297,height:420,units:"mm"},{name:"A2",width:420,height:594,units:"mm"},{name:"A1",width:594,height:841,units:"mm"},{name:"Letter",width:216,height:279,units:"mm"},{name:"Legal",width:216,height:356,units:"mm"},{name:'12x12"',width:305,height:305,units:"mm"},{name:'24x24"',width:610,height:610,units:"mm"},{name:'48x24"',width:1219,height:610,units:"mm"}],p=()=>{u(null),g(!0)},k=e=>{o()?y.updateSheet(e.id,e):y.addSheet(e),g(!1),u(null)},w=()=>{g(!1),u(null)};return(()=>{var e=_(),c=e.firstChild,b=c.firstChild,A=b.nextSibling.firstChild;A.firstChild;var F=c.nextSibling,T=F.firstChild.firstChild,G=T.firstChild,L=G.firstChild,D=G.nextSibling,W=T.nextSibling.firstChild,B=W.firstChild,z=W.nextSibling,E=z.firstChild,H=F.nextSibling;return i(b,()=>t("sheets_title")),A.$$click=p,i(A,()=>t("add_sheet"),null),i(G,()=>t("total_sheets"),L),i(D,m),i(W,()=>t("total_area"),B),i(z,()=>f().toFixed(0),E),i(e,a(n,{get when(){return r()},get children(){var e,r=S(),s=r.firstChild,d=s.firstChild.firstChild,l=d.nextSibling;return i(d,(e=h(()=>!!o()),()=>e()?t("edit_sheet"):t("add_new_sheet"))),l.$$click=w,i(s,a(C,{get sheet(){return o()},onSave:k,onCancel:w}),null),r}}),H),i(H,a(n,{get when(){return m()>0},get fallback(){return g=(n=(r=(e=P()).firstChild.nextSibling).firstChild).nextSibling,h=(o=r.nextSibling.firstChild).nextSibling,i(n,()=>t("no_sheets_loaded")),i(g,()=>t("add_sheets_to_get_started")),i(o,()=>t("quick_templates")),i(h,a(s,{each:v,children:e=>{return s=(a=(r=(t=j()).firstChild).nextSibling).firstChild,t.$$click=()=>(e=>{const t={name:e.name,width:e.width,height:e.height,thickness:3,quantity:1,margin:5,material:"Generic"};y.addSheet(t)})(e),i(r,()=>e.name),i(a,()=>e.width,s),i(a,()=>e.height,null),d(()=>l(t,"title",`${e.width} × ${e.height} ${e.units}`)),t;var t,r,a,s}})),e;var e,r,n,g,o,h},get children(){var e=$(),r=e.firstChild,l=r.firstChild,o=r.nextSibling;return i(l,()=>t("configured_sheets")),i(o,a(s,{get each(){return x.app.sheets},children:(e,r)=>{return l=(s=M()).firstChild,o=l.firstChild.firstChild,f=(m=(b=(c=(h=l.nextSibling.firstChild).nextSibling).firstChild).firstChild).firstChild,v=m.nextSibling,w=(k=(p=b.nextSibling).firstChild).firstChild,C=k.nextSibling,$=(S=p.nextSibling.firstChild).firstChild,_=S.nextSibling,j=(P=c.nextSibling.firstChild).nextSibling,o.style.setProperty("max-width","80px"),o.style.setProperty("max-height","80px"),o.style.setProperty("min-width","40px"),o.style.setProperty("min-height","40px"),i(h,()=>e.name||`${t("sheet")} ${r()+1}`),i(m,()=>t("dimensions"),f),i(v,()=>(e=>`${e.width} × ${e.height} mm`)(e)),i(k,()=>t("quantity"),w),i(C,()=>e.quantity),i(S,()=>t("material"),$),i(_,()=>e.material||"Generic"),i(c,a(n,{get when(){return e.margin},get children(){var r=q(),a=r.firstChild,s=a.firstChild,d=a.nextSibling,l=d.firstChild;return i(a,()=>t("margin"),s),i(d,()=>e.margin,l),r}}),null),P.$$click=()=>(e=>{u(e),g(!0)})(e),i(P,()=>t("edit")),j.$$click=()=>(e=>{const t=x.app.sheets.filter(t=>t.id!==e);y.setSheets(t)})(e.id),i(j,()=>t("delete")),d(t=>null!=(t=`${e.width} / ${e.height}`)?o.style.setProperty("aspect-ratio",t):o.style.removeProperty("aspect-ratio")),s;var s,l,o,h,c,b,m,f,v,p,k,w,C,S,$,_,P,j}})),e}})),d(()=>l(A,"title",t("add_sheet"))),e})()};u(["click"]);export{A as default};
