import{a as e,b as t,t as r,j as a,m as i,h as s,i as n,f as l,e as o,s as d,F as c,g,n as u,c as p,S as x,o as b,u as v}from"./chunk-CloFZg_W.js";import{u as f}from"./chunk-CxE4G7Dl.js";import{a as h,g as y}from"./chunk-DwRD3xX6.js";import{i as m}from"./chunk-BkE0-c49.js";import{b as k,d as w}from"./chunk-C5qu5Lxj.js";import{C,V as S,S as M}from"./chunk-u1_vX_6Z.js";import"./chunk-CJSr3jq0.js";var $=r('<div class="h-full flex flex-col bg-white dark:bg-gray-900"><div class="p-4 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700"><div class="flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between"><div class="relative flex-1 max-w-md"><div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"><svg class="w-4 h-4 text-gray-400 dark:text-gray-500"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></div><input type=text class="block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200"></div><div class="flex items-center gap-3"><span class="text-sm font-medium text-gray-700 dark:text-gray-300">:</span><select class="px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"><option value=name></option><option value=quantity></option><option value=size></option></select><button class="p-2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors duration-200"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"></svg></button></div></div></div><div class="flex-1 overflow-auto"><div class=min-w-full><div class="sticky top-0 bg-gray-50 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 z-10"><div class="grid grid-cols-12 gap-4 px-4 py-3 text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"><div class="col-span-1 flex items-center"><span class="text-xs text-gray-500 dark:text-gray-400"></span></div><button><span></span></button><button><span></span></button><button><span></span></button><div class="col-span-2 text-center"></div></div></div><div class="bg-white dark:bg-gray-900">'),j=r('<svg><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M5 15l7-7 7 7"></svg>',!1,!0,!1),I=r('<svg><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 9l-7 7-7-7"></svg>',!1,!0,!1),z=r('<svg class="w-3 h-3"fill=none stroke=currentColor viewBox="0 0 24 24">'),_=r('<div><div class="col-span-1 flex items-center"><input type=checkbox class="w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-2"></div><div class="col-span-4 flex items-center"><div class="flex items-center gap-3"><div class="w-8 h-8 bg-gray-100 dark:bg-gray-700 rounded-lg flex items-center justify-center flex-shrink-0"><svg class="w-4 h-4 text-gray-500 dark:text-gray-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path></svg></div><div class="min-w-0 flex-1"><p class="text-sm font-medium text-gray-900 dark:text-gray-100 truncate"></p><p class="text-xs text-gray-500 dark:text-gray-400 truncate"></p></div></div></div><div class="col-span-2 flex items-center"><div class=relative><input type=number min=1 class="w-20 px-3 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"></div></div><div class="col-span-3 flex items-center"><div class="flex items-center gap-2"><div class="px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded text-xs font-mono text-gray-600 dark:text-gray-300"></div><span class="text-xs text-gray-500 dark:text-gray-400">mm</span></div></div><div class="col-span-2 flex items-center justify-center"><div class="flex items-center gap-1"><input type=number min=0 max=360 step=90 class="w-16 px-2 py-1.5 text-sm text-center border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"><span class="text-xs text-gray-500 dark:text-gray-400">°');const q=r=>{const[g]=f("parts"),[u]=f("common"),[p,x]=e(""),[b,v]=e("name"),[m,w]=e("asc"),S=k(),M=t(()=>{let e=h.app.parts;if(p()){const t=p().toLowerCase();e=e.filter(e=>e.name.toLowerCase().includes(t)||e.source.toLowerCase().includes(t))}return e=[...e].sort((e,t)=>{let r,a;switch(b()){case"name":default:r=e.name,a=t.name;break;case"quantity":r=e.quantity,a=t.quantity;break;case"size":r=e.bounds.width*e.bounds.height,a=t.bounds.width*t.bounds.height}return"string"==typeof r&&"string"==typeof a?"asc"===m()?r.localeCompare(a):a.localeCompare(r):"asc"===m()?r-a:a-r}),e}),q=e=>{b()===e?w("asc"===m()?"desc":"asc"):(v(e),w("asc"))},L=S.createContextMenuHandler(e=>{const t=e.currentTarget.dataset.partId,a=h.app.parts.find(e=>e.id===t);if(!a)return[];const i=r.isSelected?.(a.id),s=h.app.parts.filter(e=>r.isSelected?.(e.id)).length;return[S.createMenuItem("duplicate",g("duplicate"),()=>(e=>{const t={...e,id:`${e.id}-copy-${Date.now()}`,name:`${e.name} (Copy)`};y.setParts([...h.app.parts,t])})(a),{icon:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z",color:"primary"}),S.createMenuItem("export",u("actions.export"),()=>{},{icon:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",color:"secondary"}),S.createSeparator(),S.createMenuItem("select",u(i?"actions.deselect":"actions.select"),()=>r.onItemClick?.(a.id,e),{icon:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",color:"primary"}),...s>1?[S.createMenuItem("bulk-actions",`${s} ${g("items_selected")}`,()=>{},{disabled:!0})]:[],S.createSeparator(),S.createMenuItem("delete",u("actions.delete"),()=>(e=>{const t=h.app.parts.filter(t=>t.id!==e);y.setParts(t)})(a.id),{icon:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16",color:"danger"})]});return F=(E=(V=$()).firstChild).firstChild.firstChild,K=F.firstChild.nextSibling,D=(T=F.nextSibling.firstChild).firstChild,N=(G=(R=(O=T.nextSibling).firstChild).nextSibling).nextSibling,J=(X=O.nextSibling).firstChild,W=(U=(Q=E.nextSibling.firstChild.firstChild).firstChild.firstChild).firstChild,Z=(Y=U.nextSibling).firstChild,te=(ee=Y.nextSibling).firstChild,ae=(re=ee.nextSibling).firstChild,ie=re.nextSibling,se=Q.nextSibling,K.$$input=e=>x(e.currentTarget.value),a(T,()=>g("sort_by"),D),O.addEventListener("change",e=>v(e.currentTarget.value)),a(R,()=>g("name")),a(G,()=>g("quantity")),a(N,()=>g("size")),X.$$click=()=>w("asc"===m()?"desc":"asc"),a(J,(B=i(()=>"asc"===m()),()=>B()?j():I())),a(W,()=>g("select")),Y.$$click=()=>q("name"),a(Z,()=>g("name")),a(Y,(P=i(()=>"name"===b()),()=>{return P()&&(t=z(),a(t,(e=i(()=>"asc"===m()),()=>e()?j():I())),t);var e,t}),null),ee.$$click=()=>q("quantity"),a(te,()=>g("quantity")),a(ee,(A=i(()=>"quantity"===b()),()=>{return A()&&(t=z(),a(t,(e=i(()=>"asc"===m()),()=>e()?j():I())),t);var e,t}),null),re.$$click=()=>q("size"),a(ae,()=>g("size")),a(re,(H=i(()=>"size"===b()),()=>{return H()&&(t=z(),a(t,(e=i(()=>"asc"===m()),()=>e()?j():I())),t);var e,t}),null),a(ie,()=>g("rotation")),a(se,s(c,{get each(){return M()},children:e=>{return i=(t=_()).firstChild,s=i.firstChild,c=i.nextSibling,u=(g=c.firstChild.firstChild.nextSibling.firstChild).nextSibling,p=c.nextSibling,x=p.firstChild.firstChild,v=(b=p.nextSibling).firstChild.firstChild,f=b.nextSibling.firstChild.firstChild,n(t,"contextmenu",L,!0),t.$$click=t=>r.onItemClick?.(e.id,t),s.addEventListener("change",()=>{}),s.$$click=t=>{t.stopPropagation();const a=new MouseEvent("click",{bubbles:!0,cancelable:!0,ctrlKey:!0,metaKey:!0,shiftKey:t.shiftKey,altKey:t.altKey});r.onItemClick?.(e.id,a)},a(g,()=>e.name),a(u,()=>e.source),x.addEventListener("change",t=>{return r=e.id,(a=parseInt(t.currentTarget.value))<1&&(a=1),void y.updatePart(r,{quantity:a});var r,a}),a(v,()=>{return`${(t=e.bounds).width.toFixed(1)} × ${t.height.toFixed(1)}`;var t}),f.addEventListener("change",t=>{return r=e.id,a=parseInt(t.currentTarget.value),void y.updatePart(r,{rotation:a});var r,a}),l(a=>{var i="grid grid-cols-12 gap-4 px-4 py-4 border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-200 cursor-pointer "+(r.isSelected?.(e.id)?"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800":""),s=e.id,n=e.source;return i!==a.e&&o(t,a.e=i),s!==a.t&&d(t,"data-part-id",a.t=s),n!==a.a&&d(g,"title",a.a=n),a},{e:void 0,t:void 0,a:void 0}),l(()=>s.checked=r.isSelected?.(e.id)||!1),l(()=>x.value=e.quantity),l(()=>f.value=e.rotation),t;var t,i,s,c,g,u,p,x,b,v,f}})),a(V,s(C,{get isOpen(){return S.isOpen()},get position(){return S.position()},get items(){return S.menuItems()},get onItemClick(){return S.handleItemClick},get onClose(){return S.closeMenu}}),null),l(e=>{var t=g("search_parts"),r="asc"===m()?"Sort descending":"Sort ascending",a="col-span-4 flex items-center gap-2 text-left hover:text-gray-700 dark:hover:text-gray-200 transition-colors duration-200 "+("name"===b()?"text-blue-600 dark:text-blue-400":""),i="col-span-2 flex items-center gap-2 text-left hover:text-gray-700 dark:hover:text-gray-200 transition-colors duration-200 "+("quantity"===b()?"text-blue-600 dark:text-blue-400":""),s="col-span-3 flex items-center gap-2 text-left hover:text-gray-700 dark:hover:text-gray-200 transition-colors duration-200 "+("size"===b()?"text-blue-600 dark:text-blue-400":"");return t!==e.e&&d(K,"placeholder",e.e=t),r!==e.t&&d(X,"title",e.t=r),a!==e.a&&o(Y,e.a=a),i!==e.o&&o(ee,e.o=i),s!==e.i&&o(re,e.i=s),e},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),l(()=>K.value=p()),l(()=>O.value=b()),V;var B,P,A,H,V,E,F,K,T,D,O,R,G,N,X,J,Q,U,W,Y,Z,ee,te,re,ae,ie,se};g(["input","click","contextmenu"]);var L=r('<div><div class="col-span-1 flex items-center"><input type=checkbox class="w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-2"></div><div class="col-span-4 flex items-center"><div class="flex items-center gap-3"><div class="w-8 h-8 bg-gray-100 dark:bg-gray-700 rounded-lg flex items-center justify-center flex-shrink-0"><svg class="w-4 h-4 text-gray-500 dark:text-gray-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path></svg></div><div class="min-w-0 flex-1"><p class="text-sm font-medium text-gray-900 dark:text-gray-100 truncate"></p><p class="text-xs text-gray-500 dark:text-gray-400 truncate"></p></div></div></div><div class="col-span-2 flex items-center"><div class=relative><input type=number min=1 class="w-20 px-3 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"></div></div><div class="col-span-3 flex items-center"><div class="flex items-center gap-2"><div class="px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded text-xs font-mono text-gray-600 dark:text-gray-300"></div><span class="text-xs text-gray-500 dark:text-gray-400">mm</span></div></div><div class="col-span-2 flex items-center justify-center"><div class="flex items-center gap-1"><input type=number min=0 max=360 step=90 class="w-16 px-2 py-1.5 text-sm text-center border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"><span class="text-xs text-gray-500 dark:text-gray-400">°'),B=r('<div class="mt-2 text-xs text-gray-500 dark:text-gray-400">Showing <!> parts with virtual scrolling for performance'),P=r('<div class="h-full flex flex-col bg-white dark:bg-gray-900"><div class="p-4 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700"><div class="flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between"><div class="relative flex-1 max-w-md"><div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"><svg class="w-4 h-4 text-gray-400 dark:text-gray-500"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></div><input type=text class="block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200"></div><div class="flex items-center gap-3"><span class="text-sm font-medium text-gray-700 dark:text-gray-300">:</span><select class="px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"><option value=name></option><option value=quantity></option><option value=size></option></select><button class="p-2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors duration-200"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"></svg></button></div></div></div><div class="sticky top-0 bg-gray-50 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 z-10"><div class="grid grid-cols-12 gap-4 px-4 py-3 text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"><div class="col-span-1 flex items-center"><span class="text-xs text-gray-500 dark:text-gray-400"></span></div><button><span></span></button><button><span></span></button><button><span></span></button><div class="col-span-2 text-center"></div></div></div><div class="flex-1 bg-white dark:bg-gray-900">'),A=r('<svg><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M5 15l7-7 7 7"></svg>',!1,!0,!1),H=r('<svg><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 9l-7 7-7-7"></svg>',!1,!0,!1),V=r('<svg class="w-3 h-3"fill=none stroke=currentColor viewBox="0 0 24 24">');const E=r=>{const[c]=f("parts"),[g]=f("common"),[m,w]=e(""),[M,$]=e("name"),[j,I]=e("asc"),[z,_]=e(r.height||600),q=k(),[E,F]=e(),K=t(()=>{let e=h.app.parts;if(m()){const t=m().toLowerCase();e=e.filter(e=>e.name.toLowerCase().includes(t)||e.source.toLowerCase().includes(t))}return e=[...e].sort((e,t)=>{let r,a;switch(M()){case"name":default:r=e.name,a=t.name;break;case"quantity":r=e.quantity,a=t.quantity;break;case"size":r=e.bounds.width*e.bounds.height,a=t.bounds.width*t.bounds.height}return"string"==typeof r&&"string"==typeof a?"asc"===j()?r.localeCompare(a):a.localeCompare(r):"asc"===j()?r-a:a-r}),e});let T;u(()=>{if(T){const e=new ResizeObserver(e=>{for(const t of e)_(t.contentRect.height)});e.observe(T),b(()=>{e.disconnect()})}}),p(()=>{const e=K(),t=e.find(e=>r.isSelected?.(e.id));if(t){const r=e.indexOf(t);r>=0&&F(r)}});const D=e=>{M()===e?I("asc"===j()?"desc":"asc"):($(e),I("asc"))},O=q.createContextMenuHandler(e=>{const t=e.currentTarget.dataset.partId,a=h.app.parts.find(e=>e.id===t);if(!a)return[];const i=r.isSelected?.(a.id),s=h.app.parts.filter(e=>r.isSelected?.(e.id)).length;return[q.createMenuItem("duplicate",c("duplicate"),()=>(e=>{const t={...e,id:`${e.id}-copy-${Date.now()}`,name:`${e.name} (Copy)`};y.setParts([...h.app.parts,t])})(a),{icon:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z",color:"primary"}),q.createMenuItem("export",g("actions.export"),()=>{},{icon:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",color:"secondary"}),q.createSeparator(),q.createMenuItem("select",g(i?"actions.deselect":"actions.select"),()=>r.onItemClick?.(a.id,e),{icon:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",color:"primary"}),...s>1?[q.createMenuItem("bulk-actions",`${s} ${c("items_selected")}`,()=>{},{disabled:!0})]:[],q.createSeparator(),q.createMenuItem("delete",g("actions.delete"),()=>(e=>{const t=h.app.parts.filter(t=>t.id!==e);y.setParts(t)})(a.id),{icon:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16",color:"danger"})]});return U=(Q=(J=P()).firstChild).firstChild.firstChild,W=U.firstChild.nextSibling,Z=(Y=U.nextSibling.firstChild).firstChild,ae=(re=(te=(ee=Y.nextSibling).firstChild).nextSibling).nextSibling,se=(ie=ee.nextSibling).firstChild,oe=(le=(ne=Q.nextSibling).firstChild.firstChild).firstChild,ce=(de=le.nextSibling).firstChild,ue=(ge=de.nextSibling).firstChild,xe=(pe=ge.nextSibling).firstChild,be=pe.nextSibling,ve=ne.nextSibling,"function"==typeof T?v(T,J):T=J,W.$$input=e=>w(e.currentTarget.value),a(Y,()=>c("sort_by"),Z),ee.addEventListener("change",e=>$(e.currentTarget.value)),a(te,()=>c("name")),a(re,()=>c("quantity")),a(ae,()=>c("size")),ie.$$click=()=>I("asc"===j()?"desc":"asc"),a(se,(R=i(()=>"asc"===j()),()=>R()?A():H())),a(Q,s(x,{get when(){return K().length>100},get children(){var e=B(),t=e.firstChild.nextSibling;return t.nextSibling,a(e,()=>K().length,t),e}}),null),a(oe,()=>c("select")),de.$$click=()=>D("name"),a(ce,()=>c("name")),a(de,(G=i(()=>"name"===M()),()=>{return G()&&(t=V(),a(t,(e=i(()=>"asc"===j()),()=>e()?A():H())),t);var e,t}),null),ge.$$click=()=>D("quantity"),a(ue,()=>c("quantity")),a(ge,(N=i(()=>"quantity"===M()),()=>{return N()&&(t=V(),a(t,(e=i(()=>"asc"===j()),()=>e()?A():H())),t);var e,t}),null),pe.$$click=()=>D("size"),a(xe,()=>c("size")),a(pe,(X=i(()=>"size"===M()),()=>{return X()&&(t=V(),a(t,(e=i(()=>"asc"===j()),()=>e()?A():H())),t);var e,t}),null),a(be,()=>c("rotation")),a(ve,s(S,{get items(){return K()},itemHeight:80,get height(){return z()-120},overscan:5,renderItem:(e,t)=>{return s=(i=L()).firstChild,c=s.firstChild,g=s.nextSibling,p=(u=g.firstChild.firstChild.nextSibling.firstChild).nextSibling,x=g.nextSibling,b=x.firstChild.firstChild,f=(v=x.nextSibling).firstChild.firstChild,h=v.nextSibling.firstChild.firstChild,n(i,"contextmenu",O,!0),i.$$click=t=>r.onItemClick?.(e.id,t),c.addEventListener("change",()=>{}),c.$$click=t=>{t.stopPropagation();const a=new MouseEvent("click",{bubbles:!0,cancelable:!0,ctrlKey:!0,metaKey:!0,shiftKey:t.shiftKey,altKey:t.altKey});r.onItemClick?.(e.id,a)},a(u,()=>e.name),a(p,()=>e.source),b.addEventListener("change",t=>{return r=e.id,(a=parseInt(t.currentTarget.value))<1&&(a=1),void y.updatePart(r,{quantity:a});var r,a}),a(f,()=>{return`${(t=e.bounds).width.toFixed(1)} × ${t.height.toFixed(1)}`;var t}),h.addEventListener("change",t=>{return r=e.id,a=parseInt(t.currentTarget.value),void y.updatePart(r,{rotation:a});var r,a}),l(t=>{var a="grid grid-cols-12 gap-4 px-4 py-4 border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-200 cursor-pointer "+(r.isSelected?.(e.id)?"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800":""),s=e.id,n=e.source;return a!==t.e&&o(i,t.e=a),s!==t.t&&d(i,"data-part-id",t.t=s),n!==t.a&&d(u,"title",t.a=n),t},{e:void 0,t:void 0,a:void 0}),l(()=>c.checked=r.isSelected?.(e.id)||!1),l(()=>b.value=e.quantity),l(()=>h.value=e.rotation),i;var i,s,c,g,u,p,x,b,v,f,h},getItemKey:e=>e.id,get emptyMessage(){return c("no_parts_loaded")},get scrollToIndex(){return E()},scrollAlign:"center"})),a(J,s(C,{get isOpen(){return q.isOpen()},get position(){return q.position()},get items(){return q.menuItems()},get onItemClick(){return q.handleItemClick},get onClose(){return q.closeMenu}}),null),l(e=>{var t=c("search_parts"),r="asc"===j()?"Sort descending":"Sort ascending",a="col-span-4 flex items-center gap-2 text-left hover:text-gray-700 dark:hover:text-gray-200 transition-colors duration-200 "+("name"===M()?"text-blue-600 dark:text-blue-400":""),i="col-span-2 flex items-center gap-2 text-left hover:text-gray-700 dark:hover:text-gray-200 transition-colors duration-200 "+("quantity"===M()?"text-blue-600 dark:text-blue-400":""),s="col-span-3 flex items-center gap-2 text-left hover:text-gray-700 dark:hover:text-gray-200 transition-colors duration-200 "+("size"===M()?"text-blue-600 dark:text-blue-400":"");return t!==e.e&&d(W,"placeholder",e.e=t),r!==e.t&&d(ie,"title",e.t=r),a!==e.a&&o(de,e.a=a),i!==e.o&&o(ge,e.o=i),s!==e.i&&o(pe,e.i=s),e},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),l(()=>W.value=m()),l(()=>ee.value=M()),J;var R,G,N,X,J,Q,U,W,Y,Z,ee,te,re,ae,ie,se,ne,le,oe,de,ce,ge,ue,pe,xe,be,ve};g(["click","contextmenu","input"]);var F=r('<div class="flex items-center gap-2 px-3 py-1 bg-blue-50 dark:bg-blue-900/20 rounded-lg"><svg class="w-4 h-4 text-blue-600 dark:text-blue-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span class="text-sm text-blue-700 dark:text-blue-300 font-medium"> part<!> selected'),K=r('<div class="h-full flex flex-col bg-white dark:bg-gray-900"><div class="bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700"><div class="px-6 py-4 flex items-center justify-between"><div class="flex items-center gap-3"><div class="w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center shadow-sm"><svg class="w-5 h-5 text-white"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path></svg></div><div><h1 class="text-xl font-semibold text-gray-900 dark:text-gray-100"></h1><p class="text-sm text-gray-500 dark:text-gray-400">Manage your parts and import new ones</p></div></div><div class="flex items-center gap-3"><button class="inline-flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg></button><div class="flex items-center gap-2"><span class="text-sm text-gray-600 dark:text-gray-400"></span></div></div></div></div><div class="bg-gray-50 dark:bg-gray-800/50 px-6 py-4 border-b border-gray-200 dark:border-gray-700"><div class="grid grid-cols-1 md:grid-cols-4 gap-4"><div class="bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border border-gray-200 dark:border-gray-700"><div class="flex items-center gap-3"><div class="w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center"><svg class="w-5 h-5 text-blue-600 dark:text-blue-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path></svg></div><div><p class="text-sm font-medium text-gray-600 dark:text-gray-400"></p><p class="text-2xl font-bold text-gray-900 dark:text-gray-100"></p></div></div></div><div class="bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border border-gray-200 dark:border-gray-700"><div class="flex items-center gap-3"><div class="w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center"><svg class="w-5 h-5 text-green-600 dark:text-green-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"></path></svg></div><div><p class="text-sm font-medium text-gray-600 dark:text-gray-400"></p><p class="text-2xl font-bold text-gray-900 dark:text-gray-100"></p></div></div></div><div class="bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border border-gray-200 dark:border-gray-700"><div class="flex items-center gap-3"><div class="w-10 h-10 bg-purple-100 dark:bg-purple-900/30 rounded-lg flex items-center justify-center"><svg class="w-5 h-5 text-purple-600 dark:text-purple-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><div><p class="text-sm font-medium text-gray-600 dark:text-gray-400">Selected</p><p class="text-2xl font-bold text-gray-900 dark:text-gray-100"></p></div></div></div><div class="bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border border-gray-200 dark:border-gray-700"><div class="flex items-center gap-3"><div class="w-10 h-10 bg-orange-100 dark:bg-orange-900/30 rounded-lg flex items-center justify-center"><svg class="w-5 h-5 text-orange-600 dark:text-orange-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"></path></svg></div><div><p class="text-sm font-medium text-gray-600 dark:text-gray-400">Total Area</p><p class="text-2xl font-bold text-gray-900 dark:text-gray-100"></p></div></div></div></div></div><div class="bg-white dark:bg-gray-800 px-6 py-3 border-b border-gray-200 dark:border-gray-700"><div class="flex items-center justify-between"><div class="flex items-center gap-4"><span class="text-sm text-gray-600 dark:text-gray-400">Bulk Actions:</span><div class="flex items-center gap-2"><button class="text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed"></button><span class="text-gray-300 dark:text-gray-600">•</span><button class="text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed"></button></div><div class="text-xs text-gray-500 dark:text-gray-400 italic">Tip: Hold Ctrl/Cmd for multi-select, Shift for range select</div></div></div></div><div class="flex-1 overflow-hidden bg-gray-50 dark:bg-gray-900">'),T=r('<div class="h-full flex flex-col items-center justify-center text-center gap-6 p-8"><div class="w-24 h-24 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center"><svg class="w-12 h-12 text-gray-400 dark:text-gray-600"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=1.5 d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path></svg></div><div class="max-w-sm space-y-3"><h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100"></h3><p class="text-gray-600 dark:text-gray-400 leading-relaxed"></p></div><div class="flex flex-col sm:flex-row gap-3"><button class="inline-flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-900"><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg></button><button class="inline-flex items-center gap-2 px-6 py-3 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 font-medium rounded-lg border border-gray-300 dark:border-gray-600 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-900"><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>Learn More</button></div><div class="text-xs text-gray-500 dark:text-gray-600 max-w-md"><p>Supported formats: SVG, DXF • Drag and drop files here');const D=()=>{const[e]=f("parts"),[r]=f("common"),i=t(()=>h.app.parts.length),o=t(()=>h.app.parts.reduce((e,t)=>e+t.quantity,0)),c=t(()=>h.app.parts.reduce((e,t)=>e+(t.area||0),0)),g=w(()=>h.app.parts,{enableMultiSelect:!0,enableKeyboardShortcuts:!0,enableRangeSelect:!0}),u=async()=>{if(m.isAvailable)try{const t=await m.openFileDialog({title:e("import_parts"),filters:[{name:"Vector Files",extensions:["svg","dxf"]},{name:"SVG Files",extensions:["svg"]},{name:"DXF Files",extensions:["dxf"]},{name:"All Files",extensions:["*"]}],properties:["openFile","multiSelections"]});if(t.canceled||!t.filePaths?.length)return;const r=await m.importParts(t.filePaths);y.setParts([...h.app.parts,...r])}catch(t){y.setError(e("import_failed"))}},p=async()=>{if(0!==g.selectedItems().length)try{const e=await m.saveFileDialog();if(e.canceled||!e.filePath)return}catch(t){y.setError(e("export_failed"))}else y.setError(e("no_parts_selected"))},b=()=>{const t=g.selectedIds();if(0===t.size)return void y.setError(e("no_parts_selected"));const r=h.app.parts.filter(e=>!t.has(e.id));y.setParts(r),g.deselectAll()},v=()=>{const e=g.selectedItems();if(0===e.length)return;const t=e.map(e=>({...e,id:`${e.id}-copy-${Date.now()}`,name:`${e.name} (Copy)`}));y.setParts([...h.app.parts,...t]),g.deselectAll(),t.forEach(e=>g.selectItem(e.id))};return(()=>{var t=K(),r=t.firstChild,f=r.firstChild.firstChild,h=f.firstChild.nextSibling.firstChild,y=f.nextSibling.firstChild;y.firstChild;var m=y.nextSibling.firstChild,k=r.nextSibling,w=k.firstChild.firstChild,C=w.firstChild.firstChild.nextSibling.firstChild,S=C.nextSibling,$=w.nextSibling,j=$.firstChild.firstChild.nextSibling.firstChild,I=j.nextSibling,z=$.nextSibling,_=z.firstChild.firstChild.nextSibling.firstChild.nextSibling,L=z.nextSibling.firstChild.firstChild.nextSibling.firstChild.nextSibling,B=k.nextSibling,P=B.firstChild,A=P.firstChild.firstChild.nextSibling.firstChild,H=A.nextSibling.nextSibling,V=B.nextSibling;return a(h,()=>e("parts_title")),y.$$click=u,a(y,()=>e("import"),null),a(m,()=>e("parts_count",{count:i()})),a(t,s(M,{get selectedCount(){return g.selectedCount()},get totalCount(){return i()},get isAllSelected(){return g.isAllSelected()},get isNoneSelected(){return g.isNoneSelected()},get isPartiallySelected(){return g.isPartiallySelected()},get onSelectAll(){return g.selectAll},get onDeselectAll(){return g.deselectAll},get onInvertSelection(){return g.invertSelection},onDeleteSelected:b,onDuplicateSelected:v,onExportSelected:p}),k),a(C,()=>e("total_parts")),a(S,i),a(j,()=>e("total_quantity")),a(I,o),a(_,()=>g.selectedCount()),a(L,()=>Math.round(c())),n(A,"click",g.selectAll,!0),a(A,()=>e("select_all")),n(H,"click",g.deselectAll,!0),a(H,()=>e("deselect_all")),a(P,s(x,{get when(){return g.selectedCount()>0},get children(){var e=F(),t=e.firstChild.nextSibling,r=t.firstChild,i=r.nextSibling;return i.nextSibling,a(t,()=>g.selectedCount(),r),a(t,()=>1===g.selectedCount()?"":"s",i),e}}),null),a(V,s(x,{get when(){return i()>0},get fallback(){return s=(i=(r=(t=T()).firstChild.nextSibling).firstChild).nextSibling,(n=r.nextSibling.firstChild).firstChild,a(i,()=>e("no_parts_loaded")),a(s,()=>e("import_parts_to_get_started")),n.$$click=u,a(n,()=>e("import_parts"),null),t;var t,r,i,s,n},get children(){return s(x,{get when(){return i()>50},get fallback(){return s(q,{get onItemClick(){return g.handleItemClick},get isSelected(){return g.isSelected}})},get children(){return s(E,{get onItemClick(){return g.handleItemClick},get isSelected(){return g.isSelected}})}})}})),l(t=>{var r=e("import_parts"),a=0===i(),s=0===i();return r!==t.e&&d(y,"title",t.e=r),a!==t.t&&(A.disabled=t.t=a),s!==t.a&&(H.disabled=t.a=s),t},{e:void 0,t:void 0,a:void 0}),t})()};g(["click"]);export{D as default};
