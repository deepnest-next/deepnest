(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function s(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(r){if(r.ep)return;r.ep=!0;const o=s(r);fetch(r.href,o)}})();const b={context:void 0,registry:void 0,effects:void 0,done:!1,getContextId(){return kt(this.context.count)},getNextContextId(){return kt(this.context.count++)}};function kt(t){const e=String(t),s=e.length-1;return b.context.id+(s?String.fromCharCode(96+s):"")+e}function ee(t){b.context=t}const Xt=!1,ys=(t,e)=>t===e,ce=Symbol("solid-proxy"),it=Symbol("solid-track"),ze={equals:ys};let Zt=rs;const ne=1,Ue=2,Yt={owned:null,cleanups:null,context:null,owner:null},nt={};var N=null;let Fe=null,vs=null,O=null,z=null,q=null,Ze=0;function pe(t,e){const s=O,n=N,r=t.length===0,o=e===void 0?n:e,i=r?Yt:{owned:null,cleanups:null,context:o?o.context:null,owner:o},a=r?t:()=>t(()=>j(()=>ke(i)));N=i,O=null;try{return se(a,!0)}finally{O=s,N=n}}function M(t,e){e=e?Object.assign({},ze,e):ze;const s={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0},n=r=>(typeof r=="function"&&(r=r(s.value)),ns(s,r));return[ss.bind(s),n]}function Ct(t,e,s){const n=et(t,e,!0,ne);_e(n)}function G(t,e,s){const n=et(t,e,!1,ne);_e(n)}function Ee(t,e,s){Zt=Ps;const n=et(t,e,!1,ne),r=he&&Ye(he);r&&(n.suspense=r),(!s||!s.render)&&(n.user=!0),q?q.push(n):_e(n)}function F(t,e,s){s=s?Object.assign({},ze,s):ze;const n=et(t,e,!0,0);return n.observers=null,n.observerSlots=null,n.comparator=s.equals||void 0,_e(n),ss.bind(n)}function bs(t){return t&&typeof t=="object"&&"then"in t}function xs(t,e,s){let n,r,o;n=!0,r=t,o={};let i=null,a=nt,l=null,c=!1,d="initialValue"in o,u=typeof n=="function"&&F(n);const g=new Set,[p,f]=(o.storage||M)(o.initialValue),[h,_]=M(void 0),[$,v]=M(void 0,{equals:!1}),[y,C]=M(d?"ready":"unresolved");b.context&&(l=b.getNextContextId(),o.ssrLoadFrom==="initial"?a=o.initialValue:b.load&&b.has(l)&&(a=b.load(l)));function P(L,R,W,E){return i===L&&(i=null,E!==void 0&&(d=!0),(L===a||R===a)&&o.onHydrated&&queueMicrotask(()=>o.onHydrated(E,{value:R})),a=nt,D(R,W)),R}function D(L,R){se(()=>{R===void 0&&f(()=>L),C(R!==void 0?"errored":d?"ready":"unresolved"),_(R);for(const W of g.keys())W.decrement();g.clear()},!1)}function H(){const L=he&&Ye(he),R=p(),W=h();if(W!==void 0&&!i)throw W;return O&&!O.user&&L&&Ct(()=>{$(),i&&(L.resolved&&Fe||g.has(L)||(L.increment(),g.add(L)))}),R}function re(L=!0){if(L!==!1&&c)return;c=!1;const R=u?u():n;if(R==null||R===!1){P(i,j(p));return}let W;const E=a!==nt?a:j(()=>{try{return r(R,{value:p(),refetching:L})}catch(T){W=T}});if(W!==void 0){P(i,void 0,De(W),R);return}else if(!bs(E))return P(i,E,void 0,R),E;return i=E,"v"in E?(E.s===1?P(i,E.v,void 0,R):P(i,void 0,De(E.v),R),E):(c=!0,queueMicrotask(()=>c=!1),se(()=>{C(d?"refreshing":"pending"),v()},!1),E.then(T=>P(E,T,void 0,R),T=>P(E,void 0,De(T),R)))}Object.defineProperties(H,{state:{get:()=>y()},error:{get:()=>h()},loading:{get(){const L=y();return L==="pending"||L==="refreshing"}},latest:{get(){if(!d)return H();const L=h();if(L&&!i)throw L;return p()}}});let V=N;return u?Ct(()=>(V=N,re(!1))):re(!1),[H,{refetch:L=>es(V,()=>re(L)),mutate:f}]}function ws(t){return se(t,!1)}function j(t){if(O===null)return t();const e=O;O=null;try{return t()}finally{O=e}}function yt(t){Ee(()=>j(t))}function ge(t){return N===null||(N.cleanups===null?N.cleanups=[t]:N.cleanups.push(t)),t}function at(){return O}function lt(){return N}function es(t,e){const s=N,n=O;N=t,O=null;try{return se(e,!0)}catch(r){bt(r)}finally{N=s,O=n}}const[v0,b0]=M(!1);function $s(t){q.push.apply(q,t),t.length=0}function vt(t,e){const s=Symbol("context");return{id:s,Provider:Ls(s),defaultValue:t}}function Ye(t){let e;return N&&N.context&&(e=N.context[t.id])!==void 0?e:t.defaultValue}function ts(t){const e=F(t),s=F(()=>ct(e()));return s.toArray=()=>{const n=s();return Array.isArray(n)?n:n!=null?[n]:[]},s}let he;function Ss(){return he||(he=vt())}function ss(){if(this.sources&&this.state)if(this.state===ne)_e(this);else{const t=z;z=null,se(()=>Ve(this),!1),z=t}if(O){const t=this.observers?this.observers.length:0;O.sources?(O.sources.push(this),O.sourceSlots.push(t)):(O.sources=[this],O.sourceSlots=[t]),this.observers?(this.observers.push(O),this.observerSlots.push(O.sources.length-1)):(this.observers=[O],this.observerSlots=[O.sources.length-1])}return this.value}function ns(t,e,s){let n=t.value;return(!t.comparator||!t.comparator(n,e))&&(t.value=e,t.observers&&t.observers.length&&se(()=>{for(let r=0;r<t.observers.length;r+=1){const o=t.observers[r],i=Fe&&Fe.running;i&&Fe.disposed.has(o),(i?!o.tState:!o.state)&&(o.pure?z.push(o):q.push(o),o.observers&&os(o)),i||(o.state=ne)}if(z.length>1e6)throw z=[],new Error},!1)),e}function _e(t){if(!t.fn)return;ke(t);const e=Ze;ks(t,t.value,e)}function ks(t,e,s){let n;const r=N,o=O;O=N=t;try{n=t.fn(e)}catch(i){return t.pure&&(t.state=ne,t.owned&&t.owned.forEach(ke),t.owned=null),t.updatedAt=s+1,bt(i)}finally{O=o,N=r}(!t.updatedAt||t.updatedAt<=s)&&(t.updatedAt!=null&&"observers"in t?ns(t,n):t.value=n,t.updatedAt=s)}function et(t,e,s,n=ne,r){const o={fn:t,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:N,context:N?N.context:null,pure:s};return N===null||N!==Yt&&(N.owned?N.owned.push(o):N.owned=[o]),o}function je(t){if(t.state===0)return;if(t.state===Ue)return Ve(t);if(t.suspense&&j(t.suspense.inFallback))return t.suspense.effects.push(t);const e=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<Ze);)t.state&&e.push(t);for(let s=e.length-1;s>=0;s--)if(t=e[s],t.state===ne)_e(t);else if(t.state===Ue){const n=z;z=null,se(()=>Ve(t,e[0]),!1),z=n}}function se(t,e){if(z)return t();let s=!1;e||(z=[]),q?s=!0:q=[],Ze++;try{const n=t();return Cs(s),n}catch(n){s||(q=null),z=null,bt(n)}}function Cs(t){if(z&&(rs(z),z=null),t)return;const e=q;q=null,e.length&&se(()=>Zt(e),!1)}function rs(t){for(let e=0;e<t.length;e++)je(t[e])}function Ps(t){let e,s=0;for(e=0;e<t.length;e++){const n=t[e];n.user?t[s++]=n:je(n)}if(b.context){if(b.count){b.effects||(b.effects=[]),b.effects.push(...t.slice(0,s));return}ee()}for(b.effects&&(b.done||!b.count)&&(t=[...b.effects,...t],s+=b.effects.length,delete b.effects),e=0;e<s;e++)je(t[e])}function Ve(t,e){t.state=0;for(let s=0;s<t.sources.length;s+=1){const n=t.sources[s];if(n.sources){const r=n.state;r===ne?n!==e&&(!n.updatedAt||n.updatedAt<Ze)&&je(n):r===Ue&&Ve(n,e)}}}function os(t){for(let e=0;e<t.observers.length;e+=1){const s=t.observers[e];s.state||(s.state=Ue,s.pure?z.push(s):q.push(s),s.observers&&os(s))}}function ke(t){let e;if(t.sources)for(;t.sources.length;){const s=t.sources.pop(),n=t.sourceSlots.pop(),r=s.observers;if(r&&r.length){const o=r.pop(),i=s.observerSlots.pop();n<r.length&&(o.sourceSlots[i]=n,r[n]=o,s.observerSlots[n]=i)}}if(t.tOwned){for(e=t.tOwned.length-1;e>=0;e--)ke(t.tOwned[e]);delete t.tOwned}if(t.owned){for(e=t.owned.length-1;e>=0;e--)ke(t.owned[e]);t.owned=null}if(t.cleanups){for(e=t.cleanups.length-1;e>=0;e--)t.cleanups[e]();t.cleanups=null}t.state=0}function De(t){return t instanceof Error?t:new Error(typeof t=="string"?t:"Unknown error",{cause:t})}function bt(t,e=N){throw De(t)}function ct(t){if(typeof t=="function"&&!t.length)return ct(t());if(Array.isArray(t)){const e=[];for(let s=0;s<t.length;s++){const n=ct(t[s]);Array.isArray(n)?e.push.apply(e,n):e.push(n)}return e}return t}function Ls(t,e){return function(n){let r;return G(()=>r=j(()=>(N.context={...N.context,[t]:n.value},ts(()=>n.children))),void 0),r}}const Ns=Symbol("fallback");function Pt(t){for(let e=0;e<t.length;e++)t[e]()}function Es(t,e,s={}){let n=[],r=[],o=[],i=0,a=e.length>1?[]:null;return ge(()=>Pt(o)),()=>{let l=t()||[],c=l.length,d,u;return l[it],j(()=>{let p,f,h,_,$,v,y,C,P;if(c===0)i!==0&&(Pt(o),o=[],n=[],r=[],i=0,a&&(a=[])),s.fallback&&(n=[Ns],r[0]=pe(D=>(o[0]=D,s.fallback())),i=1);else if(i===0){for(r=new Array(c),u=0;u<c;u++)n[u]=l[u],r[u]=pe(g);i=c}else{for(h=new Array(c),_=new Array(c),a&&($=new Array(c)),v=0,y=Math.min(i,c);v<y&&n[v]===l[v];v++);for(y=i-1,C=c-1;y>=v&&C>=v&&n[y]===l[C];y--,C--)h[C]=r[y],_[C]=o[y],a&&($[C]=a[y]);for(p=new Map,f=new Array(C+1),u=C;u>=v;u--)P=l[u],d=p.get(P),f[u]=d===void 0?-1:d,p.set(P,u);for(d=v;d<=y;d++)P=n[d],u=p.get(P),u!==void 0&&u!==-1?(h[u]=r[d],_[u]=o[d],a&&($[u]=a[d]),u=f[u],p.set(P,u)):o[d]();for(u=v;u<c;u++)u in h?(r[u]=h[u],o[u]=_[u],a&&(a[u]=$[u],a[u](u))):r[u]=pe(g);r=r.slice(0,i=c),n=l.slice(0)}return r});function g(p){if(o[u]=p,a){const[f,h]=M(u);return a[u]=h,e(l[u],f)}return e(l[u])}}}function k(t,e){return j(()=>t(e||{}))}function Oe(t){let e,s;const n=r=>{const o=b.context;if(o){const[a,l]=M();b.count||(b.count=0),b.count++,(s||(s=t())).then(c=>{!b.done&&ee(o),b.count--,l(()=>c.default),ee()}),e=a}else if(!e){const[a]=xs(()=>(s||(s=t())).then(l=>l.default));e=a}let i;return F(()=>(i=e())?j(()=>{if(!o||b.done)return i(r);const a=b.context;ee(o);const l=i(r);return ee(a),l}):"")};return n.preload=()=>s||((s=t()).then(r=>e=()=>r.default),s),n}const is=t=>`Stale read from <${t}>.`;function Te(t){const e="fallback"in t&&{fallback:()=>t.fallback};return F(Es(()=>t.each,t.children,e||void 0))}function ie(t){const e=t.keyed,s=F(()=>t.when,void 0,void 0),n=e?s:F(s,void 0,{equals:(r,o)=>!r==!o});return F(()=>{const r=n();if(r){const o=t.children;return typeof o=="function"&&o.length>0?j(()=>o(e?r:()=>{if(!j(n))throw is("Show");return s()})):o}return t.fallback},void 0,void 0)}function Os(t){const e=ts(()=>t.children),s=F(()=>{const n=e(),r=Array.isArray(n)?n:[n];let o=()=>{};for(let i=0;i<r.length;i++){const a=i,l=r[i],c=o,d=F(()=>c()?void 0:l.when,void 0,void 0),u=l.keyed?d:F(d,void 0,{equals:(g,p)=>!g==!p});o=()=>c()||(u()?[a,d,l]:void 0)}return o});return F(()=>{const n=s()();if(!n)return t.fallback;const[r,o,i]=n,a=i.children;return typeof a=="function"&&a.length>0?j(()=>a(i.keyed?o():()=>{if(j(s)()?.[0]!==r)throw is("Match");return o()})):a},void 0,void 0)}function be(t){return t}const As=vt();function Rs(t){let e=0,s,n,r,o,i;const[a,l]=M(!1),c=Ss(),d={increment:()=>{++e===1&&l(!0)},decrement:()=>{--e===0&&l(!1)},inFallback:a,effects:[],resolved:!1},u=lt();if(b.context&&b.load){const f=b.getContextId();let h=b.load(f);if(h&&(typeof h!="object"||h.s!==1?r=h:b.gather(f)),r&&r!=="$$f"){const[_,$]=M(void 0,{equals:!1});o=_,r.then(()=>{if(b.done)return $();b.gather(f),ee(n),$(),ee()},v=>{i=v,$()})}}const g=Ye(As);g&&(s=g.register(d.inFallback));let p;return ge(()=>p&&p()),k(c.Provider,{value:d,get children(){return F(()=>{if(i)throw i;if(n=b.context,o)return o(),o=void 0;n&&r==="$$f"&&ee();const f=F(()=>t.children);return F(h=>{const _=d.inFallback(),{showContent:$=!0,showFallback:v=!0}=s?s():{};if((!_||r&&r!=="$$f")&&$)return d.resolved=!0,p&&p(),p=n=r=void 0,$s(d.effects),f();if(v)return p?h:pe(y=>(p=y,n&&(ee({id:n.id+"F",count:0}),n=void 0),t.fallback),u)})})}})}const ut=t=>F(()=>t());function Is(t,e,s){let n=s.length,r=e.length,o=n,i=0,a=0,l=e[r-1].nextSibling,c=null;for(;i<r||a<o;){if(e[i]===s[a]){i++,a++;continue}for(;e[r-1]===s[o-1];)r--,o--;if(r===i){const d=o<n?a?s[a-1].nextSibling:s[o-a]:l;for(;a<o;)t.insertBefore(s[a++],d)}else if(o===a)for(;i<r;)(!c||!c.has(e[i]))&&e[i].remove(),i++;else if(e[i]===s[o-1]&&s[a]===e[r-1]){const d=e[--r].nextSibling;t.insertBefore(s[a++],e[i++].nextSibling),t.insertBefore(s[--o],d),e[r]=s[o]}else{if(!c){c=new Map;let u=a;for(;u<o;)c.set(s[u],u++)}const d=c.get(e[i]);if(d!=null)if(a<d&&d<o){let u=i,g=1,p;for(;++u<r&&u<o&&!((p=c.get(e[u]))==null||p!==d+g);)g++;if(g>d-a){const f=e[i];for(;a<d;)t.insertBefore(s[a++],f)}else t.replaceChild(s[a++],e[i++])}else i++;else e[i++].remove()}}}const Lt="_$DX_DELEGATE";function Fs(t,e,s,n={}){let r;return pe(o=>{r=o,e===document?t():w(e,t(),e.firstChild?null:void 0,s)},n.owner),()=>{r(),e.textContent=""}}function A(t,e,s,n){let r;const o=()=>{const a=n?document.createElementNS("http://www.w3.org/1998/Math/MathML","template"):document.createElement("template");return a.innerHTML=t,s?a.content.firstChild.firstChild:n?a.firstChild:a.content.firstChild},i=e?()=>j(()=>document.importNode(r||(r=o()),!0)):()=>(r||(r=o())).cloneNode(!0);return i.cloneNode=i,i}function tt(t,e=window.document){const s=e[Lt]||(e[Lt]=new Set);for(let n=0,r=t.length;n<r;n++){const o=t[n];s.has(o)||(s.add(o),e.addEventListener(o,Ds))}}function dt(t,e,s){xt(t)||(s==null?t.removeAttribute(e):t.setAttribute(e,s))}function te(t,e){xt(t)||(e==null?t.removeAttribute("class"):t.className=e)}function Nt(t,e,s,n){if(n)Array.isArray(s)?(t[`$$${e}`]=s[0],t[`$$${e}Data`]=s[1]):t[`$$${e}`]=s;else if(Array.isArray(s)){const r=s[0];t.addEventListener(e,s[0]=o=>r.call(t,s[1],o))}else t.addEventListener(e,s,typeof s!="function"&&s)}function Et(t,e,s){return j(()=>t(e,s))}function w(t,e,s,n){if(s!==void 0&&!n&&(n=[]),typeof e!="function")return Be(t,e,n,s);G(r=>Be(t,e(),r,s),n)}function xt(t){return!!b.context&&!b.done&&(!t||t.isConnected)}function Ds(t){if(b.registry&&b.events&&b.events.find(([l,c])=>c===t))return;let e=t.target;const s=`$$${t.type}`,n=t.target,r=t.currentTarget,o=l=>Object.defineProperty(t,"target",{configurable:!0,value:l}),i=()=>{const l=e[s];if(l&&!e.disabled){const c=e[`${s}Data`];if(c!==void 0?l.call(e,c,t):l.call(e,t),t.cancelBubble)return}return e.host&&typeof e.host!="string"&&!e.host._$host&&e.contains(t.target)&&o(e.host),!0},a=()=>{for(;i()&&(e=e._$host||e.parentNode||e.host););};if(Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return e||document}}),b.registry&&!b.done&&(b.done=_$HY.done=!0),t.composedPath){const l=t.composedPath();o(l[0]);for(let c=0;c<l.length-2&&(e=l[c],!!i());c++){if(e._$host){e=e._$host,a();break}if(e.parentNode===r)break}}else a();o(n)}function Be(t,e,s,n,r){const o=xt(t);if(o){!s&&(s=[...t.childNodes]);let l=[];for(let c=0;c<s.length;c++){const d=s[c];d.nodeType===8&&d.data.slice(0,2)==="!$"?d.remove():l.push(d)}s=l}for(;typeof s=="function";)s=s();if(e===s)return s;const i=typeof e,a=n!==void 0;if(t=a&&s[0]&&s[0].parentNode||t,i==="string"||i==="number"){if(o||i==="number"&&(e=e.toString(),e===s))return s;if(a){let l=s[0];l&&l.nodeType===3?l.data!==e&&(l.data=e):l=document.createTextNode(e),s=ue(t,s,n,l)}else s!==""&&typeof s=="string"?s=t.firstChild.data=e:s=t.textContent=e}else if(e==null||i==="boolean"){if(o)return s;s=ue(t,s,n)}else{if(i==="function")return G(()=>{let l=e();for(;typeof l=="function";)l=l();s=Be(t,l,s,n)}),()=>s;if(Array.isArray(e)){const l=[],c=s&&Array.isArray(s);if(pt(l,e,s,r))return G(()=>s=Be(t,l,s,n,!0)),()=>s;if(o){if(!l.length)return s;if(n===void 0)return s=[...t.childNodes];let d=l[0];if(d.parentNode!==t)return s;const u=[d];for(;(d=d.nextSibling)!==n;)u.push(d);return s=u}if(l.length===0){if(s=ue(t,s,n),a)return s}else c?s.length===0?Ot(t,l,n):Is(t,s,l):(s&&ue(t),Ot(t,l));s=l}else if(e.nodeType){if(o&&e.parentNode)return s=a?[e]:e;if(Array.isArray(s)){if(a)return s=ue(t,s,n,e);ue(t,s,null,e)}else s==null||s===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);s=e}}return s}function pt(t,e,s,n){let r=!1;for(let o=0,i=e.length;o<i;o++){let a=e[o],l=s&&s[t.length],c;if(!(a==null||a===!0||a===!1))if((c=typeof a)=="object"&&a.nodeType)t.push(a);else if(Array.isArray(a))r=pt(t,a,l)||r;else if(c==="function")if(n){for(;typeof a=="function";)a=a();r=pt(t,Array.isArray(a)?a:[a],Array.isArray(l)?l:[l])||r}else t.push(a),r=!0;else{const d=String(a);l&&l.nodeType===3&&l.data===d?t.push(l):t.push(document.createTextNode(d))}}return r}function Ot(t,e,s=null){for(let n=0,r=e.length;n<r;n++)t.insertBefore(e[n],s)}function ue(t,e,s,n){if(s===void 0)return t.textContent="";const r=n||document.createTextNode("");if(e.length){let o=!1;for(let i=e.length-1;i>=0;i--){const a=e[i];if(r!==a){const l=a.parentNode===t;!o&&!i?l?t.replaceChild(r,a):t.insertBefore(r,s):l&&a.remove()}else o=!0}}else t.insertBefore(r,s);return[r]}const Ts="http://www.w3.org/2000/svg";function Ms(t,e=!1){return e?document.createElementNS(Ts,t):document.createElement(t)}function zs(t){const{useShadow:e}=t,s=document.createTextNode(""),n=()=>t.mount||document.body,r=lt();let o,i=!!b.context;return Ee(()=>{i&&(lt().user=i=!1),o||(o=es(r,()=>F(()=>t.children)));const a=n();if(a instanceof HTMLHeadElement){const[l,c]=M(!1),d=()=>c(!0);pe(u=>w(a,()=>l()?u():o(),null)),ge(d)}else{const l=Ms(t.isSVG?"g":"div",t.isSVG),c=e&&l.attachShadow?l.attachShadow({mode:"open"}):l;Object.defineProperty(l,"_$host",{get(){return s.parentNode},configurable:!0}),w(c,o),a.appendChild(l),t.ref&&t.ref(l),ge(()=>a.removeChild(l))}},void 0,{render:!i}),s}const ft=Symbol("store-raw"),fe=Symbol("store-node"),Y=Symbol("store-has"),as=Symbol("store-self");function ls(t){let e=t[ce];if(!e&&(Object.defineProperty(t,ce,{value:e=new Proxy(t,Vs)}),!Array.isArray(t))){const s=Object.keys(t),n=Object.getOwnPropertyDescriptors(t);for(let r=0,o=s.length;r<o;r++){const i=s[r];n[i].get&&Object.defineProperty(t,i,{enumerable:n[i].enumerable,get:n[i].get.bind(e)})}}return e}function Ke(t){let e;return t!=null&&typeof t=="object"&&(t[ce]||!(e=Object.getPrototypeOf(t))||e===Object.prototype||Array.isArray(t))}function Ce(t,e=new Set){let s,n,r,o;if(s=t!=null&&t[ft])return s;if(!Ke(t)||e.has(t))return t;if(Array.isArray(t)){Object.isFrozen(t)?t=t.slice(0):e.add(t);for(let i=0,a=t.length;i<a;i++)r=t[i],(n=Ce(r,e))!==r&&(t[i]=n)}else{Object.isFrozen(t)?t=Object.assign({},t):e.add(t);const i=Object.keys(t),a=Object.getOwnPropertyDescriptors(t);for(let l=0,c=i.length;l<c;l++)o=i[l],!a[o].get&&(r=t[o],(n=Ce(r,e))!==r&&(t[o]=n))}return t}function He(t,e){let s=t[e];return s||Object.defineProperty(t,e,{value:s=Object.create(null)}),s}function Pe(t,e,s){if(t[e])return t[e];const[n,r]=M(s,{equals:!1,internal:!0});return n.$=r,t[e]=n}function Us(t,e){const s=Reflect.getOwnPropertyDescriptor(t,e);return!s||s.get||!s.configurable||e===ce||e===fe||(delete s.value,delete s.writable,s.get=()=>t[ce][e]),s}function cs(t){at()&&Pe(He(t,fe),as)()}function js(t){return cs(t),Reflect.ownKeys(t)}const Vs={get(t,e,s){if(e===ft)return t;if(e===ce)return s;if(e===it)return cs(t),s;const n=He(t,fe),r=n[e];let o=r?r():t[e];if(e===fe||e===Y||e==="__proto__")return o;if(!r){const i=Object.getOwnPropertyDescriptor(t,e);at()&&(typeof o!="function"||t.hasOwnProperty(e))&&!(i&&i.get)&&(o=Pe(n,e,o)())}return Ke(o)?ls(o):o},has(t,e){return e===ft||e===ce||e===it||e===fe||e===Y||e==="__proto__"?!0:(at()&&Pe(He(t,Y),e)(),e in t)},set(){return!0},deleteProperty(){return!0},ownKeys:js,getOwnPropertyDescriptor:Us};function We(t,e,s,n=!1){if(!n&&t[e]===s)return;const r=t[e],o=t.length;s===void 0?(delete t[e],t[Y]&&t[Y][e]&&r!==void 0&&t[Y][e].$()):(t[e]=s,t[Y]&&t[Y][e]&&r===void 0&&t[Y][e].$());let i=He(t,fe),a;if((a=Pe(i,e,r))&&a.$(()=>s),Array.isArray(t)&&t.length!==o){for(let l=t.length;l<o;l++)(a=i[l])&&a.$();(a=Pe(i,"length",o))&&a.$(t.length)}(a=i[as])&&a.$()}function us(t,e){const s=Object.keys(e);for(let n=0;n<s.length;n+=1){const r=s[n];We(t,r,e[r])}}function Bs(t,e){if(typeof e=="function"&&(e=e(t)),e=Ce(e),Array.isArray(e)){if(t===e)return;let s=0,n=e.length;for(;s<n;s++){const r=e[s];t[s]!==r&&We(t,s,r)}We(t,"length",n)}else us(t,e)}function we(t,e,s=[]){let n,r=t;if(e.length>1){n=e.shift();const i=typeof n,a=Array.isArray(t);if(Array.isArray(n)){for(let l=0;l<n.length;l++)we(t,[n[l]].concat(e),s);return}else if(a&&i==="function"){for(let l=0;l<t.length;l++)n(t[l],l)&&we(t,[l].concat(e),s);return}else if(a&&i==="object"){const{from:l=0,to:c=t.length-1,by:d=1}=n;for(let u=l;u<=c;u+=d)we(t,[u].concat(e),s);return}else if(e.length>1){we(t[n],e,[n].concat(s));return}r=t[n],s=[n].concat(s)}let o=e[0];typeof o=="function"&&(o=o(r,s),o===r)||n===void 0&&o==null||(o=Ce(o),n===void 0||Ke(r)&&Ke(o)&&!Array.isArray(o)?us(r,o):We(t,n,o))}function Ks(...[t,e]){const s=Ce(t||{}),n=Array.isArray(s),r=ls(s);function o(...i){ws(()=>{n&&i.length===1?Bs(s,i[0]):we(s,i)})}return[r,o]}const Hs=[{id:"part-1",name:"Rectangle Part",filename:"rectangle.svg",path:[[0,0],[100,0],[100,50],[0,50]],area:5e3,bounds:{x:0,y:0,width:100,height:50},quantity:5,placed:3,rotation:0,material:"wood",thickness:3,isSelected:!1},{id:"part-2",name:"Circle Part",filename:"circle.svg",path:Js(25,50,50),area:1963.5,bounds:{x:25,y:25,width:50,height:50},quantity:3,placed:2,rotation:0,material:"acrylic",thickness:5,isSelected:!1},{id:"part-3",name:"Triangle Part",filename:"triangle.svg",path:[[0,60],[30,0],[60,60]],area:1800,bounds:{x:0,y:0,width:60,height:60},quantity:8,placed:5,rotation:0,material:"plywood",thickness:6,isSelected:!0}],Ws=[{id:"sheet-1",name:"Standard Sheet",width:600,height:400,thickness:3,material:"wood",margin:5,isSelected:!0,bounds:{x:0,y:0,width:600,height:400},utilization:0},{id:"sheet-2",name:"Large Acrylic Sheet",width:800,height:600,thickness:5,material:"acrylic",margin:3,isSelected:!1,bounds:{x:0,y:0,width:800,height:600},utilization:0}],Gs=[{id:"nest-1",sheetId:"sheet-1",placements:[{id:"placement-1",partId:"part-1",x:10,y:10,rotation:0,bounds:{x:10,y:10,width:100,height:50}},{id:"placement-2",partId:"part-2",x:120,y:10,rotation:0,bounds:{x:120,y:10,width:50,height:50}},{id:"placement-3",partId:"part-3",x:10,y:70,rotation:0,bounds:{x:10,y:70,width:60,height:60}}],fitness:.75,utilization:.68,area:12e3,createdAt:new Date().toISOString(),isOptimal:!1},{id:"nest-2",sheetId:"sheet-1",placements:[{id:"placement-4",partId:"part-1",x:5,y:5,rotation:90,bounds:{x:5,y:5,width:50,height:100}},{id:"placement-5",partId:"part-2",x:65,y:5,rotation:0,bounds:{x:65,y:5,width:50,height:50}}],fitness:.82,utilization:.72,area:8500,createdAt:new Date(Date.now()-6e4).toISOString(),isOptimal:!0}],qs={"preset-1":{id:"preset-1",name:"Default Laser Settings",description:"Standard settings for laser cutting wood",config:{units:"mm",scale:1,spacing:2,rotations:4,populationSize:20,mutationRate:15,threads:4,placementType:"gravity",mergeLines:!0,timeRatio:.5,simplify:!1,tolerance:.1,endpointTolerance:.05,svgScale:1,dxfImportUnits:"mm",dxfExportUnits:"mm",exportSheetBounds:!0,exportSheetSpacing:!1,sheetSpacing:10,useQuantityFromFilename:!0,useSvgPreProcessor:!1,conversionServer:"https://converter.deepnest.app/convert"},createdAt:new Date(Date.now()-864e5).toISOString(),updatedAt:new Date(Date.now()-36e5).toISOString()},"preset-2":{id:"preset-2",name:"High Precision CNC",description:"Tight tolerances for CNC machining",config:{units:"inches",scale:72,spacing:.1,rotations:8,populationSize:50,mutationRate:5,threads:8,placementType:"bottom-left",mergeLines:!1,timeRatio:.8,simplify:!0,tolerance:.001,endpointTolerance:5e-4,svgScale:72,dxfImportUnits:"inches",dxfExportUnits:"inches",exportSheetBounds:!0,exportSheetSpacing:!0,sheetSpacing:.25,useQuantityFromFilename:!1,useSvgPreProcessor:!0,conversionServer:"https://converter.deepnest.app/convert"},createdAt:new Date(Date.now()-1728e5).toISOString(),updatedAt:new Date(Date.now()-72e5).toISOString()}};function Js(t,e,s){const n=[];for(let o=0;o<=32;o++){const i=o/32*2*Math.PI,a=e+t*Math.cos(i),l=s+t*Math.sin(i);n.push([a,l])}return n}const Qs=()=>({ui:{activeTab:"parts",darkMode:!1,language:"en",theme:"auto",showTooltips:!0,showStatusBar:!0,modals:{presetModal:!1,helpModal:!1},panels:{partsWidth:300,resultsHeight:200}},config:{units:"mm",scale:1,spacing:2,rotations:4,populationSize:20,mutationRate:10,threads:4,placementType:"gravity",mergeLines:!0,timeRatio:.5,simplify:!1,tolerance:.1,endpointTolerance:.05,svgScale:1,dxfImportUnits:"mm",dxfExportUnits:"mm",exportSheetBounds:!1,exportSheetSpacing:!1,sheetSpacing:10,useQuantityFromFilename:!1,useSvgPreProcessor:!1,conversionServer:"https://converter.deepnest.app/convert"},app:{parts:Hs,sheets:Ws,nests:Gs,presets:qs,importedFiles:[]},process:{isNesting:!1,progress:0,currentNest:null,workerStatus:{isRunning:!1,currentOperation:"",threadsActive:0},lastError:null}}),Z=()=>typeof window<"u"&&!window.electronAPI,gt={units:"inches",scale:72,spacing:0,rotations:4,populationSize:10,mutationRate:10,threads:4,placementType:"gravity",mergeLines:!0,timeRatio:.5,simplify:!1,tolerance:.72,endpointTolerance:.36,svgScale:72,dxfImportUnits:"mm",dxfExportUnits:"mm",exportSheetBounds:!1,exportSheetSpacing:!1,sheetSpacing:10,useQuantityFromFilename:!1,useSvgPreProcessor:!1,conversionServer:"https://converter.deepnest.app/convert"},Me={activeTab:"parts",darkMode:!1,language:"en",modals:{presetModal:!1,helpModal:!1},panels:{partsWidth:300,resultsHeight:200}},ds={parts:[],sheets:[],nests:[],presets:{},importedFiles:[]},ps={isNesting:!1,progress:0,currentNest:null,workerStatus:{isRunning:!1,currentOperation:"",threadsActive:0},lastError:null},Xs=()=>{try{if(typeof localStorage<"u"){const t=localStorage.getItem("deepnest-ui-state");let e=Me;if(t){const s=JSON.parse(t);e={...Me,...s}}return"theme"in localStorage?e.darkMode=localStorage.theme==="dark":e.darkMode=window.matchMedia("(prefers-color-scheme: dark)").matches,e}}catch(t){console.warn("Failed to load UI state from localStorage:",t)}return Me},fs=Z()?Qs():{ui:Xs(),config:gt,app:ds,process:ps},[x,S]=Ks(fs);typeof document<"u"&&fs.ui.darkMode&&document.documentElement.classList.add("dark");Z()&&console.info("🔧 Development mode: Global store initialized with mock data");const I={setActiveTab:t=>{S("ui","activeTab",t)},setDarkMode:t=>{if(S("ui","darkMode",t),typeof localStorage<"u")try{t?localStorage.theme="dark":localStorage.theme="light",localStorage.setItem("deepnest-ui-state",JSON.stringify(x.ui))}catch(e){console.warn("Failed to save theme to localStorage:",e)}},toggleDarkMode:()=>{const t=x.ui.darkMode;I.setDarkMode(!t)},setCurrentPanel:t=>{S("ui","activeTab",t)},setThemePreference:t=>{if(typeof localStorage<"u")try{if(t==="system"){localStorage.removeItem("theme");const e=window.matchMedia("(prefers-color-scheme: dark)").matches;S("ui","darkMode",e)}else localStorage.theme=t,S("ui","darkMode",t==="dark");localStorage.setItem("deepnest-ui-state",JSON.stringify(x.ui))}catch(e){console.warn("Failed to save theme preference to localStorage:",e)}},setLanguage:t=>{if(S("ui","language",t),typeof localStorage<"u")try{localStorage.setItem("deepnest-ui-state",JSON.stringify(x.ui))}catch(e){console.warn("Failed to save UI state to localStorage:",e)}},setPanelWidth:(t,e)=>{if(S("ui","panels",t,e),typeof localStorage<"u")try{localStorage.setItem("deepnest-ui-state",JSON.stringify(x.ui))}catch(s){console.warn("Failed to save UI state to localStorage:",s)}},openModal:t=>{S("ui","modals",t,!0)},closeModal:t=>{S("ui","modals",t,!1)},updateConfig:t=>{S("config",t)},resetConfig:()=>{S("config",gt)},setParts:t=>{S("app","parts",t)},addPart:t=>{S("app","parts",e=>[...e,t])},removePart:t=>{S("app","parts",e=>e.filter(s=>s.id!==t))},updatePart:(t,e)=>{S("app","parts",s=>s.id===t,e)},setNests:t=>{S("app","nests",t)},addNest:t=>{S("app","nests",e=>[...e,t])},setCurrentNest:t=>{S("process","currentNest",t)},setPresets:t=>{S("app","presets",t)},addPreset:t=>{S("app","presets",t.id,t)},removePreset:t=>{S("app","presets",e=>{const s={...e};return delete s[t],s})},updatePreset:(t,e)=>{S("app","presets",t,s=>({...s,...e}))},setNestingStatus:t=>{S("process","isNesting",t)},startNesting:()=>{S("process","isNesting",!0),S("process","progress",0),S("process","lastError",null),console.log("Starting nesting process...")},setNestingProgress:t=>{S("process","progress",t)},setWorkerStatus:t=>{S("process","workerStatus",t)},setError:t=>{S("process","lastError",t)},setMessage:t=>{t&&console.info("App Message:",t)},setShowTooltips:t=>{S("ui","showTooltips",t)},setShowStatusBar:t=>{S("ui","showStatusBar",t)},setTheme:t=>{S("ui","theme",t)},resetToDefaults:()=>{S("config",gt),S("ui",Me)},reset:()=>{S("app",ds),S("process",ps)}};class Zs{eventListeners=new Map;nestingProgress=0;isNesting=!1;activeWorkers=new Set;nestResults=[];get isAvailable(){return Z()||typeof window<"u"&&!!window.electronAPI}async invoke(e,...s){if(!this.isAvailable)throw new Error("IPC not available");if(Z())return this.handleMockInvoke(e,...s);try{return await window.electronAPI.ipcRenderer.invoke(e,...s)}catch(n){throw console.error(`IPC invoke error on channel ${String(e)}:`,n),n}}async handleMockInvoke(e,...s){switch(await new Promise(n=>setTimeout(n,100)),console.info(`🔧 Mock IPC call: ${e}`,s),e){case"read-config":return{units:"mm",scale:1,spacing:2,rotations:4,populationSize:20,mutationRate:10,threads:4,placementType:"gravity",mergeLines:!0,timeRatio:.5,simplify:!1,tolerance:.1,endpointTolerance:.05,svgScale:1,dxfImportUnits:"mm",dxfExportUnits:"mm",exportSheetBounds:!1,exportSheetSpacing:!1,sheetSpacing:10,useQuantityFromFilename:!1,useSvgPreProcessor:!1,conversionServer:"https://converter.deepnest.app/convert"};case"write-config":case"save-preset":case"delete-preset":case"start-nesting":case"stop-nesting":return;case"load-presets":return{default:JSON.stringify({units:"mm",spacing:2,rotations:4}),precision:JSON.stringify({units:"inches",spacing:.1,rotations:8})};case"open-file-dialog":return{canceled:!1,filePaths:["/mock/path/example.svg"]};case"save-file-dialog":return{canceled:!1,filePath:"/mock/path/output.svg"};case"import-parts":return[{id:"mock-part-1",name:"Mock Part",bounds:{x:0,y:0,width:100,height:50},quantity:1,rotation:0}];default:console.warn(`🔧 Unhandled mock IPC channel: ${e}`);return}}simulateBackgroundWorker(){if(!Z())return;console.info("🔧 Simulating background worker progress...");let e=0;const s=setInterval(()=>{e+=.1,this.emitToUIListeners("background-progress",{index:0,progress:Math.min(e,1)}),e>=1&&(clearInterval(s),this.emitToUIListeners("background-progress",{index:0,progress:-1}),setTimeout(()=>{this.emitToUIListeners("background-response",{index:0,fitness:.85,area:85e3,totalarea:1e5,mergedLength:0,utilisation:.85,placements:[{sheet:0,sheetid:1,sheetplacements:[{id:1,source:0,x:10,y:10,rotation:0}]}]})},500))},200)}async startNesting(e){return this.isNesting=!0,this.nestingProgress=0,this.nestResults=[],this.activeWorkers.clear(),this.eventListeners.has("background-progress")||this.initializeBackgroundWorkerListeners(),this.emitToUIListeners("nest-status",{isRunning:!0,operation:"Starting nesting..."}),Z()?(setTimeout(()=>this.simulateBackgroundWorker(),1e3),Promise.resolve()):this.invoke("start-nesting",e)}async stopNesting(){return this.isNesting=!1,this.activeWorkers.clear(),this.emitToUIListeners("nest-status",{isRunning:!1,operation:"Stopped"}),Z()?Promise.resolve():this.invoke("stop-nesting")}on(e,s){if(!this.isAvailable)return console.warn("IPC not available, listener not registered"),()=>{};const n=String(e);return this.eventListeners.has(n)||this.eventListeners.set(n,new Set),this.eventListeners.get(n).add(s),Z()?(console.info(`🔧 Mock IPC listener registered for: ${n}`),()=>{const r=this.eventListeners.get(n);r&&(r.delete(s),r.size===0&&this.eventListeners.delete(n))}):(window.electronAPI.ipcRenderer.on(e,s),()=>{const r=this.eventListeners.get(n);r&&(r.delete(s),r.size===0&&(this.eventListeners.delete(n),window.electronAPI?.ipcRenderer&&window.electronAPI.ipcRenderer.removeAllListeners(e)))})}send(e,...s){if(!this.isAvailable){console.warn("IPC not available, message not sent");return}if(Z()){console.info(`🔧 Mock IPC send: ${e}`,s);return}window.electronAPI.ipcRenderer.send(e,...s)}async readConfig(){return this.invoke("read-config")}async writeConfig(e){return this.invoke("write-config",JSON.stringify(e))}async savePreset(e,s){return this.invoke("save-preset",e,JSON.stringify(s))}async loadPresets(){return this.invoke("load-presets")}async deletePreset(e){return this.invoke("delete-preset",e)}async openFileDialog(){return this.invoke("open-file-dialog")}async saveFileDialog(){return this.invoke("save-file-dialog")}async importParts(e){return this.invoke("import-parts",e)}stopBackgroundWorker(){this.send("background-stop"),this.isNesting=!1,this.activeWorkers.clear()}initializeBackgroundWorkerListeners(){this.on("background-progress",e=>{this.activeWorkers.add(e.index),e.progress===-1&&this.activeWorkers.delete(e.index),this.nestingProgress=e.progress===-1?1:Math.max(this.nestingProgress,e.progress),this.emitToUIListeners("nest-progress",this.nestingProgress),this.emitToUIListeners("nest-status",{isRunning:this.isNesting&&this.activeWorkers.size>0,operation:e.progress===-1?"Complete":"Calculating placement..."})}),this.on("background-response",e=>{this.handleBackgroundWorkerResult(e)}),this.on("setPlacements",e=>{this.handleBackgroundWorkerResult(e)})}handleBackgroundWorkerResult(e){const s={id:`result-${e.index}`,fitness:e.fitness,area:e.area,totalArea:e.totalarea,utilisation:e.utilisation,sheets:e.placements.map(n=>({id:n.sheetid,parts:n.sheetplacements.map(r=>({id:r.id,x:r.x,y:r.y,rotation:r.rotation}))}))};this.nestResults.push(s),(this.nestResults.length===1||e.fitness<Math.min(...this.nestResults.map(n=>n.fitness)))&&this.emitToUIListeners("nest-complete",[...this.nestResults])}emitToUIListeners(e,s){const n=this.eventListeners.get(e);n&&n.forEach(r=>{try{r(s)}catch(o){console.error(`Error in ${e} listener:`,o)}})}onNestProgress(e){return this.on("nest-progress",e)}onNestComplete(e){return this.on("nest-complete",e)}onNestStatus(e){return this.on("nest-status",e)}onNestError(e){return this.on("nest-error",e)}onBackgroundProgress(e){return this.on("background-progress",e)}onBackgroundResponse(e){return this.on("background-response",e)}onSetPlacements(e){return this.on("setPlacements",e)}cleanup(){if(this.isAvailable){for(const e of this.eventListeners.keys())window.electronAPI.ipcRenderer.removeAllListeners(e);this.eventListeners.clear(),this.isNesting=!1,this.nestingProgress=0,this.activeWorkers.clear(),this.nestResults=[]}}}const oe=new Zs,m=t=>typeof t=="string",xe=()=>{let t,e;const s=new Promise((n,r)=>{t=n,e=r});return s.resolve=t,s.reject=e,s},At=t=>t==null?"":""+t,Ys=(t,e,s)=>{t.forEach(n=>{e[n]&&(s[n]=e[n])})},en=/###/g,Rt=t=>t&&t.indexOf("###")>-1?t.replace(en,"."):t,It=t=>!t||m(t),$e=(t,e,s)=>{const n=m(e)?e.split("."):e;let r=0;for(;r<n.length-1;){if(It(t))return{};const o=Rt(n[r]);!t[o]&&s&&(t[o]=new s),Object.prototype.hasOwnProperty.call(t,o)?t=t[o]:t={},++r}return It(t)?{}:{obj:t,k:Rt(n[r])}},Ft=(t,e,s)=>{const{obj:n,k:r}=$e(t,e,Object);if(n!==void 0||e.length===1){n[r]=s;return}let o=e[e.length-1],i=e.slice(0,e.length-1),a=$e(t,i,Object);for(;a.obj===void 0&&i.length;)o=`${i[i.length-1]}.${o}`,i=i.slice(0,i.length-1),a=$e(t,i,Object),a?.obj&&typeof a.obj[`${a.k}.${o}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${o}`]=s},tn=(t,e,s,n)=>{const{obj:r,k:o}=$e(t,e,Object);r[o]=r[o]||[],r[o].push(s)},Ge=(t,e)=>{const{obj:s,k:n}=$e(t,e);if(s&&Object.prototype.hasOwnProperty.call(s,n))return s[n]},sn=(t,e,s)=>{const n=Ge(t,s);return n!==void 0?n:Ge(e,s)},gs=(t,e,s)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?m(t[n])||t[n]instanceof String||m(e[n])||e[n]instanceof String?s&&(t[n]=e[n]):gs(t[n],e[n],s):t[n]=e[n]);return t},de=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var nn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const rn=t=>m(t)?t.replace(/[&<>"'\/]/g,e=>nn[e]):t;class on{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const s=this.regExpMap.get(e);if(s!==void 0)return s;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const an=[" ",",","?","!",";"],ln=new on(20),cn=(t,e,s)=>{e=e||"",s=s||"";const n=an.filter(i=>e.indexOf(i)<0&&s.indexOf(i)<0);if(n.length===0)return!0;const r=ln.getRegExp(`(${n.map(i=>i==="?"?"\\?":i).join("|")})`);let o=!r.test(t);if(!o){const i=t.indexOf(s);i>0&&!r.test(t.substring(0,i))&&(o=!0)}return o},ht=(t,e,s=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const n=e.split(s);let r=t;for(let o=0;o<n.length;){if(!r||typeof r!="object")return;let i,a="";for(let l=o;l<n.length;++l)if(l!==o&&(a+=s),a+=n[l],i=r[a],i!==void 0){if(["string","number","boolean"].indexOf(typeof i)>-1&&l<n.length-1)continue;o+=l-o+1;break}r=i}return r},Le=t=>t?.replace("_","-"),un={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}};class qe{constructor(e,s={}){this.init(e,s)}init(e,s={}){this.prefix=s.prefix||"i18next:",this.logger=e||un,this.options=s,this.debug=s.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,s,n,r){return r&&!this.debug?null:(m(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[s](e))}create(e){return new qe(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new qe(this.logger,e)}}var Q=new qe;class st{constructor(){this.observers={}}on(e,s){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const r=this.observers[n].get(s)||0;this.observers[n].set(s,r+1)}),this}off(e,s){if(this.observers[e]){if(!s){delete this.observers[e];return}this.observers[e].delete(s)}}emit(e,...s){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([r,o])=>{for(let i=0;i<o;i++)r(...s)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([r,o])=>{for(let i=0;i<o;i++)r.apply(r,[e,...s])})}}class Dt extends st{constructor(e,s={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const s=this.options.ns.indexOf(e);s>-1&&this.options.ns.splice(s,1)}getResource(e,s,n,r={}){const o=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,i=r.ignoreJSONStructure!==void 0?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,s],n&&(Array.isArray(n)?a.push(...n):m(n)&&o?a.push(...n.split(o)):a.push(n)));const l=Ge(this.data,a);return!l&&!s&&!n&&e.indexOf(".")>-1&&(e=a[0],s=a[1],n=a.slice(2).join(".")),l||!i||!m(n)?l:ht(this.data?.[e]?.[s],n,o)}addResource(e,s,n,r,o={silent:!1}){const i=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator;let a=[e,s];n&&(a=a.concat(i?n.split(i):n)),e.indexOf(".")>-1&&(a=e.split("."),r=s,s=a[1]),this.addNamespaces(s),Ft(this.data,a,r),o.silent||this.emit("added",e,s,n,r)}addResources(e,s,n,r={silent:!1}){for(const o in n)(m(n[o])||Array.isArray(n[o]))&&this.addResource(e,s,o,n[o],{silent:!0});r.silent||this.emit("added",e,s,n)}addResourceBundle(e,s,n,r,o,i={silent:!1,skipCopy:!1}){let a=[e,s];e.indexOf(".")>-1&&(a=e.split("."),r=n,n=s,s=a[1]),this.addNamespaces(s);let l=Ge(this.data,a)||{};i.skipCopy||(n=JSON.parse(JSON.stringify(n))),r?gs(l,n,o):l={...l,...n},Ft(this.data,a,l),i.silent||this.emit("added",e,s,n)}removeResourceBundle(e,s){this.hasResourceBundle(e,s)&&delete this.data[e][s],this.removeNamespaces(s),this.emit("removed",e,s)}hasResourceBundle(e,s){return this.getResource(e,s)!==void 0}getResourceBundle(e,s){return s||(s=this.options.defaultNS),this.getResource(e,s)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const s=this.getDataByLanguage(e);return!!(s&&Object.keys(s)||[]).find(r=>s[r]&&Object.keys(s[r]).length>0)}toJSON(){return this.data}}var hs={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,s,n,r){return t.forEach(o=>{e=this.processors[o]?.process(e,s,n,r)??e}),e}};const Tt={},Mt=t=>!m(t)&&typeof t!="boolean"&&typeof t!="number";class Je extends st{constructor(e,s={}){super(),Ys(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Q.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,s={interpolation:{}}){const n={...s};return e==null?!1:this.resolve(e,n)?.res!==void 0}extractFromKey(e,s){let n=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const r=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let o=s.ns||this.options.defaultNS||[];const i=n&&e.indexOf(n)>-1,a=!this.options.userDefinedKeySeparator&&!s.keySeparator&&!this.options.userDefinedNsSeparator&&!s.nsSeparator&&!cn(e,n,r);if(i&&!a){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:m(o)?[o]:o};const c=e.split(n);(n!==r||n===r&&this.options.ns.indexOf(c[0])>-1)&&(o=c.shift()),e=c.join(r)}return{key:e,namespaces:m(o)?[o]:o}}translate(e,s,n){let r=typeof s=="object"?{...s}:s;if(typeof r!="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(r={...r}),r||(r={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const o=r.returnDetails!==void 0?r.returnDetails:this.options.returnDetails,i=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,{key:a,namespaces:l}=this.extractFromKey(e[e.length-1],r),c=l[l.length-1];let d=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;d===void 0&&(d=":");const u=r.lng||this.language,g=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(u?.toLowerCase()==="cimode")return g?o?{res:`${c}${d}${a}`,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(r)}:`${c}${d}${a}`:o?{res:a,usedKey:a,exactUsedKey:a,usedLng:u,usedNS:c,usedParams:this.getUsedParamsDetails(r)}:a;const p=this.resolve(e,r);let f=p?.res;const h=p?.usedKey||a,_=p?.exactUsedKey||a,$=["[object Number]","[object Function]","[object RegExp]"],v=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,y=!this.i18nFormat||this.i18nFormat.handleAsObject,C=r.count!==void 0&&!m(r.count),P=Je.hasDefaultValue(r),D=C?this.pluralResolver.getSuffix(u,r.count,r):"",H=r.ordinal&&C?this.pluralResolver.getSuffix(u,r.count,{ordinal:!1}):"",re=C&&!r.ordinal&&r.count===0,V=re&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${D}`]||r[`defaultValue${H}`]||r.defaultValue;let L=f;y&&!f&&P&&(L=V);const R=Mt(L),W=Object.prototype.toString.apply(L);if(y&&L&&R&&$.indexOf(W)<0&&!(m(v)&&Array.isArray(L))){if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const E=this.options.returnedObjectHandler?this.options.returnedObjectHandler(h,L,{...r,ns:l}):`key '${a} (${this.language})' returned an object instead of string.`;return o?(p.res=E,p.usedParams=this.getUsedParamsDetails(r),p):E}if(i){const E=Array.isArray(L),T=E?[]:{},wt=E?_:h;for(const J in L)if(Object.prototype.hasOwnProperty.call(L,J)){const X=`${wt}${i}${J}`;P&&!f?T[J]=this.translate(X,{...r,defaultValue:Mt(V)?V[J]:void 0,joinArrays:!1,ns:l}):T[J]=this.translate(X,{...r,joinArrays:!1,ns:l}),T[J]===X&&(T[J]=L[J])}f=T}}else if(y&&m(v)&&Array.isArray(f))f=f.join(v),f&&(f=this.extendTranslation(f,e,r,n));else{let E=!1,T=!1;!this.isValidLookup(f)&&P&&(E=!0,f=V),this.isValidLookup(f)||(T=!0,f=a);const J=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&T?void 0:f,X=P&&V!==f&&this.options.updateMissing;if(T||E||X){if(this.logger.log(X?"updateKey":"missingKey",u,c,a,X?V:f),i){const K=this.resolve(a,{...r,keySeparator:!1});K&&K.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let ye=[];const Re=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Re&&Re[0])for(let K=0;K<Re.length;K++)ye.push(Re[K]);else this.options.saveMissingTo==="all"?ye=this.languageUtils.toResolveHierarchy(r.lng||this.language):ye.push(r.lng||this.language);const $t=(K,le,ve)=>{const St=P&&ve!==f?ve:J;this.options.missingKeyHandler?this.options.missingKeyHandler(K,c,le,St,X,r):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(K,c,le,St,X,r),this.emit("missingKey",K,c,le,f)};this.options.saveMissing&&(this.options.saveMissingPlurals&&C?ye.forEach(K=>{const le=this.pluralResolver.getSuffixes(K,r);re&&r[`defaultValue${this.options.pluralSeparator}zero`]&&le.indexOf(`${this.options.pluralSeparator}zero`)<0&&le.push(`${this.options.pluralSeparator}zero`),le.forEach(ve=>{$t([K],a+ve,r[`defaultValue${ve}`]||V)})}):$t(ye,a,V))}f=this.extendTranslation(f,e,r,p,n),T&&f===a&&this.options.appendNamespaceToMissingKey&&(f=`${c}${d}${a}`),(T||E)&&this.options.parseMissingKeyHandler&&(f=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}${d}${a}`:a,E?f:void 0,r))}return o?(p.res=f,p.usedParams=this.getUsedParamsDetails(r),p):f}extendTranslation(e,s,n,r,o){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const l=m(e)&&(n?.interpolation?.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let c;if(l){const u=e.match(this.interpolator.nestingRegexp);c=u&&u.length}let d=n.replace&&!m(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(d={...this.options.interpolation.defaultVariables,...d}),e=this.interpolator.interpolate(e,d,n.lng||this.language||r.usedLng,n),l){const u=e.match(this.interpolator.nestingRegexp),g=u&&u.length;c<g&&(n.nest=!1)}!n.lng&&r&&r.res&&(n.lng=this.language||r.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,(...u)=>o?.[0]===u[0]&&!n.context?(this.logger.warn(`It seems you are nesting recursively key: ${u[0]} in key: ${s[0]}`),null):this.translate(...u,s),n)),n.interpolation&&this.interpolator.reset()}const i=n.postProcess||this.options.postProcess,a=m(i)?[i]:i;return e!=null&&a?.length&&n.applyPostProcessor!==!1&&(e=hs.handle(a,e,s,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e,s={}){let n,r,o,i,a;return m(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(n))return;const c=this.extractFromKey(l,s),d=c.key;r=d;let u=c.namespaces;this.options.fallbackNS&&(u=u.concat(this.options.fallbackNS));const g=s.count!==void 0&&!m(s.count),p=g&&!s.ordinal&&s.count===0,f=s.context!==void 0&&(m(s.context)||typeof s.context=="number")&&s.context!=="",h=s.lngs?s.lngs:this.languageUtils.toResolveHierarchy(s.lng||this.language,s.fallbackLng);u.forEach(_=>{this.isValidLookup(n)||(a=_,!Tt[`${h[0]}-${_}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(a)&&(Tt[`${h[0]}-${_}`]=!0,this.logger.warn(`key "${r}" for languages "${h.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),h.forEach($=>{if(this.isValidLookup(n))return;i=$;const v=[d];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(v,d,$,_,s);else{let C;g&&(C=this.pluralResolver.getSuffix($,s.count,s));const P=`${this.options.pluralSeparator}zero`,D=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(g&&(v.push(d+C),s.ordinal&&C.indexOf(D)===0&&v.push(d+C.replace(D,this.options.pluralSeparator)),p&&v.push(d+P)),f){const H=`${d}${this.options.contextSeparator}${s.context}`;v.push(H),g&&(v.push(H+C),s.ordinal&&C.indexOf(D)===0&&v.push(H+C.replace(D,this.options.pluralSeparator)),p&&v.push(H+P))}}let y;for(;y=v.pop();)this.isValidLookup(n)||(o=y,n=this.getResource($,_,y,s))}))})}),{res:n,usedKey:r,exactUsedKey:o,usedLng:i,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,s,n,r={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,s,n,r):this.resourceStore.getResource(e,s,n,r)}getUsedParamsDetails(e={}){const s=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!m(e.replace);let r=n?e.replace:e;if(n&&typeof e.count<"u"&&(r.count=e.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!n){r={...r};for(const o of s)delete r[o]}return r}static hasDefaultValue(e){const s="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&s===n.substring(0,s.length)&&e[n]!==void 0)return!0;return!1}}class zt{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Q.create("languageUtils")}getScriptPartFromCode(e){if(e=Le(e),!e||e.indexOf("-")<0)return null;const s=e.split("-");return s.length===2||(s.pop(),s[s.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(s.join("-"))}getLanguagePartFromCode(e){if(e=Le(e),!e||e.indexOf("-")<0)return e;const s=e.split("-");return this.formatLanguageCode(s[0])}formatLanguageCode(e){if(m(e)&&e.indexOf("-")>-1){let s;try{s=Intl.getCanonicalLocales(e)[0]}catch{}return s&&this.options.lowerCaseLng&&(s=s.toLowerCase()),s||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let s;return e.forEach(n=>{if(s)return;const r=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(r))&&(s=r)}),!s&&this.options.supportedLngs&&e.forEach(n=>{if(s)return;const r=this.getScriptPartFromCode(n);if(this.isSupportedCode(r))return s=r;const o=this.getLanguagePartFromCode(n);if(this.isSupportedCode(o))return s=o;s=this.options.supportedLngs.find(i=>{if(i===o)return i;if(!(i.indexOf("-")<0&&o.indexOf("-")<0)&&(i.indexOf("-")>0&&o.indexOf("-")<0&&i.substring(0,i.indexOf("-"))===o||i.indexOf(o)===0&&o.length>1))return i})}),s||(s=this.getFallbackCodes(this.options.fallbackLng)[0]),s}getFallbackCodes(e,s){if(!e)return[];if(typeof e=="function"&&(e=e(s)),m(e)&&(e=[e]),Array.isArray(e))return e;if(!s)return e.default||[];let n=e[s];return n||(n=e[this.getScriptPartFromCode(s)]),n||(n=e[this.formatLanguageCode(s)]),n||(n=e[this.getLanguagePartFromCode(s)]),n||(n=e.default),n||[]}toResolveHierarchy(e,s){const n=this.getFallbackCodes((s===!1?[]:s)||this.options.fallbackLng||[],e),r=[],o=i=>{i&&(this.isSupportedCode(i)?r.push(i):this.logger.warn(`rejecting language code not found in supportedLngs: ${i}`))};return m(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&o(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&o(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&o(this.getLanguagePartFromCode(e))):m(e)&&o(this.formatLanguageCode(e)),n.forEach(i=>{r.indexOf(i)<0&&o(this.formatLanguageCode(i))}),r}}const Ut={zero:0,one:1,two:2,few:3,many:4,other:5},jt={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class dn{constructor(e,s={}){this.languageUtils=e,this.options=s,this.logger=Q.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,s){this.rules[e]=s}clearCache(){this.pluralRulesCache={}}getRule(e,s={}){const n=Le(e==="dev"?"en":e),r=s.ordinal?"ordinal":"cardinal",o=JSON.stringify({cleanedCode:n,type:r});if(o in this.pluralRulesCache)return this.pluralRulesCache[o];let i;try{i=new Intl.PluralRules(n,{type:r})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),jt;if(!e.match(/-|_/))return jt;const l=this.languageUtils.getLanguagePartFromCode(e);i=this.getRule(l,s)}return this.pluralRulesCache[o]=i,i}needsPlural(e,s={}){let n=this.getRule(e,s);return n||(n=this.getRule("dev",s)),n?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,s,n={}){return this.getSuffixes(e,n).map(r=>`${s}${r}`)}getSuffixes(e,s={}){let n=this.getRule(e,s);return n||(n=this.getRule("dev",s)),n?n.resolvedOptions().pluralCategories.sort((r,o)=>Ut[r]-Ut[o]).map(r=>`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${r}`):[]}getSuffix(e,s,n={}){const r=this.getRule(e,n);return r?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${r.select(s)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",s,n))}}const Vt=(t,e,s,n=".",r=!0)=>{let o=sn(t,e,s);return!o&&r&&m(s)&&(o=ht(t,s,n),o===void 0&&(o=ht(e,s,n))),o},rt=t=>t.replace(/\$/g,"$$$$");class pn{constructor(e={}){this.logger=Q.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(s=>s),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:s,escapeValue:n,useRawValueToEscape:r,prefix:o,prefixEscaped:i,suffix:a,suffixEscaped:l,formatSeparator:c,unescapeSuffix:d,unescapePrefix:u,nestingPrefix:g,nestingPrefixEscaped:p,nestingSuffix:f,nestingSuffixEscaped:h,nestingOptionsSeparator:_,maxReplaces:$,alwaysFormat:v}=e.interpolation;this.escape=s!==void 0?s:rn,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=r!==void 0?r:!1,this.prefix=o?de(o):i||"{{",this.suffix=a?de(a):l||"}}",this.formatSeparator=c||",",this.unescapePrefix=d?"":u||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=g?de(g):p||de("$t("),this.nestingSuffix=f?de(f):h||de(")"),this.nestingOptionsSeparator=_||",",this.maxReplaces=$||1e3,this.alwaysFormat=v!==void 0?v:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(s,n)=>s?.source===n?(s.lastIndex=0,s):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,s,n,r){let o,i,a;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=p=>{if(p.indexOf(this.formatSeparator)<0){const $=Vt(s,l,p,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format($,void 0,n,{...r,...s,interpolationkey:p}):$}const f=p.split(this.formatSeparator),h=f.shift().trim(),_=f.join(this.formatSeparator).trim();return this.format(Vt(s,l,h,this.options.keySeparator,this.options.ignoreJSONStructure),_,n,{...r,...s,interpolationkey:h})};this.resetRegExp();const d=r?.missingInterpolationHandler||this.options.missingInterpolationHandler,u=r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:p=>rt(p)},{regex:this.regexp,safeValue:p=>this.escapeValue?rt(this.escape(p)):rt(p)}].forEach(p=>{for(a=0;o=p.regex.exec(e);){const f=o[1].trim();if(i=c(f),i===void 0)if(typeof d=="function"){const _=d(e,o,r);i=m(_)?_:""}else if(r&&Object.prototype.hasOwnProperty.call(r,f))i="";else if(u){i=o[0];continue}else this.logger.warn(`missed to pass in variable ${f} for interpolating ${e}`),i="";else!m(i)&&!this.useRawValueToEscape&&(i=At(i));const h=p.safeValue(i);if(e=e.replace(o[0],h),u?(p.regex.lastIndex+=i.length,p.regex.lastIndex-=o[0].length):p.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,s,n={}){let r,o,i;const a=(l,c)=>{const d=this.nestingOptionsSeparator;if(l.indexOf(d)<0)return l;const u=l.split(new RegExp(`${d}[ ]*{`));let g=`{${u[1]}`;l=u[0],g=this.interpolate(g,i);const p=g.match(/'/g),f=g.match(/"/g);((p?.length??0)%2===0&&!f||f.length%2!==0)&&(g=g.replace(/'/g,'"'));try{i=JSON.parse(g),c&&(i={...c,...i})}catch(h){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,h),`${l}${d}${g}`}return i.defaultValue&&i.defaultValue.indexOf(this.prefix)>-1&&delete i.defaultValue,l};for(;r=this.nestingRegexp.exec(e);){let l=[];i={...n},i=i.replace&&!m(i.replace)?i.replace:i,i.applyPostProcessor=!1,delete i.defaultValue;const c=/{.*}/.test(r[1])?r[1].lastIndexOf("}")+1:r[1].indexOf(this.formatSeparator);if(c!==-1&&(l=r[1].slice(c).split(this.formatSeparator).map(d=>d.trim()).filter(Boolean),r[1]=r[1].slice(0,c)),o=s(a.call(this,r[1].trim(),i),i),o&&r[0]===e&&!m(o))return o;m(o)||(o=At(o)),o||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${e}`),o=""),l.length&&(o=l.reduce((d,u)=>this.format(d,u,n.lng,{...n,interpolationkey:r[1].trim()}),o.trim())),e=e.replace(r[0],o),this.regexp.lastIndex=0}return e}}const fn=t=>{let e=t.toLowerCase().trim();const s={};if(t.indexOf("(")>-1){const n=t.split("(");e=n[0].toLowerCase().trim();const r=n[1].substring(0,n[1].length-1);e==="currency"&&r.indexOf(":")<0?s.currency||(s.currency=r.trim()):e==="relativetime"&&r.indexOf(":")<0?s.range||(s.range=r.trim()):r.split(";").forEach(i=>{if(i){const[a,...l]=i.split(":"),c=l.join(":").trim().replace(/^'+|'+$/g,""),d=a.trim();s[d]||(s[d]=c),c==="false"&&(s[d]=!1),c==="true"&&(s[d]=!0),isNaN(c)||(s[d]=parseInt(c,10))}})}return{formatName:e,formatOptions:s}},Bt=t=>{const e={};return(s,n,r)=>{let o=r;r&&r.interpolationkey&&r.formatParams&&r.formatParams[r.interpolationkey]&&r[r.interpolationkey]&&(o={...o,[r.interpolationkey]:void 0});const i=n+JSON.stringify(o);let a=e[i];return a||(a=t(Le(n),r),e[i]=a),a(s)}},gn=t=>(e,s,n)=>t(Le(s),n)(e);class hn{constructor(e={}){this.logger=Q.create("formatter"),this.options=e,this.init(e)}init(e,s={interpolation:{}}){this.formatSeparator=s.interpolation.formatSeparator||",";const n=s.cacheInBuiltFormats?Bt:gn;this.formats={number:n((r,o)=>{const i=new Intl.NumberFormat(r,{...o});return a=>i.format(a)}),currency:n((r,o)=>{const i=new Intl.NumberFormat(r,{...o,style:"currency"});return a=>i.format(a)}),datetime:n((r,o)=>{const i=new Intl.DateTimeFormat(r,{...o});return a=>i.format(a)}),relativetime:n((r,o)=>{const i=new Intl.RelativeTimeFormat(r,{...o});return a=>i.format(a,o.range||"day")}),list:n((r,o)=>{const i=new Intl.ListFormat(r,{...o});return a=>i.format(a)})}}add(e,s){this.formats[e.toLowerCase().trim()]=s}addCached(e,s){this.formats[e.toLowerCase().trim()]=Bt(s)}format(e,s,n,r={}){const o=s.split(this.formatSeparator);if(o.length>1&&o[0].indexOf("(")>1&&o[0].indexOf(")")<0&&o.find(a=>a.indexOf(")")>-1)){const a=o.findIndex(l=>l.indexOf(")")>-1);o[0]=[o[0],...o.splice(1,a)].join(this.formatSeparator)}return o.reduce((a,l)=>{const{formatName:c,formatOptions:d}=fn(l);if(this.formats[c]){let u=a;try{const g=r?.formatParams?.[r.interpolationkey]||{},p=g.locale||g.lng||r.locale||r.lng||n;u=this.formats[c](a,p,{...d,...r,...g})}catch(g){this.logger.warn(g)}return u}else this.logger.warn(`there was no format function for ${c}`);return a},e)}}const _n=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class mn extends st{constructor(e,s,n,r={}){super(),this.backend=e,this.store=s,this.services=n,this.languageUtils=n.languageUtils,this.options=r,this.logger=Q.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(n,r.backend,r)}queueLoad(e,s,n,r){const o={},i={},a={},l={};return e.forEach(c=>{let d=!0;s.forEach(u=>{const g=`${c}|${u}`;!n.reload&&this.store.hasResourceBundle(c,u)?this.state[g]=2:this.state[g]<0||(this.state[g]===1?i[g]===void 0&&(i[g]=!0):(this.state[g]=1,d=!1,i[g]===void 0&&(i[g]=!0),o[g]===void 0&&(o[g]=!0),l[u]===void 0&&(l[u]=!0)))}),d||(a[c]=!0)}),(Object.keys(o).length||Object.keys(i).length)&&this.queue.push({pending:i,pendingCount:Object.keys(i).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(o),pending:Object.keys(i),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(l)}}loaded(e,s,n){const r=e.split("|"),o=r[0],i=r[1];s&&this.emit("failedLoading",o,i,s),!s&&n&&this.store.addResourceBundle(o,i,n,void 0,void 0,{skipCopy:!0}),this.state[e]=s?-1:2,s&&n&&(this.state[e]=0);const a={};this.queue.forEach(l=>{tn(l.loaded,[o],i),_n(l,e),s&&l.errors.push(s),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(c=>{a[c]||(a[c]={});const d=l.loaded[c];d.length&&d.forEach(u=>{a[c][u]===void 0&&(a[c][u]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(l=>!l.done)}read(e,s,n,r=0,o=this.retryTimeout,i){if(!e.length)return i(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:s,fcName:n,tried:r,wait:o,callback:i});return}this.readingCalls++;const a=(c,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const u=this.waitingReads.shift();this.read(u.lng,u.ns,u.fcName,u.tried,u.wait,u.callback)}if(c&&d&&r<this.maxRetries){setTimeout(()=>{this.read.call(this,e,s,n,r+1,o*2,i)},o);return}i(c,d)},l=this.backend[n].bind(this.backend);if(l.length===2){try{const c=l(e,s);c&&typeof c.then=="function"?c.then(d=>a(null,d)).catch(a):a(null,c)}catch(c){a(c)}return}return l(e,s,a)}prepareLoading(e,s,n={},r){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();m(e)&&(e=this.languageUtils.toResolveHierarchy(e)),m(s)&&(s=[s]);const o=this.queueLoad(e,s,n,r);if(!o.toLoad.length)return o.pending.length||r(),null;o.toLoad.forEach(i=>{this.loadOne(i)})}load(e,s,n){this.prepareLoading(e,s,{},n)}reload(e,s,n){this.prepareLoading(e,s,{reload:!0},n)}loadOne(e,s=""){const n=e.split("|"),r=n[0],o=n[1];this.read(r,o,"read",void 0,void 0,(i,a)=>{i&&this.logger.warn(`${s}loading namespace ${o} for language ${r} failed`,i),!i&&a&&this.logger.log(`${s}loaded namespace ${o} for language ${r}`,a),this.loaded(e,i,a)})}saveMissing(e,s,n,r,o,i={},a=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(s)){this.logger.warn(`did not save key "${n}" as the namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend?.create){const l={...i,isUpdate:o},c=this.backend.create.bind(this.backend);if(c.length<6)try{let d;c.length===5?d=c(e,s,n,r,l):d=c(e,s,n,r),d&&typeof d.then=="function"?d.then(u=>a(null,u)).catch(a):a(null,d)}catch(d){a(d)}else c(e,s,n,r,a,l)}!e||!e[0]||this.store.addResource(e[0],s,n,r)}}}const Kt=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),m(t[1])&&(e.defaultValue=t[1]),m(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const s=t[3]||t[2];Object.keys(s).forEach(n=>{e[n]=s[n]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Ht=t=>(m(t.ns)&&(t.ns=[t.ns]),m(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),m(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),Ie=()=>{},yn=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(s=>{typeof t[s]=="function"&&(t[s]=t[s].bind(t))})};class Ne extends st{constructor(e={},s){if(super(),this.options=Ht(e),this.services={},this.logger=Q,this.modules={external:[]},yn(this),s&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,s),this;setTimeout(()=>{this.init(e,s)},0)}}init(e={},s){this.isInitializing=!0,typeof e=="function"&&(s=e,e={}),e.defaultNS==null&&e.ns&&(m(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const n=Kt();this.options={...n,...this.options,...Ht(e)},this.options.interpolation={...n.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const r=c=>c?typeof c=="function"?new c:c:null;if(!this.options.isClone){this.modules.logger?Q.init(r(this.modules.logger),this.options):Q.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:c=hn;const d=new zt(this.options);this.store=new Dt(this.options.resources,this.options);const u=this.services;u.logger=Q,u.resourceStore=this.store,u.languageUtils=d,u.pluralResolver=new dn(d,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format&&this.logger.warn("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),c&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(u.formatter=r(c),u.formatter.init&&u.formatter.init(u,this.options),this.options.interpolation.format=u.formatter.format.bind(u.formatter)),u.interpolator=new pn(this.options),u.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},u.backendConnector=new mn(r(this.modules.backend),u.resourceStore,u,this.options),u.backendConnector.on("*",(p,...f)=>{this.emit(p,...f)}),this.modules.languageDetector&&(u.languageDetector=r(this.modules.languageDetector),u.languageDetector.init&&u.languageDetector.init(u,this.options.detection,this.options)),this.modules.i18nFormat&&(u.i18nFormat=r(this.modules.i18nFormat),u.i18nFormat.init&&u.i18nFormat.init(this)),this.translator=new Je(this.services,this.options),this.translator.on("*",(p,...f)=>{this.emit(p,...f)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,s||(s=Ie),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=(...d)=>this.store[c](...d)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=(...d)=>(this.store[c](...d),this)});const a=xe(),l=()=>{const c=(d,u)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),a.resolve(u),s(d,u)};if(this.languages&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),a}loadResources(e,s=Ie){let n=s;const r=m(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(r?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const o=[],i=a=>{if(!a||a==="cimode")return;this.services.languageUtils.toResolveHierarchy(a).forEach(c=>{c!=="cimode"&&o.indexOf(c)<0&&o.push(c)})};r?i(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(l=>i(l)),this.options.preload?.forEach?.(a=>i(a)),this.services.backendConnector.load(o,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(a)})}else n(null)}reloadResources(e,s,n){const r=xe();return typeof e=="function"&&(n=e,e=void 0),typeof s=="function"&&(n=s,s=void 0),e||(e=this.languages),s||(s=this.options.ns),n||(n=Ie),this.services.backendConnector.reload(e,s,o=>{r.resolve(),n(o)}),r}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&hs.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let s=0;s<this.languages.length;s++){const n=this.languages[s];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,s){this.isLanguageChangingTo=e;const n=xe();this.emit("languageChanging",e);const r=a=>{this.language=a,this.languages=this.services.languageUtils.toResolveHierarchy(a),this.resolvedLanguage=void 0,this.setResolvedLanguage(a)},o=(a,l)=>{l?this.isLanguageChangingTo===e&&(r(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,n.resolve((...c)=>this.t(...c)),s&&s(a,(...c)=>this.t(...c))},i=a=>{!e&&!a&&this.services.languageDetector&&(a=[]);const l=m(a)?a:a&&a[0],c=this.store.hasLanguageSomeTranslations(l)?l:this.services.languageUtils.getBestMatchFromCodes(m(a)?[a]:a);c&&(this.language||r(c),this.translator.language||this.translator.changeLanguage(c),this.services.languageDetector?.cacheUserLanguage?.(c)),this.loadResources(c,d=>{o(d,c)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?i(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(i):this.services.languageDetector.detect(i):i(e),n}getFixedT(e,s,n){const r=(o,i,...a)=>{let l;typeof i!="object"?l=this.options.overloadTranslationOptionHandler([o,i].concat(a)):l={...i},l.lng=l.lng||r.lng,l.lngs=l.lngs||r.lngs,l.ns=l.ns||r.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||n||r.keyPrefix);const c=this.options.keySeparator||".";let d;return l.keyPrefix&&Array.isArray(o)?d=o.map(u=>`${l.keyPrefix}${c}${u}`):d=l.keyPrefix?`${l.keyPrefix}${c}${o}`:o,this.t(d,l)};return m(e)?r.lng=e:r.lngs=e,r.ns=s,r.keyPrefix=n,r}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,s={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=s.lng||this.resolvedLanguage||this.languages[0],r=this.options?this.options.fallbackLng:!1,o=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const i=(a,l)=>{const c=this.services.backendConnector.state[`${a}|${l}`];return c===-1||c===0||c===2};if(s.precheck){const a=s.precheck(this,i);if(a!==void 0)return a}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||i(n,e)&&(!r||i(o,e)))}loadNamespaces(e,s){const n=xe();return this.options.ns?(m(e)&&(e=[e]),e.forEach(r=>{this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}),this.loadResources(r=>{n.resolve(),s&&s(r)}),n):(s&&s(),Promise.resolve())}loadLanguages(e,s){const n=xe();m(e)&&(e=[e]);const r=this.options.preload||[],o=e.filter(i=>r.indexOf(i)<0&&this.services.languageUtils.isSupportedCode(i));return o.length?(this.options.preload=r.concat(o),this.loadResources(i=>{n.resolve(),s&&s(i)}),n):(s&&s(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const r=new Intl.Locale(e);if(r&&r.getTextInfo){const o=r.getTextInfo();if(o&&o.direction)return o.direction}}catch{}const s=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services?.languageUtils||new zt(Kt());return e.toLowerCase().indexOf("-latn")>1?"ltr":s.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},s){return new Ne(e,s)}cloneInstance(e={},s=Ie){const n=e.forkResourceStore;n&&delete e.forkResourceStore;const r={...this.options,...e,isClone:!0},o=new Ne(r);if((e.debug!==void 0||e.prefix!==void 0)&&(o.logger=o.logger.clone(e)),["store","services","language"].forEach(a=>{o[a]=this[a]}),o.services={...this.services},o.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},n){const a=Object.keys(this.store.data).reduce((l,c)=>(l[c]={...this.store.data[c]},l[c]=Object.keys(l[c]).reduce((d,u)=>(d[u]={...l[c][u]},d),l[c]),l),{});o.store=new Dt(a,r),o.services.resourceStore=o.store}return o.translator=new Je(o.services,r),o.translator.on("*",(a,...l)=>{o.emit(a,...l)}),o.init(r,s),o.translator.options=r,o.translator.backendConnector.services.utils={hasLoadedNamespace:o.hasLoadedNamespace.bind(o)},o}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const U=Ne.createInstance();U.createInstance=Ne.createInstance;U.createInstance;U.dir;U.init;U.loadResources;U.reloadResources;U.use;U.changeLanguage;U.getFixedT;U.t;U.exists;U.setDefaultNamespace;U.hasLoadedNamespace;U.loadNamespaces;U.loadLanguages;const vn={page_title:"deepnest - Industrial nesting",parts:"Parts",nests:"Nests",sheets:"Sheets",settings:"Settings",imprint:"Imprint"},bn={stop_nest:"Stop nest",export:"Export",export_svg:"SVG file",export_dxf:"DXF file",export_json:"JSON file",back:"Back",import:"Import",start_nest:"Start nest",deselect:"Deselect",select:"Select",all:"all",add:"Add",cancel:"Cancel",save_preset:"Save Preset",load:"Load",delete:"Delete",save:"Save",reset_defaults:"set all to default"},xn={size:"Size",sheet:"Sheet",quantity:"Quantity",add_sheet:"Add Sheet",width:"width",height:"height",nesting_config:"Nesting configuration",display_units:"Display units",inches:"inches",mm:"mm",space_between_parts:"Space between parts",curve_tolerance:"Curve tolerance",part_rotations:"Part rotations",optimization_type:"Optimization type",gravity:"Gravity",bounding_box:"Bounding Box",squeeze:"Squeeze",use_rough_approximation:"Use rough approximation",cpu_cores:"CPU cores",import_export:"Import/Export",use_svg_normalizer:"Use SVG Normalizer?",svg_scale:"SVG scale",units_per:"units/",endpoint_tolerance:"Endpoint tolerance",dxf_import_units:"DXF import units",points:"Points",picas:"Picas",inches_cap:"Inches",cm:"cm",dxf_export_units:"DXF export units",export_with_sheet_boundaries:"Export with Sheet Boundborders?",export_with_sheets_space:"Export with Space between Sheets?",distance_between_sheets:"Distance between Sheets?",laser_options:"Laser options",merge_common_lines:"Merge common lines",optimization_ratio:"Optimization ratio",meta_heuristic_tuning:"Meta-heuristic fine tuning",ga_population:"GA population",ga_mutation_rate:"GA mutation rate",other_settings:"Other Settings",use_quantity_from_filename:"Use Quantity from filename",presets:"Presets",save_config_presets:"Save Configuration Presets",load_delete_presets:"Load/Delete Configuration Presets",select_preset_default:"-- Select a preset --",save_preset_title:"Save Preset",enter_preset_name:"Enter preset name"},wn={nesting_in_progress:"Nesting in progress...",error_occurred:"Error occurred",processing:"Processing...",ready:"Ready",threads_active:"{{count}} threads active",parts_loaded:"{{count}} parts loaded",nests_available:"{{count}} nests available"},$n={zoom_in:"Zoom In",zoom_out:"Zoom Out",fit_to_content:"Fit to Content",center_view:"Center View",reset_view:"Reset View",zoom:"zoom",pan:"pan",reset:"reset",shortcuts:"Shortcuts"},Sn={select_all:"Select All",deselect_all:"Deselect All",invert_selection:"Invert Selection",selected_count:"{{count}} of {{total}} selected",no_selection:"No items selected",duplicate_selected:"Duplicate Selected",export_selected:"Export Selected",delete_selected:"Delete Selected",duplicate:"Duplicate",navigate:"navigate"},Wt={navigation:vn,actions:bn,labels:xn,status:wn,viewport:$n,selection:Sn},kn="Please enter a preset name",Cn="Preset saved successfully!",Pn="Error saving preset",Ln="Please select a preset to load",Nn="Preset loaded successfully!",En="Selected preset not found",On="Error loading preset",An="Please select a preset to delete",Rn='Are you sure you want to delete the preset "{{presetName}}"?',In="Preset deleted successfully!",Fn="Error deleting preset",Dn="Please import some parts first",Tn="Please mark at least one part as the sheet",Mn="No file selected",zn="An error occurred reading the file",Un="Error processing SVG",jn="could not contact file conversion server",Vn="There was an Error while converting",Bn={enter_preset_name:kn,preset_saved:Cn,error_saving_preset:Pn,select_preset_to_load:Ln,preset_loaded:Nn,preset_not_found:En,error_loading_preset:On,select_preset_to_delete:An,confirm_delete_preset:Rn,preset_deleted:In,error_deleting_preset:Fn,import_parts_first:Dn,mark_part_as_sheet:Tn,no_file_selected:Mn,file_read_error:zn,svg_processing_error:Un,conversion_server_error:jn,conversion_error:Vn},Kn="Parts",Hn="Import Parts",Wn="Export Parts",Gn="Export Selected",qn="Delete Selected",Jn="No parts selected",Qn="Failed to import parts",Xn="Failed to export parts",Zn="Total Parts",Yn="Total Quantity",er="Select All",tr="Deselect All",sr="No Parts Loaded",nr="Import SVG or DXF files to get started",rr="Search parts...",or="Sort by",ir="Name",ar="Quantity",lr="Size",cr="Rotation",ur="Dimensions",dr="Area",pr="Preview Error",fr="Duplicate",gr="items selected",hr="Select",_r={parts_title:Kn,import:"Import",export:"Export",delete:"Delete",import_parts:Hn,export_parts:Wn,export_selected:Gn,delete_selected:qn,no_parts_selected:Jn,import_failed:Qn,export_failed:Xn,total_parts:Zn,total_quantity:Yn,select_all:er,deselect_all:tr,no_parts_loaded:sr,import_parts_to_get_started:nr,search_parts:rr,sort_by:or,name:ir,quantity:ar,size:lr,rotation:cr,dimensions:ur,area:dr,preview_error:pr,duplicate:fr,items_selected:gr,select:hr},mr="Nesting",yr="Start Nesting",vr="Stop Nesting",br="Clear Results",xr="Cannot start nesting: need parts and sheets",wr="Failed to start nesting",$r="Failed to stop nesting",Sr="Parts to Nest",kr="Available Sheets",Cr="Results Count",Pr="No Nesting Results",Lr="Start nesting to see results here",Nr="Add parts and sheets first to enable nesting",Er="Nesting in Progress",Or="Est. time remaining",Ar="Current Operation",Rr="Threads Active",Ir="Worker Status",Fr="Running",Dr="Stopped",Tr="Generation",Mr="Best Fitness",zr="Refresh Status",Ur="Nesting Results",jr="Sorted by efficiency",Vr="Result",Br="Best",Kr="Efficiency",Hr="Fitness",Wr="Sheets Used",Gr="Parts Placed",qr="View Details",Jr="Back to Results",Qr="Result Details",Xr="Export Result",Zr="Export failed",Yr="Click to view",eo="Zoom Out",to="Zoom In",so="Reset View",no="Sheet",ro="Statistics",oo="Material Efficiency",io="Fitness Score",ao="Material Waste",lo="Total Parts Placed",co="Total Material Used",uo="Generation Time",po="Generation Number",fo="Live Results",go="Connected",ho="Disconnected",_o="Last Update",mo="Expand",yo="Collapse",vo="Current Progress",bo="Best Result",xo="Utilization",wo="Intermediate Results",$o="No intermediate results yet",So="Connection Lost",ko="Reconnect Attempts: {{count}}",Co="Error Occurred",Po="Just now",Lo="{{count}} seconds ago",No="{{count}} minutes ago",Eo="{{count}} hours ago",Oo="Sheets",Ao={nesting_title:mr,start_nesting:yr,stop_nesting:vr,clear_results:br,cannot_start_nesting:xr,start_nesting_failed:wr,stop_nesting_failed:$r,parts_to_nest:Sr,available_sheets:kr,results_count:Cr,no_nesting_results:Pr,start_nesting_to_see_results:Lr,add_parts_and_sheets_first:Nr,nesting_in_progress:Er,estimated_time_remaining:Or,current_operation:Ar,threads_active:Rr,worker_status:Ir,running:Fr,stopped:Dr,current_generation:Tr,best_fitness:Mr,refresh_status:zr,nesting_results:Ur,sorted_by_efficiency:jr,result:Vr,best:Br,efficiency:Kr,fitness:Hr,sheets_used:Wr,parts_placed:Gr,view_details:qr,export:"Export",delete:"Delete",back_to_results:Jr,result_details:Qr,export_result:Xr,export_failed:Zr,click_to_view:Yr,zoom_out:eo,zoom_in:to,reset_view:so,sheet:no,statistics:ro,material_efficiency:oo,fitness_score:io,material_waste:ao,total_parts_placed:lo,total_material_used:co,generation_time:uo,generation_number:po,live_results:fo,connected:go,disconnected:ho,last_update:_o,expand:mo,collapse:yo,current_progress:vo,best_result:bo,utilization:xo,intermediate_results:wo,no_intermediate_results:$o,connection_lost:So,reconnect_attempts:ko,error_occurred:Co,just_now:Po,seconds_ago:Lo,minutes_ago:No,hours_ago:Eo,sheets:Oo},Ro="Sheets",Io="Add Sheet",Fo="Edit Sheet",Do="Add New Sheet",To="Total Sheets",Mo="Total Area",zo="No Sheets Loaded",Uo="Add sheets to define your material constraints",jo="Quick Templates",Vo="Configured Sheets",Bo="Sheet",Ko="Dimensions",Ho="Quantity",Wo="Material",Go="Margin",qo="Edit",Jo="Basic Information",Qo="Sheet Name",Xo="Enter sheet name (optional)",Zo="Width",Yo="Height",ei="Thickness",ti="Properties",si="Area",ni="Preview",ri="Cancel",oi="Update Sheet",ii="Swap Width/Height",ai="Width must be greater than 0",li="Height must be greater than 0",ci="Thickness must be greater than 0",ui="Quantity must be greater than 0",di="Margin cannot be negative",pi={sheets_title:Ro,add_sheet:Io,edit_sheet:Fo,add_new_sheet:Do,total_sheets:To,total_area:Mo,no_sheets_loaded:zo,add_sheets_to_get_started:Uo,quick_templates:jo,configured_sheets:Vo,sheet:Bo,dimensions:Ko,quantity:Ho,material:Wo,margin:Go,edit:qo,delete:"Delete",basic_information:Jo,sheet_name:Qo,enter_sheet_name:Xo,width:Zo,height:Yo,thickness:ei,properties:ti,area:si,preview:ni,cancel:ri,update_sheet:oi,swap_dimensions:ii,width_must_be_positive:ai,height_must_be_positive:li,thickness_must_be_positive:ci,quantity_must_be_positive:ui,margin_cannot_be_negative:di},fi="Settings",gi="Preset Management",hi="Algorithm Settings",_i="UI Preferences",mi="Advanced Settings",yi="Reset Defaults",vi="Import Configuration",bi="Export Configuration",xi="Reset to Defaults",wi="Are you sure you want to reset all settings to defaults?",$i="Failed to reset settings",Si="Failed to export configuration",ki="Failed to import configuration",Ci="Presets allow you to save and restore complete nesting configurations.",Pi="Create Preset",Li="Create New Preset",Ni="Preset Name",Ei="Preset name is required",Oi="Enter preset name",Ai="Description (optional)",Ri="Enter a description for this preset",Ii="Cancel",Fi="No Presets Available",Di="Create a preset to save your current configuration",Ti="Export Preset",Mi="Delete Preset",zi="Load Preset",Ui="Active",ji="Created",Vi="Updated",Bi="Are you sure you want to delete preset '{{name}}'?",Ki="Failed to create preset",Hi="Failed to load preset",Wi="Failed to delete preset",Gi="Failed to export preset",qi="Failed to import preset",Ji="Import Preset",Qi="Nesting Parameters",Xi="Space Between Parts",Zi="Minimum distance between parts in millimeters",Yi="Curve Tolerance",ea="Tolerance for curve approximation. Lower values = more accurate but slower",ta="Part Rotations",sa="Number of rotation angles to try for each part",na="No Rotation",ra="Free Rotation (any angle)",oa="Genetic Algorithm",ia="Population Size",aa="Number of solutions in each generation. Higher = better results but slower",la="Mutation Rate",ca="Probability of random changes. Higher = more exploration but less stability",ua="Advanced Options",da="Use Holes",pa="Consider holes in parts for nesting (experimental)",fa="Explore Concave",ga="Try placing parts in concave areas of other parts",ha="Merge Common Lines",_a="Combine overlapping cut lines to reduce cutting time",ma="Use Rough Approximation",ya="Use faster but less accurate calculations for initial placement",va="Appearance",ba="Language",xa="Select the interface language",wa="Theme",$a="Choose between light, dark, or automatic theme",Sa="Auto (follows system)",ka="Light",Ca="Dark",Pa="Dark Mode",La="Use dark colors for the interface",Na="Units and Formatting",Ea="Display Units",Oa="Units for displaying measurements",Aa="Millimeters (mm)",Ra="Inches (in)",Ia="Centimeters (cm)",Fa="Show Grid",Da="Display grid lines in the viewport",Ta="Show Rulers",Ma="Display measurement rulers",za="Layout Preferences",Ua="Parts Panel Width",ja="Width of the parts panel in pixels",Va="Reset",Ba="Show Tooltips",Ka="Display helpful tooltips on hover",Ha="Show Status Bar",Wa="Display the status bar at the bottom",Ga="Performance",qa="Worker Threads",Ja="Number of CPU threads to use (max: {{max}})",Qa="Enable GPU Acceleration",Xa="Use graphics card for calculations (experimental)",Za="Enable Caching",Ya="Cache calculations to improve performance",el="Debugging",tl="Debug Mode",sl="Enable additional debugging information",nl="Verbose Logging",rl="Log detailed information to console",ol="Show Debug Info",il="Hide Debug Info",al="System Information",ll="Platform",cl="CPU Cores",ul="Viewport",dl="Memory Used",pl="Memory Total",fl="Export Debug Info",gl="Maintenance",hl="Clear Cache",_l="Clear all cached data and preferences",ml="Are you sure you want to clear all cached data?",yl="Cache cleared successfully",vl="Failed to clear cache",bl="Reset Layout",xl="Reset panel sizes and positions to defaults",wl="Auto-save Interval",$l="minutes",Sl="How often to automatically save your work (0 = disabled)",kl={settings_title:fi,preset_management:gi,algorithm_settings:hi,ui_preferences:_i,advanced_settings:mi,import:"Import",export:"Export",reset_defaults:yi,import_configuration:vi,export_configuration:bi,reset_to_defaults:xi,confirm_reset_defaults:wi,reset_failed:$i,export_failed:Si,import_failed:ki,preset_description:Ci,create_preset:Pi,create_new_preset:Li,preset_name:Ni,preset_name_required:Ei,enter_preset_name:Oi,preset_description_optional:Ai,enter_preset_description:Ri,cancel:Ii,no_presets_available:Fi,create_preset_to_get_started:Di,export_preset:Ti,delete_preset:Mi,load_preset:zi,active:Ui,created:ji,updated:Vi,confirm_delete_preset:Bi,preset_create_failed:Ki,preset_load_failed:Hi,preset_delete_failed:Wi,preset_export_failed:Gi,preset_import_failed:qi,import_preset:Ji,nesting_parameters:Qi,space_between_parts:Xi,spacing_description:Zi,curve_tolerance:Yi,curve_tolerance_description:ea,part_rotations:ta,rotations_description:sa,no_rotation:na,"2_rotations":"2 Rotations (0°, 180°)","4_rotations":"4 Rotations (0°, 90°, 180°, 270°)","8_rotations":"8 Rotations (45° steps)","12_rotations":"12 Rotations (30° steps)",free_rotation:ra,genetic_algorithm:oa,population_size:ia,population_size_description:aa,mutation_rate:la,mutation_rate_description:ca,advanced_options:ua,use_holes:da,use_holes_description:pa,explore_concave:fa,explore_concave_description:ga,merge_common_lines:ha,merge_lines_description:_a,use_rough_approximation:ma,rough_approximation_description:ya,appearance:va,language:ba,language_description:xa,theme:wa,theme_description:$a,auto_theme:Sa,light_theme:ka,dark_theme:Ca,dark_mode:Pa,dark_mode_description:La,units_and_formatting:Na,display_units:Ea,units_description:Oa,millimeters:Aa,inches:Ra,centimeters:Ia,show_grid:Fa,show_grid_description:Da,show_rulers:Ta,show_rulers_description:Ma,layout_preferences:za,parts_panel_width:Ua,panel_width_description:ja,reset:Va,show_tooltips:Ba,tooltips_description:Ka,show_status_bar:Ha,status_bar_description:Wa,performance:Ga,worker_threads:qa,worker_threads_description:Ja,enable_gpu_acceleration:Qa,gpu_acceleration_description:Xa,enable_caching:Za,caching_description:Ya,debugging:el,debug_mode:tl,debug_mode_description:sl,verbose_logging:nl,verbose_logging_description:rl,show_debug_info:ol,hide_debug_info:il,system_information:al,platform:ll,cpu_cores:cl,viewport:ul,memory_used:dl,memory_total:pl,export_debug_info:fl,maintenance:gl,clear_cache:hl,clear_cache_description:_l,confirm_clear_cache:ml,cache_cleared_success:yl,cache_clear_failed:vl,reset_layout:bl,reset_layout_description:xl,auto_save_interval:wl,minutes:$l,auto_save_description:Sl},Cl="File Operations",Pl="Drag & Drop Files",Ll="Import Files",Nl="Export Options",El="Recent Files",Ol="Drop files here to import",Al="or click to browse",Rl="Supported formats: SVG, DXF, JSON",Il="Select Files",Fl="Browse Files",Dl="Importing Files...",Tl="{{count}} files imported successfully",Ml="Importing {{current}} of {{total}} files",zl="Failed to import files",Ul="File validation error",jl="Invalid file format: {{format}}",Vl="File too large: {{size}}. Maximum size is {{max}}",Bl="Failed to read file: {{filename}}",Kl="Export Format",Hl="Export Settings",Wl="Export All",Gl="Export Selected",ql="Export Current",Jl="Files exported successfully",Ql="Failed to export files",Xl="SVG Vector",Zl="DXF CAD",Yl="PDF Document",ec="JSON Data",tc="Include Sheet Outline",sc="Include Part Labels",nc="Optimize Cut Paths",rc="Merge Common Lines",oc="Export Scale",ic="Export Units",ac="No Recent Files",lc="Clear Recent",cc="Open Recent File",uc="Pin File",dc="Unpin File",pc="Remove from Recent",fc="File not found: {{filename}}",gc="Quickly access your recently used files",hc="Maximum {{count}} recent files",_c="Pinned",mc="Size",yc="Modified",vc="Path",bc="Copy Path",xc="Open File Location",wc="File Information",$c="Processing...",Sc="Cancel Import",kc="Retry Import",Cc="Skip File",Pc="Continue Import",Lc="Validation Warning",Nc="File contains errors but can be imported",Ec="Import Anyway",Oc="Fix Errors",Ac="Auto Fix",Rc="Manual Fix",Ic="Error Details",Fc="Line {{number}}",Dc="Invalid geometry detected",Tc="Duplicate points found",Mc="Self-intersecting polygon",zc="Unclosed path detected",Uc="File is empty",jc="File appears to be corrupted",Vc="Unsupported file version",Bc="Missing required data",Kc={file_operations:Cl,drag_drop_files:Pl,import_files:Ll,export_options:Nl,recent_files:El,drop_files_here:Ol,or_click_to_browse:Al,supported_formats:Rl,select_files:Il,browse_files:Fl,importing_files:Dl,files_imported:Tl,import_progress:Ml,import_failed:zl,file_validation_error:Ul,invalid_file_format:jl,file_too_large:Vl,file_read_error:Bl,export_format:Kl,export_settings:Hl,export_all:Wl,export_selected:Gl,export_current:ql,export_success:Jl,export_failed:Ql,svg_format:Xl,dxf_format:Zl,pdf_format:Yl,json_format:ec,include_sheet:tc,include_labels:sc,optimize_paths:nc,merge_lines:rc,export_scale:oc,export_units:ic,no_recent_files:ac,clear_recent:lc,open_recent:cc,pin_file:uc,unpin_file:dc,remove_from_recent:pc,file_not_found:fc,recent_files_description:gc,max_recent_files:hc,pinned:_c,file_size:mc,last_modified:yc,file_path:vc,copy_path:bc,open_location:xc,file_info:wc,processing:$c,cancel_import:Sc,retry_import:kc,skip_file:Cc,continue_import:Pc,validation_warning:Lc,file_contains_errors:Nc,import_anyway:Ec,fix_errors:Oc,auto_fix:Ac,manual_fix:Rc,error_details:Ic,line_number:Fc,invalid_geometry:Dc,duplicate_points:Tc,self_intersecting:Mc,unclosed_path:zc,empty_file:Uc,corrupted_file:jc,unsupported_version:Vc,missing_required_data:Bc},Hc="Imprint",Wc="Advanced nesting software for CNC, laser cutters, and plotters",Gc="Version",qc="Build Date",Jc="About DeepNest Next",Qc="DeepNest Next is a powerful nesting software designed for CNC machines, laser cutters, and plotters. It optimizes the placement of parts on sheets to minimize material waste and maximize efficiency.",Xc="Key features include:",Zc="Advanced genetic algorithm for optimal part placement",Yc="Support for multiple file formats (SVG, DXF, PDF)",eu="Real-time preview and progress tracking",tu="Advanced configuration options for fine-tuning",su="Multi-language support with internationalization",nu="Technical Information",ru="Frontend Technologies",ou="Backend Technologies",iu="Project Information",au="Project Origin",lu="DeepNest Next is a modern fork of the original SVGnest and Deepnest projects, rebuilt with modern technologies while maintaining the powerful nesting algorithms.",cu="Open Source",uu="This project is open source and available under the MIT License. Contributions, bug reports, and feature requests are welcome.",du="View Source Code",pu="View Releases",fu="Legal Information",gu="Please review our privacy policy and legal notices for important information about data handling and software usage.",hu="Privacy Policy",_u="Legal Notice",mu="Contact & Support",yu="For questions, bug reports, or feature requests, please use our GitHub repository.",vu="Report Issue",bu="Discussions",xu="Close",wu="Last Updated",$u="Overview",Su="DeepNest Next is a desktop application that processes your files locally. We are committed to protecting your privacy and ensuring your data remains secure.",ku="Data Collection",Cu="DeepNest Next collects minimal data necessary for functionality:",Pu="Application settings and preferences",Lu="User interface preferences (theme, language)",Nu="Project files and nesting results (stored locally)",Eu="No personal information or tracking data",Ou="Data Storage",Au="All data is stored locally on your device:",Ru="Settings stored in application data directory",Iu="No data transmitted to external servers",Fu="Full user control over data deletion",Du="Third-Party Services",Tu="DeepNest Next may use external services:",Mu="File conversion service (optional, user-controlled)",zu="All external services are optional and user-initiated",Uu="No tracking or analytics services",ju="User Rights",Vu="As a user of DeepNest Next, you have the right to:",Bu="Access all your stored data",Ku="Delete your settings and data at any time",Hu="Modify or update your preferences",Wu="Export your projects and settings",Gu="Policy Updates",qu="This privacy policy may be updated occasionally. Changes will be communicated through application updates and GitHub releases.",Ju="Contact Information",Qu="For privacy-related questions or concerns, please contact us through our GitHub repository:",Xu="GitHub Issues",Zu="Last Updated",Yu="Software Information",ed="Software Name",td="Version",sd="Software Type",nd="Desktop Application for Nesting Optimization",rd="Project Website",od="License",id="DeepNest Next is licensed under the MIT License, which allows for free use, modification, and distribution.",ad="License Type",ld="License Text",cd="Disclaimer",ud="DeepNest Next is provided 'as is' without warranty of any kind. Users are responsible for verifying the accuracy of nesting results before production use.",dd="Important",pd="Always verify nesting results before cutting materials. The software is a tool to assist in optimization but should not be relied upon without human verification.",fd="Third-Party Software",gd="DeepNest Next incorporates several third-party libraries and components:",hd="Attribution",_d="DeepNest Next is based on previous work and incorporates algorithms from:",md="Original SVGnest",yd="Previous Deepnest",vd="Contact",bd="For legal questions or licensing inquiries, please contact us through our GitHub repository:",xd="GitHub Issues",Gt={imprint_title:Hc,tagline:Wc,version:Gc,build_date:qc,about_title:Jc,about_description:Qc,about_features:Xc,feature_genetic_algorithm:Zc,feature_multiple_formats:Yc,feature_real_time_preview:eu,feature_advanced_settings:tu,feature_multi_language:su,technical_info_title:nu,frontend_technologies:ru,backend_technologies:ou,project_info_title:iu,project_origin:au,project_origin_description:lu,open_source:cu,open_source_description:uu,view_source:du,releases:pu,legal_title:fu,legal_description:gu,privacy_policy:hu,legal_notice:_u,contact_title:mu,contact_description:yu,report_issue:vu,discussions:bu,close:xu,privacy_last_updated:wu,privacy_section_overview:$u,privacy_overview_text:Su,privacy_section_data_collection:ku,privacy_data_collection_text:Cu,privacy_data_settings:Pu,privacy_data_preferences:Lu,privacy_data_projects:Nu,privacy_data_no_personal:Eu,privacy_section_data_storage:Ou,privacy_data_storage_text:Au,privacy_storage_local:Ru,privacy_storage_no_transmission:Iu,privacy_storage_user_control:Fu,privacy_section_third_party:Du,privacy_third_party_text:Tu,privacy_third_party_converter:Mu,privacy_third_party_optional:zu,privacy_third_party_no_tracking:Uu,privacy_section_user_rights:ju,privacy_user_rights_text:Vu,privacy_rights_access:Bu,privacy_rights_delete:Ku,privacy_rights_modify:Hu,privacy_rights_export:Wu,privacy_section_updates:Gu,privacy_updates_text:qu,privacy_section_contact:Ju,privacy_contact_text:Qu,privacy_contact_github:Xu,legal_last_updated:Zu,legal_section_software_info:Yu,legal_software_name:ed,legal_software_version:td,legal_software_type:sd,legal_software_type_description:nd,legal_project_website:rd,legal_section_license:od,legal_license_text:id,legal_license_type:ad,legal_license_link:ld,legal_section_disclaimer:cd,legal_disclaimer_text:ud,legal_disclaimer_warning:dd,legal_disclaimer_warning_text:pd,legal_section_third_party:fd,legal_third_party_text:gd,legal_section_attribution:hd,legal_attribution_text:_d,legal_attribution_original:md,legal_attribution_previous:yd,legal_section_contact:vd,legal_contact_text:bd,legal_contact_github:xd},wd={page_title:"deepnest next - Nesting mit Industrie-Standard",parts:"Teile",nests:"Nester",sheets:"Blätter",settings:"Einstellungen"},$d={stop_nest:"Nester stoppen",export:"Exportieren",export_svg:"SVG-Datei",export_dxf:"DXF-Datei",export_json:"JSON-Datei",back:"Zurück",import:"Importieren",start_nest:"Nester starten",deselect:"Abwählen",select:"Auswählen",all:"Alle",add:"Hinzufügen",cancel:"Abbrechen",save_preset:"Voreinstellung speichern",load:"Laden",delete:"Löschen",save:"Speichern",reset_defaults:"Alle auf Standard zurücksetzen"},Sd={size:"Größe",sheet:"Blatt",quantity:"Menge",add_sheet:"Blatt hinzufügen",width:"Breite",height:"Höhe",nesting_config:"Nesting-Konfiguration",display_units:"Anzeigeeinheiten",inches:"Zoll",mm:"mm",space_between_parts:"Abstand zwischen Teilen",curve_tolerance:"Kurventoleranz",part_rotations:"Teileinstellungen",optimization_type:"Optimierungstyp",gravity:"Schwerkraft",bounding_box:"Umrandungsbox",squeeze:"Quetschen",use_rough_approximation:"Grobe Annäherung verwenden",cpu_cores:"CPU-Kerne",import_export:"Import/Export",use_svg_normalizer:"SVG-Normalisierer verwenden?",svg_scale:"SVG-Skalierung",units_per:"Einheiten/",endpoint_tolerance:"Endpunkt-Toleranz",dxf_import_units:"DXF-Importeinheiten",points:"Punkte",picas:"Picas",inches_cap:"Zoll",cm:"cm",dxf_export_units:"DXF-Exporteinheiten",export_with_sheet_boundaries:"Export mit Blattgrenzen?",export_with_sheets_space:"Export mit Abstand zwischen Blättern?",distance_between_sheets:"Abstand zwischen Blättern?",laser_options:"Laseroptionen",merge_common_lines:"Gemeinsame Linien zusammenführen",optimization_ratio:"Optimierungsverhältnis",meta_heuristic_tuning:"Meta-heuristische Feinabstimmung",ga_population:"GA-Population",ga_mutation_rate:"GA-Mutationsrate",other_settings:"Weitere Einstellungen",use_quantity_from_filename:"Menge aus Dateinamen verwenden",presets:"Voreinstellungen",save_config_presets:"Voreinstellungen speichern",load_delete_presets:"Voreinstellungen laden/löschen",select_preset_default:"-- Voreinstellung auswählen --",save_preset_title:"Voreinstellung speichern",enter_preset_name:"Voreinstellungsnamen eingeben"},kd={nesting_in_progress:"Nesting wird durchgeführt...",error_occurred:"Fehler aufgetreten",processing:"Wird verarbeitet...",ready:"Bereit",threads_active:"{{count}} aktive Threads",parts_loaded:"{{count}} Teile geladen",nests_available:"{{count}} Nester verfügbar"},qt={navigation:wd,actions:$d,labels:Sd,status:kd},Cd="Please enter a preset name",Pd="Preset saved successfully!",Ld="Error saving preset",Nd="Please select a preset to load",Ed="Preset loaded successfully!",Od="Selected preset not found",Ad="Error loading preset",Rd="Please select a preset to delete",Id='Are you sure you want to delete the preset "{{presetName}}"?',Fd="Preset deleted successfully!",Dd="Error deleting preset",Td="Please import some parts first",Md="Please mark at least one part as the sheet",zd="No file selected",Ud="An error occurred reading the file",jd="Error processing SVG",Vd="could not contact file conversion server",Bd="There was an Error while converting",Kd={enter_preset_name:Cd,preset_saved:Pd,error_saving_preset:Ld,select_preset_to_load:Nd,preset_loaded:Ed,preset_not_found:Od,error_loading_preset:Ad,select_preset_to_delete:Rd,confirm_delete_preset:Id,preset_deleted:Fd,error_deleting_preset:Dd,import_parts_first:Td,mark_part_as_sheet:Md,no_file_selected:zd,file_read_error:Ud,svg_processing_error:jd,conversion_server_error:Vd,conversion_error:Bd},Hd="Parts",Wd="Import Parts",Gd="Export Parts",qd="Export Selected",Jd="Delete Selected",Qd="No parts selected",Xd="Failed to import parts",Zd="Failed to export parts",Yd="Total Parts",ep="Total Quantity",tp="Select All",sp="Deselect All",np="No Parts Loaded",rp="Import SVG or DXF files to get started",op="Search parts...",ip="Sort by",ap="Name",lp="Quantity",cp="Size",up="Rotation",dp="Dimensions",pp="Area",fp="Preview Error",gp={parts_title:Hd,import:"Import",export:"Export",delete:"Delete",import_parts:Wd,export_parts:Gd,export_selected:qd,delete_selected:Jd,no_parts_selected:Qd,import_failed:Xd,export_failed:Zd,total_parts:Yd,total_quantity:ep,select_all:tp,deselect_all:sp,no_parts_loaded:np,import_parts_to_get_started:rp,search_parts:op,sort_by:ip,name:ap,quantity:lp,size:cp,rotation:up,dimensions:dp,area:pp,preview_error:fp},hp="Nesting",_p="Start Nesting",mp="Stop Nesting",yp="Clear Results",vp="Cannot start nesting: need parts and sheets",bp="Failed to start nesting",xp="Failed to stop nesting",wp="Parts to Nest",$p="Available Sheets",Sp="Results Count",kp="No Nesting Results",Cp="Start nesting to see results here",Pp="Add parts and sheets first to enable nesting",Lp="Nesting in Progress",Np="Est. time remaining",Ep="Current Operation",Op="Threads Active",Ap="Worker Status",Rp="Running",Ip="Stopped",Fp="Generation",Dp="Best Fitness",Tp="Refresh Status",Mp="Nesting Results",zp="Sorted by efficiency",Up="Result",jp="Best",Vp="Efficiency",Bp="Fitness",Kp="Sheets Used",Hp="Parts Placed",Wp="View Details",Gp="Back to Results",qp="Result Details",Jp="Export Result",Qp="Export failed",Xp="Click to view",Zp="Zoom Out",Yp="Zoom In",ef="Reset View",tf="Sheet",sf="Statistics",nf="Material Efficiency",rf="Fitness Score",of="Material Waste",af="Total Parts Placed",lf="Total Material Used",cf="Generation Time",uf="Generation Number",df={nesting_title:hp,start_nesting:_p,stop_nesting:mp,clear_results:yp,cannot_start_nesting:vp,start_nesting_failed:bp,stop_nesting_failed:xp,parts_to_nest:wp,available_sheets:$p,results_count:Sp,no_nesting_results:kp,start_nesting_to_see_results:Cp,add_parts_and_sheets_first:Pp,nesting_in_progress:Lp,estimated_time_remaining:Np,current_operation:Ep,threads_active:Op,worker_status:Ap,running:Rp,stopped:Ip,current_generation:Fp,best_fitness:Dp,refresh_status:Tp,nesting_results:Mp,sorted_by_efficiency:zp,result:Up,best:jp,efficiency:Vp,fitness:Bp,sheets_used:Kp,parts_placed:Hp,view_details:Wp,export:"Export",delete:"Delete",back_to_results:Gp,result_details:qp,export_result:Jp,export_failed:Qp,click_to_view:Xp,zoom_out:Zp,zoom_in:Yp,reset_view:ef,sheet:tf,statistics:sf,material_efficiency:nf,fitness_score:rf,material_waste:of,total_parts_placed:af,total_material_used:lf,generation_time:cf,generation_number:uf},pf="Sheets",ff="Add Sheet",gf="Edit Sheet",hf="Add New Sheet",_f="Total Sheets",mf="Total Area",yf="No Sheets Loaded",vf="Add sheets to define your material constraints",bf="Quick Templates",xf="Configured Sheets",wf="Sheet",$f="Dimensions",Sf="Quantity",kf="Material",Cf="Margin",Pf="Edit",Lf="Basic Information",Nf="Sheet Name",Ef="Enter sheet name (optional)",Of="Width",Af="Height",Rf="Thickness",If="Properties",Ff="Area",Df="Preview",Tf="Cancel",Mf="Update Sheet",zf="Swap Width/Height",Uf="Width must be greater than 0",jf="Height must be greater than 0",Vf="Thickness must be greater than 0",Bf="Quantity must be greater than 0",Kf="Margin cannot be negative",Hf={sheets_title:pf,add_sheet:ff,edit_sheet:gf,add_new_sheet:hf,total_sheets:_f,total_area:mf,no_sheets_loaded:yf,add_sheets_to_get_started:vf,quick_templates:bf,configured_sheets:xf,sheet:wf,dimensions:$f,quantity:Sf,material:kf,margin:Cf,edit:Pf,delete:"Delete",basic_information:Lf,sheet_name:Nf,enter_sheet_name:Ef,width:Of,height:Af,thickness:Rf,properties:If,area:Ff,preview:Df,cancel:Tf,update_sheet:Mf,swap_dimensions:zf,width_must_be_positive:Uf,height_must_be_positive:jf,thickness_must_be_positive:Vf,quantity_must_be_positive:Bf,margin_cannot_be_negative:Kf},Wf="Settings DE",Gf="Preset Management",qf="Algorithm Settings",Jf="UI Preferences",Qf="Advanced Settings",Xf="Reset Defaults",Zf="Import Configuration",Yf="Export Configuration",eg="Reset to Defaults",tg="Are you sure you want to reset all settings to defaults?",sg="Failed to reset settings",ng="Failed to export configuration",rg="Failed to import configuration",og="Presets allow you to save and restore complete nesting configurations.",ig="Create Preset",ag="Create New Preset",lg="Preset Name",cg="Preset name is required",ug="Enter preset name",dg="Description (optional)",pg="Enter a description for this preset",fg="Cancel",gg="No Presets Available",hg="Create a preset to save your current configuration",_g="Export Preset",mg="Delete Preset",yg="Load Preset",vg="Active",bg="Created",xg="Updated",wg="Are you sure you want to delete preset '{{name}}'?",$g="Failed to create preset",Sg="Failed to load preset",kg="Failed to delete preset",Cg="Failed to export preset",Pg="Failed to import preset",Lg="Import Preset",Ng="Nesting Parameters",Eg="Space Between Parts",Og="Minimum distance between parts in millimeters",Ag="Curve Tolerance",Rg="Tolerance for curve approximation. Lower values = more accurate but slower",Ig="Part Rotations",Fg="Number of rotation angles to try for each part",Dg="No Rotation",Tg="Free Rotation (any angle)",Mg="Genetic Algorithm",zg="Population Size",Ug="Number of solutions in each generation. Higher = better results but slower",jg="Mutation Rate",Vg="Probability of random changes. Higher = more exploration but less stability",Bg="Advanced Options",Kg="Use Holes",Hg="Consider holes in parts for nesting (experimental)",Wg="Explore Concave",Gg="Try placing parts in concave areas of other parts",qg="Merge Common Lines",Jg="Combine overlapping cut lines to reduce cutting time",Qg="Use Rough Approximation",Xg="Use faster but less accurate calculations for initial placement",Zg="Appearance",Yg="Language",eh="Select the interface language",th="Theme",sh="Choose between light, dark, or automatic theme",nh="Auto (follows system)",rh="Light",oh="Dark",ih="Dark Mode",ah="Use dark colors for the interface",lh="Units and Formatting",ch="Display Units",uh="Units for displaying measurements",dh="Millimeters (mm)",ph="Inches (in)",fh="Centimeters (cm)",gh="Show Grid",hh="Display grid lines in the viewport",_h="Show Rulers",mh="Display measurement rulers",yh="Layout Preferences",vh="Parts Panel Width",bh="Width of the parts panel in pixels",xh="Reset",wh="Show Tooltips",$h="Display helpful tooltips on hover",Sh="Show Status Bar",kh="Display the status bar at the bottom",Ch="Performance",Ph="Worker Threads",Lh="Number of CPU threads to use (max: {{max}})",Nh="Enable GPU Acceleration",Eh="Use graphics card for calculations (experimental)",Oh="Enable Caching",Ah="Cache calculations to improve performance",Rh="Debugging",Ih="Debug Mode",Fh="Enable additional debugging information",Dh="Verbose Logging",Th="Log detailed information to console",Mh="Show Debug Info",zh="Hide Debug Info",Uh="System Information",jh="Platform",Vh="CPU Cores",Bh="Viewport",Kh="Memory Used",Hh="Memory Total",Wh="Export Debug Info",Gh="Maintenance",qh="Clear Cache",Jh="Clear all cached data and preferences",Qh="Are you sure you want to clear all cached data?",Xh="Cache cleared successfully",Zh="Failed to clear cache",Yh="Reset Layout",e_="Reset panel sizes and positions to defaults",t_="Auto-save Interval",s_="minutes",n_="How often to automatically save your work (0 = disabled)",r_={settings_title:Wf,preset_management:Gf,algorithm_settings:qf,ui_preferences:Jf,advanced_settings:Qf,import:"Import",export:"Export",reset_defaults:Xf,import_configuration:Zf,export_configuration:Yf,reset_to_defaults:eg,confirm_reset_defaults:tg,reset_failed:sg,export_failed:ng,import_failed:rg,preset_description:og,create_preset:ig,create_new_preset:ag,preset_name:lg,preset_name_required:cg,enter_preset_name:ug,preset_description_optional:dg,enter_preset_description:pg,cancel:fg,no_presets_available:gg,create_preset_to_get_started:hg,export_preset:_g,delete_preset:mg,load_preset:yg,active:vg,created:bg,updated:xg,confirm_delete_preset:wg,preset_create_failed:$g,preset_load_failed:Sg,preset_delete_failed:kg,preset_export_failed:Cg,preset_import_failed:Pg,import_preset:Lg,nesting_parameters:Ng,space_between_parts:Eg,spacing_description:Og,curve_tolerance:Ag,curve_tolerance_description:Rg,part_rotations:Ig,rotations_description:Fg,no_rotation:Dg,"2_rotations":"2 Rotations (0°, 180°)","4_rotations":"4 Rotations (0°, 90°, 180°, 270°)","8_rotations":"8 Rotations (45° steps)","12_rotations":"12 Rotations (30° steps)",free_rotation:Tg,genetic_algorithm:Mg,population_size:zg,population_size_description:Ug,mutation_rate:jg,mutation_rate_description:Vg,advanced_options:Bg,use_holes:Kg,use_holes_description:Hg,explore_concave:Wg,explore_concave_description:Gg,merge_common_lines:qg,merge_lines_description:Jg,use_rough_approximation:Qg,rough_approximation_description:Xg,appearance:Zg,language:Yg,language_description:eh,theme:th,theme_description:sh,auto_theme:nh,light_theme:rh,dark_theme:oh,dark_mode:ih,dark_mode_description:ah,units_and_formatting:lh,display_units:ch,units_description:uh,millimeters:dh,inches:ph,centimeters:fh,show_grid:gh,show_grid_description:hh,show_rulers:_h,show_rulers_description:mh,layout_preferences:yh,parts_panel_width:vh,panel_width_description:bh,reset:xh,show_tooltips:wh,tooltips_description:$h,show_status_bar:Sh,status_bar_description:kh,performance:Ch,worker_threads:Ph,worker_threads_description:Lh,enable_gpu_acceleration:Nh,gpu_acceleration_description:Eh,enable_caching:Oh,caching_description:Ah,debugging:Rh,debug_mode:Ih,debug_mode_description:Fh,verbose_logging:Dh,verbose_logging_description:Th,show_debug_info:Mh,hide_debug_info:zh,system_information:Uh,platform:jh,cpu_cores:Vh,viewport:Bh,memory_used:Kh,memory_total:Hh,export_debug_info:Wh,maintenance:Gh,clear_cache:qh,clear_cache_description:Jh,confirm_clear_cache:Qh,cache_cleared_success:Xh,cache_clear_failed:Zh,reset_layout:Yh,reset_layout_description:e_,auto_save_interval:t_,minutes:s_,auto_save_description:n_},o_="File Operations",i_="Drag & Drop Files",a_="Import Files",l_="Export Options",c_="Recent Files",u_="Drop files here to import",d_="or click to browse",p_="Supported formats: SVG, DXF, JSON",f_="Select Files",g_="Browse Files",h_="Importing Files...",__="{{count}} files imported successfully",m_="Importing {{current}} of {{total}} files",y_="Failed to import files",v_="File validation error",b_="Invalid file format: {{format}}",x_="File too large: {{size}}. Maximum size is {{max}}",w_="Failed to read file: {{filename}}",$_="Export Format",S_="Export Settings",k_="Export All",C_="Export Selected",P_="Export Current",L_="Files exported successfully",N_="Failed to export files",E_="SVG Vector",O_="DXF CAD",A_="PDF Document",R_="JSON Data",I_="Include Sheet Outline",F_="Include Part Labels",D_="Optimize Cut Paths",T_="Merge Common Lines",M_="Export Scale",z_="Export Units",U_="No Recent Files",j_="Clear Recent",V_="Open Recent File",B_="Pin File",K_="Unpin File",H_="Remove from Recent",W_="File not found: {{filename}}",G_="Quickly access your recently used files",q_="Maximum {{count}} recent files",J_="Pinned",Q_="Size",X_="Modified",Z_="Path",Y_="Copy Path",em="Open File Location",tm="File Information",sm="Processing...",nm="Cancel Import",rm="Retry Import",om="Skip File",im="Continue Import",am="Validation Warning",lm="File contains errors but can be imported",cm="Import Anyway",um="Fix Errors",dm="Auto Fix",pm="Manual Fix",fm="Error Details",gm="Line {{number}}",hm="Invalid geometry detected",_m="Duplicate points found",mm="Self-intersecting polygon",ym="Unclosed path detected",vm="File is empty",bm="File appears to be corrupted",xm="Unsupported file version",wm="Missing required data",$m={file_operations:o_,drag_drop_files:i_,import_files:a_,export_options:l_,recent_files:c_,drop_files_here:u_,or_click_to_browse:d_,supported_formats:p_,select_files:f_,browse_files:g_,importing_files:h_,files_imported:__,import_progress:m_,import_failed:y_,file_validation_error:v_,invalid_file_format:b_,file_too_large:x_,file_read_error:w_,export_format:$_,export_settings:S_,export_all:k_,export_selected:C_,export_current:P_,export_success:L_,export_failed:N_,svg_format:E_,dxf_format:O_,pdf_format:A_,json_format:R_,include_sheet:I_,include_labels:F_,optimize_paths:D_,merge_lines:T_,export_scale:M_,export_units:z_,no_recent_files:U_,clear_recent:j_,open_recent:V_,pin_file:B_,unpin_file:K_,remove_from_recent:H_,file_not_found:W_,recent_files_description:G_,max_recent_files:q_,pinned:J_,file_size:Q_,last_modified:X_,file_path:Z_,copy_path:Y_,open_location:em,file_info:tm,processing:sm,cancel_import:nm,retry_import:rm,skip_file:om,continue_import:im,validation_warning:am,file_contains_errors:lm,import_anyway:cm,fix_errors:um,auto_fix:dm,manual_fix:pm,error_details:fm,line_number:gm,invalid_geometry:hm,duplicate_points:_m,self_intersecting:mm,unclosed_path:ym,empty_file:vm,corrupted_file:bm,unsupported_version:xm,missing_required_data:wm},Sm={fallbackLng:"en",debug:!0,ns:["translation","common","parts","settings","nesting","sheets","files","messages","imprint"],defaultNS:"translation",languages:["en","de"],interpolation:{escapeValue:!1},resources:{en:{translation:Wt,common:Wt,messages:Bn,parts:_r,nesting:Ao,sheets:pi,settings:kl,files:Kc,imprint:Gt},de:{translation:qt,common:qt,messages:Kd,parts:gp,nesting:df,sheets:Hf,settings:r_,files:$m,imprint:Gt}}},ae=U.createInstance();let _t=!1;const _s="deepnest-language",km=()=>{try{return localStorage.getItem(_s)}catch(t){return console.warn("Failed to read language from localStorage:",t),null}},mt=t=>{try{localStorage.setItem(_s,t),console.log("✅ Stored language preference:",t)}catch(e){console.warn("Failed to store language in localStorage:",e)}},[Se,Qe]=M("en"),[Xe,Cm]=M(!1),ot=async t=>{_t?(await ae.changeLanguage(t),Qe(t),mt(t),console.log("✅ i18next language changed to:",t)):(await ae.init({...Sm,lng:t}).then(()=>{Qe(t),Cm(!0),mt(t)}),_t=!0,console.log("✅ i18next initialized with language:",t))},ms=vt({t:ae.t.bind(ae),language:Se.bind(Se),changeLanguage:Qe.bind(Qe),isReady:Xe.bind(Xe)}),Pm=t=>{console.log("🏗️ I18nProvider: Initializing"),yt(async()=>{const n=km(),r=x.ui.language,o=n||r||"en";console.log("🚀 I18nProvider: Language preference check:",{stored:n,global:r,selected:o}),n&&n!==r&&(console.log(`🔄 Restoring language from localStorage: ${n}`),I.setLanguage(n)),await ot(o)}),Ee(async()=>{const n=x.ui.language,r=Se();console.log(`👀 I18nProvider: globalState.ui.language changed to: ${n}, current: ${r}`),n&&n!==r&&_t&&(console.log(`🔄 I18nProvider: Changing language from ${r} to ${n}`),await ot(n))});const s={t:(n,r)=>{const o=Xe(),i=Se();if(console.log(`🔍 Translation called: key="${n}", ready=${o}, lang=${i}, typeof key=${typeof n}`),!o)return console.log(`⏳ Translation not ready, returning key: ${n}`),n;if(!n||typeof n!="string")return console.warn("🚨 Invalid translation key:",n),n||"";const a=r?.ns||"translation",l={...r,ns:a};console.log("🔍 About to call i18nInstance.t with:",{key:n,namespace:a,lang:ae.language,hasResources:!!ae.getDataByLanguage(i)?.[a],resources:ae.getDataByLanguage(i)});const c=ae.t(n,l);return console.log(`🔍 i18nInstance.t result: "${c}" for key "${n}"`),c||n},language:Se,changeLanguage:async n=>{console.log(`🎯 Changing language to: ${n}`),I.setLanguage(n),mt(n),await ot(n)},isReady:Xe};return ms.Provider({value:s,children:t.children})},me=(t="translation")=>{const e=Ye(ms);return e?[(n,r)=>F(()=>{e.language();const i={...r,ns:t};return e.t(n,i)})(),{changeLanguage:e.changeLanguage,language:e.language,isReady:e.isReady}]:(console.warn("useTranslation must be used within I18nProvider"),[n=>n,{changeLanguage:async()=>{},language:()=>"en"}])},Lm={enabled:!0,context:"global"},Nm=(t,e={})=>{const s={...Lm,...e},n=r=>{if(!s.enabled)return;const o=r.target;if(o.tagName==="INPUT"||o.tagName==="TEXTAREA"||o.isContentEditable)return;const i=t.find(a=>{const l=a.key.toLowerCase()===r.key.toLowerCase(),c=!!a.ctrlKey===r.ctrlKey,d=!!a.altKey===r.altKey,u=!!a.shiftKey===r.shiftKey,g=!!a.metaKey===r.metaKey;return l&&c&&d&&u&&g});i&&(i.preventDefault!==!1&&r.preventDefault(),i.action())};return Ee(()=>{s.enabled&&(document.addEventListener("keydown",n),ge(()=>{document.removeEventListener("keydown",n)}))}),{shortcuts:t,enabled:()=>s.enabled}},B=(t,e,s,n={})=>({key:t,action:e,description:s,ctrlKey:n.ctrl,altKey:n.alt,shiftKey:n.shift,metaKey:n.meta}),Em=t=>{const e=[];return t.ctrlKey&&e.push("Ctrl"),t.altKey&&e.push("Alt"),t.shiftKey&&e.push("Shift"),t.metaKey&&e.push("Cmd"),e.push(t.key.toUpperCase()),e.join(" + ")};var Om=A('<header class="h-16 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between px-6 shadow-sm"><div class="flex items-center"><div class="flex items-center gap-3"><div class="w-8 h-8 bg-blue-600 dark:bg-blue-500 rounded-lg flex items-center justify-center"><span class="text-white font-bold text-sm">DN</span></div><h1 class="text-xl font-semibold text-gray-900 dark:text-gray-100"></h1></div></div><div class="flex items-center gap-4"><div class=relative><select class="bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 px-3 py-2 pr-8 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none cursor-pointer"><option value=en>🇺🇸 EN</option><option value=de>🇩🇪 DE</option></select><div class="absolute right-2 top-1/2 transform -translate-y-1/2 pointer-events-none"><svg class="w-4 h-4 text-gray-500 dark:text-gray-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 9l-7 7-7-7"></path></svg></div></div><button class="flex items-center justify-center w-10 h-10 bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800">'),Am=A('<svg class="w-5 h-5"fill=currentColor viewBox="0 0 20 20"><path fill-rule=evenodd d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"clip-rule=evenodd>'),Rm=A('<svg class="w-5 h-5"fill=currentColor viewBox="0 0 20 20"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z">');const Im=()=>{const[t,{changeLanguage:e}]=me("common"),s=()=>{const r=x.ui.darkMode?"light":"dark";I.setThemePreference(r)},n=async r=>{console.log(`Header: handleLanguageChange called with ${r}`),console.log("Header: current globalState.ui.language:",x.ui.language),I.setLanguage(r),console.log("Header: after globalActions.setLanguage, globalState.ui.language:",x.ui.language),await e(r),console.log("Header: after changeLanguage call completed")};return(()=>{var r=Om(),o=r.firstChild,i=o.firstChild,a=i.firstChild,l=a.nextSibling,c=o.nextSibling,d=c.firstChild,u=d.firstChild,g=d.nextSibling;return w(l,()=>t("navigation.page_title")),u.addEventListener("change",p=>n(p.currentTarget.value)),g.$$click=s,w(g,(()=>{var p=ut(()=>!!x.ui.darkMode);return()=>p()?Am():Rm()})()),G(()=>dt(g,"title",x.ui.darkMode?"Switch to light mode":"Switch to dark mode")),G(()=>u.value=x.ui.language),r})()};tt(["click"]);const Fm={version:"2.0.0",buildDate:new Date().toISOString().split("T")[0],name:"DeepNest Next",description:"Advanced nesting software for CNC, laser cutters, and plotters"},Dm=()=>Fm;var Tm=A('<nav class="h-full bg-gray-50 dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex flex-col w-full"><div class="flex flex-col py-4"><div class="px-4 mb-4"><h2 class="text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider">Navigation</h2></div></div><div class=mt-auto><div class=p-2><button><span>ℹ️</span><span class=font-medium></span></button></div><div class="p-4 border-t border-gray-200 dark:border-gray-700"><div class="text-xs text-gray-500 dark:text-gray-400 text-center"><div></div><div class="mt-1 opacity-75">v'),Mm=A("<button><span></span><span class=font-medium>"),Jt=A('<div class="ml-auto w-1 h-6 bg-blue-600 dark:bg-blue-400 rounded-full">');const zm=()=>{const[t]=me("common"),e=Dm(),s=[{id:"parts",labelKey:"navigation.parts",icon:"📦"},{id:"nests",labelKey:"navigation.nests",icon:"🔧"},{id:"sheets",labelKey:"navigation.sheets",icon:"📄"},{id:"settings",labelKey:"navigation.settings",icon:"⚙️"}],n=r=>{I.setActiveTab(r)};return(()=>{var r=Tm(),o=r.firstChild;o.firstChild;var i=o.nextSibling,a=i.firstChild,l=a.firstChild,c=l.firstChild,d=c.nextSibling,u=a.nextSibling,g=u.firstChild,p=g.firstChild,f=p.nextSibling;return f.firstChild,w(o,k(Te,{each:s,children:h=>(()=>{var _=Mm(),$=_.firstChild,v=$.nextSibling;return _.$$click=()=>n(h.id),w($,()=>h.icon),w(v,()=>t(h.labelKey)),w(_,(()=>{var y=ut(()=>x.ui.activeTab===h.id);return()=>y()&&Jt()})(),null),G(y=>{var C=`mx-2 mb-1 flex items-center px-4 py-3 text-left transition-all duration-200 rounded-lg group ${x.ui.activeTab===h.id?"bg-blue-100 dark:bg-blue-900 text-blue-900 dark:text-blue-100 shadow-sm border border-blue-200 dark:border-blue-700":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-gray-100"}`,P=t(h.labelKey),D=`text-xl mr-4 transition-transform duration-200 ${x.ui.activeTab===h.id?"scale-110":"group-hover:scale-105"}`;return C!==y.e&&te(_,y.e=C),P!==y.t&&dt(_,"title",y.t=P),D!==y.a&&te($,y.a=D),y},{e:void 0,t:void 0,a:void 0}),_})()}),null),l.$$click=()=>n("imprint"),w(d,()=>t("navigation.imprint")),w(l,(()=>{var h=ut(()=>x.ui.activeTab==="imprint");return()=>h()&&Jt()})(),null),w(p,()=>e.name),w(f,()=>e.version,null),G(h=>{var _=`w-full flex items-center px-4 py-3 text-left transition-all duration-200 rounded-lg group ${x.ui.activeTab==="imprint"?"bg-blue-100 dark:bg-blue-900 text-blue-900 dark:text-blue-100 shadow-sm border border-blue-200 dark:border-blue-700":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-gray-100"}`,$=t("navigation.imprint"),v=`text-xl mr-4 transition-transform duration-200 ${x.ui.activeTab==="imprint"?"scale-110":"group-hover:scale-105"}`;return _!==h.e&&te(l,h.e=_),$!==h.t&&dt(l,"title",h.t=$),v!==h.a&&te(c,h.a=v),h},{e:void 0,t:void 0,a:void 0}),r})()};tt(["click"]);const Um="modulepreload",jm=function(t,e){return new URL(t,e).href},Qt={},Ae=function(e,s,n){let r=Promise.resolve();if(s&&s.length>0){let c=function(d){return Promise.all(d.map(u=>Promise.resolve(u).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};const i=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),l=a?.nonce||a?.getAttribute("nonce");r=c(s.map(d=>{if(d=jm(d,n),d in Qt)return;Qt[d]=!0;const u=d.endsWith(".css"),g=u?'[rel="stylesheet"]':"";if(!!n)for(let h=i.length-1;h>=0;h--){const _=i[h];if(_.href===d&&(!u||_.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${d}"]${g}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":Um,u||(f.as="script"),f.crossOrigin="",f.href=d,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,_)=>{f.addEventListener("load",h),f.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${d}`)))})}))}function o(i){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=i,window.dispatchEvent(a),!a.defaultPrevented)throw i}return r.then(i=>{for(const a of i||[])a.status==="rejected"&&o(a.reason);return e().catch(o)})};var Vm=A("<div><div role=status aria-label=Loading><span class=sr-only>Loading...");const Bm=t=>{const s={small:"w-4 h-4 border-2",medium:"w-8 h-8 border-2",large:"w-12 h-12 border-3"}[t.size||"medium"];return(()=>{var n=Vm(),r=n.firstChild;return te(r,`${s} border-gray-300 dark:border-gray-600 border-t-blue-500 dark:border-t-blue-400 rounded-full animate-spin`),G(()=>te(n,`inline-flex items-center justify-center ${t.class||""}`)),n})()};var Km=A('<main class="flex-1 overflow-hidden bg-gray-50 dark:bg-gray-900 w-full h-full">'),Hm=A('<div class="flex items-center justify-center h-full">');const Wm=Oe(()=>Ae(()=>import("./PartsPanel-C9tvk7db.js"),[],import.meta.url)),Gm=Oe(()=>Ae(()=>import("./NestingPanel-DUfh40ka.js"),[],import.meta.url)),qm=Oe(()=>Ae(()=>import("./SheetsPanel-DgDERMz9.js"),[],import.meta.url)),Jm=Oe(()=>Ae(()=>import("./SettingsPanel-BL8w84OI.js"),[],import.meta.url)),Qm=Oe(()=>Ae(()=>import("./ImprintPanel-DX4xHm-c.js"),[],import.meta.url)),Xm=()=>(()=>{var t=Km();return w(t,k(Rs,{get fallback(){return(()=>{var e=Hm();return w(e,k(Bm,{size:"large"})),e})()},get children(){return k(Os,{get children(){return[k(be,{get when(){return x.ui.activeTab==="parts"},get children(){return k(Wm,{})}}),k(be,{get when(){return x.ui.activeTab==="nests"},get children(){return k(Gm,{})}}),k(be,{get when(){return x.ui.activeTab==="sheets"},get children(){return k(qm,{})}}),k(be,{get when(){return x.ui.activeTab==="settings"},get children(){return k(Jm,{})}}),k(be,{get when(){return x.ui.activeTab==="imprint"},get children(){return k(Qm,{})}})]}})}})),t})();var Zm=A('<div class="flex items-center gap-3"><div class="w-32 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden"><div class="h-full bg-blue-500 dark:bg-blue-400 rounded-full transition-all duration-300 ease-out"></div></div><span class="text-gray-600 dark:text-gray-400 min-w-10 text-right font-mono">%'),Ym=A('<div class="flex items-center gap-1"><svg class="w-3 h-3"fill=currentColor viewBox="0 0 20 20"><path fill-rule=evenodd d="M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z"clip-rule=evenodd></path></svg><span> threads'),e0=A('<div class="flex items-center gap-1"><svg class="w-3 h-3"fill=currentColor viewBox="0 0 20 20"><path fill-rule=evenodd d="M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z"clip-rule=evenodd></path></svg><span> parts'),t0=A('<div class="flex items-center gap-1"><svg class="w-3 h-3"fill=currentColor viewBox="0 0 20 20"><path fill-rule=evenodd d="M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"clip-rule=evenodd></path></svg><span> results'),s0=A('<div class="flex items-center gap-1 text-red-500 dark:text-red-400"><svg class="w-3 h-3"fill=currentColor viewBox="0 0 20 20"><path fill-rule=evenodd d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z"clip-rule=evenodd></path></svg><span class="max-w-64 truncate">'),n0=A('<footer class="h-10 bg-gray-100 dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 flex items-center justify-between px-4 text-xs"><div class="flex items-center gap-4"><div class="flex items-center gap-2"><div></div><span class="text-gray-900 dark:text-gray-100 font-medium"></span></div></div><div class="flex items-center gap-6 text-gray-600 dark:text-gray-400">');const r0=()=>{const[t]=me("common"),e=F(()=>{const{process:n}=x;return n.isNesting?t("status.nesting_in_progress"):n.lastError?t("status.error_occurred"):n.workerStatus.isRunning?n.workerStatus.currentOperation||t("status.processing"):t("status.ready")}),s=F(()=>Math.max(0,Math.min(100,x.process.progress)));return(()=>{var n=n0(),r=n.firstChild,o=r.firstChild,i=o.firstChild,a=i.nextSibling,l=r.nextSibling;return w(a,e),w(r,k(ie,{get when(){return x.process.isNesting},get children(){var c=Zm(),d=c.firstChild,u=d.firstChild,g=d.nextSibling,p=g.firstChild;return w(g,()=>s().toFixed(1),p),G(f=>(f=`${s()}%`)!=null?u.style.setProperty("width",f):u.style.removeProperty("width")),c}}),null),w(l,k(ie,{get when(){return x.process.workerStatus.threadsActive>0},get children(){var c=Ym(),d=c.firstChild,u=d.nextSibling,g=u.firstChild;return w(u,()=>x.process.workerStatus.threadsActive,g),c}}),null),w(l,k(ie,{get when(){return x.app.parts.length>0},get children(){var c=e0(),d=c.firstChild,u=d.nextSibling,g=u.firstChild;return w(u,()=>x.app.parts.length,g),c}}),null),w(l,k(ie,{get when(){return x.app.nests.length>0},get children(){var c=t0(),d=c.firstChild,u=d.nextSibling,g=u.firstChild;return w(u,()=>x.app.nests.length,g),c}}),null),w(l,k(ie,{get when(){return x.process.lastError},get children(){var c=s0(),d=c.firstChild,u=d.nextSibling;return w(u,()=>x.process.lastError),c}}),null),G(()=>te(i,`w-2 h-2 rounded-full ${x.process.isNesting?"bg-blue-500 animate-pulse":x.process.lastError?"bg-red-500":"bg-green-500"}`)),n})()};var o0=A('<div><div class="flex-shrink-0 h-full w-full"></div><div title="Drag to resize panels"><div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-1 h-8 bg-gray-400 dark:bg-gray-500 group-hover:bg-blue-300 dark:group-hover:bg-blue-300 rounded-full transition-colors duration-200"></div><div class="absolute -left-1 -right-1 top-0 bottom-0 opacity-0 group-hover:opacity-100 transition-opacity duration-200"><div class="w-full h-full bg-blue-500/20 dark:bg-blue-400/20"></div></div></div><div class="flex-1 h-full min-w-0 w-full">');const i0=t=>{const{minLeftWidth:e=250,maxLeftWidth:s=500,defaultLeftWidth:n=300}=t,[r,o]=M(!1),[i,a]=M(x.ui.panels.partsWidth||n);let l,c;const d=p=>{p.preventDefault(),o(!0),document.addEventListener("mousemove",u),document.addEventListener("mouseup",g),document.body.style.cursor="col-resize",document.body.style.userSelect="none"},u=p=>{if(!r()||!l)return;const f=l.getBoundingClientRect(),h=p.clientX-f.left,_=Math.max(e,Math.min(s,h));a(_),I.setPanelWidth("partsWidth",_)},g=()=>{o(!1),document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",g),document.body.style.cursor="",document.body.style.userSelect=""};return yt(()=>{a(x.ui.panels.partsWidth||n)}),ge(()=>{document.removeEventListener("mousemove",u),document.removeEventListener("mouseup",g),document.body.style.cursor="",document.body.style.userSelect=""}),(()=>{var p=o0(),f=p.firstChild,h=f.nextSibling,_=h.nextSibling,$=l;typeof $=="function"?Et($,p):l=p,w(f,()=>t.left),h.$$mousedown=d;var v=c;return typeof v=="function"?Et(v,h):c=h,w(_,()=>t.right),G(y=>{var C=`flex h-full w-full ${r()?"select-none":""}`,P=`${i()}px`,D=`w-1 bg-gray-200 dark:bg-gray-700 hover:bg-blue-500 dark:hover:bg-blue-400 cursor-col-resize transition-colors duration-200 relative group ${r()?"bg-blue-500 dark:bg-blue-400":""}`;return C!==y.e&&te(p,y.e=C),P!==y.t&&((y.t=P)!=null?f.style.setProperty("width",P):f.style.removeProperty("width")),D!==y.a&&te(h,y.a=D),y},{e:void 0,t:void 0,a:void 0}),p})()};tt(["mousedown"]);var a0=A('<div class="h-screen flex flex-col bg-gray-50 text-gray-900 dark:bg-gray-900 dark:text-gray-100"><div class="flex-1 flex overflow-hidden">');const l0=()=>(()=>{var t=a0(),e=t.firstChild;return w(t,k(Im,{}),e),w(e,k(i0,{get left(){return k(zm,{})},get right(){return k(Xm,{})},minLeftWidth:200,maxLeftWidth:600,defaultLeftWidth:300})),w(t,k(r0,{}),null),t})();var c0=A('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"><div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-hidden"><div class="px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between"><div class="flex items-center gap-3"><div class="w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center"><svg class="w-5 h-5 text-blue-600 dark:text-blue-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4"></path></svg></div><div><h2 class="text-xl font-semibold text-gray-900 dark:text-gray-100">Keyboard Shortcuts</h2><p class="text-sm text-gray-500 dark:text-gray-400">Navigate and control the application using keyboard shortcuts</p></div></div><button class="p-2 text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors duration-200"><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M6 18L18 6M6 6l12 12"></path></svg></button></div><div class="p-6 overflow-y-auto max-h-[calc(90vh-120px)]"><div class="grid grid-cols-1 lg:grid-cols-2 gap-6"></div></div><div class="px-6 py-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700/50"><div class="flex items-center justify-between"><p class="text-sm text-gray-500 dark:text-gray-400">Press <kbd class="px-2 py-1 bg-white dark:bg-gray-600 border border-gray-200 dark:border-gray-500 rounded text-xs font-mono text-gray-600 dark:text-gray-300 shadow-sm">?</kbd> anytime to show this help</p><button class="px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors duration-200">Close'),u0=A('<div class=space-y-3><h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 border-b border-gray-200 dark:border-gray-700 pb-2"></h3><div class=space-y-2>'),d0=A('<div class="flex items-center justify-between py-2 px-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg"><span class="text-sm text-gray-700 dark:text-gray-300"></span><div class="flex items-center gap-1">'),p0=A('<span class="text-xs text-gray-400 dark:text-gray-500">+'),f0=A('<kbd class="px-2 py-1 bg-white dark:bg-gray-600 border border-gray-200 dark:border-gray-500 rounded text-xs font-mono text-gray-600 dark:text-gray-300 shadow-sm">');const g0=t=>{const[e]=me("common"),s=[{title:"Navigation",shortcuts:t.shortcuts.filter(r=>r.description.toLowerCase().includes("nav")||r.description.toLowerCase().includes("switch")||r.description.toLowerCase().includes("tab"))},{title:"Selection",shortcuts:t.shortcuts.filter(r=>r.description.toLowerCase().includes("select")||r.description.toLowerCase().includes("deselect"))},{title:"Actions",shortcuts:t.shortcuts.filter(r=>r.description.toLowerCase().includes("duplicate")||r.description.toLowerCase().includes("delete")||r.description.toLowerCase().includes("export")||r.description.toLowerCase().includes("import")||r.description.toLowerCase().includes("save"))},{title:"Viewport",shortcuts:t.shortcuts.filter(r=>r.description.toLowerCase().includes("zoom")||r.description.toLowerCase().includes("pan")||r.description.toLowerCase().includes("fit")||r.description.toLowerCase().includes("reset"))},{title:"General",shortcuts:t.shortcuts.filter(r=>!r.description.toLowerCase().includes("nav")&&!r.description.toLowerCase().includes("switch")&&!r.description.toLowerCase().includes("tab")&&!r.description.toLowerCase().includes("select")&&!r.description.toLowerCase().includes("deselect")&&!r.description.toLowerCase().includes("duplicate")&&!r.description.toLowerCase().includes("delete")&&!r.description.toLowerCase().includes("export")&&!r.description.toLowerCase().includes("import")&&!r.description.toLowerCase().includes("save")&&!r.description.toLowerCase().includes("zoom")&&!r.description.toLowerCase().includes("pan")&&!r.description.toLowerCase().includes("fit")&&!r.description.toLowerCase().includes("reset"))}].filter(r=>r.shortcuts.length>0),n=r=>{r.target===r.currentTarget&&t.onClose()};return k(ie,{get when(){return t.isOpen},get children(){return k(zs,{get children(){var r=c0(),o=r.firstChild,i=o.firstChild,a=i.firstChild,l=a.nextSibling,c=i.nextSibling,d=c.firstChild,u=c.nextSibling,g=u.firstChild,p=g.firstChild,f=p.nextSibling;return r.$$click=n,Nt(l,"click",t.onClose,!0),w(d,k(Te,{each:s,children:h=>(()=>{var _=u0(),$=_.firstChild,v=$.nextSibling;return w($,()=>h.title),w(v,k(Te,{get each(){return h.shortcuts},children:y=>(()=>{var C=d0(),P=C.firstChild,D=P.nextSibling;return w(P,()=>y.description),w(D,k(Te,{get each(){return Em(y).split(" + ")},children:(H,re)=>[k(ie,{get when(){return re()>0},get children(){return p0()}}),(()=>{var V=f0();return w(V,H),V})()]})),C})()})),_})()})),Nt(f,"click",t.onClose,!0),r}})}})};tt(["click"]);var h0=A('<div class="app min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 transition-colors duration-200">');const _0=()=>{const[t]=me("common"),[e,s]=M(!1),n=Nm([B("?",()=>s(!0),"Show keyboard shortcuts help"),B("Escape",()=>s(!1),"Close modal/dialog"),B("1",()=>I.setCurrentPanel("parts"),"Switch to Parts panel",{ctrl:!0}),B("2",()=>I.setCurrentPanel("nests"),"Switch to Nests panel",{ctrl:!0}),B("3",()=>I.setCurrentPanel("sheets"),"Switch to Sheets panel",{ctrl:!0}),B("4",()=>I.setCurrentPanel("settings"),"Switch to Settings panel",{ctrl:!0}),B("5",()=>I.setCurrentPanel("imprint"),"Switch to Imprint panel",{ctrl:!0}),B("n",()=>I.startNesting(),"Start nesting",{ctrl:!0}),B("s",()=>{console.log("Save shortcut triggered")},"Save current state",{ctrl:!0}),B("i",()=>{console.log("Import shortcut triggered")},"Import parts",{ctrl:!0}),B("e",()=>{console.log("Export shortcut triggered")},"Export results",{ctrl:!0}),B("d",()=>I.toggleDarkMode(),"Toggle dark mode",{ctrl:!0,shift:!0}),B("r",()=>{console.log("Reset view shortcut triggered")},"Reset viewport",{ctrl:!0}),B("f",()=>{console.log("Fit to content shortcut triggered")},"Fit viewport to content",{ctrl:!0})]);Ee(()=>{const o=x.ui.darkMode;typeof document<"u"&&(document.documentElement.classList.toggle("dark",o),document.documentElement.setAttribute("data-theme",o?"dark":"light"))}),yt(async()=>{if(r(),oe.isAvailable)try{const o=await oe.readConfig();I.updateConfig(o)}catch(o){console.warn("Failed to load initial config:",o)}});const r=()=>{oe.isAvailable&&(oe.onNestProgress(o=>{I.setNestingProgress(o)}),oe.onNestComplete(o=>{I.setNests(o),I.setNestingStatus(!1)}),oe.onBackgroundProgress(o=>{I.setNestingProgress(o.progress)}),oe.onWorkerStatus(o=>{I.setWorkerStatus(o)}),oe.onNestError(o=>{I.setError(o),I.setNestingStatus(!1)}))};return(()=>{var o=h0();return w(o,k(l0,{}),null),w(o,k(g0,{get isOpen(){return e()},onClose:()=>s(!1),get shortcuts(){return n.shortcuts}}),null),o})()},m0=document.getElementById("root"),[,{isReady:y0}]=me("common");Fs(()=>k(Pm,{get children(){return k(ie,{get when(){return y0()},get children(){return k(_0,{})}})}}),m0);export{Te as F,zs as P,ie as S,F as a,k as b,M as c,Nt as d,G as e,te as f,tt as g,Ee as h,w as i,Et as j,x as k,I as l,ut as m,yt as n,ge as o,oe as p,Dm as q,dt as s,A as t,me as u};
