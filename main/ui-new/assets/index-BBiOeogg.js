(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function s(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(i){if(i.ep)return;i.ep=!0;const r=s(i);fetch(i.href,r)}})();const Ys=!1,Zs=(t,e)=>t===e,it=Symbol("solid-proxy"),Yt=Symbol("solid-track"),Rt={equals:Zs};let As=Ts;const et=1,Tt=2,Os={owned:null,cleanups:null,context:null,owner:null};var he=null;let Jt=null,en=null,ve=null,Oe=null,Xe=null,Ht=0;function Ft(t,e){const s=ve,n=he,i=t.length===0,r=e===void 0?n:e,a=i?Os:{owned:null,cleanups:null,context:r?r.context:null,owner:r},o=i?t:()=>t(()=>ze(()=>St(a)));he=a,ve=null;try{return ht(o,!0)}finally{ve=s,he=n}}function X(t,e){e=e?Object.assign({},Rt,e):Rt;const s={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0},n=i=>(typeof i=="function"&&(i=i(s.value)),Rs(s,i));return[Fs.bind(s),n]}function k(t,e,s){const n=ls(t,e,!1,et);Pt(n)}function as(t,e,s){As=on;const n=ls(t,e,!1,et);n.user=!0,Xe?Xe.push(n):Pt(n)}function ce(t,e,s){s=s?Object.assign({},Rt,s):Rt;const n=ls(t,e,!0,0);return n.observers=null,n.observerSlots=null,n.comparator=s.equals||void 0,Pt(n),Fs.bind(n)}function tn(t){return ht(t,!1)}function ze(t){if(ve===null)return t();const e=ve;ve=null;try{return t()}finally{ve=e}}function os(t){as(()=>ze(t))}function Ns(t){return he===null||(he.cleanups===null?he.cleanups=[t]:he.cleanups.push(t)),t}function Zt(){return ve}function sn(t,e){const s=Symbol("context");return{id:s,Provider:cn(s),defaultValue:t}}function nn(t){let e;return he&&he.context&&(e=he.context[t.id])!==void 0?e:t.defaultValue}function Es(t){const e=ce(t),s=ce(()=>es(e()));return s.toArray=()=>{const n=s();return Array.isArray(n)?n:n!=null?[n]:[]},s}function Fs(){if(this.sources&&this.state)if(this.state===et)Pt(this);else{const t=Oe;Oe=null,ht(()=>It(this),!1),Oe=t}if(ve){const t=this.observers?this.observers.length:0;ve.sources?(ve.sources.push(this),ve.sourceSlots.push(t)):(ve.sources=[this],ve.sourceSlots=[t]),this.observers?(this.observers.push(ve),this.observerSlots.push(ve.sources.length-1)):(this.observers=[ve],this.observerSlots=[ve.sources.length-1])}return this.value}function Rs(t,e,s){let n=t.value;return(!t.comparator||!t.comparator(n,e))&&(t.value=e,t.observers&&t.observers.length&&ht(()=>{for(let i=0;i<t.observers.length;i+=1){const r=t.observers[i],a=Jt&&Jt.running;a&&Jt.disposed.has(r),(a?!r.tState:!r.state)&&(r.pure?Oe.push(r):Xe.push(r),r.observers&&Ds(r)),a||(r.state=et)}if(Oe.length>1e6)throw Oe=[],new Error},!1)),e}function Pt(t){if(!t.fn)return;St(t);const e=Ht;rn(t,t.value,e)}function rn(t,e,s){let n;const i=he,r=ve;ve=he=t;try{n=t.fn(e)}catch(a){return t.pure&&(t.state=et,t.owned&&t.owned.forEach(St),t.owned=null),t.updatedAt=s+1,Is(a)}finally{ve=r,he=i}(!t.updatedAt||t.updatedAt<=s)&&(t.updatedAt!=null&&"observers"in t?Rs(t,n):t.value=n,t.updatedAt=s)}function ls(t,e,s,n=et,i){const r={fn:t,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:he,context:he?he.context:null,pure:s};return he===null||he!==Os&&(he.owned?he.owned.push(r):he.owned=[r]),r}function Dt(t){if(t.state===0)return;if(t.state===Tt)return It(t);if(t.suspense&&ze(t.suspense.inFallback))return t.suspense.effects.push(t);const e=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<Ht);)t.state&&e.push(t);for(let s=e.length-1;s>=0;s--)if(t=e[s],t.state===et)Pt(t);else if(t.state===Tt){const n=Oe;Oe=null,ht(()=>It(t,e[0]),!1),Oe=n}}function ht(t,e){if(Oe)return t();let s=!1;e||(Oe=[]),Xe?s=!0:Xe=[],Ht++;try{const n=t();return an(s),n}catch(n){s||(Xe=null),Oe=null,Is(n)}}function an(t){if(Oe&&(Ts(Oe),Oe=null),t)return;const e=Xe;Xe=null,e.length&&ht(()=>As(e),!1)}function Ts(t){for(let e=0;e<t.length;e++)Dt(t[e])}function on(t){let e,s=0;for(e=0;e<t.length;e++){const n=t[e];n.user?t[s++]=n:Dt(n)}for(e=0;e<s;e++)Dt(t[e])}function It(t,e){t.state=0;for(let s=0;s<t.sources.length;s+=1){const n=t.sources[s];if(n.sources){const i=n.state;i===et?n!==e&&(!n.updatedAt||n.updatedAt<Ht)&&Dt(n):i===Tt&&It(n,e)}}}function Ds(t){for(let e=0;e<t.observers.length;e+=1){const s=t.observers[e];s.state||(s.state=Tt,s.pure?Oe.push(s):Xe.push(s),s.observers&&Ds(s))}}function St(t){let e;if(t.sources)for(;t.sources.length;){const s=t.sources.pop(),n=t.sourceSlots.pop(),i=s.observers;if(i&&i.length){const r=i.pop(),a=s.observerSlots.pop();n<i.length&&(r.sourceSlots[a]=n,i[n]=r,s.observerSlots[n]=a)}}if(t.tOwned){for(e=t.tOwned.length-1;e>=0;e--)St(t.tOwned[e]);delete t.tOwned}if(t.owned){for(e=t.owned.length-1;e>=0;e--)St(t.owned[e]);t.owned=null}if(t.cleanups){for(e=t.cleanups.length-1;e>=0;e--)t.cleanups[e]();t.cleanups=null}t.state=0}function ln(t){return t instanceof Error?t:new Error(typeof t=="string"?t:"Unknown error",{cause:t})}function Is(t,e=he){throw ln(t)}function es(t){if(typeof t=="function"&&!t.length)return es(t());if(Array.isArray(t)){const e=[];for(let s=0;s<t.length;s++){const n=es(t[s]);Array.isArray(n)?e.push.apply(e,n):e.push(n)}return e}return t}function cn(t,e){return function(n){let i;return k(()=>i=ze(()=>(he.context={...he.context,[t]:n.value},Es(()=>n.children))),void 0),i}}const dn=Symbol("fallback");function cs(t){for(let e=0;e<t.length;e++)t[e]()}function un(t,e,s={}){let n=[],i=[],r=[],a=0,o=e.length>1?[]:null;return Ns(()=>cs(r)),()=>{let c=t()||[],d=c.length,g,p;return c[Yt],ze(()=>{let h,_,f,m,$,S,P,b,L;if(d===0)a!==0&&(cs(r),r=[],n=[],i=[],a=0,o&&(o=[])),s.fallback&&(n=[dn],i[0]=Ft(K=>(r[0]=K,s.fallback())),a=1);else if(a===0){for(i=new Array(d),p=0;p<d;p++)n[p]=c[p],i[p]=Ft(u);a=d}else{for(f=new Array(d),m=new Array(d),o&&($=new Array(d)),S=0,P=Math.min(a,d);S<P&&n[S]===c[S];S++);for(P=a-1,b=d-1;P>=S&&b>=S&&n[P]===c[b];P--,b--)f[b]=i[P],m[b]=r[P],o&&($[b]=o[P]);for(h=new Map,_=new Array(b+1),p=b;p>=S;p--)L=c[p],g=h.get(L),_[p]=g===void 0?-1:g,h.set(L,p);for(g=S;g<=P;g++)L=n[g],p=h.get(L),p!==void 0&&p!==-1?(f[p]=i[g],m[p]=r[g],o&&($[p]=o[g]),p=_[p],h.set(L,p)):r[g]();for(p=S;p<d;p++)p in f?(i[p]=f[p],r[p]=m[p],o&&(o[p]=$[p],o[p](p))):i[p]=Ft(u);i=i.slice(0,a=d),n=c.slice(0)}return i});function u(h){if(r[p]=h,o){const[_,f]=X(p);return o[p]=f,e(c[p],_)}return e(c[p])}}}function y(t,e){return ze(()=>t(e||{}))}const Ms=t=>`Stale read from <${t}>.`;function Ie(t){const e="fallback"in t&&{fallback:()=>t.fallback};return ce(un(()=>t.each,t.children,e||void 0))}function te(t){const e=t.keyed,s=ce(()=>t.when,void 0,void 0),n=e?s:ce(s,void 0,{equals:(i,r)=>!i==!r});return ce(()=>{const i=n();if(i){const r=t.children;return typeof r=="function"&&r.length>0?ze(()=>r(e?i:()=>{if(!ze(n))throw Ms("Show");return s()})):r}return t.fallback},void 0,void 0)}function gn(t){const e=Es(()=>t.children),s=ce(()=>{const n=e(),i=Array.isArray(n)?n:[n];let r=()=>{};for(let a=0;a<i.length;a++){const o=a,c=i[a],d=r,g=ce(()=>d()?void 0:c.when,void 0,void 0),p=c.keyed?g:ce(g,void 0,{equals:(u,h)=>!u==!h});r=()=>d()||(p()?[o,g,c]:void 0)}return r});return ce(()=>{const n=s()();if(!n)return t.fallback;const[i,r,a]=n,o=a.children;return typeof o=="function"&&o.length>0?ze(()=>o(a.keyed?r():()=>{if(ze(s)()?.[0]!==i)throw Ms("Match");return r()})):o},void 0,void 0)}function Nt(t){return t}const Be=t=>ce(()=>t());function pn(t,e,s){let n=s.length,i=e.length,r=n,a=0,o=0,c=e[i-1].nextSibling,d=null;for(;a<i||o<r;){if(e[a]===s[o]){a++,o++;continue}for(;e[i-1]===s[r-1];)i--,r--;if(i===a){const g=r<n?o?s[o-1].nextSibling:s[r-o]:c;for(;o<r;)t.insertBefore(s[o++],g)}else if(r===o)for(;a<i;)(!d||!d.has(e[a]))&&e[a].remove(),a++;else if(e[a]===s[r-1]&&s[o]===e[i-1]){const g=e[--i].nextSibling;t.insertBefore(s[o++],e[a++].nextSibling),t.insertBefore(s[--r],g),e[i]=s[r]}else{if(!d){d=new Map;let p=o;for(;p<r;)d.set(s[p],p++)}const g=d.get(e[a]);if(g!=null)if(o<g&&g<r){let p=a,u=1,h;for(;++p<i&&p<r&&!((h=d.get(e[p]))==null||h!==g+u);)u++;if(u>g-o){const _=e[a];for(;o<g;)t.insertBefore(s[o++],_)}else t.replaceChild(s[o++],e[a++])}else a++;else e[a++].remove()}}}const ds="_$DX_DELEGATE";function hn(t,e,s,n={}){let i;return Ft(r=>{i=r,e===document?t():l(e,t(),e.firstChild?null:void 0,s)},n.owner),()=>{i(),e.textContent=""}}function N(t,e,s,n){let i;const r=()=>{const o=n?document.createElementNS("http://www.w3.org/1998/Math/MathML","template"):document.createElement("template");return o.innerHTML=t,s?o.content.firstChild.firstChild:n?o.firstChild:o.content.firstChild},a=e?()=>ze(()=>document.importNode(i||(i=r()),!0)):()=>(i||(i=r())).cloneNode(!0);return a.cloneNode=a,a}function Ne(t,e=window.document){const s=e[ds]||(e[ds]=new Set);for(let n=0,i=t.length;n<i;n++){const r=t[n];s.has(r)||(s.add(r),e.addEventListener(r,mn))}}function Y(t,e,s){s==null?t.removeAttribute(e):t.setAttribute(e,s)}function Ve(t,e){e==null?t.removeAttribute("class"):t.className=e}function fn(t,e,s,n){Array.isArray(s)?(t[`$$${e}`]=s[0],t[`$$${e}Data`]=s[1]):t[`$$${e}`]=s}function us(t,e,s){return ze(()=>t(e,s))}function l(t,e,s,n){if(s!==void 0&&!n&&(n=[]),typeof e!="function")return Mt(t,e,n,s);k(i=>Mt(t,e(),i,s),n)}function mn(t){let e=t.target;const s=`$$${t.type}`,n=t.target,i=t.currentTarget,r=c=>Object.defineProperty(t,"target",{configurable:!0,value:c}),a=()=>{const c=e[s];if(c&&!e.disabled){const d=e[`${s}Data`];if(d!==void 0?c.call(e,d,t):c.call(e,t),t.cancelBubble)return}return e.host&&typeof e.host!="string"&&!e.host._$host&&e.contains(t.target)&&r(e.host),!0},o=()=>{for(;a()&&(e=e._$host||e.parentNode||e.host););};if(Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return e||document}}),t.composedPath){const c=t.composedPath();r(c[0]);for(let d=0;d<c.length-2&&(e=c[d],!!a());d++){if(e._$host){e=e._$host,o();break}if(e.parentNode===i)break}}else o();r(n)}function Mt(t,e,s,n,i){for(;typeof s=="function";)s=s();if(e===s)return s;const r=typeof e,a=n!==void 0;if(t=a&&s[0]&&s[0].parentNode||t,r==="string"||r==="number"){if(r==="number"&&(e=e.toString(),e===s))return s;if(a){let o=s[0];o&&o.nodeType===3?o.data!==e&&(o.data=e):o=document.createTextNode(e),s=ct(t,s,n,o)}else s!==""&&typeof s=="string"?s=t.firstChild.data=e:s=t.textContent=e}else if(e==null||r==="boolean")s=ct(t,s,n);else{if(r==="function")return k(()=>{let o=e();for(;typeof o=="function";)o=o();s=Mt(t,o,s,n)}),()=>s;if(Array.isArray(e)){const o=[],c=s&&Array.isArray(s);if(ts(o,e,s,i))return k(()=>s=Mt(t,o,s,n,!0)),()=>s;if(o.length===0){if(s=ct(t,s,n),a)return s}else c?s.length===0?gs(t,o,n):pn(t,s,o):(s&&ct(t),gs(t,o));s=o}else if(e.nodeType){if(Array.isArray(s)){if(a)return s=ct(t,s,n,e);ct(t,s,null,e)}else s==null||s===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);s=e}}return s}function ts(t,e,s,n){let i=!1;for(let r=0,a=e.length;r<a;r++){let o=e[r],c=s&&s[t.length],d;if(!(o==null||o===!0||o===!1))if((d=typeof o)=="object"&&o.nodeType)t.push(o);else if(Array.isArray(o))i=ts(t,o,c)||i;else if(d==="function")if(n){for(;typeof o=="function";)o=o();i=ts(t,Array.isArray(o)?o:[o],Array.isArray(c)?c:[c])||i}else t.push(o),i=!0;else{const g=String(o);c&&c.nodeType===3&&c.data===g?t.push(c):t.push(document.createTextNode(g))}}return i}function gs(t,e,s=null){for(let n=0,i=e.length;n<i;n++)t.insertBefore(e[n],s)}function ct(t,e,s,n){if(s===void 0)return t.textContent="";const i=n||document.createTextNode("");if(e.length){let r=!1;for(let a=e.length-1;a>=0;a--){const o=e[a];if(i!==o){const c=o.parentNode===t;!r&&!a?c?t.replaceChild(i,o):t.insertBefore(i,s):c&&o.remove()}else r=!0}}else t.insertBefore(i,s);return[i]}const H=t=>typeof t=="string",mt=()=>{let t,e;const s=new Promise((n,i)=>{t=n,e=i});return s.resolve=t,s.reject=e,s},ps=t=>t==null?"":""+t,_n=(t,e,s)=>{t.forEach(n=>{e[n]&&(s[n]=e[n])})},vn=/###/g,hs=t=>t&&t.indexOf("###")>-1?t.replace(vn,"."):t,fs=t=>!t||H(t),xt=(t,e,s)=>{const n=H(e)?e.split("."):e;let i=0;for(;i<n.length-1;){if(fs(t))return{};const r=hs(n[i]);!t[r]&&s&&(t[r]=new s),Object.prototype.hasOwnProperty.call(t,r)?t=t[r]:t={},++i}return fs(t)?{}:{obj:t,k:hs(n[i])}},ms=(t,e,s)=>{const{obj:n,k:i}=xt(t,e,Object);if(n!==void 0||e.length===1){n[i]=s;return}let r=e[e.length-1],a=e.slice(0,e.length-1),o=xt(t,a,Object);for(;o.obj===void 0&&a.length;)r=`${a[a.length-1]}.${r}`,a=a.slice(0,a.length-1),o=xt(t,a,Object),o&&o.obj&&typeof o.obj[`${o.k}.${r}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${r}`]=s},bn=(t,e,s,n)=>{const{obj:i,k:r}=xt(t,e,Object);i[r]=i[r]||[],i[r].push(s)},Ut=(t,e)=>{const{obj:s,k:n}=xt(t,e);if(s)return s[n]},$n=(t,e,s)=>{const n=Ut(t,s);return n!==void 0?n:Ut(e,s)},Us=(t,e,s)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?H(t[n])||t[n]instanceof String||H(e[n])||e[n]instanceof String?s&&(t[n]=e[n]):Us(t[n],e[n],s):t[n]=e[n]);return t},dt=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var xn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Sn=t=>H(t)?t.replace(/[&<>"'\/]/g,e=>xn[e]):t;class yn{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const s=this.regExpMap.get(e);if(s!==void 0)return s;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const wn=[" ",",","?","!",";"],Cn=new yn(20),kn=(t,e,s)=>{e=e||"",s=s||"";const n=wn.filter(a=>e.indexOf(a)<0&&s.indexOf(a)<0);if(n.length===0)return!0;const i=Cn.getRegExp(`(${n.map(a=>a==="?"?"\\?":a).join("|")})`);let r=!i.test(t);if(!r){const a=t.indexOf(s);a>0&&!i.test(t.substring(0,a))&&(r=!0)}return r},ss=function(t,e){let s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return t[e];const n=e.split(s);let i=t;for(let r=0;r<n.length;){if(!i||typeof i!="object")return;let a,o="";for(let c=r;c<n.length;++c)if(c!==r&&(o+=s),o+=n[c],a=i[o],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&c<n.length-1)continue;r+=c-r+1;break}i=a}return i},zt=t=>t&&t.replace("_","-"),Pn={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console&&console[t]&&console[t].apply(console,e)}};class jt{constructor(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,s)}init(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=s.prefix||"i18next:",this.logger=e||Pn,this.options=s,this.debug=s.debug}log(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return this.forward(s,"log","",!0)}warn(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return this.forward(s,"warn","",!0)}error(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return this.forward(s,"error","")}deprecate(){for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];return this.forward(s,"warn","WARNING DEPRECATED: ",!0)}forward(e,s,n,i){return i&&!this.debug?null:(H(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[s](e))}create(e){return new jt(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new jt(this.logger,e)}}var He=new jt;class Wt{constructor(){this.observers={}}on(e,s){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const i=this.observers[n].get(s)||0;this.observers[n].set(s,i+1)}),this}off(e,s){if(this.observers[e]){if(!s){delete this.observers[e];return}this.observers[e].delete(s)}}emit(e){for(var s=arguments.length,n=new Array(s>1?s-1:0),i=1;i<s;i++)n[i-1]=arguments[i];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(a=>{let[o,c]=a;for(let d=0;d<c;d++)o(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(a=>{let[o,c]=a;for(let d=0;d<c;d++)o.apply(o,[e,...n])})}}class _s extends Wt{constructor(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const s=this.options.ns.indexOf(e);s>-1&&this.options.ns.splice(s,1)}getResource(e,s,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const r=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,a=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,s],n&&(Array.isArray(n)?o.push(...n):H(n)&&r?o.push(...n.split(r)):o.push(n)));const c=Ut(this.data,o);return!c&&!s&&!n&&e.indexOf(".")>-1&&(e=o[0],s=o[1],n=o.slice(2).join(".")),c||!a||!H(n)?c:ss(this.data&&this.data[e]&&this.data[e][s],n,r)}addResource(e,s,n,i){let r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const a=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let o=[e,s];n&&(o=o.concat(a?n.split(a):n)),e.indexOf(".")>-1&&(o=e.split("."),i=s,s=o[1]),this.addNamespaces(s),ms(this.data,o,i),r.silent||this.emit("added",e,s,n,i)}addResources(e,s,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const r in n)(H(n[r])||Array.isArray(n[r]))&&this.addResource(e,s,r,n[r],{silent:!0});i.silent||this.emit("added",e,s,n)}addResourceBundle(e,s,n,i,r){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},o=[e,s];e.indexOf(".")>-1&&(o=e.split("."),i=n,n=s,s=o[1]),this.addNamespaces(s);let c=Ut(this.data,o)||{};a.skipCopy||(n=JSON.parse(JSON.stringify(n))),i?Us(c,n,r):c={...c,...n},ms(this.data,o,c),a.silent||this.emit("added",e,s,n)}removeResourceBundle(e,s){this.hasResourceBundle(e,s)&&delete this.data[e][s],this.removeNamespaces(s),this.emit("removed",e,s)}hasResourceBundle(e,s){return this.getResource(e,s)!==void 0}getResourceBundle(e,s){return s||(s=this.options.defaultNS),this.options.compatibilityAPI==="v1"?{...this.getResource(e,s)}:this.getResource(e,s)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const s=this.getDataByLanguage(e);return!!(s&&Object.keys(s)||[]).find(i=>s[i]&&Object.keys(s[i]).length>0)}toJSON(){return this.data}}var zs={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,s,n,i){return t.forEach(r=>{this.processors[r]&&(e=this.processors[r].process(e,s,n,i))}),e}};const vs={};class Vt extends Wt{constructor(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),_n(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=s,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=He.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(e==null)return!1;const n=this.resolve(e,s);return n&&n.res!==void 0}extractFromKey(e,s){let n=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const i=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let r=s.ns||this.options.defaultNS||[];const a=n&&e.indexOf(n)>-1,o=!this.options.userDefinedKeySeparator&&!s.keySeparator&&!this.options.userDefinedNsSeparator&&!s.nsSeparator&&!kn(e,n,i);if(a&&!o){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:H(r)?[r]:r};const d=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(d[0])>-1)&&(r=d.shift()),e=d.join(i)}return{key:e,namespaces:H(r)?[r]:r}}translate(e,s,n){if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof s=="object"&&(s={...s}),s||(s={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const i=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,r=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:a,namespaces:o}=this.extractFromKey(e[e.length-1],s),c=o[o.length-1],d=s.lng||this.language,g=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(d&&d.toLowerCase()==="cimode"){if(g){const b=s.nsSeparator||this.options.nsSeparator;return i?{res:`${c}${b}${a}`,usedKey:a,exactUsedKey:a,usedLng:d,usedNS:c,usedParams:this.getUsedParamsDetails(s)}:`${c}${b}${a}`}return i?{res:a,usedKey:a,exactUsedKey:a,usedLng:d,usedNS:c,usedParams:this.getUsedParamsDetails(s)}:a}const p=this.resolve(e,s);let u=p&&p.res;const h=p&&p.usedKey||a,_=p&&p.exactUsedKey||a,f=Object.prototype.toString.apply(u),m=["[object Number]","[object Function]","[object RegExp]"],$=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,S=!this.i18nFormat||this.i18nFormat.handleAsObject,P=!H(u)&&typeof u!="boolean"&&typeof u!="number";if(S&&u&&P&&m.indexOf(f)<0&&!(H($)&&Array.isArray(u))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const b=this.options.returnedObjectHandler?this.options.returnedObjectHandler(h,u,{...s,ns:o}):`key '${a} (${this.language})' returned an object instead of string.`;return i?(p.res=b,p.usedParams=this.getUsedParamsDetails(s),p):b}if(r){const b=Array.isArray(u),L=b?[]:{},K=b?_:h;for(const E in u)if(Object.prototype.hasOwnProperty.call(u,E)){const R=`${K}${r}${E}`;L[E]=this.translate(R,{...s,joinArrays:!1,ns:o}),L[E]===R&&(L[E]=u[E])}u=L}}else if(S&&H($)&&Array.isArray(u))u=u.join($),u&&(u=this.extendTranslation(u,e,s,n));else{let b=!1,L=!1;const K=s.count!==void 0&&!H(s.count),E=Vt.hasDefaultValue(s),R=K?this.pluralResolver.getSuffix(d,s.count,s):"",x=s.ordinal&&K?this.pluralResolver.getSuffix(d,s.count,{ordinal:!1}):"",w=K&&!s.ordinal&&s.count===0&&this.pluralResolver.shouldUseIntlApi(),F=w&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${R}`]||s[`defaultValue${x}`]||s.defaultValue;!this.isValidLookup(u)&&E&&(b=!0,u=F),this.isValidLookup(u)||(L=!0,u=a);const D=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&L?void 0:u,T=E&&F!==u&&this.options.updateMissing;if(L||b||T){if(this.logger.log(T?"updateKey":"missingKey",d,c,a,T?F:u),r){const z=this.resolve(a,{...s,keySeparator:!1});z&&z.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let I=[];const j=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&j&&j[0])for(let z=0;z<j.length;z++)I.push(j[z]);else this.options.saveMissingTo==="all"?I=this.languageUtils.toResolveHierarchy(s.lng||this.language):I.push(s.lng||this.language);const W=(z,V,A)=>{const U=E&&A!==u?A:D;this.options.missingKeyHandler?this.options.missingKeyHandler(z,c,V,U,T,s):this.backendConnector&&this.backendConnector.saveMissing&&this.backendConnector.saveMissing(z,c,V,U,T,s),this.emit("missingKey",z,c,V,u)};this.options.saveMissing&&(this.options.saveMissingPlurals&&K?I.forEach(z=>{const V=this.pluralResolver.getSuffixes(z,s);w&&s[`defaultValue${this.options.pluralSeparator}zero`]&&V.indexOf(`${this.options.pluralSeparator}zero`)<0&&V.push(`${this.options.pluralSeparator}zero`),V.forEach(A=>{W([z],a+A,s[`defaultValue${A}`]||F)})}):W(I,a,F))}u=this.extendTranslation(u,e,s,p,n),L&&u===a&&this.options.appendNamespaceToMissingKey&&(u=`${c}:${a}`),(L||b)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?u=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${a}`:a,b?u:void 0):u=this.options.parseMissingKeyHandler(u))}return i?(p.res=u,p.usedParams=this.getUsedParamsDetails(s),p):u}extendTranslation(e,s,n,i,r){var a=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const d=H(e)&&(n&&n.interpolation&&n.interpolation.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let g;if(d){const u=e.match(this.interpolator.nestingRegexp);g=u&&u.length}let p=n.replace&&!H(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(p={...this.options.interpolation.defaultVariables,...p}),e=this.interpolator.interpolate(e,p,n.lng||this.language||i.usedLng,n),d){const u=e.match(this.interpolator.nestingRegexp),h=u&&u.length;g<h&&(n.nest=!1)}!n.lng&&this.options.compatibilityAPI!=="v1"&&i&&i.res&&(n.lng=this.language||i.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var u=arguments.length,h=new Array(u),_=0;_<u;_++)h[_]=arguments[_];return r&&r[0]===h[0]&&!n.context?(a.logger.warn(`It seems you are nesting recursively key: ${h[0]} in key: ${s[0]}`),null):a.translate(...h,s)},n)),n.interpolation&&this.interpolator.reset()}const o=n.postProcess||this.options.postProcess,c=H(o)?[o]:o;return e!=null&&c&&c.length&&n.applyPostProcessor!==!1&&(e=zs.handle(c,e,s,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n,i,r,a,o;return H(e)&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(n))return;const d=this.extractFromKey(c,s),g=d.key;i=g;let p=d.namespaces;this.options.fallbackNS&&(p=p.concat(this.options.fallbackNS));const u=s.count!==void 0&&!H(s.count),h=u&&!s.ordinal&&s.count===0&&this.pluralResolver.shouldUseIntlApi(),_=s.context!==void 0&&(H(s.context)||typeof s.context=="number")&&s.context!=="",f=s.lngs?s.lngs:this.languageUtils.toResolveHierarchy(s.lng||this.language,s.fallbackLng);p.forEach(m=>{this.isValidLookup(n)||(o=m,!vs[`${f[0]}-${m}`]&&this.utils&&this.utils.hasLoadedNamespace&&!this.utils.hasLoadedNamespace(o)&&(vs[`${f[0]}-${m}`]=!0,this.logger.warn(`key "${i}" for languages "${f.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),f.forEach($=>{if(this.isValidLookup(n))return;a=$;const S=[g];if(this.i18nFormat&&this.i18nFormat.addLookupKeys)this.i18nFormat.addLookupKeys(S,g,$,m,s);else{let b;u&&(b=this.pluralResolver.getSuffix($,s.count,s));const L=`${this.options.pluralSeparator}zero`,K=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(u&&(S.push(g+b),s.ordinal&&b.indexOf(K)===0&&S.push(g+b.replace(K,this.options.pluralSeparator)),h&&S.push(g+L)),_){const E=`${g}${this.options.contextSeparator}${s.context}`;S.push(E),u&&(S.push(E+b),s.ordinal&&b.indexOf(K)===0&&S.push(E+b.replace(K,this.options.pluralSeparator)),h&&S.push(E+L))}}let P;for(;P=S.pop();)this.isValidLookup(n)||(r=P,n=this.getResource($,m,P,s))}))})}),{res:n,usedKey:i,exactUsedKey:r,usedLng:a,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,s,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,s,n,i):this.resourceStore.getResource(e,s,n,i)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const s=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!H(e.replace);let i=n?e.replace:e;if(n&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!n){i={...i};for(const r of s)delete i[r]}return i}static hasDefaultValue(e){const s="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&s===n.substring(0,s.length)&&e[n]!==void 0)return!0;return!1}}const Gt=t=>t.charAt(0).toUpperCase()+t.slice(1);class bs{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=He.create("languageUtils")}getScriptPartFromCode(e){if(e=zt(e),!e||e.indexOf("-")<0)return null;const s=e.split("-");return s.length===2||(s.pop(),s[s.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(s.join("-"))}getLanguagePartFromCode(e){if(e=zt(e),!e||e.indexOf("-")<0)return e;const s=e.split("-");return this.formatLanguageCode(s[0])}formatLanguageCode(e){if(H(e)&&e.indexOf("-")>-1){if(typeof Intl<"u"&&typeof Intl.getCanonicalLocales<"u")try{let i=Intl.getCanonicalLocales(e)[0];if(i&&this.options.lowerCaseLng&&(i=i.toLowerCase()),i)return i}catch{}const s=["hans","hant","latn","cyrl","cans","mong","arab"];let n=e.split("-");return this.options.lowerCaseLng?n=n.map(i=>i.toLowerCase()):n.length===2?(n[0]=n[0].toLowerCase(),n[1]=n[1].toUpperCase(),s.indexOf(n[1].toLowerCase())>-1&&(n[1]=Gt(n[1].toLowerCase()))):n.length===3&&(n[0]=n[0].toLowerCase(),n[1].length===2&&(n[1]=n[1].toUpperCase()),n[0]!=="sgn"&&n[2].length===2&&(n[2]=n[2].toUpperCase()),s.indexOf(n[1].toLowerCase())>-1&&(n[1]=Gt(n[1].toLowerCase())),s.indexOf(n[2].toLowerCase())>-1&&(n[2]=Gt(n[2].toLowerCase()))),n.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let s;return e.forEach(n=>{if(s)return;const i=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(i))&&(s=i)}),!s&&this.options.supportedLngs&&e.forEach(n=>{if(s)return;const i=this.getLanguagePartFromCode(n);if(this.isSupportedCode(i))return s=i;s=this.options.supportedLngs.find(r=>{if(r===i)return r;if(!(r.indexOf("-")<0&&i.indexOf("-")<0)&&(r.indexOf("-")>0&&i.indexOf("-")<0&&r.substring(0,r.indexOf("-"))===i||r.indexOf(i)===0&&i.length>1))return r})}),s||(s=this.getFallbackCodes(this.options.fallbackLng)[0]),s}getFallbackCodes(e,s){if(!e)return[];if(typeof e=="function"&&(e=e(s)),H(e)&&(e=[e]),Array.isArray(e))return e;if(!s)return e.default||[];let n=e[s];return n||(n=e[this.getScriptPartFromCode(s)]),n||(n=e[this.formatLanguageCode(s)]),n||(n=e[this.getLanguagePartFromCode(s)]),n||(n=e.default),n||[]}toResolveHierarchy(e,s){const n=this.getFallbackCodes(s||this.options.fallbackLng||[],e),i=[],r=a=>{a&&(this.isSupportedCode(a)?i.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return H(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&r(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&r(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&r(this.getLanguagePartFromCode(e))):H(e)&&r(this.formatLanguageCode(e)),n.forEach(a=>{i.indexOf(a)<0&&r(this.formatLanguageCode(a))}),i}}let Ln=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],An={1:t=>+(t>1),2:t=>+(t!=1),3:t=>0,4:t=>t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,5:t=>t==0?0:t==1?1:t==2?2:t%100>=3&&t%100<=10?3:t%100>=11?4:5,6:t=>t==1?0:t>=2&&t<=4?1:2,7:t=>t==1?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2,8:t=>t==1?0:t==2?1:t!=8&&t!=11?2:3,9:t=>+(t>=2),10:t=>t==1?0:t==2?1:t<7?2:t<11?3:4,11:t=>t==1||t==11?0:t==2||t==12?1:t>2&&t<20?2:3,12:t=>+(t%10!=1||t%100==11),13:t=>+(t!==0),14:t=>t==1?0:t==2?1:t==3?2:3,15:t=>t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2,16:t=>t%10==1&&t%100!=11?0:t!==0?1:2,17:t=>t==1||t%10==1&&t%100!=11?0:1,18:t=>t==0?0:t==1?1:2,19:t=>t==1?0:t==0||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3,20:t=>t==1?0:t==0||t%100>0&&t%100<20?1:2,21:t=>t%100==1?1:t%100==2?2:t%100==3||t%100==4?3:0,22:t=>t==1?0:t==2?1:(t<0||t>10)&&t%10==0?2:3};const On=["v1","v2","v3"],Nn=["v4"],$s={zero:0,one:1,two:2,few:3,many:4,other:5},En=()=>{const t={};return Ln.forEach(e=>{e.lngs.forEach(s=>{t[s]={numbers:e.nr,plurals:An[e.fc]}})}),t};class Fn{constructor(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=s,this.logger=He.create("pluralResolver"),(!this.options.compatibilityJSON||Nn.includes(this.options.compatibilityJSON))&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=En(),this.pluralRulesCache={}}addRule(e,s){this.rules[e]=s}clearCache(){this.pluralRulesCache={}}getRule(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi()){const n=zt(e==="dev"?"en":e),i=s.ordinal?"ordinal":"cardinal",r=JSON.stringify({cleanedCode:n,type:i});if(r in this.pluralRulesCache)return this.pluralRulesCache[r];let a;try{a=new Intl.PluralRules(n,{type:i})}catch{if(!e.match(/-|_/))return;const c=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(c,s)}return this.pluralRulesCache[r]=a,a}return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}needsPlural(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(e,s);return this.shouldUseIntlApi()?n&&n.resolvedOptions().pluralCategories.length>1:n&&n.numbers.length>1}getPluralFormsOfKey(e,s){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,n).map(i=>`${s}${i}`)}getSuffixes(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=this.getRule(e,s);return n?this.shouldUseIntlApi()?n.resolvedOptions().pluralCategories.sort((i,r)=>$s[i]-$s[r]).map(i=>`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${i}`):n.numbers.map(i=>this.getSuffix(e,i,s)):[]}getSuffix(e,s){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(e,n);return i?this.shouldUseIntlApi()?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i.select(s)}`:this.getSuffixRetroCompatible(i,s):(this.logger.warn(`no plural rule found for: ${e}`),"")}getSuffixRetroCompatible(e,s){const n=e.noAbs?e.plurals(s):e.plurals(Math.abs(s));let i=e.numbers[n];this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1&&(i===2?i="plural":i===1&&(i=""));const r=()=>this.options.prepend&&i.toString()?this.options.prepend+i.toString():i.toString();return this.options.compatibilityJSON==="v1"?i===1?"":typeof i=="number"?`_plural_${i.toString()}`:r():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&e.numbers.length===2&&e.numbers[0]===1?r():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}shouldUseIntlApi(){return!On.includes(this.options.compatibilityJSON)}}const xs=function(t,e,s){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,r=$n(t,e,s);return!r&&i&&H(s)&&(r=ss(t,s,n),r===void 0&&(r=ss(e,s,n))),r},Qt=t=>t.replace(/\$/g,"$$$$");class Rn{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=He.create("interpolator"),this.options=e,this.format=e.interpolation&&e.interpolation.format||(s=>s),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:s,escapeValue:n,useRawValueToEscape:i,prefix:r,prefixEscaped:a,suffix:o,suffixEscaped:c,formatSeparator:d,unescapeSuffix:g,unescapePrefix:p,nestingPrefix:u,nestingPrefixEscaped:h,nestingSuffix:_,nestingSuffixEscaped:f,nestingOptionsSeparator:m,maxReplaces:$,alwaysFormat:S}=e.interpolation;this.escape=s!==void 0?s:Sn,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=r?dt(r):a||"{{",this.suffix=o?dt(o):c||"}}",this.formatSeparator=d||",",this.unescapePrefix=g?"":p||"-",this.unescapeSuffix=this.unescapePrefix?"":g||"",this.nestingPrefix=u?dt(u):h||dt("$t("),this.nestingSuffix=_?dt(_):f||dt(")"),this.nestingOptionsSeparator=m||",",this.maxReplaces=$||1e3,this.alwaysFormat=S!==void 0?S:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(s,n)=>s&&s.source===n?(s.lastIndex=0,s):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,s,n,i){let r,a,o;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},d=h=>{if(h.indexOf(this.formatSeparator)<0){const $=xs(s,c,h,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format($,void 0,n,{...i,...s,interpolationkey:h}):$}const _=h.split(this.formatSeparator),f=_.shift().trim(),m=_.join(this.formatSeparator).trim();return this.format(xs(s,c,f,this.options.keySeparator,this.options.ignoreJSONStructure),m,n,{...i,...s,interpolationkey:f})};this.resetRegExp();const g=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,p=i&&i.interpolation&&i.interpolation.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:h=>Qt(h)},{regex:this.regexp,safeValue:h=>this.escapeValue?Qt(this.escape(h)):Qt(h)}].forEach(h=>{for(o=0;r=h.regex.exec(e);){const _=r[1].trim();if(a=d(_),a===void 0)if(typeof g=="function"){const m=g(e,r,i);a=H(m)?m:""}else if(i&&Object.prototype.hasOwnProperty.call(i,_))a="";else if(p){a=r[0];continue}else this.logger.warn(`missed to pass in variable ${_} for interpolating ${e}`),a="";else!H(a)&&!this.useRawValueToEscape&&(a=ps(a));const f=h.safeValue(a);if(e=e.replace(r[0],f),p?(h.regex.lastIndex+=a.length,h.regex.lastIndex-=r[0].length):h.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,s){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,r,a;const o=(c,d)=>{const g=this.nestingOptionsSeparator;if(c.indexOf(g)<0)return c;const p=c.split(new RegExp(`${g}[ ]*{`));let u=`{${p[1]}`;c=p[0],u=this.interpolate(u,a);const h=u.match(/'/g),_=u.match(/"/g);(h&&h.length%2===0&&!_||_.length%2!==0)&&(u=u.replace(/'/g,'"'));try{a=JSON.parse(u),d&&(a={...d,...a})}catch(f){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,f),`${c}${g}${u}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,c};for(;i=this.nestingRegexp.exec(e);){let c=[];a={...n},a=a.replace&&!H(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;let d=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const g=i[1].split(this.formatSeparator).map(p=>p.trim());i[1]=g.shift(),c=g,d=!0}if(r=s(o.call(this,i[1].trim(),a),a),r&&i[0]===e&&!H(r))return r;H(r)||(r=ps(r)),r||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),r=""),d&&(r=c.reduce((g,p)=>this.format(g,p,n.lng,{...n,interpolationkey:i[1].trim()}),r.trim())),e=e.replace(i[0],r),this.regexp.lastIndex=0}return e}}const Tn=t=>{let e=t.toLowerCase().trim();const s={};if(t.indexOf("(")>-1){const n=t.split("(");e=n[0].toLowerCase().trim();const i=n[1].substring(0,n[1].length-1);e==="currency"&&i.indexOf(":")<0?s.currency||(s.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?s.range||(s.range=i.trim()):i.split(";").forEach(a=>{if(a){const[o,...c]=a.split(":"),d=c.join(":").trim().replace(/^'+|'+$/g,""),g=o.trim();s[g]||(s[g]=d),d==="false"&&(s[g]=!1),d==="true"&&(s[g]=!0),isNaN(d)||(s[g]=parseInt(d,10))}})}return{formatName:e,formatOptions:s}},ut=t=>{const e={};return(s,n,i)=>{let r=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(r={...r,[i.interpolationkey]:void 0});const a=n+JSON.stringify(r);let o=e[a];return o||(o=t(zt(n),i),e[a]=o),o(s)}};class Dn{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=He.create("formatter"),this.options=e,this.formats={number:ut((s,n)=>{const i=new Intl.NumberFormat(s,{...n});return r=>i.format(r)}),currency:ut((s,n)=>{const i=new Intl.NumberFormat(s,{...n,style:"currency"});return r=>i.format(r)}),datetime:ut((s,n)=>{const i=new Intl.DateTimeFormat(s,{...n});return r=>i.format(r)}),relativetime:ut((s,n)=>{const i=new Intl.RelativeTimeFormat(s,{...n});return r=>i.format(r,n.range||"day")}),list:ut((s,n)=>{const i=new Intl.ListFormat(s,{...n});return r=>i.format(r)})},this.init(e)}init(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=s.interpolation.formatSeparator||","}add(e,s){this.formats[e.toLowerCase().trim()]=s}addCached(e,s){this.formats[e.toLowerCase().trim()]=ut(s)}format(e,s,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const r=s.split(this.formatSeparator);if(r.length>1&&r[0].indexOf("(")>1&&r[0].indexOf(")")<0&&r.find(o=>o.indexOf(")")>-1)){const o=r.findIndex(c=>c.indexOf(")")>-1);r[0]=[r[0],...r.splice(1,o)].join(this.formatSeparator)}return r.reduce((o,c)=>{const{formatName:d,formatOptions:g}=Tn(c);if(this.formats[d]){let p=o;try{const u=i&&i.formatParams&&i.formatParams[i.interpolationkey]||{},h=u.locale||u.lng||i.locale||i.lng||n;p=this.formats[d](o,h,{...g,...i,...u})}catch(u){this.logger.warn(u)}return p}else this.logger.warn(`there was no format function for ${d}`);return o},e)}}const In=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class Mn extends Wt{constructor(e,s,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=s,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=He.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend&&this.backend.init&&this.backend.init(n,i.backend,i)}queueLoad(e,s,n,i){const r={},a={},o={},c={};return e.forEach(d=>{let g=!0;s.forEach(p=>{const u=`${d}|${p}`;!n.reload&&this.store.hasResourceBundle(d,p)?this.state[u]=2:this.state[u]<0||(this.state[u]===1?a[u]===void 0&&(a[u]=!0):(this.state[u]=1,g=!1,a[u]===void 0&&(a[u]=!0),r[u]===void 0&&(r[u]=!0),c[p]===void 0&&(c[p]=!0)))}),g||(o[d]=!0)}),(Object.keys(r).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(r),pending:Object.keys(a),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(c)}}loaded(e,s,n){const i=e.split("|"),r=i[0],a=i[1];s&&this.emit("failedLoading",r,a,s),!s&&n&&this.store.addResourceBundle(r,a,n,void 0,void 0,{skipCopy:!0}),this.state[e]=s?-1:2,s&&n&&(this.state[e]=0);const o={};this.queue.forEach(c=>{bn(c.loaded,[r],a),In(c,e),s&&c.errors.push(s),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(d=>{o[d]||(o[d]={});const g=c.loaded[d];g.length&&g.forEach(p=>{o[d][p]===void 0&&(o[d][p]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(c=>!c.done)}read(e,s,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:s,fcName:n,tried:i,wait:r,callback:a});return}this.readingCalls++;const o=(d,g)=>{if(this.readingCalls--,this.waitingReads.length>0){const p=this.waitingReads.shift();this.read(p.lng,p.ns,p.fcName,p.tried,p.wait,p.callback)}if(d&&g&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,s,n,i+1,r*2,a)},r);return}a(d,g)},c=this.backend[n].bind(this.backend);if(c.length===2){try{const d=c(e,s);d&&typeof d.then=="function"?d.then(g=>o(null,g)).catch(o):o(null,d)}catch(d){o(d)}return}return c(e,s,o)}prepareLoading(e,s){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();H(e)&&(e=this.languageUtils.toResolveHierarchy(e)),H(s)&&(s=[s]);const r=this.queueLoad(e,s,n,i);if(!r.toLoad.length)return r.pending.length||i(),null;r.toLoad.forEach(a=>{this.loadOne(a)})}load(e,s,n){this.prepareLoading(e,s,{},n)}reload(e,s,n){this.prepareLoading(e,s,{reload:!0},n)}loadOne(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=e.split("|"),i=n[0],r=n[1];this.read(i,r,"read",void 0,void 0,(a,o)=>{a&&this.logger.warn(`${s}loading namespace ${r} for language ${i} failed`,a),!a&&o&&this.logger.log(`${s}loaded namespace ${r} for language ${i}`,o),this.loaded(e,a,o)})}saveMissing(e,s,n,i,r){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(s)){this.logger.warn(`did not save key "${n}" as the namespace "${s}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend&&this.backend.create){const c={...a,isUpdate:r},d=this.backend.create.bind(this.backend);if(d.length<6)try{let g;d.length===5?g=d(e,s,n,i,c):g=d(e,s,n,i),g&&typeof g.then=="function"?g.then(p=>o(null,p)).catch(o):o(null,g)}catch(g){o(g)}else d(e,s,n,i,o,c)}!e||!e[0]||this.store.addResource(e[0],s,n,i)}}}const Ss=()=>({debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),H(t[1])&&(e.defaultValue=t[1]),H(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const s=t[3]||t[2];Object.keys(s).forEach(n=>{e[n]=s[n]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),ys=t=>(H(t.ns)&&(t.ns=[t.ns]),H(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),H(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs&&t.supportedLngs.indexOf("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),t),Et=()=>{},Un=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(s=>{typeof t[s]=="function"&&(t[s]=t[s].bind(t))})};class yt extends Wt{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;if(super(),this.options=ys(e),this.services={},this.logger=He,this.modules={external:[]},Un(this),s&&!this.isInitialized&&!e.isClone){if(!this.options.initImmediate)return this.init(e,s),this;setTimeout(()=>{this.init(e,s)},0)}}init(){var e=this;let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof s=="function"&&(n=s,s={}),!s.defaultNS&&s.defaultNS!==!1&&s.ns&&(H(s.ns)?s.defaultNS=s.ns:s.ns.indexOf("translation")<0&&(s.defaultNS=s.ns[0]));const i=Ss();this.options={...i,...this.options,...ys(s)},this.options.compatibilityAPI!=="v1"&&(this.options.interpolation={...i.interpolation,...this.options.interpolation}),s.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=s.keySeparator),s.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=s.nsSeparator);const r=g=>g?typeof g=="function"?new g:g:null;if(!this.options.isClone){this.modules.logger?He.init(r(this.modules.logger),this.options):He.init(null,this.options);let g;this.modules.formatter?g=this.modules.formatter:typeof Intl<"u"&&(g=Dn);const p=new bs(this.options);this.store=new _s(this.options.resources,this.options);const u=this.services;u.logger=He,u.resourceStore=this.store,u.languageUtils=p,u.pluralResolver=new Fn(p,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),g&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(u.formatter=r(g),u.formatter.init(u,this.options),this.options.interpolation.format=u.formatter.format.bind(u.formatter)),u.interpolator=new Rn(this.options),u.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},u.backendConnector=new Mn(r(this.modules.backend),u.resourceStore,u,this.options),u.backendConnector.on("*",function(h){for(var _=arguments.length,f=new Array(_>1?_-1:0),m=1;m<_;m++)f[m-1]=arguments[m];e.emit(h,...f)}),this.modules.languageDetector&&(u.languageDetector=r(this.modules.languageDetector),u.languageDetector.init&&u.languageDetector.init(u,this.options.detection,this.options)),this.modules.i18nFormat&&(u.i18nFormat=r(this.modules.i18nFormat),u.i18nFormat.init&&u.i18nFormat.init(this)),this.translator=new Vt(this.services,this.options),this.translator.on("*",function(h){for(var _=arguments.length,f=new Array(_>1?_-1:0),m=1;m<_;m++)f[m-1]=arguments[m];e.emit(h,...f)}),this.modules.external.forEach(h=>{h.init&&h.init(this)})}if(this.format=this.options.interpolation.format,n||(n=Et),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const g=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);g.length>0&&g[0]!=="dev"&&(this.options.lng=g[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(g=>{this[g]=function(){return e.store[g](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(g=>{this[g]=function(){return e.store[g](...arguments),e}});const c=mt(),d=()=>{const g=(p,u)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(u),n(p,u)};if(this.languages&&this.options.compatibilityAPI!=="v1"&&!this.isInitialized)return g(null,this.t.bind(this));this.changeLanguage(this.options.lng,g)};return this.options.resources||!this.options.initImmediate?d():setTimeout(d,0),c}loadResources(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Et;const i=H(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&i.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const r=[],a=o=>{if(!o||o==="cimode")return;this.services.languageUtils.toResolveHierarchy(o).forEach(d=>{d!=="cimode"&&r.indexOf(d)<0&&r.push(d)})};i?a(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>a(c)),this.options.preload&&this.options.preload.forEach(o=>a(o)),this.services.backendConnector.load(r,this.options.ns,o=>{!o&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(o)})}else n(null)}reloadResources(e,s,n){const i=mt();return typeof e=="function"&&(n=e,e=void 0),typeof s=="function"&&(n=s,s=void 0),e||(e=this.languages),s||(s=this.options.ns),n||(n=Et),this.services.backendConnector.reload(e,s,r=>{i.resolve(),n(r)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&zs.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let s=0;s<this.languages.length;s++){const n=this.languages[s];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}changeLanguage(e,s){var n=this;this.isLanguageChangingTo=e;const i=mt();this.emit("languageChanging",e);const r=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},a=(c,d)=>{d?(r(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,i.resolve(function(){return n.t(...arguments)}),s&&s(c,function(){return n.t(...arguments)})},o=c=>{!e&&!c&&this.services.languageDetector&&(c=[]);const d=H(c)?c:this.services.languageUtils.getBestMatchFromCodes(c);d&&(this.language||r(d),this.translator.language||this.translator.changeLanguage(d),this.services.languageDetector&&this.services.languageDetector.cacheUserLanguage&&this.services.languageDetector.cacheUserLanguage(d)),this.loadResources(d,g=>{a(g,d)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),i}getFixedT(e,s,n){var i=this;const r=function(a,o){let c;if(typeof o!="object"){for(var d=arguments.length,g=new Array(d>2?d-2:0),p=2;p<d;p++)g[p-2]=arguments[p];c=i.options.overloadTranslationOptionHandler([a,o].concat(g))}else c={...o};c.lng=c.lng||r.lng,c.lngs=c.lngs||r.lngs,c.ns=c.ns||r.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||n||r.keyPrefix);const u=i.options.keySeparator||".";let h;return c.keyPrefix&&Array.isArray(a)?h=a.map(_=>`${c.keyPrefix}${u}${_}`):h=c.keyPrefix?`${c.keyPrefix}${u}${a}`:a,i.t(h,c)};return H(e)?r.lng=e:r.lngs=e,r.ns=s,r.keyPrefix=n,r}t(){return this.translator&&this.translator.translate(...arguments)}exists(){return this.translator&&this.translator.exists(...arguments)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=s.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,r=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const a=(o,c)=>{const d=this.services.backendConnector.state[`${o}|${c}`];return d===-1||d===0||d===2};if(s.precheck){const o=s.precheck(this,a);if(o!==void 0)return o}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(n,e)&&(!i||a(r,e)))}loadNamespaces(e,s){const n=mt();return this.options.ns?(H(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{n.resolve(),s&&s(i)}),n):(s&&s(),Promise.resolve())}loadLanguages(e,s){const n=mt();H(e)&&(e=[e]);const i=this.options.preload||[],r=e.filter(a=>i.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return r.length?(this.options.preload=i.concat(r),this.loadResources(a=>{n.resolve(),s&&s(a)}),n):(s&&s(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!e)return"rtl";const s=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services&&this.services.languageUtils||new bs(Ss());return s.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;return new yt(e,s)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Et;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},r=new yt(i);return(e.debug!==void 0||e.prefix!==void 0)&&(r.logger=r.logger.clone(e)),["store","services","language"].forEach(o=>{r[o]=this[o]}),r.services={...this.services},r.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},n&&(r.store=new _s(this.store.data,i),r.services.resourceStore=r.store),r.translator=new Vt(r.services,i),r.translator.on("*",function(o){for(var c=arguments.length,d=new Array(c>1?c-1:0),g=1;g<c;g++)d[g-1]=arguments[g];r.emit(o,...d)}),r.init(i,s),r.translator.options=i,r.translator.backendConnector.services.utils={hasLoadedNamespace:r.hasLoadedNamespace.bind(r)},r}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const xe=yt.createInstance();xe.createInstance=yt.createInstance;xe.createInstance;xe.dir;xe.init;xe.loadResources;xe.reloadResources;xe.use;xe.changeLanguage;xe.getFixedT;xe.t;xe.exists;xe.setDefaultNamespace;xe.hasLoadedNamespace;xe.loadNamespaces;xe.loadLanguages;function zn(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function wt(t){"@babel/helpers - typeof";return wt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wt(t)}function jn(t,e){if(wt(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var n=s.call(t,e);if(wt(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Vn(t){var e=jn(t,"string");return wt(e)=="symbol"?e:e+""}function Bn(t,e){for(var s=0;s<e.length;s++){var n=e[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Vn(n.key),n)}}function Kn(t,e,s){return e&&Bn(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}var js=[],qn=js.forEach,Hn=js.slice;function Wn(t){return qn.call(Hn.call(arguments,1),function(e){if(e)for(var s in e)t[s]===void 0&&(t[s]=e[s])}),t}var ws=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Jn=function(e,s,n){var i=n||{};i.path=i.path||"/";var r=encodeURIComponent(s),a="".concat(e,"=").concat(r);if(i.maxAge>0){var o=i.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");a+="; Max-Age=".concat(Math.floor(o))}if(i.domain){if(!ws.test(i.domain))throw new TypeError("option domain is invalid");a+="; Domain=".concat(i.domain)}if(i.path){if(!ws.test(i.path))throw new TypeError("option path is invalid");a+="; Path=".concat(i.path)}if(i.expires){if(typeof i.expires.toUTCString!="function")throw new TypeError("option expires is invalid");a+="; Expires=".concat(i.expires.toUTCString())}if(i.httpOnly&&(a+="; HttpOnly"),i.secure&&(a+="; Secure"),i.sameSite){var c=typeof i.sameSite=="string"?i.sameSite.toLowerCase():i.sameSite;switch(c){case!0:a+="; SameSite=Strict";break;case"lax":a+="; SameSite=Lax";break;case"strict":a+="; SameSite=Strict";break;case"none":a+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return a},Cs={create:function(e,s,n,i){var r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(r.expires=new Date,r.expires.setTime(r.expires.getTime()+n*60*1e3)),i&&(r.domain=i),document.cookie=Jn(e,encodeURIComponent(s),r)},read:function(e){for(var s="".concat(e,"="),n=document.cookie.split(";"),i=0;i<n.length;i++){for(var r=n[i];r.charAt(0)===" ";)r=r.substring(1,r.length);if(r.indexOf(s)===0)return r.substring(s.length,r.length)}return null},remove:function(e){this.create(e,"",-1)}},Gn={name:"cookie",lookup:function(e){var s;if(e.lookupCookie&&typeof document<"u"){var n=Cs.read(e.lookupCookie);n&&(s=n)}return s},cacheUserLanguage:function(e,s){s.lookupCookie&&typeof document<"u"&&Cs.create(s.lookupCookie,e,s.cookieMinutes,s.cookieDomain,s.cookieOptions)}},Qn={name:"querystring",lookup:function(e){var s;if(typeof window<"u"){var n=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(n=window.location.hash.substring(window.location.hash.indexOf("?")));for(var i=n.substring(1),r=i.split("&"),a=0;a<r.length;a++){var o=r[a].indexOf("=");if(o>0){var c=r[a].substring(0,o);c===e.lookupQuerystring&&(s=r[a].substring(o+1))}}}return s}},_t=null,ks=function(){if(_t!==null)return _t;try{_t=window!=="undefined"&&window.localStorage!==null;var e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{_t=!1}return _t},Xn={name:"localStorage",lookup:function(e){var s;if(e.lookupLocalStorage&&ks()){var n=window.localStorage.getItem(e.lookupLocalStorage);n&&(s=n)}return s},cacheUserLanguage:function(e,s){s.lookupLocalStorage&&ks()&&window.localStorage.setItem(s.lookupLocalStorage,e)}},vt=null,Ps=function(){if(vt!==null)return vt;try{vt=window!=="undefined"&&window.sessionStorage!==null;var e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{vt=!1}return vt},Yn={name:"sessionStorage",lookup:function(e){var s;if(e.lookupSessionStorage&&Ps()){var n=window.sessionStorage.getItem(e.lookupSessionStorage);n&&(s=n)}return s},cacheUserLanguage:function(e,s){s.lookupSessionStorage&&Ps()&&window.sessionStorage.setItem(s.lookupSessionStorage,e)}},Zn={name:"navigator",lookup:function(e){var s=[];if(typeof navigator<"u"){if(navigator.languages)for(var n=0;n<navigator.languages.length;n++)s.push(navigator.languages[n]);navigator.userLanguage&&s.push(navigator.userLanguage),navigator.language&&s.push(navigator.language)}return s.length>0?s:void 0}},ei={name:"htmlTag",lookup:function(e){var s,n=e.htmlTag||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(s=n.getAttribute("lang")),s}},ti={name:"path",lookup:function(e){var s;if(typeof window<"u"){var n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(n instanceof Array)if(typeof e.lookupFromPathIndex=="number"){if(typeof n[e.lookupFromPathIndex]!="string")return;s=n[e.lookupFromPathIndex].replace("/","")}else s=n[0].replace("/","")}return s}},si={name:"subdomain",lookup:function(e){var s=typeof e.lookupFromSubdomainIndex=="number"?e.lookupFromSubdomainIndex+1:1,n=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(n)return n[s]}},Vs=!1;try{document.cookie,Vs=!0}catch{}var Bs=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];Vs||Bs.splice(1,1);function ni(){return{order:Bs,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:function(e){return e}}}var Ks=function(){function t(e){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};zn(this,t),this.type="languageDetector",this.detectors={},this.init(e,s)}return Kn(t,[{key:"init",value:function(s){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=s||{languageUtils:{}},this.options=Wn(n,this.options||{},ni()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=function(r){return r.replace("-","_")}),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=i,this.addDetector(Gn),this.addDetector(Qn),this.addDetector(Xn),this.addDetector(Yn),this.addDetector(Zn),this.addDetector(ei),this.addDetector(ti),this.addDetector(si)}},{key:"addDetector",value:function(s){return this.detectors[s.name]=s,this}},{key:"detect",value:function(s){var n=this;s||(s=this.options.order);var i=[];return s.forEach(function(r){if(n.detectors[r]){var a=n.detectors[r].lookup(n.options);a&&typeof a=="string"&&(a=[a]),a&&(i=i.concat(a))}}),i=i.map(function(r){return n.options.convertDetectedLanguage(r)}),this.services.languageUtils.getBestMatchFromCodes?i:i.length>0?i[0]:null}},{key:"cacheUserLanguage",value:function(s,n){var i=this;n||(n=this.options.caches),n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(s)>-1||n.forEach(function(r){i.detectors[r]&&i.detectors[r].cacheUserLanguage(s,i.options)}))}}])}();Ks.type="languageDetector";const ii={page_title:"deepnest - Industrial nesting",parts:"Parts",nests:"Nests",sheets:"Sheets",settings:"Settings"},ri={stop_nest:"Stop nest",export:"Export",export_svg:"SVG file",export_dxf:"DXF file",export_json:"JSON file",back:"Back",import:"Import",start_nest:"Start nest",deselect:"Deselect",select:"Select",all:"all",add:"Add",cancel:"Cancel",save_preset:"Save Preset",load:"Load",delete:"Delete",save:"Save",reset_defaults:"set all to default"},ai={size:"Size",sheet:"Sheet",quantity:"Quantity",add_sheet:"Add Sheet",width:"width",height:"height",nesting_config:"Nesting configuration",display_units:"Display units",inches:"inches",mm:"mm",space_between_parts:"Space between parts",curve_tolerance:"Curve tolerance",part_rotations:"Part rotations",optimization_type:"Optimization type",gravity:"Gravity",bounding_box:"Bounding Box",squeeze:"Squeeze",use_rough_approximation:"Use rough approximation",cpu_cores:"CPU cores",import_export:"Import/Export",use_svg_normalizer:"Use SVG Normalizer?",svg_scale:"SVG scale",units_per:"units/",endpoint_tolerance:"Endpoint tolerance",dxf_import_units:"DXF import units",points:"Points",picas:"Picas",inches_cap:"Inches",cm:"cm",dxf_export_units:"DXF export units",export_with_sheet_boundaries:"Export with Sheet Boundborders?",export_with_sheets_space:"Export with Space between Sheets?",distance_between_sheets:"Distance between Sheets?",laser_options:"Laser options",merge_common_lines:"Merge common lines",optimization_ratio:"Optimization ratio",meta_heuristic_tuning:"Meta-heuristic fine tuning",ga_population:"GA population",ga_mutation_rate:"GA mutation rate",other_settings:"Other Settings",use_quantity_from_filename:"Use Quantity from filename",presets:"Presets",save_config_presets:"Save Configuration Presets",load_delete_presets:"Load/Delete Configuration Presets",select_preset_default:"-- Select a preset --",save_preset_title:"Save Preset",enter_preset_name:"Enter preset name"},oi={nesting_in_progress:"Nesting in progress...",error_occurred:"Error occurred",processing:"Processing...",ready:"Ready",threads_active:"{{count}} threads active",parts_loaded:"{{count}} parts loaded",nests_available:"{{count}} nests available"},li={navigation:ii,actions:ri,labels:ai,status:oi},ci="Please enter a preset name",di="Preset saved successfully!",ui="Error saving preset",gi="Please select a preset to load",pi="Preset loaded successfully!",hi="Selected preset not found",fi="Error loading preset",mi="Please select a preset to delete",_i='Are you sure you want to delete the preset "{{presetName}}"?',vi="Preset deleted successfully!",bi="Error deleting preset",$i="Please import some parts first",xi="Please mark at least one part as the sheet",Si="No file selected",yi="An error occurred reading the file",wi="Error processing SVG",Ci="could not contact file conversion server",ki="There was an Error while converting",Pi={enter_preset_name:ci,preset_saved:di,error_saving_preset:ui,select_preset_to_load:gi,preset_loaded:pi,preset_not_found:hi,error_loading_preset:fi,select_preset_to_delete:mi,confirm_delete_preset:_i,preset_deleted:vi,error_deleting_preset:bi,import_parts_first:$i,mark_part_as_sheet:xi,no_file_selected:Si,file_read_error:yi,svg_processing_error:wi,conversion_server_error:Ci,conversion_error:ki},Li="Parts",Ai="Import Parts",Oi="Export Parts",Ni="Export Selected",Ei="Delete Selected",Fi="No parts selected",Ri="Failed to import parts",Ti="Failed to export parts",Di="Total Parts",Ii="Total Quantity",Mi="Select All",Ui="Deselect All",zi="No Parts Loaded",ji="Import SVG or DXF files to get started",Vi="Search parts...",Bi="Sort by",Ki="Name",qi="Quantity",Hi="Size",Wi="Rotation",Ji="Dimensions",Gi="Area",Qi="Preview Error",Xi={parts_title:Li,import:"Import",export:"Export",delete:"Delete",import_parts:Ai,export_parts:Oi,export_selected:Ni,delete_selected:Ei,no_parts_selected:Fi,import_failed:Ri,export_failed:Ti,total_parts:Di,total_quantity:Ii,select_all:Mi,deselect_all:Ui,no_parts_loaded:zi,import_parts_to_get_started:ji,search_parts:Vi,sort_by:Bi,name:Ki,quantity:qi,size:Hi,rotation:Wi,dimensions:Ji,area:Gi,preview_error:Qi},Yi="Nesting",Zi="Start Nesting",er="Stop Nesting",tr="Clear Results",sr="Cannot start nesting: need parts and sheets",nr="Failed to start nesting",ir="Failed to stop nesting",rr="Parts to Nest",ar="Available Sheets",or="Results Count",lr="No Nesting Results",cr="Start nesting to see results here",dr="Add parts and sheets first to enable nesting",ur="Nesting in Progress",gr="Est. time remaining",pr="Current Operation",hr="Threads Active",fr="Worker Status",mr="Running",_r="Stopped",vr="Generation",br="Best Fitness",$r="Refresh Status",xr="Nesting Results",Sr="Sorted by efficiency",yr="Result",wr="Best",Cr="Efficiency",kr="Fitness",Pr="Sheets Used",Lr="Parts Placed",Ar="View Details",Or="Back to Results",Nr="Result Details",Er="Export Result",Fr="Export failed",Rr="Click to view",Tr="Zoom Out",Dr="Zoom In",Ir="Reset View",Mr="Sheet",Ur="Statistics",zr="Material Efficiency",jr="Fitness Score",Vr="Material Waste",Br="Total Parts Placed",Kr="Total Material Used",qr="Generation Time",Hr="Generation Number",Wr={nesting_title:Yi,start_nesting:Zi,stop_nesting:er,clear_results:tr,cannot_start_nesting:sr,start_nesting_failed:nr,stop_nesting_failed:ir,parts_to_nest:rr,available_sheets:ar,results_count:or,no_nesting_results:lr,start_nesting_to_see_results:cr,add_parts_and_sheets_first:dr,nesting_in_progress:ur,estimated_time_remaining:gr,current_operation:pr,threads_active:hr,worker_status:fr,running:mr,stopped:_r,current_generation:vr,best_fitness:br,refresh_status:$r,nesting_results:xr,sorted_by_efficiency:Sr,result:yr,best:wr,efficiency:Cr,fitness:kr,sheets_used:Pr,parts_placed:Lr,view_details:Ar,export:"Export",delete:"Delete",back_to_results:Or,result_details:Nr,export_result:Er,export_failed:Fr,click_to_view:Rr,zoom_out:Tr,zoom_in:Dr,reset_view:Ir,sheet:Mr,statistics:Ur,material_efficiency:zr,fitness_score:jr,material_waste:Vr,total_parts_placed:Br,total_material_used:Kr,generation_time:qr,generation_number:Hr},Jr="Sheets",Gr="Add Sheet",Qr="Edit Sheet",Xr="Add New Sheet",Yr="Total Sheets",Zr="Total Area",ea="No Sheets Loaded",ta="Add sheets to define your material constraints",sa="Quick Templates",na="Configured Sheets",ia="Sheet",ra="Dimensions",aa="Quantity",oa="Material",la="Margin",ca="Edit",da="Basic Information",ua="Sheet Name",ga="Enter sheet name (optional)",pa="Width",ha="Height",fa="Thickness",ma="Properties",_a="Area",va="Preview",ba="Cancel",$a="Update Sheet",xa="Swap Width/Height",Sa="Width must be greater than 0",ya="Height must be greater than 0",wa="Thickness must be greater than 0",Ca="Quantity must be greater than 0",ka="Margin cannot be negative",Pa={sheets_title:Jr,add_sheet:Gr,edit_sheet:Qr,add_new_sheet:Xr,total_sheets:Yr,total_area:Zr,no_sheets_loaded:ea,add_sheets_to_get_started:ta,quick_templates:sa,configured_sheets:na,sheet:ia,dimensions:ra,quantity:aa,material:oa,margin:la,edit:ca,delete:"Delete",basic_information:da,sheet_name:ua,enter_sheet_name:ga,width:pa,height:ha,thickness:fa,properties:ma,area:_a,preview:va,cancel:ba,update_sheet:$a,swap_dimensions:xa,width_must_be_positive:Sa,height_must_be_positive:ya,thickness_must_be_positive:wa,quantity_must_be_positive:Ca,margin_cannot_be_negative:ka},La="Settings",Aa="Preset Management",Oa="Algorithm Settings",Na="UI Preferences",Ea="Advanced Settings",Fa="Reset Defaults",Ra="Import Configuration",Ta="Export Configuration",Da="Reset to Defaults",Ia="Are you sure you want to reset all settings to defaults?",Ma="Failed to reset settings",Ua="Failed to export configuration",za="Failed to import configuration",ja="Presets allow you to save and restore complete nesting configurations.",Va="Create Preset",Ba="Create New Preset",Ka="Preset Name",qa="Preset name is required",Ha="Enter preset name",Wa="Description (optional)",Ja="Enter a description for this preset",Ga="Cancel",Qa="No Presets Available",Xa="Create a preset to save your current configuration",Ya="Export Preset",Za="Delete Preset",eo="Load Preset",to="Active",so="Created",no="Updated",io="Are you sure you want to delete preset '{{name}}'?",ro="Failed to create preset",ao="Failed to load preset",oo="Failed to delete preset",lo="Failed to export preset",co="Failed to import preset",uo="Import Preset",go="Nesting Parameters",po="Space Between Parts",ho="Minimum distance between parts in millimeters",fo="Curve Tolerance",mo="Tolerance for curve approximation. Lower values = more accurate but slower",_o="Part Rotations",vo="Number of rotation angles to try for each part",bo="No Rotation",$o="Free Rotation (any angle)",xo="Genetic Algorithm",So="Population Size",yo="Number of solutions in each generation. Higher = better results but slower",wo="Mutation Rate",Co="Probability of random changes. Higher = more exploration but less stability",ko="Advanced Options",Po="Use Holes",Lo="Consider holes in parts for nesting (experimental)",Ao="Explore Concave",Oo="Try placing parts in concave areas of other parts",No="Merge Common Lines",Eo="Combine overlapping cut lines to reduce cutting time",Fo="Use Rough Approximation",Ro="Use faster but less accurate calculations for initial placement",To="Appearance",Do="Language",Io="Select the interface language",Mo="Theme",Uo="Choose between light, dark, or automatic theme",zo="Auto (follows system)",jo="Light",Vo="Dark",Bo="Dark Mode",Ko="Use dark colors for the interface",qo="Units and Formatting",Ho="Display Units",Wo="Units for displaying measurements",Jo="Millimeters (mm)",Go="Inches (in)",Qo="Centimeters (cm)",Xo="Show Grid",Yo="Display grid lines in the viewport",Zo="Show Rulers",el="Display measurement rulers",tl="Layout Preferences",sl="Parts Panel Width",nl="Width of the parts panel in pixels",il="Reset",rl="Show Tooltips",al="Display helpful tooltips on hover",ol="Show Status Bar",ll="Display the status bar at the bottom",cl="Performance",dl="Worker Threads",ul="Number of CPU threads to use (max: {{max}})",gl="Enable GPU Acceleration",pl="Use graphics card for calculations (experimental)",hl="Enable Caching",fl="Cache calculations to improve performance",ml="Debugging",_l="Debug Mode",vl="Enable additional debugging information",bl="Verbose Logging",$l="Log detailed information to console",xl="Show Debug Info",Sl="Hide Debug Info",yl="System Information",wl="Platform",Cl="CPU Cores",kl="Viewport",Pl="Memory Used",Ll="Memory Total",Al="Export Debug Info",Ol="Maintenance",Nl="Clear Cache",El="Clear all cached data and preferences",Fl="Are you sure you want to clear all cached data?",Rl="Cache cleared successfully",Tl="Failed to clear cache",Dl="Reset Layout",Il="Reset panel sizes and positions to defaults",Ml="Auto-save Interval",Ul="minutes",zl="How often to automatically save your work (0 = disabled)",jl={settings_title:La,preset_management:Aa,algorithm_settings:Oa,ui_preferences:Na,advanced_settings:Ea,import:"Import",export:"Export",reset_defaults:Fa,import_configuration:Ra,export_configuration:Ta,reset_to_defaults:Da,confirm_reset_defaults:Ia,reset_failed:Ma,export_failed:Ua,import_failed:za,preset_description:ja,create_preset:Va,create_new_preset:Ba,preset_name:Ka,preset_name_required:qa,enter_preset_name:Ha,preset_description_optional:Wa,enter_preset_description:Ja,cancel:Ga,no_presets_available:Qa,create_preset_to_get_started:Xa,export_preset:Ya,delete_preset:Za,load_preset:eo,active:to,created:so,updated:no,confirm_delete_preset:io,preset_create_failed:ro,preset_load_failed:ao,preset_delete_failed:oo,preset_export_failed:lo,preset_import_failed:co,import_preset:uo,nesting_parameters:go,space_between_parts:po,spacing_description:ho,curve_tolerance:fo,curve_tolerance_description:mo,part_rotations:_o,rotations_description:vo,no_rotation:bo,"2_rotations":"2 Rotations (0, 180)","4_rotations":"4 Rotations (0, 90, 180, 270)","8_rotations":"8 Rotations (45 steps)","12_rotations":"12 Rotations (30 steps)",free_rotation:$o,genetic_algorithm:xo,population_size:So,population_size_description:yo,mutation_rate:wo,mutation_rate_description:Co,advanced_options:ko,use_holes:Po,use_holes_description:Lo,explore_concave:Ao,explore_concave_description:Oo,merge_common_lines:No,merge_lines_description:Eo,use_rough_approximation:Fo,rough_approximation_description:Ro,appearance:To,language:Do,language_description:Io,theme:Mo,theme_description:Uo,auto_theme:zo,light_theme:jo,dark_theme:Vo,dark_mode:Bo,dark_mode_description:Ko,units_and_formatting:qo,display_units:Ho,units_description:Wo,millimeters:Jo,inches:Go,centimeters:Qo,show_grid:Xo,show_grid_description:Yo,show_rulers:Zo,show_rulers_description:el,layout_preferences:tl,parts_panel_width:sl,panel_width_description:nl,reset:il,show_tooltips:rl,tooltips_description:al,show_status_bar:ol,status_bar_description:ll,performance:cl,worker_threads:dl,worker_threads_description:ul,enable_gpu_acceleration:gl,gpu_acceleration_description:pl,enable_caching:hl,caching_description:fl,debugging:ml,debug_mode:_l,debug_mode_description:vl,verbose_logging:bl,verbose_logging_description:$l,show_debug_info:xl,hide_debug_info:Sl,system_information:yl,platform:wl,cpu_cores:Cl,viewport:kl,memory_used:Pl,memory_total:Ll,export_debug_info:Al,maintenance:Ol,clear_cache:Nl,clear_cache_description:El,confirm_clear_cache:Fl,cache_cleared_success:Rl,cache_clear_failed:Tl,reset_layout:Dl,reset_layout_description:Il,auto_save_interval:Ml,minutes:Ul,auto_save_description:zl},Vl="File Operations",Bl="Drag & Drop Files",Kl="Import Files",ql="Export Options",Hl="Recent Files",Wl="Drop files here to import",Jl="or click to browse",Gl="Supported formats: SVG, DXF, JSON",Ql="Select Files",Xl="Browse Files",Yl="Importing Files...",Zl="{{count}} files imported successfully",ec="Importing {{current}} of {{total}} files",tc="Failed to import files",sc="File validation error",nc="Invalid file format: {{format}}",ic="File too large: {{size}}. Maximum size is {{max}}",rc="Failed to read file: {{filename}}",ac="Export Format",oc="Export Settings",lc="Export All",cc="Export Selected",dc="Export Current",uc="Files exported successfully",gc="Failed to export files",pc="SVG Vector",hc="DXF CAD",fc="PDF Document",mc="JSON Data",_c="Include Sheet Outline",vc="Include Part Labels",bc="Optimize Cut Paths",$c="Merge Common Lines",xc="Export Scale",Sc="Export Units",yc="No Recent Files",wc="Clear Recent",Cc="Open Recent File",kc="Pin File",Pc="Unpin File",Lc="Remove from Recent",Ac="File not found: {{filename}}",Oc="Quickly access your recently used files",Nc="Maximum {{count}} recent files",Ec="Pinned",Fc="Size",Rc="Modified",Tc="Path",Dc="Copy Path",Ic="Open File Location",Mc="File Information",Uc="Processing...",zc="Cancel Import",jc="Retry Import",Vc="Skip File",Bc="Continue Import",Kc="Validation Warning",qc="File contains errors but can be imported",Hc="Import Anyway",Wc="Fix Errors",Jc="Auto Fix",Gc="Manual Fix",Qc="Error Details",Xc="Line {{number}}",Yc="Invalid geometry detected",Zc="Duplicate points found",ed="Self-intersecting polygon",td="Unclosed path detected",sd="File is empty",nd="File appears to be corrupted",id="Unsupported file version",rd="Missing required data",ad={file_operations:Vl,drag_drop_files:Bl,import_files:Kl,export_options:ql,recent_files:Hl,drop_files_here:Wl,or_click_to_browse:Jl,supported_formats:Gl,select_files:Ql,browse_files:Xl,importing_files:Yl,files_imported:Zl,import_progress:ec,import_failed:tc,file_validation_error:sc,invalid_file_format:nc,file_too_large:ic,file_read_error:rc,export_format:ac,export_settings:oc,export_all:lc,export_selected:cc,export_current:dc,export_success:uc,export_failed:gc,svg_format:pc,dxf_format:hc,pdf_format:fc,json_format:mc,include_sheet:_c,include_labels:vc,optimize_paths:bc,merge_lines:$c,export_scale:xc,export_units:Sc,no_recent_files:yc,clear_recent:wc,open_recent:Cc,pin_file:kc,unpin_file:Pc,remove_from_recent:Lc,file_not_found:Ac,recent_files_description:Oc,max_recent_files:Nc,pinned:Ec,file_size:Fc,last_modified:Rc,file_path:Tc,copy_path:Dc,open_location:Ic,file_info:Mc,processing:Uc,cancel_import:zc,retry_import:jc,skip_file:Vc,continue_import:Bc,validation_warning:Kc,file_contains_errors:qc,import_anyway:Hc,fix_errors:Wc,auto_fix:Jc,manual_fix:Gc,error_details:Qc,line_number:Xc,invalid_geometry:Yc,duplicate_points:Zc,self_intersecting:ed,unclosed_path:td,empty_file:sd,corrupted_file:nd,unsupported_version:id,missing_required_data:rd},od={fallbackLng:"en",debug:!1,detection:{order:["localStorage","navigator"],caches:["localStorage"],lookupLocalStorage:"deepnest-language"},interpolation:{escapeValue:!1},resources:{en:{common:li,messages:Pi,parts:Xi,nesting:Wr,sheets:Pa,settings:jl,files:ad}}},ld={t:t=>t,changeLanguage:async t=>{},language:()=>"en",ready:()=>!1},qs=sn(ld),Ee=(t="common")=>{const e=nn(qs);return e?[(n,i)=>{if(!e.ready())return n;const r=`${t}.${n}`;return e.t(r,i)},{changeLanguage:e.changeLanguage,language:e.language}]:[n=>n,{changeLanguage:async n=>{},language:()=>"en"}]},cd=t=>{const[e,s]=X("en"),[n,i]=X(!1);os(async()=>{try{await xe.use(Ks).init(od),s(xe.language||"en"),i(!0)}catch(c){console.error("Failed to initialize i18n:",c),i(!0)}});const o={t:(c,d)=>n()&&xe.t(c,d)||c,changeLanguage:async c=>{try{await xe.changeLanguage(c),s(c)}catch(d){console.error("Failed to change language:",d)}},language:e,ready:n};return qs.Provider({value:o,children:t.children})},ns=Symbol("store-raw"),pt=Symbol("store-node"),Qe=Symbol("store-has"),Hs=Symbol("store-self");function Ws(t){let e=t[it];if(!e&&(Object.defineProperty(t,it,{value:e=new Proxy(t,gd)}),!Array.isArray(t))){const s=Object.keys(t),n=Object.getOwnPropertyDescriptors(t);for(let i=0,r=s.length;i<r;i++){const a=s[i];n[a].get&&Object.defineProperty(t,a,{enumerable:n[a].enumerable,get:n[a].get.bind(e)})}}return e}function Bt(t){let e;return t!=null&&typeof t=="object"&&(t[it]||!(e=Object.getPrototypeOf(t))||e===Object.prototype||Array.isArray(t))}function Ct(t,e=new Set){let s,n,i,r;if(s=t!=null&&t[ns])return s;if(!Bt(t)||e.has(t))return t;if(Array.isArray(t)){Object.isFrozen(t)?t=t.slice(0):e.add(t);for(let a=0,o=t.length;a<o;a++)i=t[a],(n=Ct(i,e))!==i&&(t[a]=n)}else{Object.isFrozen(t)?t=Object.assign({},t):e.add(t);const a=Object.keys(t),o=Object.getOwnPropertyDescriptors(t);for(let c=0,d=a.length;c<d;c++)r=a[c],!o[r].get&&(i=t[r],(n=Ct(i,e))!==i&&(t[r]=n))}return t}function Kt(t,e){let s=t[e];return s||Object.defineProperty(t,e,{value:s=Object.create(null)}),s}function kt(t,e,s){if(t[e])return t[e];const[n,i]=X(s,{equals:!1,internal:!0});return n.$=i,t[e]=n}function dd(t,e){const s=Reflect.getOwnPropertyDescriptor(t,e);return!s||s.get||!s.configurable||e===it||e===pt||(delete s.value,delete s.writable,s.get=()=>t[it][e]),s}function Js(t){Zt()&&kt(Kt(t,pt),Hs)()}function ud(t){return Js(t),Reflect.ownKeys(t)}const gd={get(t,e,s){if(e===ns)return t;if(e===it)return s;if(e===Yt)return Js(t),s;const n=Kt(t,pt),i=n[e];let r=i?i():t[e];if(e===pt||e===Qe||e==="__proto__")return r;if(!i){const a=Object.getOwnPropertyDescriptor(t,e);Zt()&&(typeof r!="function"||t.hasOwnProperty(e))&&!(a&&a.get)&&(r=kt(n,e,r)())}return Bt(r)?Ws(r):r},has(t,e){return e===ns||e===it||e===Yt||e===pt||e===Qe||e==="__proto__"?!0:(Zt()&&kt(Kt(t,Qe),e)(),e in t)},set(){return!0},deleteProperty(){return!0},ownKeys:ud,getOwnPropertyDescriptor:dd};function qt(t,e,s,n=!1){if(!n&&t[e]===s)return;const i=t[e],r=t.length;s===void 0?(delete t[e],t[Qe]&&t[Qe][e]&&i!==void 0&&t[Qe][e].$()):(t[e]=s,t[Qe]&&t[Qe][e]&&i===void 0&&t[Qe][e].$());let a=Kt(t,pt),o;if((o=kt(a,e,i))&&o.$(()=>s),Array.isArray(t)&&t.length!==r){for(let c=t.length;c<r;c++)(o=a[c])&&o.$();(o=kt(a,"length",r))&&o.$(t.length)}(o=a[Hs])&&o.$()}function Gs(t,e){const s=Object.keys(e);for(let n=0;n<s.length;n+=1){const i=s[n];qt(t,i,e[i])}}function pd(t,e){if(typeof e=="function"&&(e=e(t)),e=Ct(e),Array.isArray(e)){if(t===e)return;let s=0,n=e.length;for(;s<n;s++){const i=e[s];t[s]!==i&&qt(t,s,i)}qt(t,"length",n)}else Gs(t,e)}function $t(t,e,s=[]){let n,i=t;if(e.length>1){n=e.shift();const a=typeof n,o=Array.isArray(t);if(Array.isArray(n)){for(let c=0;c<n.length;c++)$t(t,[n[c]].concat(e),s);return}else if(o&&a==="function"){for(let c=0;c<t.length;c++)n(t[c],c)&&$t(t,[c].concat(e),s);return}else if(o&&a==="object"){const{from:c=0,to:d=t.length-1,by:g=1}=n;for(let p=c;p<=d;p+=g)$t(t,[p].concat(e),s);return}else if(e.length>1){$t(t[n],e,[n].concat(s));return}i=t[n],s=[n].concat(s)}let r=e[0];typeof r=="function"&&(r=r(i,s),r===i)||n===void 0&&r==null||(r=Ct(r),n===void 0||Bt(i)&&Bt(r)&&!Array.isArray(r)?Gs(i,r):qt(t,n,r))}function hd(...[t,e]){const s=Ct(t||{}),n=Array.isArray(s),i=Ws(s);function r(...a){tn(()=>{n&&a.length===1?pd(s,a[0]):$t(s,a)})}return[i,r]}const fd=[{id:"part-1",name:"Rectangle Part",filename:"rectangle.svg",path:[[0,0],[100,0],[100,50],[0,50]],area:5e3,bounds:{x:0,y:0,width:100,height:50},quantity:5,placed:3,rotation:0,material:"wood",thickness:3,isSelected:!1},{id:"part-2",name:"Circle Part",filename:"circle.svg",path:bd(25,50,50),area:1963.5,bounds:{x:25,y:25,width:50,height:50},quantity:3,placed:2,rotation:0,material:"acrylic",thickness:5,isSelected:!1},{id:"part-3",name:"Triangle Part",filename:"triangle.svg",path:[[0,60],[30,0],[60,60]],area:1800,bounds:{x:0,y:0,width:60,height:60},quantity:8,placed:5,rotation:0,material:"plywood",thickness:6,isSelected:!0}],md=[{id:"sheet-1",name:"Standard Sheet",width:600,height:400,thickness:3,material:"wood",margin:5,isSelected:!0,bounds:{x:0,y:0,width:600,height:400},utilization:0},{id:"sheet-2",name:"Large Acrylic Sheet",width:800,height:600,thickness:5,material:"acrylic",margin:3,isSelected:!1,bounds:{x:0,y:0,width:800,height:600},utilization:0}],_d=[{id:"nest-1",sheetId:"sheet-1",placements:[{id:"placement-1",partId:"part-1",x:10,y:10,rotation:0,bounds:{x:10,y:10,width:100,height:50}},{id:"placement-2",partId:"part-2",x:120,y:10,rotation:0,bounds:{x:120,y:10,width:50,height:50}},{id:"placement-3",partId:"part-3",x:10,y:70,rotation:0,bounds:{x:10,y:70,width:60,height:60}}],fitness:.75,utilization:.68,area:12e3,createdAt:new Date().toISOString(),isOptimal:!1},{id:"nest-2",sheetId:"sheet-1",placements:[{id:"placement-4",partId:"part-1",x:5,y:5,rotation:90,bounds:{x:5,y:5,width:50,height:100}},{id:"placement-5",partId:"part-2",x:65,y:5,rotation:0,bounds:{x:65,y:5,width:50,height:50}}],fitness:.82,utilization:.72,area:8500,createdAt:new Date(Date.now()-6e4).toISOString(),isOptimal:!0}],vd={"preset-1":{id:"preset-1",name:"Default Laser Settings",description:"Standard settings for laser cutting wood",config:{units:"mm",scale:1,spacing:2,rotations:4,populationSize:20,mutationRate:15,threads:4,placementType:"gravity",mergeLines:!0,timeRatio:.5,simplify:!1,tolerance:.1,endpointTolerance:.05,svgScale:1,dxfImportUnits:"mm",dxfExportUnits:"mm",exportSheetBounds:!0,exportSheetSpacing:!1,sheetSpacing:10,useQuantityFromFilename:!0,useSvgPreProcessor:!1,conversionServer:"https://converter.deepnest.app/convert"},createdAt:new Date(Date.now()-864e5).toISOString(),updatedAt:new Date(Date.now()-36e5).toISOString()},"preset-2":{id:"preset-2",name:"High Precision CNC",description:"Tight tolerances for CNC machining",config:{units:"inches",scale:72,spacing:.1,rotations:8,populationSize:50,mutationRate:5,threads:8,placementType:"bottom-left",mergeLines:!1,timeRatio:.8,simplify:!0,tolerance:.001,endpointTolerance:5e-4,svgScale:72,dxfImportUnits:"inches",dxfExportUnits:"inches",exportSheetBounds:!0,exportSheetSpacing:!0,sheetSpacing:.25,useQuantityFromFilename:!1,useSvgPreProcessor:!0,conversionServer:"https://converter.deepnest.app/convert"},createdAt:new Date(Date.now()-1728e5).toISOString(),updatedAt:new Date(Date.now()-72e5).toISOString()}};function bd(t,e,s){const n=[];for(let r=0;r<=32;r++){const a=r/32*2*Math.PI,o=e+t*Math.cos(a),c=s+t*Math.sin(a);n.push([o,c])}return n}const $d=()=>({ui:{activeTab:"parts",darkMode:!1,language:"en",theme:"auto",showTooltips:!0,showStatusBar:!0,modals:{presetModal:!1,helpModal:!1},panels:{partsWidth:300,resultsHeight:200}},config:{units:"mm",scale:1,spacing:2,rotations:4,populationSize:20,mutationRate:10,threads:4,placementType:"gravity",mergeLines:!0,timeRatio:.5,simplify:!1,tolerance:.1,endpointTolerance:.05,svgScale:1,dxfImportUnits:"mm",dxfExportUnits:"mm",exportSheetBounds:!1,exportSheetSpacing:!1,sheetSpacing:10,useQuantityFromFilename:!1,useSvgPreProcessor:!1,conversionServer:"https://converter.deepnest.app/convert"},app:{parts:fd,sheets:md,nests:_d,presets:vd,importedFiles:[]},process:{isNesting:!1,progress:0,currentNest:null,workerStatus:{isRunning:!1,currentOperation:"",threadsActive:0},lastError:null}}),gt=()=>typeof window<"u"&&!window.electronAPI,is={units:"inches",scale:72,spacing:0,rotations:4,populationSize:10,mutationRate:10,threads:4,placementType:"gravity",mergeLines:!0,timeRatio:.5,simplify:!1,tolerance:.72,endpointTolerance:.36,svgScale:72,dxfImportUnits:"mm",dxfExportUnits:"mm",exportSheetBounds:!1,exportSheetSpacing:!1,sheetSpacing:10,useQuantityFromFilename:!1,useSvgPreProcessor:!1,conversionServer:"https://converter.deepnest.app/convert"},rs={activeTab:"parts",darkMode:!1,language:"en",modals:{presetModal:!1,helpModal:!1},panels:{partsWidth:300,resultsHeight:200}},Qs={parts:[],sheets:[],nests:[],presets:{},importedFiles:[]},Xs={isNesting:!1,progress:0,currentNest:null,workerStatus:{isRunning:!1,currentOperation:"",threadsActive:0},lastError:null},xd=()=>{try{if(typeof localStorage<"u"){const t=localStorage.getItem("deepnest-ui-state");if(t){const e=JSON.parse(t);return{...rs,...e}}}}catch(t){console.warn("Failed to load UI state from localStorage:",t)}return rs},Sd=gt()?$d():{ui:xd(),config:is,app:Qs,process:Xs},[v,oe]=hd(Sd);gt()&&console.info(" Development mode: Global store initialized with mock data");const C={setActiveTab:t=>{oe("ui","activeTab",t)},setDarkMode:t=>{if(oe("ui","darkMode",t),typeof document<"u"&&document.body.classList.toggle("dark-mode",t),typeof localStorage<"u")try{localStorage.setItem("deepnest-ui-state",JSON.stringify(v.ui))}catch(e){console.warn("Failed to save UI state to localStorage:",e)}},setLanguage:t=>{if(oe("ui","language",t),typeof localStorage<"u")try{localStorage.setItem("deepnest-ui-state",JSON.stringify(v.ui))}catch(e){console.warn("Failed to save UI state to localStorage:",e)}},setPanelWidth:(t,e)=>{if(oe("ui","panels",t,e),typeof localStorage<"u")try{localStorage.setItem("deepnest-ui-state",JSON.stringify(v.ui))}catch(s){console.warn("Failed to save UI state to localStorage:",s)}},openModal:t=>{oe("ui","modals",t,!0)},closeModal:t=>{oe("ui","modals",t,!1)},updateConfig:t=>{oe("config",t)},resetConfig:()=>{oe("config",is)},setParts:t=>{oe("app","parts",t)},addPart:t=>{oe("app","parts",e=>[...e,t])},removePart:t=>{oe("app","parts",e=>e.filter(s=>s.id!==t))},updatePart:(t,e)=>{oe("app","parts",s=>s.id===t,e)},setNests:t=>{oe("app","nests",t)},addNest:t=>{oe("app","nests",e=>[...e,t])},setPresets:t=>{oe("app","presets",t)},addPreset:t=>{oe("app","presets",t.id,t)},removePreset:t=>{oe("app","presets",e=>{const s={...e};return delete s[t],s})},updatePreset:(t,e)=>{oe("app","presets",t,s=>({...s,...e}))},setNestingStatus:t=>{oe("process","isNesting",t)},setNestingProgress:t=>{oe("process","progress",t)},setWorkerStatus:t=>{oe("process","workerStatus",t)},setError:t=>{oe("process","lastError",t)},setMessage:t=>{t&&console.info("App Message:",t)},setShowTooltips:t=>{oe("ui","showTooltips",t)},setShowStatusBar:t=>{oe("ui","showStatusBar",t)},setTheme:t=>{oe("ui","theme",t)},resetToDefaults:()=>{oe("config",is),oe("ui",rs)},reset:()=>{oe("app",Qs),oe("process",Xs)}};class yd{eventListeners=new Map;get isAvailable(){return gt()||typeof window<"u"&&!!window.electronAPI}async invoke(e,...s){if(!this.isAvailable)throw new Error("IPC not available");if(gt())return this.handleMockInvoke(e,...s);try{return await window.electronAPI.ipcRenderer.invoke(e,...s)}catch(n){throw console.error(`IPC invoke error on channel ${String(e)}:`,n),n}}async handleMockInvoke(e,...s){switch(await new Promise(n=>setTimeout(n,100)),console.info(` Mock IPC call: ${e}`,s),e){case"read-config":return{units:"mm",scale:1,spacing:2,rotations:4,populationSize:20,mutationRate:10,threads:4,placementType:"gravity",mergeLines:!0,timeRatio:.5,simplify:!1,tolerance:.1,endpointTolerance:.05,svgScale:1,dxfImportUnits:"mm",dxfExportUnits:"mm",exportSheetBounds:!1,exportSheetSpacing:!1,sheetSpacing:10,useQuantityFromFilename:!1,useSvgPreProcessor:!1,conversionServer:"https://converter.deepnest.app/convert"};case"write-config":case"save-preset":case"delete-preset":case"start-nesting":case"stop-nesting":return;case"load-presets":return{default:JSON.stringify({units:"mm",spacing:2,rotations:4}),precision:JSON.stringify({units:"inches",spacing:.1,rotations:8})};case"open-file-dialog":return{canceled:!1,filePaths:["/mock/path/example.svg"]};case"save-file-dialog":return{canceled:!1,filePath:"/mock/path/output.svg"};case"import-parts":return[{id:"mock-part-1",name:"Mock Part",bounds:{x:0,y:0,width:100,height:50},quantity:1,rotation:0}];default:console.warn(` Unhandled mock IPC channel: ${e}`);return}}on(e,s){if(!this.isAvailable)return console.warn("IPC not available, listener not registered"),()=>{};const n=String(e);return this.eventListeners.has(n)||this.eventListeners.set(n,new Set),this.eventListeners.get(n).add(s),gt()?(console.info(` Mock IPC listener registered for: ${n}`),()=>{const i=this.eventListeners.get(n);i&&(i.delete(s),i.size===0&&this.eventListeners.delete(n))}):(window.electronAPI.ipcRenderer.on(e,s),()=>{const i=this.eventListeners.get(n);i&&(i.delete(s),i.size===0&&(this.eventListeners.delete(n),window.electronAPI?.ipcRenderer&&window.electronAPI.ipcRenderer.removeAllListeners(e)))})}send(e,...s){if(!this.isAvailable){console.warn("IPC not available, message not sent");return}if(gt()){console.info(` Mock IPC send: ${e}`,s);return}window.electronAPI.ipcRenderer.send(e,...s)}async readConfig(){return this.invoke("read-config")}async writeConfig(e){return this.invoke("write-config",JSON.stringify(e))}async savePreset(e,s){return this.invoke("save-preset",e,JSON.stringify(s))}async loadPresets(){return this.invoke("load-presets")}async deletePreset(e){return this.invoke("delete-preset",e)}async startNesting(e){return this.invoke("start-nesting",e)}async stopNesting(){return this.invoke("stop-nesting")}stopBackgroundWorker(){this.send("background-stop")}onNestProgress(e){return this.on("nest-progress",e)}onNestComplete(e){return this.on("nest-complete",e)}onBackgroundProgress(e){return this.on("background-progress",e)}onWorkerStatus(e){return this.on("worker-status",e)}onNestError(e){return this.on("nest-error",e)}cleanup(){if(this.isAvailable){for(const e of this.eventListeners.keys())window.electronAPI.ipcRenderer.removeAllListeners(e);this.eventListeners.clear()}}}const ee=new yd;var wd=N('<header class=header><div class=header-left><h1 class=app-title></h1></div><div class=header-right><div class=language-selector><select><option value=en>English</option><option value=de>Deutsch</option><option value=fr>Franais</option><option value=es>Espaol</option></select></div><button class=dark-mode-toggle title="Toggle dark mode">');const Cd=()=>{const[t,{changeLanguage:e}]=Ee("navigation"),s=()=>{C.setDarkMode(!v.ui.darkMode)},n=async i=>{C.setLanguage(i),await e(i)};return(()=>{var i=wd(),r=i.firstChild,a=r.firstChild,o=r.nextSibling,c=o.firstChild,d=c.firstChild,g=c.nextSibling;return l(a,()=>t("page_title")),d.addEventListener("change",p=>n(p.currentTarget.value)),g.$$click=s,l(g,()=>v.ui.darkMode?"":""),k(()=>d.value=v.ui.language),i})()};Ne(["click"]);var kd=N("<nav class=navigation><div class=nav-tabs>"),Pd=N("<button><span class=nav-tab-icon></span><span class=nav-tab-label>");const Ld=()=>{const[t]=Ee("navigation"),e=[{id:"parts",labelKey:"parts",icon:""},{id:"nests",labelKey:"nests",icon:""},{id:"sheets",labelKey:"sheets",icon:""},{id:"settings",labelKey:"settings",icon:""}],s=n=>{C.setActiveTab(n)};return(()=>{var n=kd(),i=n.firstChild;return l(i,y(Ie,{each:e,children:r=>(()=>{var a=Pd(),o=a.firstChild,c=o.nextSibling;return a.$$click=()=>s(r.id),l(o,()=>r.icon),l(c,()=>t(r.labelKey)),k(d=>{var g=`nav-tab ${v.ui.activeTab===r.id?"active":""}`,p=t(r.labelKey);return g!==d.e&&Ve(a,d.e=g),p!==d.t&&Y(a,"title",d.t=p),d},{e:void 0,t:void 0}),a})()})),n})()};Ne(["click"]);var Ad=N('<div class=parts-list><div class=parts-controls><div class=search-box><input type=text class=search-input></div><div class=sort-controls><label>:</label><select class=sort-select><option value=name></option><option value=quantity></option><option value=size></option></select></div></div><div class=parts-table><div class=table-header><div class="table-cell checkbox-cell"><input type=checkbox></div><div class="table-cell name-cell sortable"> </div><div class="table-cell quantity-cell sortable"> </div><div class="table-cell size-cell sortable"> </div><div class="table-cell rotation-cell"></div></div><div class=table-body>'),Od=N('<div><div class="table-cell checkbox-cell"><input type=checkbox></div><div class="table-cell name-cell"><div class=part-name></div></div><div class="table-cell quantity-cell"><input type=number min=1 class=quantity-input></div><div class="table-cell size-cell"><span class=size-text></span></div><div class="table-cell rotation-cell"><input type=number min=0 max=360 step=90 class=rotation-input><span class=rotation-unit>');const Nd=()=>{const[t]=Ee("parts"),[e,s]=X(""),[n,i]=X("name"),[r,a]=X("asc"),o=ce(()=>{let h=v.app.parts;if(e()){const _=e().toLowerCase();h=h.filter(f=>f.name.toLowerCase().includes(_)||f.source.toLowerCase().includes(_))}return h=h.sort((_,f)=>{let m,$;switch(n()){case"name":m=_.name,$=f.name;break;case"quantity":m=_.quantity,$=f.quantity;break;case"size":m=_.bounds.width*_.bounds.height,$=f.bounds.width*f.bounds.height;break;default:m=_.name,$=f.name}return typeof m=="string"&&typeof $=="string"?r()==="asc"?m.localeCompare($):$.localeCompare(m):r()==="asc"?m-$:$-m}),h}),c=h=>{C.updatePart(h.id,{selected:!h.selected})},d=(h,_)=>{_<1&&(_=1),C.updatePart(h,{quantity:_})},g=(h,_)=>{C.updatePart(h,{rotation:_})},p=h=>{n()===h?a(r()==="asc"?"desc":"asc"):(i(h),a("asc"))},u=h=>`${h.width.toFixed(1)}  ${h.height.toFixed(1)}`;return(()=>{var h=Ad(),_=h.firstChild,f=_.firstChild,m=f.firstChild,$=f.nextSibling,S=$.firstChild,P=S.firstChild,b=S.nextSibling,L=b.firstChild,K=L.nextSibling,E=K.nextSibling,R=_.nextSibling,x=R.firstChild,w=x.firstChild,F=w.firstChild,se=w.nextSibling,D=se.firstChild,T=se.nextSibling,I=T.firstChild,j=T.nextSibling,W=j.firstChild,z=j.nextSibling,V=x.nextSibling;return m.$$input=A=>s(A.currentTarget.value),l(S,()=>t("sort_by"),P),b.addEventListener("change",A=>i(A.currentTarget.value)),l(L,()=>t("name")),l(K,()=>t("quantity")),l(E,()=>t("size")),F.addEventListener("change",A=>{const U=A.currentTarget.checked;v.app.parts.forEach(G=>{C.updatePart(G.id,{selected:U})})}),se.$$click=()=>p("name"),l(se,()=>t("name"),D),l(se,(()=>{var A=Be(()=>n()==="name");return()=>A()&&(r()==="asc"?"":"")})(),null),T.$$click=()=>p("quantity"),l(T,()=>t("quantity"),I),l(T,(()=>{var A=Be(()=>n()==="quantity");return()=>A()&&(r()==="asc"?"":"")})(),null),j.$$click=()=>p("size"),l(j,()=>t("size"),W),l(j,(()=>{var A=Be(()=>n()==="size");return()=>A()&&(r()==="asc"?"":"")})(),null),l(z,()=>t("rotation")),l(V,y(Ie,{get each(){return o()},children:A=>(()=>{var U=Od(),G=U.firstChild,M=G.firstChild,Z=G.nextSibling,re=Z.firstChild,ae=Z.nextSibling,ge=ae.firstChild,fe=ae.nextSibling,Pe=fe.firstChild,$e=fe.nextSibling,Se=$e.firstChild;return M.addEventListener("change",()=>c(A)),l(re,()=>A.name),ge.addEventListener("change",de=>d(A.id,parseInt(de.currentTarget.value))),l(Pe,()=>u(A.bounds)),Se.addEventListener("change",de=>g(A.id,parseInt(de.currentTarget.value))),k(de=>{var be=`table-row ${A.selected?"selected":""}`,me=A.source;return be!==de.e&&Ve(U,de.e=be),me!==de.t&&Y(re,"title",de.t=me),de},{e:void 0,t:void 0}),k(()=>M.checked=A.selected),k(()=>ge.value=A.quantity),k(()=>Se.value=A.rotation),U})()})),k(A=>{var U=t("search_parts"),G=v.app.parts.some(M=>M.selected)&&!v.app.parts.every(M=>M.selected);return U!==A.e&&Y(m,"placeholder",A.e=U),G!==A.t&&(F.indeterminate=A.t=G),A},{e:void 0,t:void 0}),k(()=>m.value=e()),k(()=>b.value=n()),k(()=>F.checked=v.app.parts.every(A=>A.selected)),h})()};Ne(["input","click"]);var Ed=N('<div class=parts-panel><div class=panel-header><h2></h2><div class=panel-actions><button class="button secondary"> </button><button class="button secondary"> </button><button class="button secondary"> </button></div></div><div class=parts-summary><div class=summary-item><span class=summary-label>:</span><span class=summary-value></span></div><div class=summary-item><span class=summary-label>:</span><span class=summary-value></span></div><div class=summary-actions><button class=button-link></button><span class=separator>|</span><button class=button-link></button></div></div><div class=panel-content>'),Fd=N('<div class=empty-state><div class=empty-icon></div><h3></h3><p></p><button class="button primary">');const Rd=()=>{const[t]=Ee("parts"),e=ce(()=>v.app.parts.length),s=ce(()=>v.app.parts.reduce((c,d)=>c+d.quantity,0)),n=async()=>{if(!ee.isAvailable){console.warn("IPC not available");return}try{const c=await ee.openFileDialog({title:t("import_parts"),filters:[{name:"Vector Files",extensions:["svg","dxf"]},{name:"SVG Files",extensions:["svg"]},{name:"DXF Files",extensions:["dxf"]},{name:"All Files",extensions:["*"]}],properties:["openFile","multiSelections"]});if(c.canceled||!c.filePaths?.length)return;const d=await ee.importParts(c.filePaths);C.setParts([...v.app.parts,...d])}catch(c){console.error("Failed to import parts:",c),C.setError(t("import_failed"))}},i=async()=>{const c=v.app.parts.filter(d=>d.selected);if(c.length===0){C.setError(t("no_parts_selected"));return}try{const d=await ee.saveFileDialog({title:t("export_parts"),defaultPath:"parts.svg",filters:[{name:"SVG Files",extensions:["svg"]},{name:"DXF Files",extensions:["dxf"]},{name:"All Files",extensions:["*"]}]});if(d.canceled||!d.filePath)return;await ee.exportParts(c,d.filePath)}catch(d){console.error("Failed to export parts:",d),C.setError(t("export_failed"))}},r=()=>{if(v.app.parts.filter(g=>g.selected).length===0){C.setError(t("no_parts_selected"));return}const d=v.app.parts.filter(g=>!g.selected);C.setParts(d)},a=()=>{v.app.parts.forEach(c=>{C.updatePart(c.id,{selected:!0})})},o=()=>{v.app.parts.forEach(c=>{C.updatePart(c.id,{selected:!1})})};return(()=>{var c=Ed(),d=c.firstChild,g=d.firstChild,p=g.nextSibling,u=p.firstChild;u.firstChild;var h=u.nextSibling;h.firstChild;var _=h.nextSibling;_.firstChild;var f=d.nextSibling,m=f.firstChild,$=m.firstChild,S=$.firstChild,P=$.nextSibling,b=m.nextSibling,L=b.firstChild,K=L.firstChild,E=L.nextSibling,R=b.nextSibling,x=R.firstChild,w=x.nextSibling,F=w.nextSibling,se=f.nextSibling;return l(g,()=>t("parts_title")),u.$$click=n,l(u,()=>t("import"),null),h.$$click=i,l(h,()=>t("export"),null),_.$$click=r,l(_,()=>t("delete"),null),l($,()=>t("total_parts"),S),l(P,e),l(L,()=>t("total_quantity"),K),l(E,s),x.$$click=a,l(x,()=>t("select_all")),F.$$click=o,l(F,()=>t("deselect_all")),l(se,y(te,{get when(){return e()>0},get fallback(){return(()=>{var D=Fd(),T=D.firstChild,I=T.nextSibling,j=I.nextSibling,W=j.nextSibling;return l(I,()=>t("no_parts_loaded")),l(j,()=>t("import_parts_to_get_started")),W.$$click=n,l(W,()=>t("import_parts")),D})()},get children(){return y(Nd,{})}})),k(D=>{var T=t("import_parts"),I=t("export_selected"),j=v.app.parts.filter(U=>U.selected).length===0,W=t("delete_selected"),z=v.app.parts.filter(U=>U.selected).length===0,V=e()===0,A=e()===0;return T!==D.e&&Y(u,"title",D.e=T),I!==D.t&&Y(h,"title",D.t=I),j!==D.a&&(h.disabled=D.a=j),W!==D.o&&Y(_,"title",D.o=W),z!==D.i&&(_.disabled=D.i=z),V!==D.n&&(x.disabled=D.n=V),A!==D.s&&(F.disabled=D.s=A),D},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),c})()};Ne(["click"]);var Td=N("<div class=time-remaining>: "),Dd=N("<div class=current-operation><span class=operation-label>:</span><span class=operation-text>"),Id=N("<div class=current-nest-info><div class=info-item><span class=info-label>:</span><span class=info-value></span></div><div class=info-item><span class=info-label>:</span><span class=info-value>"),Md=N('<div class=nesting-progress><div class=progress-header><h3></h3><div class=progress-percentage>%</div></div><div class=progress-bar-container><div class="progress-bar large"><div class=progress-fill></div></div></div><div class=progress-details><div class=worker-info><div class=info-item><span class=info-label>:</span><span class=info-value></span></div><div class=info-item><span class=info-label>:</span><span></span></div></div></div><div class=progress-actions><button class=button-link>');const Ud=()=>{const[t]=Ee("nesting"),e=ce(()=>Math.max(0,Math.min(100,v.process.progress))),s=ce(()=>{const n=e();if(n===0)return null;const r=6e4*(100-n)/n;return r<6e4?`${Math.round(r/1e3)}s`:`${Math.round(r/6e4)}m`});return(()=>{var n=Md(),i=n.firstChild,r=i.firstChild,a=r.nextSibling,o=a.firstChild,c=i.nextSibling,d=c.firstChild,g=d.firstChild,p=c.nextSibling,u=p.firstChild,h=u.firstChild,_=h.firstChild,f=_.firstChild,m=_.nextSibling,$=h.nextSibling,S=$.firstChild,P=S.firstChild,b=S.nextSibling,L=p.nextSibling,K=L.firstChild;return l(r,()=>t("nesting_in_progress")),l(a,()=>e().toFixed(1),o),l(c,y(te,{get when(){return s()},get children(){var E=Td(),R=E.firstChild;return l(E,()=>t("estimated_time_remaining"),R),l(E,s,null),E}}),null),l(p,y(te,{get when(){return v.process.workerStatus.currentOperation},get children(){var E=Dd(),R=E.firstChild,x=R.firstChild,w=R.nextSibling;return l(R,()=>t("current_operation"),x),l(w,()=>v.process.workerStatus.currentOperation),E}}),u),l(_,()=>t("threads_active"),f),l(m,()=>v.process.workerStatus.threadsActive),l(S,()=>t("worker_status"),P),l(b,(()=>{var E=Be(()=>!!v.process.workerStatus.isRunning);return()=>E()?t("running"):t("stopped")})()),l(p,y(te,{get when(){return v.process.currentNest},get children(){var E=Id(),R=E.firstChild,x=R.firstChild,w=x.firstChild,F=x.nextSibling,se=R.nextSibling,D=se.firstChild,T=D.firstChild,I=D.nextSibling;return l(x,()=>t("current_generation"),w),l(F,()=>v.process.currentNest?.generation||0),l(D,()=>t("best_fitness"),T),l(I,()=>v.process.currentNest?.fitness?.toFixed(2)||"N/A"),E}}),null),K.$$click=()=>window.location.reload(),l(K,()=>t("refresh_status")),k(E=>{var R=`${e()}%`,x=`info-value ${v.process.workerStatus.isRunning?"running":"stopped"}`;return R!==E.e&&((E.e=R)!=null?g.style.setProperty("width",R):g.style.removeProperty("width")),x!==E.t&&Ve(b,E.t=x),E},{e:void 0,t:void 0}),n})()};Ne(["click"]);var zd=N("<div class=stat-row><span class=stat-title>:</span><span class=stat-data>ms"),jd=N("<div class=stat-row><span class=stat-title>:</span><span class=stat-data>"),Vd=N('<div class=result-viewer><div class=viewer-controls><div class=zoom-controls><button class=control-button></button><span class=zoom-level>%</span><button class=control-button>+</button><button class=control-button></button></div></div><div class=viewer-content><div class=svg-viewer-container><svg class=result-svg width=100% height=400 viewBox="0 0 800 400"><g><defs><pattern id=grid width=20 height=20 patternUnits=userSpaceOnUse><path d="M 20 0 L 0 0 0 20"fill=none stroke=#e0e0e0 stroke-width=1></path></pattern></defs><rect width=800 height=400 fill=url(#grid)></rect></g></svg></div><div class=result-statistics><h4></h4><div class=stats-grid><div class=stat-card><div class="stat-value efficiency"></div><div class=stat-label></div></div><div class=stat-card><div class=stat-value></div><div class=stat-label></div></div><div class=stat-card><div class=stat-value></div><div class=stat-label></div></div><div class=stat-card><div class=stat-value>%</div><div class=stat-label></div></div></div><div class=detailed-stats><div class=stat-row><span class=stat-title>:</span><span class=stat-data></span></div><div class=stat-row><span class=stat-title>:</span><span class=stat-data>'),Bd=N('<svg><g class=sheet-group><rect fill="rgba(200, 200, 200, 0.3)"stroke=var(--border-color) stroke-width=2></rect><text font-size=12 fill=var(--text-secondary)> </svg>',!1,!0,!1),Kd=N('<svg><g class=part-group><rect fill="rgba(36, 199, 237, 0.7)"stroke=var(--button-primary) stroke-width=1></svg>',!1,!0,!1);const qd=t=>{const[e]=Ee("nesting"),[s,n]=X(1),[i,r]=X({x:0,y:0}),[a,o]=X(!1),[c,d]=X({x:0,y:0}),g=ce(()=>t.result.sheets?.reduce((b,L)=>b+L.width*L.height,0)||0),p=ce(()=>t.result.placedParts||0),u=ce(()=>{const b=g(),L=p();return b===0?0:(b-L)/b*100}),h=()=>{n(b=>Math.min(b*1.2,5))},_=()=>{n(b=>Math.max(b/1.2,.1))},f=()=>{n(1),r({x:0,y:0})},m=b=>{o(!0),d({x:b.clientX-i().x,y:b.clientY-i().y})},$=b=>{if(!a())return;const L={x:b.clientX-c().x,y:b.clientY-c().y};r(L)},S=()=>{o(!1)},P=ce(()=>{const b=s(),L=i();return`translate(${L.x}, ${L.y}) scale(${b})`});return(()=>{var b=Vd(),L=b.firstChild,K=L.firstChild,E=K.firstChild,R=E.nextSibling,x=R.firstChild,w=R.nextSibling,F=w.nextSibling,se=L.nextSibling,D=se.firstChild,T=D.firstChild,I=T.firstChild,j=I.firstChild;j.nextSibling;var W=D.nextSibling,z=W.firstChild,V=z.nextSibling,A=V.firstChild,U=A.firstChild,G=U.nextSibling,M=A.nextSibling,Z=M.firstChild,re=Z.nextSibling,ae=M.nextSibling,ge=ae.firstChild,fe=ge.nextSibling,Pe=ae.nextSibling,$e=Pe.firstChild,Se=$e.firstChild,de=$e.nextSibling,be=V.nextSibling,me=be.firstChild,ye=me.firstChild,Fe=ye.firstChild,Me=ye.nextSibling,we=me.nextSibling,Ce=we.firstChild,Le=Ce.firstChild,ke=Ce.nextSibling;return E.$$click=_,l(R,()=>Math.round(s()*100),x),w.$$click=h,F.$$click=f,T.addEventListener("mouseleave",S),T.$$mouseup=S,T.$$mousemove=$,T.$$mousedown=m,l(I,y(Ie,{get each(){return t.result.sheets||[]},children:(B,q)=>(()=>{var ie=Bd(),J=ie.firstChild,le=J.nextSibling,pe=le.firstChild;return l(le,()=>e("sheet"),pe),l(le,()=>q()+1,null),k(ue=>{var Re=B.x||0,Te=B.y||0,Q=B.width,_e=B.height,je=(B.x||0)+10,We=(B.y||0)+25;return Re!==ue.e&&Y(J,"x",ue.e=Re),Te!==ue.t&&Y(J,"y",ue.t=Te),Q!==ue.a&&Y(J,"width",ue.a=Q),_e!==ue.o&&Y(J,"height",ue.o=_e),je!==ue.i&&Y(le,"x",ue.i=je),We!==ue.n&&Y(le,"y",ue.n=We),ue},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),ie})()}),null),l(I,y(Ie,{get each(){return t.result.placements||[]},children:B=>(()=>{var q=Kd(),ie=q.firstChild;return k(J=>{var le=B.x,pe=B.y,ue=B.width||50,Re=B.height||50,Te=`rotate(${B.rotation||0} ${B.x+(B.width||50)/2} ${B.y+(B.height||50)/2})`;return le!==J.e&&Y(ie,"x",J.e=le),pe!==J.t&&Y(ie,"y",J.t=pe),ue!==J.a&&Y(ie,"width",J.a=ue),Re!==J.o&&Y(ie,"height",J.o=Re),Te!==J.i&&Y(ie,"transform",J.i=Te),J},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),q})()}),null),l(z,()=>e("statistics")),l(U,(()=>{var B=Be(()=>!!t.result.efficiency);return()=>B()?`${(t.result.efficiency*100).toFixed(1)}%`:"N/A"})()),l(G,()=>e("material_efficiency")),l(Z,()=>t.result.fitness?.toFixed(2)||"N/A"),l(re,()=>e("fitness_score")),l(ge,()=>t.result.sheets?.length||0),l(fe,()=>e("sheets_used")),l($e,()=>u().toFixed(1),Se),l(de,()=>e("material_waste")),l(ye,()=>e("total_parts_placed"),Fe),l(Me,()=>t.result.placedParts||0),l(Ce,()=>e("total_material_used"),Le),l(ke,()=>g().toFixed(2)),l(be,y(te,{get when(){return t.result.generationTime},get children(){var B=zd(),q=B.firstChild,ie=q.firstChild,J=q.nextSibling,le=J.firstChild;return l(q,()=>e("generation_time"),ie),l(J,()=>t.result.generationTime,le),B}}),null),l(be,y(te,{get when(){return t.result.generation},get children(){var B=jd(),q=B.firstChild,ie=q.firstChild,J=q.nextSibling;return l(q,()=>e("generation_number"),ie),l(J,()=>t.result.generation),B}}),null),k(B=>{var q=e("zoom_out"),ie=e("zoom_in"),J=e("reset_view"),le=a()?"grabbing":"grab",pe=P();return q!==B.e&&Y(E,"title",B.e=q),ie!==B.t&&Y(w,"title",B.t=ie),J!==B.a&&Y(F,"title",B.a=J),le!==B.o&&((B.o=le)!=null?T.style.setProperty("cursor",le):T.style.removeProperty("cursor")),pe!==B.i&&Y(I,"transform",B.i=pe),B},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),b})()};Ne(["click","mousedown","mousemove","mouseup"]);var Hd=N('<div class=result-detail-view><div class=detail-header><button class="button secondary"> </button><h3></h3><div class=detail-actions><button class="button secondary"> '),Wd=N("<div class=results-header><h3> (<!>)</h3><div class=results-controls><label class=sort-label>"),Jd=N("<div class=results-grid>"),Gd=N("<div class=results-grid-container>"),Qd=N("<span class=best-badge>"),Xd=N("<div class=stat-item><span class=stat-label>:</span><span class=stat-value>"),Yd=N('<div class=result-card><div class=result-preview><div class=preview-placeholder><div class=preview-icon></div><div class=preview-text></div></div></div><div class=result-info><div class=result-title> #</div><div class=result-stats><div class=stat-item><span class=stat-label>:</span><span class="stat-value efficiency"></span></div><div class=stat-item><span class=stat-label>:</span><span class=stat-value></span></div><div class=stat-item><span class=stat-label>:</span><span class=stat-value></span></div></div><div class=result-actions><button class=button-link></button><button class=button-link></button><button class="button-link danger">');const Zd=()=>{const[t]=Ee("nesting"),[e,s]=X(null),[n,i]=X("grid"),r=ce(()=>[...v.app.nests].sort((u,h)=>u.efficiency!==h.efficiency?(h.efficiency||0)-(u.efficiency||0):(h.fitness||0)-(u.fitness||0))),a=u=>{s(u),i("detail")},o=()=>{s(null),i("grid")},c=async u=>{if(ee.isAvailable)try{const h=await ee.saveFileDialog({title:t("export_result"),defaultPath:`nest_result_${u.id}.svg`,filters:[{name:"SVG Files",extensions:["svg"]},{name:"DXF Files",extensions:["dxf"]},{name:"All Files",extensions:["*"]}]});if(h.canceled||!h.filePath)return;await ee.exportNestResult(u,h.filePath)}catch(h){console.error("Failed to export result:",h),C.setError(t("export_failed"))}},d=u=>{const h=v.app.nests.filter(_=>_.id!==u.id);C.setNests(h)},g=u=>u?`${(u*100).toFixed(1)}%`:"N/A",p=u=>u?u.toFixed(2):"N/A";return(()=>{var u=Gd();return l(u,y(te,{get when(){return Be(()=>n()==="detail")()&&e()},get children(){var h=Hd(),_=h.firstChild,f=_.firstChild;f.firstChild;var m=f.nextSibling,$=m.nextSibling,S=$.firstChild;return S.firstChild,f.$$click=o,l(f,()=>t("back_to_results"),null),l(m,()=>t("result_details")),S.$$click=()=>c(e()),l(S,()=>t("export"),null),l(h,y(qd,{get result(){return e()}}),null),h}}),null),l(u,y(te,{get when(){return n()==="grid"},get children(){return[(()=>{var h=Wd(),_=h.firstChild,f=_.firstChild,m=f.nextSibling;m.nextSibling;var $=_.nextSibling,S=$.firstChild;return l(_,()=>t("nesting_results"),f),l(_,()=>r().length,m),l(S,()=>t("sorted_by_efficiency")),h})(),(()=>{var h=Jd();return l(h,y(Ie,{get each(){return r()},children:(_,f)=>(()=>{var m=Yd(),$=m.firstChild,S=$.firstChild,P=S.firstChild,b=P.nextSibling,L=$.nextSibling,K=L.firstChild,E=K.firstChild,R=K.nextSibling,x=R.firstChild,w=x.firstChild,F=w.firstChild,se=w.nextSibling,D=x.nextSibling,T=D.firstChild,I=T.firstChild,j=T.nextSibling,W=D.nextSibling,z=W.firstChild,V=z.firstChild,A=z.nextSibling,U=R.nextSibling,G=U.firstChild,M=G.nextSibling,Z=M.nextSibling;return $.$$click=()=>a(_),l(b,()=>t("click_to_view")),l(K,()=>t("result"),E),l(K,()=>f()+1,null),l(K,y(te,{get when(){return f()===0},get children(){var re=Qd();return l(re,()=>t("best")),re}}),null),l(w,()=>t("efficiency"),F),l(se,()=>g(_.efficiency)),l(T,()=>t("fitness"),I),l(j,()=>p(_.fitness)),l(z,()=>t("sheets_used"),V),l(A,()=>_.sheets?.length||0),l(R,y(te,{get when(){return _.placedParts},get children(){var re=Xd(),ae=re.firstChild,ge=ae.firstChild,fe=ae.nextSibling;return l(ae,()=>t("parts_placed"),ge),l(fe,()=>_.placedParts),re}}),null),G.$$click=()=>a(_),l(G,()=>t("view_details")),M.$$click=()=>c(_),l(M,()=>t("export")),Z.$$click=()=>d(_),l(Z,()=>t("delete")),m})()})),h})()]}}),null),u})()};Ne(["click"]);var eu=N('<button class="button secondary"> '),tu=N('<div class=nesting-panel><div class=panel-header><h2></h2><div class=panel-actions><button class="button primary"> </button><button class="button secondary"> </button></div></div><div class=nesting-summary><div class=summary-item><span class=summary-label>:</span><span class=summary-value></span></div><div class=summary-item><span class=summary-label>:</span><span class=summary-value></span></div><div class=summary-item><span class=summary-label>:</span><span class=summary-value></span></div></div><div class=panel-content>'),su=N("<p class=warning-text>"),nu=N("<div class=empty-state><div class=empty-icon></div><h3></h3><p>");const iu=()=>{const[t]=Ee("nesting"),e=ce(()=>v.app.parts.length>0&&v.app.sheets.length>0&&!v.process.isNesting),s=ce(()=>v.app.nests.length>0),n=async()=>{if(e())try{C.setNestingStatus(!0),C.setNestingProgress(0),C.setError(null);const o={parts:v.app.parts.filter(c=>c.quantity>0),sheets:v.app.sheets,config:v.config};await ee.startNesting(o)}catch(o){console.error("Failed to start nesting:",o),C.setError(t("start_nesting_failed")),C.setNestingStatus(!1)}},i=async()=>{if(v.process.isNesting)try{await ee.stopNesting(),C.setNestingStatus(!1)}catch(o){console.error("Failed to stop nesting:",o),C.setError(t("stop_nesting_failed"))}},r=()=>{C.setNests([])},a=ce(()=>v.app.parts.filter(o=>o.quantity>0).length);return(()=>{var o=tu(),c=o.firstChild,d=c.firstChild,g=d.nextSibling,p=g.firstChild;p.firstChild;var u=p.nextSibling;u.firstChild;var h=c.nextSibling,_=h.firstChild,f=_.firstChild,m=f.firstChild,$=f.nextSibling,S=_.nextSibling,P=S.firstChild,b=P.firstChild,L=P.nextSibling,K=S.nextSibling,E=K.firstChild,R=E.firstChild,x=E.nextSibling,w=h.nextSibling;return l(d,()=>t("nesting_title")),p.$$click=n,l(p,()=>t("start_nesting"),null),u.$$click=i,l(u,()=>t("stop_nesting"),null),l(g,y(te,{get when(){return s()&&!v.process.isNesting},get children(){var F=eu();return F.firstChild,F.$$click=r,l(F,()=>t("clear_results"),null),k(()=>Y(F,"title",t("clear_results"))),F}}),null),l(f,()=>t("parts_to_nest"),m),l($,a),l(P,()=>t("available_sheets"),b),l(L,()=>v.app.sheets.length),l(E,()=>t("results_count"),R),l(x,()=>v.app.nests.length),l(w,y(te,{get when(){return v.process.isNesting},get children(){return y(Ud,{})}}),null),l(w,y(te,{get when(){return s()},get fallback(){return(()=>{var F=nu(),se=F.firstChild,D=se.nextSibling,T=D.nextSibling;return l(D,()=>t("no_nesting_results")),l(T,()=>t("start_nesting_to_see_results")),l(F,y(te,{get when(){return!e()},get children(){var I=su();return l(I,()=>t("add_parts_and_sheets_first")),I}}),null),F})()},get children(){return y(Zd,{})}}),null),k(F=>{var se=!e(),D=e()?t("start_nesting"):t("cannot_start_nesting"),T=!v.process.isNesting,I=t("stop_nesting");return se!==F.e&&(p.disabled=F.e=se),D!==F.t&&Y(p,"title",F.t=D),T!==F.a&&(u.disabled=F.a=T),I!==F.o&&Y(u,"title",F.o=I),F},{e:void 0,t:void 0,a:void 0,o:void 0}),o})()};Ne(["click"]);var bt=N("<span class=error-message>"),ru=N("<div class=preview-detail>: <!> mm"),au=N('<div class=sheet-config><div class=config-form><div class=form-section><h4></h4><div class=form-group><label for=sheet-name>:</label><input id=sheet-name type=text class=form-input></div><div class=form-group><label for=material>:</label><select id=material class=form-select></select></div></div><div class=form-section><h4></h4><div class=preset-buttons></div><div class=dimensions-row><div class=form-group><label for=width> (mm):</label><input id=width type=number min=1 step=0.1></div><button type=button class=swap-button></button><div class=form-group><label for=height> (mm):</label><input id=height type=number min=1 step=0.1></div></div><div class=area-display>: <!> mm</div></div><div class=form-section><h4></h4><div class=properties-row><div class=form-group><label for=thickness> (mm):</label><input id=thickness type=number min=0.1 step=0.1></div><div class=form-group><label for=quantity>:</label><input id=quantity type=number min=1></div><div class=form-group><label for=margin> (mm):</label><input id=margin type=number min=0 step=0.1></div></div></div><div class=sheet-preview-section><h4></h4><div class=sheet-preview-container><div class=sheet-preview-visual><div class=sheet-preview-margin></div></div><div class=preview-info><div class=preview-detail>  <!> mm</div><div class=preview-detail>: <!> mm</div></div></div></div></div><div class=form-actions><button type=button class="button secondary"></button><button type=button class="button primary">'),ou=N("<option>"),lu=N("<button type=button class=preset-button>");const cu=t=>{const[e]=Ee("sheets"),[s,n]=X(""),[i,r]=X(200),[a,o]=X(200),[c,d]=X(3),[g,p]=X(1),[u,h]=X(5),[_,f]=X("Generic"),[m,$]=X({}),S=["Generic","Wood - Plywood","Wood - MDF","Wood - Hardwood","Metal - Aluminum","Metal - Steel","Metal - Brass","Plastic - Acrylic","Plastic - ABS","Cardboard","Fabric","Leather","Paper"],P=[{name:"A4",width:210,height:297},{name:"A3",width:297,height:420},{name:"A2",width:420,height:594},{name:"A1",width:594,height:841},{name:"Letter",width:216,height:279},{name:"Legal",width:216,height:356},{name:'1212"',width:305,height:305},{name:'2424"',width:610,height:610},{name:'4824"',width:1219,height:610}];as(()=>{const x=t.sheet;x?(n(x.name||""),r(x.width),o(x.height),d(x.thickness||3),p(x.quantity||1),h(x.margin||5),f(x.material||"Generic")):(n(""),r(200),o(200),d(3),p(1),h(5),f("Generic")),$({})});const b=()=>{const x={};return i()<=0&&(x.width=e("width_must_be_positive")),a()<=0&&(x.height=e("height_must_be_positive")),c()<=0&&(x.thickness=e("thickness_must_be_positive")),g()<=0&&(x.quantity=e("quantity_must_be_positive")),u()<0&&(x.margin=e("margin_cannot_be_negative")),$(x),Object.keys(x).length===0},L=()=>{if(!b())return;const x={id:t.sheet?.id||`sheet_${Date.now()}`,name:s().trim()||`Sheet ${Date.now()}`,width:i(),height:a(),thickness:c(),quantity:g(),margin:u(),material:_()};t.onSave(x)},K=x=>{r(x.width),o(x.height),s().trim()||n(x.name)},E=()=>{const x=i();r(a()),o(x)},R=()=>(i()*a()).toFixed(0);return(()=>{var x=au(),w=x.firstChild,F=w.firstChild,se=F.firstChild,D=se.nextSibling,T=D.firstChild,I=T.firstChild,j=T.nextSibling,W=D.nextSibling,z=W.firstChild,V=z.firstChild,A=z.nextSibling,U=F.nextSibling,G=U.firstChild,M=G.nextSibling,Z=M.nextSibling,re=Z.firstChild,ae=re.firstChild,ge=ae.firstChild,fe=ae.nextSibling,Pe=re.nextSibling,$e=Pe.nextSibling,Se=$e.firstChild,de=Se.firstChild,be=Se.nextSibling,me=Z.nextSibling,ye=me.firstChild,Fe=ye.nextSibling;Fe.nextSibling;var Me=U.nextSibling,we=Me.firstChild,Ce=we.nextSibling,Le=Ce.firstChild,ke=Le.firstChild,B=ke.firstChild,q=ke.nextSibling,ie=Le.nextSibling,J=ie.firstChild,le=J.firstChild,pe=J.nextSibling,ue=ie.nextSibling,Re=ue.firstChild,Te=Re.firstChild,Q=Re.nextSibling,_e=Me.nextSibling,je=_e.firstChild,We=je.nextSibling,Ue=We.firstChild,rt=Ue.firstChild,tt=Ue.nextSibling,Je=tt.firstChild,Ke=Je.firstChild,at=Ke.nextSibling;at.nextSibling;var Ge=Je.nextSibling,ot=Ge.firstChild,Ye=ot.nextSibling;Ye.nextSibling;var qe=w.nextSibling,De=qe.firstChild,Ze=De.nextSibling;return l(se,()=>e("basic_information")),l(T,()=>e("sheet_name"),I),j.$$input=O=>n(O.currentTarget.value),l(z,()=>e("material"),V),A.addEventListener("change",O=>f(O.currentTarget.value)),l(A,y(Ie,{each:S,children:O=>(()=>{var Ae=ou();return Ae.value=O,l(Ae,O),Ae})()})),l(G,()=>e("dimensions")),l(M,y(Ie,{each:P,children:O=>(()=>{var Ae=lu();return Ae.$$click=()=>K(O),l(Ae,()=>O.name),k(()=>Y(Ae,"title",`${O.width}  ${O.height} mm`)),Ae})()})),l(ae,()=>e("width"),ge),fe.$$input=O=>r(parseFloat(O.currentTarget.value)||0),l(re,y(te,{get when(){return m().width},get children(){var O=bt();return l(O,()=>m().width),O}}),null),Pe.$$click=E,l(Se,()=>e("height"),de),be.$$input=O=>o(parseFloat(O.currentTarget.value)||0),l($e,y(te,{get when(){return m().height},get children(){var O=bt();return l(O,()=>m().height),O}}),null),l(me,()=>e("area"),ye),l(me,R,Fe),l(we,()=>e("properties")),l(ke,()=>e("thickness"),B),q.$$input=O=>d(parseFloat(O.currentTarget.value)||0),l(Le,y(te,{get when(){return m().thickness},get children(){var O=bt();return l(O,()=>m().thickness),O}}),null),l(J,()=>e("quantity"),le),pe.$$input=O=>p(parseInt(O.currentTarget.value)||0),l(ie,y(te,{get when(){return m().quantity},get children(){var O=bt();return l(O,()=>m().quantity),O}}),null),l(Re,()=>e("margin"),Te),Q.$$input=O=>h(parseFloat(O.currentTarget.value)||0),l(ue,y(te,{get when(){return m().margin},get children(){var O=bt();return l(O,()=>m().margin),O}}),null),l(je,()=>e("preview")),Ue.style.setProperty("max-width","200px"),Ue.style.setProperty("max-height","200px"),l(Je,i,Ke),l(Je,a,at),l(Ge,()=>e("area"),ot),l(Ge,R,Ye),l(tt,y(te,{get when(){return u()>0},get children(){var O=ru(),Ae=O.firstChild,st=Ae.nextSibling;return st.nextSibling,l(O,()=>e("margin"),Ae),l(O,u,st),O}}),null),fn(De,"click",t.onCancel),l(De,()=>e("cancel")),Ze.$$click=L,l(Ze,(()=>{var O=Be(()=>!!t.sheet);return()=>O()?e("update_sheet"):e("add_sheet")})()),k(O=>{var Ae=e("enter_sheet_name"),st=`form-input ${m().width?"error":""}`,ft=e("swap_dimensions"),lt=`form-input ${m().height?"error":""}`,Lt=`form-input ${m().thickness?"error":""}`,At=`form-input ${m().quantity?"error":""}`,Ot=`form-input ${m().margin?"error":""}`,ne=`${i()} / ${a()}`,nt=`${Math.max(u()/Math.max(i(),a())*100,2)}%`;return Ae!==O.e&&Y(j,"placeholder",O.e=Ae),st!==O.t&&Ve(fe,O.t=st),ft!==O.a&&Y(Pe,"title",O.a=ft),lt!==O.o&&Ve(be,O.o=lt),Lt!==O.i&&Ve(q,O.i=Lt),At!==O.n&&Ve(pe,O.n=At),Ot!==O.s&&Ve(Q,O.s=Ot),ne!==O.h&&((O.h=ne)!=null?Ue.style.setProperty("aspect-ratio",ne):Ue.style.removeProperty("aspect-ratio")),nt!==O.r&&((O.r=nt)!=null?rt.style.setProperty("margin",nt):rt.style.removeProperty("margin")),O},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0}),k(()=>j.value=s()),k(()=>A.value=_()),k(()=>fe.value=i()),k(()=>be.value=a()),k(()=>q.value=c()),k(()=>pe.value=g()),k(()=>Q.value=u()),x})()};Ne(["input","click"]);var du=N("<div class=sheet-config-overlay><div class=sheet-config-modal><div class=modal-header><h3></h3><button class=close-button>"),uu=N("<div class=sheets-list><div class=list-header><h3></h3></div><div class=sheets-grid>"),gu=N('<div class=sheets-panel><div class=panel-header><h2></h2><div class=panel-actions><button class="button primary"> </button></div></div><div class=sheets-summary><div class=summary-item><span class=summary-label>:</span><span class=summary-value></span></div><div class=summary-item><span class=summary-label>:</span><span class=summary-value> mm</span></div></div><div class=panel-content>'),pu=N("<div class=empty-state><div class=empty-icon></div><h3></h3><p></p><div class=template-section><h4></h4><div class=template-grid>"),hu=N("<button class=template-button><div class=template-name></div><div class=template-size>  "),fu=N("<div class=detail-item><span class=detail-label>:</span><span class=detail-value> mm"),mu=N('<div class=sheet-card><div class=sheet-preview><div class=sheet-visual><div class=sheet-rectangle><div class=sheet-margin></div></div></div></div><div class=sheet-info><div class=sheet-title></div><div class=sheet-details><div class=detail-item><span class=detail-label>:</span><span class=detail-value></span></div><div class=detail-item><span class=detail-label>:</span><span class=detail-value></span></div><div class=detail-item><span class=detail-label>:</span><span class=detail-value></span></div></div><div class=sheet-actions><button class=button-link></button><button class="button-link danger">');const _u=()=>{const[t]=Ee("sheets"),[e,s]=X(!1),[n,i]=X(null),r=ce(()=>v.app.sheets.length),a=ce(()=>v.app.sheets.reduce((f,m)=>f+m.width*m.height,0)),o=[{name:"A4",width:210,height:297,units:"mm"},{name:"A3",width:297,height:420,units:"mm"},{name:"A2",width:420,height:594,units:"mm"},{name:"A1",width:594,height:841,units:"mm"},{name:"Letter",width:216,height:279,units:"mm"},{name:"Legal",width:216,height:356,units:"mm"},{name:'12x12"',width:305,height:305,units:"mm"},{name:'24x24"',width:610,height:610,units:"mm"},{name:'48x24"',width:1219,height:610,units:"mm"}],c=()=>{i(null),s(!0)},d=f=>{i(f),s(!0)},g=f=>{const m=v.app.sheets.filter($=>$.id!==f);C.setSheets(m)},p=f=>{n()?C.updateSheet(f.id,f):C.addSheet(f),s(!1),i(null)},u=()=>{s(!1),i(null)},h=f=>{const m={name:f.name,width:f.width,height:f.height,thickness:3,quantity:1,margin:5,material:"Generic"};C.addSheet(m)},_=f=>`${f.width}  ${f.height} mm`;return(()=>{var f=gu(),m=f.firstChild,$=m.firstChild,S=$.nextSibling,P=S.firstChild;P.firstChild;var b=m.nextSibling,L=b.firstChild,K=L.firstChild,E=K.firstChild,R=K.nextSibling,x=L.nextSibling,w=x.firstChild,F=w.firstChild,se=w.nextSibling,D=se.firstChild,T=b.nextSibling;return l($,()=>t("sheets_title")),P.$$click=c,l(P,()=>t("add_sheet"),null),l(K,()=>t("total_sheets"),E),l(R,r),l(w,()=>t("total_area"),F),l(se,()=>a().toFixed(0),D),l(f,y(te,{get when(){return e()},get children(){var I=du(),j=I.firstChild,W=j.firstChild,z=W.firstChild,V=z.nextSibling;return l(z,(()=>{var A=Be(()=>!!n());return()=>A()?t("edit_sheet"):t("add_new_sheet")})()),V.$$click=u,l(j,y(cu,{get sheet(){return n()},onSave:p,onCancel:u}),null),I}}),T),l(T,y(te,{get when(){return r()>0},get fallback(){return(()=>{var I=pu(),j=I.firstChild,W=j.nextSibling,z=W.nextSibling,V=z.nextSibling,A=V.firstChild,U=A.nextSibling;return l(W,()=>t("no_sheets_loaded")),l(z,()=>t("add_sheets_to_get_started")),l(A,()=>t("quick_templates")),l(U,y(Ie,{each:o,children:G=>(()=>{var M=hu(),Z=M.firstChild,re=Z.nextSibling,ae=re.firstChild;return M.$$click=()=>h(G),l(Z,()=>G.name),l(re,()=>G.width,ae),l(re,()=>G.height,null),k(()=>Y(M,"title",`${G.width}  ${G.height} ${G.units}`)),M})()})),I})()},get children(){var I=uu(),j=I.firstChild,W=j.firstChild,z=j.nextSibling;return l(W,()=>t("configured_sheets")),l(z,y(Ie,{get each(){return v.app.sheets},children:(V,A)=>(()=>{var U=mu(),G=U.firstChild,M=G.firstChild,Z=M.firstChild,re=Z.firstChild,ae=G.nextSibling,ge=ae.firstChild,fe=ge.nextSibling,Pe=fe.firstChild,$e=Pe.firstChild,Se=$e.firstChild,de=$e.nextSibling,be=Pe.nextSibling,me=be.firstChild,ye=me.firstChild,Fe=me.nextSibling,Me=be.nextSibling,we=Me.firstChild,Ce=we.firstChild,Le=we.nextSibling,ke=fe.nextSibling,B=ke.firstChild,q=B.nextSibling;return Z.style.setProperty("max-width","120px"),Z.style.setProperty("max-height","120px"),re.style.setProperty("margin","8px"),l(ge,()=>V.name||`${t("sheet")} ${A()+1}`),l($e,()=>t("dimensions"),Se),l(de,()=>_(V)),l(me,()=>t("quantity"),ye),l(Fe,()=>V.quantity),l(we,()=>t("material"),Ce),l(Le,()=>V.material||"Generic"),l(fe,y(te,{get when(){return V.margin},get children(){var ie=fu(),J=ie.firstChild,le=J.firstChild,pe=J.nextSibling,ue=pe.firstChild;return l(J,()=>t("margin"),le),l(pe,()=>V.margin,ue),ie}}),null),B.$$click=()=>d(V),l(B,()=>t("edit")),q.$$click=()=>g(V.id),l(q,()=>t("delete")),k(ie=>(ie=`${V.width} / ${V.height}`)!=null?Z.style.setProperty("aspect-ratio",ie):Z.style.removeProperty("aspect-ratio")),U})()})),I}})),k(()=>Y(P,"title",t("add_sheet"))),f})()};Ne(["click"]);var vu=N('<div class=create-preset-form><h4></h4><div class=form-group><label for=preset-name>:</label><input id=preset-name type=text class=form-input></div><div class=form-group><label for=preset-description>:</label><textarea id=preset-description class=form-textarea rows=3></textarea></div><div class=form-actions><button class="button secondary"></button><button class="button primary">'),bu=N("<div class=presets-grid>"),$u=N('<div class=preset-manager><div class=section-header><h3></h3><div class=header-actions><button class="button secondary"> </button><button class="button primary"> </button></div></div><div class=preset-description><p></p></div><div class=presets-list>'),xu=N("<div class=empty-state><div class=empty-icon></div><h4></h4><p>"),Su=N("<p class=preset-description>"),yu=N("<div class=meta-item><span class=meta-label>:</span><span class=meta-value>"),wu=N('<div><div class=preset-header><h4 class=preset-name></h4><div class=preset-actions><button class=action-button></button><button class="action-button danger"></button></div></div><div class=preset-meta><div class=meta-item><span class=meta-label>:</span><span class=meta-value></span></div></div><div class=preset-footer><button class="button primary">');const Cu=()=>{const[t]=Ee("settings"),[e,s]=X(!1),[n,i]=X(""),[r,a]=X(""),[o,c]=X(""),d=async()=>{const f=n().trim();if(!f){C.setError(t("preset_name_required"));return}try{const m={id:`preset_${Date.now()}`,name:f,description:r().trim(),config:{...v.config},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};C.addPreset(m),ee.isAvailable&&await ee.savePreset(m),i(""),a(""),s(!1)}catch(m){console.error("Failed to create preset:",m),C.setError(t("preset_create_failed"))}},g=async f=>{const m=Object.values(v.app.presets||{}).find($=>$.id===f);if(m)try{C.updateConfig(m.config),ee.isAvailable&&await ee.saveConfig(m.config),c(f)}catch($){console.error("Failed to load preset:",$),C.setError(t("preset_load_failed"))}},p=async f=>{const m=Object.values(v.app.presets||{}).find(S=>S.id===f);if(!(!m||!confirm(t("confirm_delete_preset",{name:m.name}))))try{C.removePreset(f),ee.isAvailable&&await ee.deletePreset(f),o()===f&&c("")}catch(S){console.error("Failed to delete preset:",S),C.setError(t("preset_delete_failed"))}},u=async f=>{const m=Object.values(v.app.presets||{}).find($=>$.id===f);if(!(!m||!ee.isAvailable))try{const $=await ee.saveFileDialog({title:t("export_preset"),defaultPath:`${m.name}.json`,filters:[{name:"JSON Files",extensions:["json"]},{name:"All Files",extensions:["*"]}]});if($.canceled||!$.filePath)return;await ee.exportPreset(m,$.filePath)}catch($){console.error("Failed to export preset:",$),C.setError(t("preset_export_failed"))}},h=async()=>{if(ee.isAvailable)try{const f=await ee.openFileDialog({title:t("import_preset"),filters:[{name:"JSON Files",extensions:["json"]},{name:"All Files",extensions:["*"]}],properties:["openFile","multiSelections"]});if(f.canceled||!f.filePaths?.length)return;for(const m of f.filePaths){const $=await ee.importPreset(m);C.addPreset({...$,id:`preset_${Date.now()}_${Math.random()}`,updatedAt:new Date().toISOString()})}}catch(f){console.error("Failed to import preset:",f),C.setError(t("preset_import_failed"))}},_=f=>new Date(f).toLocaleDateString();return(()=>{var f=$u(),m=f.firstChild,$=m.firstChild,S=$.nextSibling,P=S.firstChild;P.firstChild;var b=P.nextSibling;b.firstChild;var L=m.nextSibling,K=L.firstChild,E=L.nextSibling;return l($,()=>t("preset_management")),P.$$click=h,l(P,()=>t("import"),null),b.$$click=()=>s(!0),l(b,()=>t("create_preset"),null),l(K,()=>t("preset_description")),l(f,y(te,{get when(){return e()},get children(){var R=vu(),x=R.firstChild,w=x.nextSibling,F=w.firstChild,se=F.firstChild,D=F.nextSibling,T=w.nextSibling,I=T.firstChild,j=I.firstChild,W=I.nextSibling,z=T.nextSibling,V=z.firstChild,A=V.nextSibling;return l(x,()=>t("create_new_preset")),l(F,()=>t("preset_name"),se),D.$$input=U=>i(U.currentTarget.value),l(I,()=>t("preset_description_optional"),j),W.$$input=U=>a(U.currentTarget.value),V.$$click=()=>{s(!1),i(""),a("")},l(V,()=>t("cancel")),A.$$click=d,l(A,()=>t("create_preset")),k(U=>{var G=t("enter_preset_name"),M=t("enter_preset_description"),Z=!n().trim();return G!==U.e&&Y(D,"placeholder",U.e=G),M!==U.t&&Y(W,"placeholder",U.t=M),Z!==U.a&&(A.disabled=U.a=Z),U},{e:void 0,t:void 0,a:void 0}),k(()=>D.value=n()),k(()=>W.value=r()),R}}),E),l(E,y(te,{get when(){return Be(()=>!!v.app.presets)()&&Object.keys(v.app.presets).length>0},get fallback(){return(()=>{var R=xu(),x=R.firstChild,w=x.nextSibling,F=w.nextSibling;return l(w,()=>t("no_presets_available")),l(F,()=>t("create_preset_to_get_started")),R})()},get children(){var R=bu();return l(R,y(Ie,{get each(){return Object.values(v.app.presets||{})},children:x=>(()=>{var w=wu(),F=w.firstChild,se=F.firstChild,D=se.nextSibling,T=D.firstChild,I=T.nextSibling,j=F.nextSibling,W=j.firstChild,z=W.firstChild,V=z.firstChild,A=z.nextSibling,U=j.nextSibling,G=U.firstChild;return l(se,()=>x.name),T.$$click=()=>u(x.id),I.$$click=()=>p(x.id),l(w,y(te,{get when(){return x.description},get children(){var M=Su();return l(M,()=>x.description),M}}),j),l(z,()=>t("created"),V),l(A,()=>_(x.createdAt)),l(j,y(te,{get when(){return x.updatedAt!==x.createdAt},get children(){var M=yu(),Z=M.firstChild,re=Z.firstChild,ae=Z.nextSibling;return l(Z,()=>t("updated"),re),l(ae,()=>_(x.updatedAt)),M}}),null),G.$$click=()=>g(x.id),l(G,(()=>{var M=Be(()=>o()===x.id);return()=>M()?t("active"):t("load_preset")})()),k(M=>{var Z=`preset-card ${o()===x.id?"active":""}`,re=t("export_preset"),ae=t("delete_preset"),ge=o()===x.id;return Z!==M.e&&Ve(w,M.e=Z),re!==M.t&&Y(T,"title",M.t=re),ae!==M.a&&Y(I,"title",M.a=ae),ge!==M.o&&(G.disabled=M.o=ge),M},{e:void 0,t:void 0,a:void 0,o:void 0}),w})()})),R}})),k(R=>{var x=t("import_preset"),w=t("create_new_preset");return x!==R.e&&Y(P,"title",R.e=x),w!==R.t&&Y(b,"title",R.t=w),R},{e:void 0,t:void 0}),f})()};Ne(["click","input"]);var ku=N("<div class=algorithm-settings><div class=section-header><h3></h3></div><div class=settings-sections><div class=settings-section><h4></h4><div class=setting-group><label class=setting-label> (mm)</label><div class=input-with-slider><input type=range min=0 max=20 step=0.1 class=slider><input type=number min=0 max=20 step=0.1 class=number-input></div><div class=setting-description></div></div><div class=setting-group><label class=setting-label> (mm)</label><div class=input-with-slider><input type=range min=0.1 max=2 step=0.1 class=slider><input type=number min=0.1 max=2 step=0.1 class=number-input></div><div class=setting-description></div></div><div class=setting-group><label class=setting-label></label><select class=setting-select></select><div class=setting-description></div></div></div><div class=settings-section><h4></h4><div class=setting-group><label class=setting-label></label><div class=input-with-slider><input type=range min=5 max=50 step=1 class=slider><input type=number min=5 max=50 step=1 class=number-input></div><div class=setting-description></div></div><div class=setting-group><label class=setting-label> (%)</label><div class=input-with-slider><input type=range min=1 max=50 step=1 class=slider><input type=number min=1 max=50 step=1 class=number-input></div><div class=setting-description></div></div></div><div class=settings-section><h4></h4><div class=setting-group><label class=checkbox-setting><input type=checkbox><span class=checkmark></span><span class=setting-label></span></label><div class=setting-description></div></div><div class=setting-group><label class=checkbox-setting><input type=checkbox><span class=checkmark></span><span class=setting-label></span></label><div class=setting-description></div></div><div class=setting-group><label class=checkbox-setting><input type=checkbox><span class=checkmark></span><span class=setting-label></span></label><div class=setting-description></div></div><div class=setting-group><label class=checkbox-setting><input type=checkbox><span class=checkmark></span><span class=setting-label></span></label><div class=setting-description>"),Pu=N("<option>");const Lu=()=>{const[t]=Ee("settings"),[e,s]=X(0),[n,i]=X(.3),[r,a]=X(4),[o,c]=X(10),[d,g]=X(10),[p,u]=X(!1),[h,_]=X(!1),[f,m]=X(!1),[$,S]=X(!0);as(()=>{const w=v.config;s(w.spacing||0),i(w.curveTolerance||.3),a(w.rotations||4),c(w.populationSize||10),g(w.mutationRate||10),u(w.useHoles||!1),_(w.exploreConcave||!1),m(w.mergeLines||!1),S(w.useRoughApproximation!==!1)});const P=w=>{C.updateConfig({...v.config,...w})},b=w=>{s(w),P({spacing:w})},L=w=>{i(w),P({curveTolerance:w})},K=w=>{a(w),P({rotations:w})},E=w=>{c(w),P({populationSize:w})},R=w=>{g(w),P({mutationRate:w})},x=[{value:0,label:t("no_rotation")},{value:2,label:t("2_rotations")},{value:4,label:t("4_rotations")},{value:8,label:t("8_rotations")},{value:12,label:t("12_rotations")},{value:360,label:t("free_rotation")}];return(()=>{var w=ku(),F=w.firstChild,se=F.firstChild,D=F.nextSibling,T=D.firstChild,I=T.firstChild,j=I.nextSibling,W=j.firstChild,z=W.firstChild,V=W.nextSibling,A=V.firstChild,U=A.nextSibling,G=V.nextSibling,M=j.nextSibling,Z=M.firstChild,re=Z.firstChild,ae=Z.nextSibling,ge=ae.firstChild,fe=ge.nextSibling,Pe=ae.nextSibling,$e=M.nextSibling,Se=$e.firstChild,de=Se.nextSibling,be=de.nextSibling,me=T.nextSibling,ye=me.firstChild,Fe=ye.nextSibling,Me=Fe.firstChild,we=Me.nextSibling,Ce=we.firstChild,Le=Ce.nextSibling,ke=we.nextSibling,B=Fe.nextSibling,q=B.firstChild,ie=q.firstChild,J=q.nextSibling,le=J.firstChild,pe=le.nextSibling,ue=J.nextSibling,Re=me.nextSibling,Te=Re.firstChild,Q=Te.nextSibling,_e=Q.firstChild,je=_e.firstChild,We=je.nextSibling,Ue=We.nextSibling,rt=_e.nextSibling,tt=Q.nextSibling,Je=tt.firstChild,Ke=Je.firstChild,at=Ke.nextSibling,Ge=at.nextSibling,ot=Je.nextSibling,Ye=tt.nextSibling,qe=Ye.firstChild,De=qe.firstChild,Ze=De.nextSibling,O=Ze.nextSibling,Ae=qe.nextSibling,st=Ye.nextSibling,ft=st.firstChild,lt=ft.firstChild,Lt=lt.nextSibling,At=Lt.nextSibling,Ot=ft.nextSibling;return l(se,()=>t("algorithm_settings")),l(I,()=>t("nesting_parameters")),l(W,()=>t("space_between_parts"),z),A.$$input=ne=>b(parseFloat(ne.currentTarget.value)),U.$$input=ne=>b(parseFloat(ne.currentTarget.value)||0),l(G,()=>t("spacing_description")),l(Z,()=>t("curve_tolerance"),re),ge.$$input=ne=>L(parseFloat(ne.currentTarget.value)),fe.$$input=ne=>L(parseFloat(ne.currentTarget.value)||.3),l(Pe,()=>t("curve_tolerance_description")),l(Se,()=>t("part_rotations")),de.addEventListener("change",ne=>K(parseInt(ne.currentTarget.value))),l(de,y(Ie,{each:x,children:ne=>(()=>{var nt=Pu();return l(nt,()=>ne.label),k(()=>nt.value=ne.value),nt})()})),l(be,()=>t("rotations_description")),l(ye,()=>t("genetic_algorithm")),l(Me,()=>t("population_size")),Ce.$$input=ne=>E(parseInt(ne.currentTarget.value)),Le.$$input=ne=>E(parseInt(ne.currentTarget.value)||10),l(ke,()=>t("population_size_description")),l(q,()=>t("mutation_rate"),ie),le.$$input=ne=>R(parseInt(ne.currentTarget.value)),pe.$$input=ne=>R(parseInt(ne.currentTarget.value)||10),l(ue,()=>t("mutation_rate_description")),l(Te,()=>t("advanced_options")),je.addEventListener("change",ne=>{u(ne.currentTarget.checked),P({useHoles:ne.currentTarget.checked})}),l(Ue,()=>t("use_holes")),l(rt,()=>t("use_holes_description")),Ke.addEventListener("change",ne=>{_(ne.currentTarget.checked),P({exploreConcave:ne.currentTarget.checked})}),l(Ge,()=>t("explore_concave")),l(ot,()=>t("explore_concave_description")),De.addEventListener("change",ne=>{m(ne.currentTarget.checked),P({mergeLines:ne.currentTarget.checked})}),l(O,()=>t("merge_common_lines")),l(Ae,()=>t("merge_lines_description")),lt.addEventListener("change",ne=>{S(ne.currentTarget.checked),P({useRoughApproximation:ne.currentTarget.checked})}),l(At,()=>t("use_rough_approximation")),l(Ot,()=>t("rough_approximation_description")),k(()=>A.value=e()),k(()=>U.value=e()),k(()=>ge.value=n()),k(()=>fe.value=n()),k(()=>de.value=r()),k(()=>Ce.value=o()),k(()=>Le.value=o()),k(()=>le.value=d()),k(()=>pe.value=d()),k(()=>je.checked=p()),k(()=>Ke.checked=h()),k(()=>De.checked=f()),k(()=>lt.checked=$()),w})()};Ne(["input"]);var Au=N('<div class=ui-preferences><div class=section-header><h3></h3></div><div class=settings-sections><div class=settings-section><h4></h4><div class=setting-group><label class=setting-label></label><select class=setting-select></select><div class=setting-description></div></div><div class=setting-group><label class=setting-label></label><select class=setting-select></select><div class=setting-description></div></div><div class=setting-group><label class=checkbox-setting><input type=checkbox><span class=checkmark></span><span class=setting-label></span></label><div class=setting-description></div></div></div><div class=settings-section><h4></h4><div class=setting-group><label class=setting-label></label><select class=setting-select></select><div class=setting-description></div></div><div class=setting-group><label class=checkbox-setting><input type=checkbox><span class=checkmark></span><span class=setting-label></span></label><div class=setting-description></div></div><div class=setting-group><label class=checkbox-setting><input type=checkbox><span class=checkmark></span><span class=setting-label></span></label><div class=setting-description></div></div></div><div class=settings-section><h4></h4><div class=setting-group><label class=setting-label></label><div class=input-with-button><input type=number min=200 max=600 class=number-input><button class="button secondary"></button></div><div class=setting-description></div></div><div class=setting-group><label class=checkbox-setting><input type=checkbox><span class=checkmark></span><span class=setting-label></span></label><div class=setting-description></div></div><div class=setting-group><label class=checkbox-setting><input type=checkbox><span class=checkmark></span><span class=setting-label></span></label><div class=setting-description>'),Xt=N("<option>");const Ou=()=>{const[t,{changeLanguage:e}]=Ee("settings"),s=[{code:"en",name:"English"},{code:"de",name:"Deutsch"},{code:"fr",name:"Franais"},{code:"es",name:"Espaol"}],n=[{value:"mm",label:t("millimeters")},{value:"in",label:t("inches")},{value:"cm",label:t("centimeters")}],i=[{value:"auto",label:t("auto_theme")},{value:"light",label:t("light_theme")},{value:"dark",label:t("dark_theme")}],r=async d=>{C.setLanguage(d),await e(d)},a=d=>{if(d==="auto"){const g=window.matchMedia("(prefers-color-scheme: dark)").matches;C.setDarkMode(g)}else C.setDarkMode(d==="dark");C.setTheme(d)},o=d=>{C.updateConfig({...v.config,units:d})},c=()=>{C.setPanelWidth("partsWidth",300)};return(()=>{var d=Au(),g=d.firstChild,p=g.firstChild,u=g.nextSibling,h=u.firstChild,_=h.firstChild,f=_.nextSibling,m=f.firstChild,$=m.nextSibling,S=$.nextSibling,P=f.nextSibling,b=P.firstChild,L=b.nextSibling,K=L.nextSibling,E=P.nextSibling,R=E.firstChild,x=R.firstChild,w=x.nextSibling,F=w.nextSibling,se=R.nextSibling,D=h.nextSibling,T=D.firstChild,I=T.nextSibling,j=I.firstChild,W=j.nextSibling,z=W.nextSibling,V=I.nextSibling,A=V.firstChild,U=A.firstChild,G=U.nextSibling,M=G.nextSibling,Z=A.nextSibling,re=V.nextSibling,ae=re.firstChild,ge=ae.firstChild,fe=ge.nextSibling,Pe=fe.nextSibling,$e=ae.nextSibling,Se=D.nextSibling,de=Se.firstChild,be=de.nextSibling,me=be.firstChild,ye=me.nextSibling,Fe=ye.firstChild,Me=Fe.nextSibling,we=ye.nextSibling,Ce=be.nextSibling,Le=Ce.firstChild,ke=Le.firstChild,B=ke.nextSibling,q=B.nextSibling,ie=Le.nextSibling,J=Ce.nextSibling,le=J.firstChild,pe=le.firstChild,ue=pe.nextSibling,Re=ue.nextSibling,Te=le.nextSibling;return l(p,()=>t("ui_preferences")),l(_,()=>t("appearance")),l(m,()=>t("language")),$.addEventListener("change",Q=>r(Q.currentTarget.value)),l($,y(Ie,{each:s,children:Q=>(()=>{var _e=Xt();return l(_e,()=>Q.name),k(()=>_e.value=Q.code),_e})()})),l(S,()=>t("language_description")),l(b,()=>t("theme")),L.addEventListener("change",Q=>a(Q.currentTarget.value)),l(L,y(Ie,{each:i,children:Q=>(()=>{var _e=Xt();return l(_e,()=>Q.label),k(()=>_e.value=Q.value),_e})()})),l(K,()=>t("theme_description")),x.addEventListener("change",Q=>C.setDarkMode(Q.currentTarget.checked)),l(F,()=>t("dark_mode")),l(se,()=>t("dark_mode_description")),l(T,()=>t("units_and_formatting")),l(j,()=>t("display_units")),W.addEventListener("change",Q=>o(Q.currentTarget.value)),l(W,y(Ie,{each:n,children:Q=>(()=>{var _e=Xt();return l(_e,()=>Q.label),k(()=>_e.value=Q.value),_e})()})),l(z,()=>t("units_description")),U.addEventListener("change",Q=>C.updateConfig({...v.config,showGrid:Q.currentTarget.checked})),l(M,()=>t("show_grid")),l(Z,()=>t("show_grid_description")),ge.addEventListener("change",Q=>C.updateConfig({...v.config,showRulers:Q.currentTarget.checked})),l(Pe,()=>t("show_rulers")),l($e,()=>t("show_rulers_description")),l(de,()=>t("layout_preferences")),l(me,()=>t("parts_panel_width")),Fe.$$input=Q=>C.setPanelWidth("partsWidth",parseInt(Q.currentTarget.value)||300),Me.$$click=c,l(Me,()=>t("reset")),l(we,()=>t("panel_width_description")),ke.addEventListener("change",Q=>C.setShowTooltips(Q.currentTarget.checked)),l(q,()=>t("show_tooltips")),l(ie,()=>t("tooltips_description")),pe.addEventListener("change",Q=>C.setShowStatusBar(Q.currentTarget.checked)),l(Re,()=>t("show_status_bar")),l(Te,()=>t("status_bar_description")),k(()=>$.value=v.ui.language),k(()=>L.value=v.ui.theme||"auto"),k(()=>x.checked=v.ui.darkMode),k(()=>W.value=v.config.units||"mm"),k(()=>U.checked=v.config.showGrid!==!1),k(()=>ge.checked=v.config.showRulers!==!1),k(()=>Fe.value=v.ui.panels.partsWidth||300),k(()=>ke.checked=v.ui.showTooltips!==!1),k(()=>pe.checked=v.ui.showStatusBar!==!1),d})()};Ne(["input","click"]);var Ls=N("<div class=debug-item><span class=debug-label>:</span><span class=debug-value>"),Nu=N('<div class=debug-info><h5></h5><div class=debug-details><div class=debug-item><span class=debug-label>:</span><span class=debug-value></span></div><div class=debug-item><span class=debug-label>:</span><span class=debug-value></span></div><div class=debug-item><span class=debug-label>:</span><span class=debug-value></span></div><div class=debug-item><span class=debug-label>:</span><span class=debug-value>  </span></div></div><button class="button secondary">'),Eu=N('<div class=advanced-settings><div class=section-header><h3></h3></div><div class=settings-sections><div class=settings-section><h4></h4><div class=setting-group><label class=setting-label></label><input type=number min=1 class=number-input><div class=setting-description></div></div><div class=setting-group><label class=checkbox-setting><input type=checkbox><span class=checkmark></span><span class=setting-label></span></label><div class=setting-description></div></div><div class=setting-group><label class=checkbox-setting><input type=checkbox><span class=checkmark></span><span class=setting-label></span></label><div class=setting-description></div></div></div><div class=settings-section><h4></h4><div class=setting-group><label class=checkbox-setting><input type=checkbox><span class=checkmark></span><span class=setting-label></span></label><div class=setting-description></div></div><div class=setting-group><label class=checkbox-setting><input type=checkbox><span class=checkmark></span><span class=setting-label></span></label><div class=setting-description></div></div><div class=setting-group><button class="button secondary"></button></div></div><div class=settings-section><h4></h4><div class=setting-group><button class="button secondary"></button><div class=setting-description></div></div><div class=setting-group><button class="button secondary"></button><div class=setting-description></div></div><div class=setting-group><label class=setting-label> (<!>)</label><input type=number min=0 max=60 class=number-input><div class=setting-description>');const Fu=()=>{const[t]=Ee("settings"),[e,s]=X(!1),n=()=>{if(confirm(t("confirm_clear_cache")))try{localStorage.clear(),C.setError(null),alert(t("cache_cleared_success"))}catch(c){console.error("Failed to clear cache:",c),C.setError(t("cache_clear_failed"))}},i=()=>{C.setPanelWidth("partsWidth",300),C.setActiveTab("parts")},r=()=>{const o={timestamp:new Date().toISOString(),platform:navigator.platform,userAgent:navigator.userAgent,language:navigator.language,viewport:{width:window.innerWidth,height:window.innerHeight},globalState:{ui:v.ui,config:v.config,partsCount:v.app.parts.length,sheetsCount:v.app.sheets.length,nestsCount:v.app.nests.length,presetsCount:v.presets.length},performance:{memory:performance.memory?{usedJSHeapSize:performance.memory.usedJSHeapSize,totalJSHeapSize:performance.memory.totalJSHeapSize,jsHeapSizeLimit:performance.memory.jsHeapSizeLimit}:null}},c=new Blob([JSON.stringify(o,null,2)],{type:"application/json"}),d=URL.createObjectURL(c),g=document.createElement("a");g.href=d,g.download=`deepnest-debug-${Date.now()}.json`,document.body.appendChild(g),g.click(),document.body.removeChild(g),URL.revokeObjectURL(d)},a=o=>{if(o===0)return"0 Bytes";const c=1024,d=["Bytes","KB","MB","GB"],g=Math.floor(Math.log(o)/Math.log(c));return parseFloat((o/Math.pow(c,g)).toFixed(2))+" "+d[g]};return(()=>{var o=Eu(),c=o.firstChild,d=c.firstChild,g=c.nextSibling,p=g.firstChild,u=p.firstChild,h=u.nextSibling,_=h.firstChild,f=_.nextSibling,m=f.nextSibling,$=h.nextSibling,S=$.firstChild,P=S.firstChild,b=P.nextSibling,L=b.nextSibling,K=S.nextSibling,E=$.nextSibling,R=E.firstChild,x=R.firstChild,w=x.nextSibling,F=w.nextSibling,se=R.nextSibling,D=p.nextSibling,T=D.firstChild,I=T.nextSibling,j=I.firstChild,W=j.firstChild,z=W.nextSibling,V=z.nextSibling,A=j.nextSibling,U=I.nextSibling,G=U.firstChild,M=G.firstChild,Z=M.nextSibling,re=Z.nextSibling,ae=G.nextSibling,ge=U.nextSibling,fe=ge.firstChild,Pe=D.nextSibling,$e=Pe.firstChild,Se=$e.nextSibling,de=Se.firstChild,be=de.nextSibling,me=Se.nextSibling,ye=me.firstChild,Fe=ye.nextSibling,Me=me.nextSibling,we=Me.firstChild,Ce=we.firstChild,Le=Ce.nextSibling;Le.nextSibling;var ke=we.nextSibling,B=ke.nextSibling;return l(d,()=>t("advanced_settings")),l(u,()=>t("performance")),l(_,()=>t("worker_threads")),f.$$input=q=>C.updateConfig({...v.config,workerThreads:parseInt(q.currentTarget.value)||4}),l(m,()=>t("worker_threads_description",{max:navigator.hardwareConcurrency||8})),P.addEventListener("change",q=>C.updateConfig({...v.config,enableGPU:q.currentTarget.checked})),l(L,()=>t("enable_gpu_acceleration")),l(K,()=>t("gpu_acceleration_description")),x.addEventListener("change",q=>C.updateConfig({...v.config,enableCaching:q.currentTarget.checked})),l(F,()=>t("enable_caching")),l(se,()=>t("caching_description")),l(T,()=>t("debugging")),W.addEventListener("change",q=>C.updateConfig({...v.config,debugMode:q.currentTarget.checked})),l(V,()=>t("debug_mode")),l(A,()=>t("debug_mode_description")),M.addEventListener("change",q=>C.updateConfig({...v.config,verboseLogging:q.currentTarget.checked})),l(re,()=>t("verbose_logging")),l(ae,()=>t("verbose_logging_description")),fe.$$click=()=>s(!e()),l(fe,(()=>{var q=Be(()=>!!e());return()=>q()?t("hide_debug_info"):t("show_debug_info")})()),l(ge,y(te,{get when(){return e()},get children(){var q=Nu(),ie=q.firstChild,J=ie.nextSibling,le=J.firstChild,pe=le.firstChild,ue=pe.firstChild,Re=pe.nextSibling,Te=le.nextSibling,Q=Te.firstChild,_e=Q.firstChild,je=Q.nextSibling,We=Te.nextSibling,Ue=We.firstChild,rt=Ue.firstChild,tt=Ue.nextSibling,Je=We.nextSibling,Ke=Je.firstChild,at=Ke.firstChild,Ge=Ke.nextSibling,ot=Ge.firstChild,Ye=J.nextSibling;return l(ie,()=>t("system_information")),l(pe,()=>t("platform"),ue),l(Re,()=>navigator.platform),l(Q,()=>t("language"),_e),l(je,()=>navigator.language),l(Ue,()=>t("cpu_cores"),rt),l(tt,()=>navigator.hardwareConcurrency||"Unknown"),l(Ke,()=>t("viewport"),at),l(Ge,()=>window.innerWidth,ot),l(Ge,()=>window.innerHeight,null),l(J,y(te,{get when(){return performance.memory},get children(){return[(()=>{var qe=Ls(),De=qe.firstChild,Ze=De.firstChild,O=De.nextSibling;return l(De,()=>t("memory_used"),Ze),l(O,()=>a(performance.memory.usedJSHeapSize)),qe})(),(()=>{var qe=Ls(),De=qe.firstChild,Ze=De.firstChild,O=De.nextSibling;return l(De,()=>t("memory_total"),Ze),l(O,()=>a(performance.memory.totalJSHeapSize)),qe})()]}}),null),Ye.$$click=r,l(Ye,()=>t("export_debug_info")),q}}),null),l($e,()=>t("maintenance")),de.$$click=n,l(de,()=>t("clear_cache")),l(be,()=>t("clear_cache_description")),ye.$$click=i,l(ye,()=>t("reset_layout")),l(Fe,()=>t("reset_layout_description")),l(we,()=>t("auto_save_interval"),Ce),l(we,()=>t("minutes"),Le),ke.$$input=q=>C.updateConfig({...v.config,autoSaveInterval:parseInt(q.currentTarget.value)||5}),l(B,()=>t("auto_save_description")),k(()=>Y(f,"max",navigator.hardwareConcurrency||8)),k(()=>f.value=v.config.workerThreads||navigator.hardwareConcurrency||4),k(()=>P.checked=v.config.enableGPU||!1),k(()=>x.checked=v.config.enableCaching!==!1),k(()=>W.checked=v.config.debugMode||!1),k(()=>M.checked=v.config.verboseLogging||!1),k(()=>ke.value=v.config.autoSaveInterval||5),o})()};Ne(["input","click"]);var Ru=N('<div class=settings-panel><div class=panel-header><h2></h2><div class=panel-actions><button class="button secondary"> </button><button class="button secondary"> </button><button class="button secondary"> </button></div></div><div class=settings-layout><div class=settings-sidebar><div class=settings-nav></div></div><div class=settings-content>'),Tu=N("<button><span class=nav-icon></span><span class=nav-label>");const Du=()=>{const[t]=Ee("settings"),[e,s]=X("presets"),n=async()=>{if(confirm(t("confirm_reset_defaults")))try{C.resetToDefaults(),ee.isAvailable&&await ee.saveConfig(v.config)}catch(c){console.error("Failed to reset to defaults:",c),C.setError(t("reset_failed"))}},i=async()=>{if(ee.isAvailable)try{const o=await ee.saveFileDialog({title:t("export_configuration"),defaultPath:"deepnest-config.json",filters:[{name:"JSON Files",extensions:["json"]},{name:"All Files",extensions:["*"]}]});if(o.canceled||!o.filePath)return;await ee.exportConfig(v.config,o.filePath)}catch(o){console.error("Failed to export config:",o),C.setError(t("export_failed"))}},r=async()=>{if(ee.isAvailable)try{const o=await ee.openFileDialog({title:t("import_configuration"),filters:[{name:"JSON Files",extensions:["json"]},{name:"All Files",extensions:["*"]}],properties:["openFile"]});if(o.canceled||!o.filePaths?.length)return;const c=await ee.importConfig(o.filePaths[0]);C.updateConfig(c)}catch(o){console.error("Failed to import config:",o),C.setError(t("import_failed"))}},a=[{id:"presets",label:t("preset_management"),icon:""},{id:"algorithm",label:t("algorithm_settings"),icon:""},{id:"ui",label:t("ui_preferences"),icon:""},{id:"advanced",label:t("advanced_settings"),icon:""}];return(()=>{var o=Ru(),c=o.firstChild,d=c.firstChild,g=d.nextSibling,p=g.firstChild;p.firstChild;var u=p.nextSibling;u.firstChild;var h=u.nextSibling;h.firstChild;var _=c.nextSibling,f=_.firstChild,m=f.firstChild,$=f.nextSibling;return l(d,()=>t("settings_title")),p.$$click=r,l(p,()=>t("import"),null),u.$$click=i,l(u,()=>t("export"),null),h.$$click=n,l(h,()=>t("reset_defaults"),null),l(m,y(Ie,{each:a,children:S=>(()=>{var P=Tu(),b=P.firstChild,L=b.nextSibling;return P.$$click=()=>s(S.id),l(b,()=>S.icon),l(L,()=>S.label),k(()=>Ve(P,`settings-nav-item ${e()===S.id?"active":""}`)),P})()})),l($,y(te,{get when(){return e()==="presets"},get children(){return y(Cu,{})}}),null),l($,y(te,{get when(){return e()==="algorithm"},get children(){return y(Lu,{})}}),null),l($,y(te,{get when(){return e()==="ui"},get children(){return y(Ou,{})}}),null),l($,y(te,{get when(){return e()==="advanced"},get children(){return y(Fu,{})}}),null),k(S=>{var P=t("import_configuration"),b=t("export_configuration"),L=t("reset_to_defaults");return P!==S.e&&Y(p,"title",S.e=P),b!==S.t&&Y(u,"title",S.t=b),L!==S.a&&Y(h,"title",S.a=L),S},{e:void 0,t:void 0,a:void 0}),o})()};Ne(["click"]);var Iu=N("<main class=main-content>");const Mu=()=>(()=>{var t=Iu();return l(t,y(gn,{get children(){return[y(Nt,{get when(){return v.ui.activeTab==="parts"},get children(){return y(Rd,{})}}),y(Nt,{get when(){return v.ui.activeTab==="nests"},get children(){return y(iu,{})}}),y(Nt,{get when(){return v.ui.activeTab==="sheets"},get children(){return y(_u,{})}}),y(Nt,{get when(){return v.ui.activeTab==="settings"},get children(){return y(Du,{})}})]}})),t})();var Uu=N("<div class=progress-container><div class=progress-bar><div class=progress-fill></div></div><span class=progress-text>%"),zu=N("<span class=thread-count>"),ju=N("<span class=parts-count>"),Vu=N("<span class=nests-count>"),Bu=N("<div class=error-status><span class=error-icon></span><span class=error-text>"),Ku=N("<footer class=status-bar><div class=status-left><span class=status-text></span></div><div class=status-right>");const qu=()=>{const[t]=Ee("common"),e=ce(()=>{const{process:n}=v;return n.isNesting?t("status.nesting_in_progress"):n.lastError?t("status.error_occurred"):n.workerStatus.isRunning?n.workerStatus.currentOperation||t("status.processing"):t("status.ready")}),s=ce(()=>Math.max(0,Math.min(100,v.process.progress)));return(()=>{var n=Ku(),i=n.firstChild,r=i.firstChild,a=i.nextSibling;return l(r,e),l(i,y(te,{get when(){return v.process.isNesting},get children(){var o=Uu(),c=o.firstChild,d=c.firstChild,g=c.nextSibling,p=g.firstChild;return l(g,()=>s().toFixed(1),p),k(u=>(u=`${s()}%`)!=null?d.style.setProperty("width",u):d.style.removeProperty("width")),o}}),null),l(a,y(te,{get when(){return v.process.workerStatus.threadsActive>0},get children(){var o=zu();return l(o,()=>t("status.threads_active",{count:v.process.workerStatus.threadsActive})),o}}),null),l(a,y(te,{get when(){return v.app.parts.length>0},get children(){var o=ju();return l(o,()=>t("status.parts_loaded",{count:v.app.parts.length})),o}}),null),l(a,y(te,{get when(){return v.app.nests.length>0},get children(){var o=Vu();return l(o,()=>t("status.nests_available",{count:v.app.nests.length})),o}}),null),l(a,y(te,{get when(){return v.process.lastError},get children(){var o=Bu(),c=o.firstChild,d=c.nextSibling;return l(d,()=>v.process.lastError),o}}),null),n})()};var Hu=N('<div><div class=resizable-left></div><div class=resizable-handle title="Drag to resize"><div class=resizable-handle-line></div></div><div class=resizable-right>');const Wu=t=>{const{minLeftWidth:e=250,maxLeftWidth:s=500,defaultLeftWidth:n=300}=t,[i,r]=X(!1),[a,o]=X(v.ui.panels.partsWidth||n);let c,d;const g=h=>{h.preventDefault(),r(!0),document.addEventListener("mousemove",p),document.addEventListener("mouseup",u),document.body.style.cursor="col-resize",document.body.style.userSelect="none"},p=h=>{if(!i()||!c)return;const _=c.getBoundingClientRect(),f=h.clientX-_.left,m=Math.max(e,Math.min(s,f));o(m),C.setPanelWidth("partsWidth",m)},u=()=>{r(!1),document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",u),document.body.style.cursor="",document.body.style.userSelect=""};return os(()=>{o(v.ui.panels.partsWidth||n)}),Ns(()=>{document.removeEventListener("mousemove",p),document.removeEventListener("mouseup",u),document.body.style.cursor="",document.body.style.userSelect=""}),(()=>{var h=Hu(),_=h.firstChild,f=_.nextSibling,m=f.nextSibling,$=c;typeof $=="function"?us($,h):c=h,l(_,()=>t.left),f.$$mousedown=g;var S=d;return typeof S=="function"?us(S,f):d=f,l(m,()=>t.right),k(P=>{var b=`resizable-layout ${i()?"resizing":""}`,L=`${a()}px`;return b!==P.e&&Ve(h,P.e=b),L!==P.t&&((P.t=L)!=null?_.style.setProperty("width",L):_.style.removeProperty("width")),P},{e:void 0,t:void 0}),h})()};Ne(["mousedown"]);var Ju=N("<div class=layout><div class=layout-body>");const Gu=()=>(()=>{var t=Ju(),e=t.firstChild;return l(t,y(Cd,{}),e),l(e,y(Wu,{get left(){return y(Ld,{})},get right(){return y(Mu,{})},minLeftWidth:200,maxLeftWidth:600,defaultLeftWidth:300})),l(t,y(qu,{}),null),t})();var Qu=N("<div class=app>");const Xu=()=>{os(async()=>{if(C.setDarkMode(v.ui.darkMode),t(),ee.isAvailable)try{const e=await ee.readConfig();C.updateConfig(e)}catch(e){console.warn("Failed to load initial config:",e)}});const t=()=>{ee.isAvailable&&(ee.onNestProgress(e=>{C.setNestingProgress(e)}),ee.onNestComplete(e=>{C.setNests(e),C.setNestingStatus(!1)}),ee.onBackgroundProgress(e=>{C.setNestingProgress(e.progress)}),ee.onWorkerStatus(e=>{C.setWorkerStatus(e)}),ee.onNestError(e=>{C.setError(e),C.setNestingStatus(!1)}))};return y(cd,{get children(){var e=Qu();return l(e,y(Gu,{})),e}})},Yu=document.getElementById("root");hn(()=>y(Xu,{}),Yu);
