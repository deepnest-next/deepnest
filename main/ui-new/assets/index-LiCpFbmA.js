(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function r(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(n){if(n.ep)return;n.ep=!0;const a=r(n);fetch(n.href,a)}})();const ks=!1,ws=(t,e)=>t===e,ft=Symbol("solid-proxy"),mr=Symbol("solid-track"),Kt={equals:ws};let Yr=ns;const ct=1,Wt=2,es={owned:null,cleanups:null,context:null,owner:null};var Pe=null;let dr=null,Ss=null,Ne=null,Fe=null,ot=null,ar=0;function Mt(t,e){const r=Ne,s=Pe,n=t.length===0,a=e===void 0?s:e,l=n?es:{owned:null,cleanups:null,context:a?a.context:null,owner:a},o=n?t:()=>t(()=>Ze(()=>It(l)));Pe=l,Ne=null;try{return ht(o,!0)}finally{Ne=r,Pe=s}}function J(t,e){e=e?Object.assign({},Kt,e):Kt;const r={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0},s=n=>(typeof n=="function"&&(n=n(r.value)),ss(r,n));return[rs.bind(r),s]}function F(t,e,r){const s=Sr(t,e,!1,ct);Ot(s)}function qe(t,e,r){Yr=Ns;const s=Sr(t,e,!1,ct);(!r||!r.render)&&(s.user=!0),ot?ot.push(s):Ot(s)}function oe(t,e,r){r=r?Object.assign({},Kt,r):Kt;const s=Sr(t,e,!0,0);return s.observers=null,s.observerSlots=null,s.comparator=r.equals||void 0,Ot(s),rs.bind(s)}function Cs(t){return ht(t,!1)}function Ze(t){if(Ne===null)return t();const e=Ne;Ne=null;try{return t()}finally{Ne=e}}function or(t){qe(()=>Ze(t))}function Xe(t){return Pe===null||(Pe.cleanups===null?Pe.cleanups=[t]:Pe.cleanups.push(t)),t}function br(){return Ne}function Ps(){return Pe}function Ls(t,e){const r=Pe,s=Ne;Pe=t,Ne=null;try{return ht(e,!0)}catch(n){Cr(n)}finally{Pe=r,Ne=s}}const[My,Ay]=J(!1);function Ms(t,e){const r=Symbol("context");return{id:r,Provider:Ts(r),defaultValue:t}}function As(t){let e;return Pe&&Pe.context&&(e=Pe.context[t.id])!==void 0?e:t.defaultValue}function ts(t){const e=oe(t),r=oe(()=>xr(e()));return r.toArray=()=>{const s=r();return Array.isArray(s)?s:s!=null?[s]:[]},r}function rs(){if(this.sources&&this.state)if(this.state===ct)Ot(this);else{const t=Fe;Fe=null,ht(()=>Gt(this),!1),Fe=t}if(Ne){const t=this.observers?this.observers.length:0;Ne.sources?(Ne.sources.push(this),Ne.sourceSlots.push(t)):(Ne.sources=[this],Ne.sourceSlots=[t]),this.observers?(this.observers.push(Ne),this.observerSlots.push(Ne.sources.length-1)):(this.observers=[Ne],this.observerSlots=[Ne.sources.length-1])}return this.value}function ss(t,e,r){let s=t.value;return(!t.comparator||!t.comparator(s,e))&&(t.value=e,t.observers&&t.observers.length&&ht(()=>{for(let n=0;n<t.observers.length;n+=1){const a=t.observers[n],l=dr&&dr.running;l&&dr.disposed.has(a),(l?!a.tState:!a.state)&&(a.pure?Fe.push(a):ot.push(a),a.observers&&is(a)),l||(a.state=ct)}if(Fe.length>1e6)throw Fe=[],new Error},!1)),e}function Ot(t){if(!t.fn)return;It(t);const e=ar;Es(t,t.value,e)}function Es(t,e,r){let s;const n=Pe,a=Ne;Ne=Pe=t;try{s=t.fn(e)}catch(l){return t.pure&&(t.state=ct,t.owned&&t.owned.forEach(It),t.owned=null),t.updatedAt=r+1,Cr(l)}finally{Ne=a,Pe=n}(!t.updatedAt||t.updatedAt<=r)&&(t.updatedAt!=null&&"observers"in t?ss(t,s):t.value=s,t.updatedAt=r)}function Sr(t,e,r,s=ct,n){const a={fn:t,state:s,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:Pe,context:Pe?Pe.context:null,pure:r};return Pe===null||Pe!==es&&(Pe.owned?Pe.owned.push(a):Pe.owned=[a]),a}function qt(t){if(t.state===0)return;if(t.state===Wt)return Gt(t);if(t.suspense&&Ze(t.suspense.inFallback))return t.suspense.effects.push(t);const e=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<ar);)t.state&&e.push(t);for(let r=e.length-1;r>=0;r--)if(t=e[r],t.state===ct)Ot(t);else if(t.state===Wt){const s=Fe;Fe=null,ht(()=>Gt(t,e[0]),!1),Fe=s}}function ht(t,e){if(Fe)return t();let r=!1;e||(Fe=[]),ot?r=!0:ot=[],ar++;try{const s=t();return Is(r),s}catch(s){r||(ot=null),Fe=null,Cr(s)}}function Is(t){if(Fe&&(ns(Fe),Fe=null),t)return;const e=ot;ot=null,e.length&&ht(()=>Yr(e),!1)}function ns(t){for(let e=0;e<t.length;e++)qt(t[e])}function Ns(t){let e,r=0;for(e=0;e<t.length;e++){const s=t[e];s.user?t[r++]=s:qt(s)}for(e=0;e<r;e++)qt(t[e])}function Gt(t,e){t.state=0;for(let r=0;r<t.sources.length;r+=1){const s=t.sources[r];if(s.sources){const n=s.state;n===ct?s!==e&&(!s.updatedAt||s.updatedAt<ar)&&qt(s):n===Wt&&Gt(s,e)}}}function is(t){for(let e=0;e<t.observers.length;e+=1){const r=t.observers[e];r.state||(r.state=Wt,r.pure?Fe.push(r):ot.push(r),r.observers&&is(r))}}function It(t){let e;if(t.sources)for(;t.sources.length;){const r=t.sources.pop(),s=t.sourceSlots.pop(),n=r.observers;if(n&&n.length){const a=n.pop(),l=r.observerSlots.pop();s<n.length&&(a.sourceSlots[l]=s,n[s]=a,r.observerSlots[s]=l)}}if(t.tOwned){for(e=t.tOwned.length-1;e>=0;e--)It(t.tOwned[e]);delete t.tOwned}if(t.owned){for(e=t.owned.length-1;e>=0;e--)It(t.owned[e]);t.owned=null}if(t.cleanups){for(e=t.cleanups.length-1;e>=0;e--)t.cleanups[e]();t.cleanups=null}t.state=0}function Rs(t){return t instanceof Error?t:new Error(typeof t=="string"?t:"Unknown error",{cause:t})}function Cr(t,e=Pe){throw Rs(t)}function xr(t){if(typeof t=="function"&&!t.length)return xr(t());if(Array.isArray(t)){const e=[];for(let r=0;r<t.length;r++){const s=xr(t[r]);Array.isArray(s)?e.push.apply(e,s):e.push(s)}return e}return t}function Ts(t,e){return function(s){let n;return F(()=>n=Ze(()=>(Pe.context={...Pe.context,[t]:s.value},ts(()=>s.children))),void 0),n}}const Ds=Symbol("fallback");function Ar(t){for(let e=0;e<t.length;e++)t[e]()}function Os(t,e,r={}){let s=[],n=[],a=[],l=0,o=e.length>1?[]:null;return Xe(()=>Ar(a)),()=>{let c=t()||[],d=c.length,u,g;return c[mr],Ze(()=>{let m,_,b,y,M,E,k,S,A;if(d===0)l!==0&&(Ar(a),a=[],s=[],n=[],l=0,o&&(o=[])),r.fallback&&(s=[Ds],n[0]=Mt(I=>(a[0]=I,r.fallback())),l=1);else if(l===0){for(n=new Array(d),g=0;g<d;g++)s[g]=c[g],n[g]=Mt(x);l=d}else{for(b=new Array(d),y=new Array(d),o&&(M=new Array(d)),E=0,k=Math.min(l,d);E<k&&s[E]===c[E];E++);for(k=l-1,S=d-1;k>=E&&S>=E&&s[k]===c[S];k--,S--)b[S]=n[k],y[S]=a[k],o&&(M[S]=o[k]);for(m=new Map,_=new Array(S+1),g=S;g>=E;g--)A=c[g],u=m.get(A),_[g]=u===void 0?-1:u,m.set(A,g);for(u=E;u<=k;u++)A=s[u],g=m.get(A),g!==void 0&&g!==-1?(b[g]=n[u],y[g]=a[u],o&&(M[g]=o[u]),g=_[g],m.set(A,g)):a[u]();for(g=E;g<d;g++)g in b?(n[g]=b[g],a[g]=y[g],o&&(o[g]=M[g],o[g](g))):n[g]=Mt(x);n=n.slice(0,l=d),s=c.slice(0)}return n});function x(m){if(a[g]=m,o){const[_,b]=J(g);return o[g]=b,e(c[g],_)}return e(c[g])}}}function C(t,e){return Ze(()=>t(e||{}))}const as=t=>`Stale read from <${t}>.`;function Te(t){const e="fallback"in t&&{fallback:()=>t.fallback};return oe(Os(()=>t.each,t.children,e||void 0))}function X(t){const e=t.keyed,r=oe(()=>t.when,void 0,void 0),s=e?r:oe(r,void 0,{equals:(n,a)=>!n==!a});return oe(()=>{const n=s();if(n){const a=t.children;return typeof a=="function"&&a.length>0?Ze(()=>a(e?n:()=>{if(!Ze(s))throw as("Show");return r()})):a}return t.fallback},void 0,void 0)}function Fs(t){const e=ts(()=>t.children),r=oe(()=>{const s=e(),n=Array.isArray(s)?s:[s];let a=()=>{};for(let l=0;l<n.length;l++){const o=l,c=n[l],d=a,u=oe(()=>d()?void 0:c.when,void 0,void 0),g=c.keyed?u:oe(u,void 0,{equals:(x,m)=>!x==!m});a=()=>d()||(g()?[o,u,c]:void 0)}return a});return oe(()=>{const s=r()();if(!s)return t.fallback;const[n,a,l]=s,o=l.children;return typeof o=="function"&&o.length>0?Ze(()=>o(l.keyed?a():()=>{if(Ze(r)()?.[0]!==n)throw as("Match");return a()})):o},void 0,void 0)}function wt(t){return t}const Se=t=>oe(()=>t());function js(t,e,r){let s=r.length,n=e.length,a=s,l=0,o=0,c=e[n-1].nextSibling,d=null;for(;l<n||o<a;){if(e[l]===r[o]){l++,o++;continue}for(;e[n-1]===r[a-1];)n--,a--;if(n===l){const u=a<s?o?r[o-1].nextSibling:r[a-o]:c;for(;o<a;)t.insertBefore(r[o++],u)}else if(a===o)for(;l<n;)(!d||!d.has(e[l]))&&e[l].remove(),l++;else if(e[l]===r[a-1]&&r[o]===e[n-1]){const u=e[--n].nextSibling;t.insertBefore(r[o++],e[l++].nextSibling),t.insertBefore(r[--a],u),e[n]=r[a]}else{if(!d){d=new Map;let g=o;for(;g<a;)d.set(r[g],g++)}const u=d.get(e[l]);if(u!=null)if(o<u&&u<a){let g=l,x=1,m;for(;++g<n&&g<a&&!((m=d.get(e[g]))==null||m!==u+x);)x++;if(x>u-o){const _=e[l];for(;o<u;)t.insertBefore(r[o++],_)}else t.replaceChild(r[o++],e[l++])}else l++;else e[l++].remove()}}}const Er="_$DX_DELEGATE";function zs(t,e,r,s={}){let n;return Mt(a=>{n=a,e===document?t():i(e,t(),e.firstChild?null:void 0,r)},s.owner),()=>{n(),e.textContent=""}}function L(t,e,r,s){let n;const a=()=>{const o=s?document.createElementNS("http://www.w3.org/1998/Math/MathML","template"):document.createElement("template");return o.innerHTML=t,r?o.content.firstChild.firstChild:s?o.firstChild:o.content.firstChild},l=e?()=>Ze(()=>document.importNode(n||(n=a()),!0)):()=>(n||(n=a())).cloneNode(!0);return l.cloneNode=l,l}function Ee(t,e=window.document){const r=e[Er]||(e[Er]=new Set);for(let s=0,n=t.length;s<n;s++){const a=t[s];r.has(a)||(r.add(a),e.addEventListener(a,Vs))}}function re(t,e,r){r==null?t.removeAttribute(e):t.setAttribute(e,r)}function ye(t,e){e==null?t.removeAttribute("class"):t.className=e}function Le(t,e,r,s){if(s)Array.isArray(r)?(t[`$$${e}`]=r[0],t[`$$${e}Data`]=r[1]):t[`$$${e}`]=r;else if(Array.isArray(r)){const n=r[0];t.addEventListener(e,r[0]=a=>n.call(t,r[1],a))}else t.addEventListener(e,r,typeof r!="function"&&r)}function Jt(t,e,r){return Ze(()=>t(e,r))}function i(t,e,r,s){if(r!==void 0&&!s&&(s=[]),typeof e!="function")return Zt(t,e,s,r);F(n=>Zt(t,e(),n,r),s)}function Vs(t){let e=t.target;const r=`$$${t.type}`,s=t.target,n=t.currentTarget,a=c=>Object.defineProperty(t,"target",{configurable:!0,value:c}),l=()=>{const c=e[r];if(c&&!e.disabled){const d=e[`${r}Data`];if(d!==void 0?c.call(e,d,t):c.call(e,t),t.cancelBubble)return}return e.host&&typeof e.host!="string"&&!e.host._$host&&e.contains(t.target)&&a(e.host),!0},o=()=>{for(;l()&&(e=e._$host||e.parentNode||e.host););};if(Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return e||document}}),t.composedPath){const c=t.composedPath();a(c[0]);for(let d=0;d<c.length-2&&(e=c[d],!!l());d++){if(e._$host){e=e._$host,o();break}if(e.parentNode===n)break}}else o();a(s)}function Zt(t,e,r,s,n){for(;typeof r=="function";)r=r();if(e===r)return r;const a=typeof e,l=s!==void 0;if(t=l&&r[0]&&r[0].parentNode||t,a==="string"||a==="number"){if(a==="number"&&(e=e.toString(),e===r))return r;if(l){let o=r[0];o&&o.nodeType===3?o.data!==e&&(o.data=e):o=document.createTextNode(e),r=bt(t,r,s,o)}else r!==""&&typeof r=="string"?r=t.firstChild.data=e:r=t.textContent=e}else if(e==null||a==="boolean")r=bt(t,r,s);else{if(a==="function")return F(()=>{let o=e();for(;typeof o=="function";)o=o();r=Zt(t,o,r,s)}),()=>r;if(Array.isArray(e)){const o=[],c=r&&Array.isArray(r);if(_r(o,e,r,n))return F(()=>r=Zt(t,o,r,s,!0)),()=>r;if(o.length===0){if(r=bt(t,r,s),l)return r}else c?r.length===0?Ir(t,o,s):js(t,r,o):(r&&bt(t),Ir(t,o));r=o}else if(e.nodeType){if(Array.isArray(r)){if(l)return r=bt(t,r,s,e);bt(t,r,null,e)}else r==null||r===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);r=e}}return r}function _r(t,e,r,s){let n=!1;for(let a=0,l=e.length;a<l;a++){let o=e[a],c=r&&r[t.length],d;if(!(o==null||o===!0||o===!1))if((d=typeof o)=="object"&&o.nodeType)t.push(o);else if(Array.isArray(o))n=_r(t,o,c)||n;else if(d==="function")if(s){for(;typeof o=="function";)o=o();n=_r(t,Array.isArray(o)?o:[o],Array.isArray(c)?c:[c])||n}else t.push(o),n=!0;else{const u=String(o);c&&c.nodeType===3&&c.data===u?t.push(c):t.push(document.createTextNode(u))}}return n}function Ir(t,e,r=null){for(let s=0,n=e.length;s<n;s++)t.insertBefore(e[s],r)}function bt(t,e,r,s){if(r===void 0)return t.textContent="";const n=s||document.createTextNode("");if(e.length){let a=!1;for(let l=e.length-1;l>=0;l--){const o=e[l];if(n!==o){const c=o.parentNode===t;!a&&!l?c?t.replaceChild(n,o):t.insertBefore(n,r):c&&o.remove()}else a=!0}}else t.insertBefore(n,r);return[n]}const Bs="http://www.w3.org/2000/svg";function Hs(t,e=!1){return e?document.createElementNS(Bs,t):document.createElement(t)}function os(t){const{useShadow:e}=t,r=document.createTextNode(""),s=()=>t.mount||document.body,n=Ps();let a;return qe(()=>{a||(a=Ls(n,()=>oe(()=>t.children)));const l=s();if(l instanceof HTMLHeadElement){const[o,c]=J(!1),d=()=>c(!0);Mt(u=>i(l,()=>o()?u():a(),null)),Xe(d)}else{const o=Hs(t.isSVG?"g":"div",t.isSVG),c=e&&o.attachShadow?o.attachShadow({mode:"open"}):o;Object.defineProperty(o,"_$host",{get(){return r.parentNode},configurable:!0}),i(c,a),l.appendChild(o),t.ref&&t.ref(o),Xe(()=>l.removeChild(o))}},void 0,{render:!0}),r}const yr=Symbol("store-raw"),_t=Symbol("store-node"),at=Symbol("store-has"),ls=Symbol("store-self");function cs(t){let e=t[ft];if(!e&&(Object.defineProperty(t,ft,{value:e=new Proxy(t,Ws)}),!Array.isArray(t))){const r=Object.keys(t),s=Object.getOwnPropertyDescriptors(t);for(let n=0,a=r.length;n<a;n++){const l=r[n];s[l].get&&Object.defineProperty(t,l,{enumerable:s[l].enumerable,get:s[l].get.bind(e)})}}return e}function Qt(t){let e;return t!=null&&typeof t=="object"&&(t[ft]||!(e=Object.getPrototypeOf(t))||e===Object.prototype||Array.isArray(t))}function Nt(t,e=new Set){let r,s,n,a;if(r=t!=null&&t[yr])return r;if(!Qt(t)||e.has(t))return t;if(Array.isArray(t)){Object.isFrozen(t)?t=t.slice(0):e.add(t);for(let l=0,o=t.length;l<o;l++)n=t[l],(s=Nt(n,e))!==n&&(t[l]=s)}else{Object.isFrozen(t)?t=Object.assign({},t):e.add(t);const l=Object.keys(t),o=Object.getOwnPropertyDescriptors(t);for(let c=0,d=l.length;c<d;c++)a=l[c],!o[a].get&&(n=t[a],(s=Nt(n,e))!==n&&(t[a]=s))}return t}function Xt(t,e){let r=t[e];return r||Object.defineProperty(t,e,{value:r=Object.create(null)}),r}function Rt(t,e,r){if(t[e])return t[e];const[s,n]=J(r,{equals:!1,internal:!0});return s.$=n,t[e]=s}function Us(t,e){const r=Reflect.getOwnPropertyDescriptor(t,e);return!r||r.get||!r.configurable||e===ft||e===_t||(delete r.value,delete r.writable,r.get=()=>t[ft][e]),r}function ds(t){br()&&Rt(Xt(t,_t),ls)()}function Ks(t){return ds(t),Reflect.ownKeys(t)}const Ws={get(t,e,r){if(e===yr)return t;if(e===ft)return r;if(e===mr)return ds(t),r;const s=Xt(t,_t),n=s[e];let a=n?n():t[e];if(e===_t||e===at||e==="__proto__")return a;if(!n){const l=Object.getOwnPropertyDescriptor(t,e);br()&&(typeof a!="function"||t.hasOwnProperty(e))&&!(l&&l.get)&&(a=Rt(s,e,a)())}return Qt(a)?cs(a):a},has(t,e){return e===yr||e===ft||e===mr||e===_t||e===at||e==="__proto__"?!0:(br()&&Rt(Xt(t,at),e)(),e in t)},set(){return!0},deleteProperty(){return!0},ownKeys:Ks,getOwnPropertyDescriptor:Us};function Yt(t,e,r,s=!1){if(!s&&t[e]===r)return;const n=t[e],a=t.length;r===void 0?(delete t[e],t[at]&&t[at][e]&&n!==void 0&&t[at][e].$()):(t[e]=r,t[at]&&t[at][e]&&n===void 0&&t[at][e].$());let l=Xt(t,_t),o;if((o=Rt(l,e,n))&&o.$(()=>r),Array.isArray(t)&&t.length!==a){for(let c=t.length;c<a;c++)(o=l[c])&&o.$();(o=Rt(l,"length",a))&&o.$(t.length)}(o=l[ls])&&o.$()}function gs(t,e){const r=Object.keys(e);for(let s=0;s<r.length;s+=1){const n=r[s];Yt(t,n,e[n])}}function qs(t,e){if(typeof e=="function"&&(e=e(t)),e=Nt(e),Array.isArray(e)){if(t===e)return;let r=0,s=e.length;for(;r<s;r++){const n=e[r];t[r]!==n&&Yt(t,r,n)}Yt(t,"length",s)}else gs(t,e)}function Lt(t,e,r=[]){let s,n=t;if(e.length>1){s=e.shift();const l=typeof s,o=Array.isArray(t);if(Array.isArray(s)){for(let c=0;c<s.length;c++)Lt(t,[s[c]].concat(e),r);return}else if(o&&l==="function"){for(let c=0;c<t.length;c++)s(t[c],c)&&Lt(t,[c].concat(e),r);return}else if(o&&l==="object"){const{from:c=0,to:d=t.length-1,by:u=1}=s;for(let g=c;g<=d;g+=u)Lt(t,[g].concat(e),r);return}else if(e.length>1){Lt(t[s],e,[s].concat(r));return}n=t[s],r=[s].concat(r)}let a=e[0];typeof a=="function"&&(a=a(n,r),a===n)||s===void 0&&a==null||(a=Nt(a),s===void 0||Qt(n)&&Qt(a)&&!Array.isArray(a)?gs(n,a):Yt(t,s,a))}function Gs(...[t,e]){const r=Nt(t||{}),s=Array.isArray(r),n=cs(r);function a(...l){Cs(()=>{s&&l.length===1?qs(r,l[0]):Lt(r,l)})}return[n,a]}const Js=[{id:"part-1",name:"Rectangle Part",filename:"rectangle.svg",path:[[0,0],[100,0],[100,50],[0,50]],area:5e3,bounds:{x:0,y:0,width:100,height:50},quantity:5,placed:3,rotation:0,material:"wood",thickness:3,isSelected:!1},{id:"part-2",name:"Circle Part",filename:"circle.svg",path:Ys(25,50,50),area:1963.5,bounds:{x:25,y:25,width:50,height:50},quantity:3,placed:2,rotation:0,material:"acrylic",thickness:5,isSelected:!1},{id:"part-3",name:"Triangle Part",filename:"triangle.svg",path:[[0,60],[30,0],[60,60]],area:1800,bounds:{x:0,y:0,width:60,height:60},quantity:8,placed:5,rotation:0,material:"plywood",thickness:6,isSelected:!0}],Zs=[{id:"sheet-1",name:"Standard Sheet",width:600,height:400,thickness:3,material:"wood",margin:5,isSelected:!0,bounds:{x:0,y:0,width:600,height:400},utilization:0},{id:"sheet-2",name:"Large Acrylic Sheet",width:800,height:600,thickness:5,material:"acrylic",margin:3,isSelected:!1,bounds:{x:0,y:0,width:800,height:600},utilization:0}],Qs=[{id:"nest-1",sheetId:"sheet-1",placements:[{id:"placement-1",partId:"part-1",x:10,y:10,rotation:0,bounds:{x:10,y:10,width:100,height:50}},{id:"placement-2",partId:"part-2",x:120,y:10,rotation:0,bounds:{x:120,y:10,width:50,height:50}},{id:"placement-3",partId:"part-3",x:10,y:70,rotation:0,bounds:{x:10,y:70,width:60,height:60}}],fitness:.75,utilization:.68,area:12e3,createdAt:new Date().toISOString(),isOptimal:!1},{id:"nest-2",sheetId:"sheet-1",placements:[{id:"placement-4",partId:"part-1",x:5,y:5,rotation:90,bounds:{x:5,y:5,width:50,height:100}},{id:"placement-5",partId:"part-2",x:65,y:5,rotation:0,bounds:{x:65,y:5,width:50,height:50}}],fitness:.82,utilization:.72,area:8500,createdAt:new Date(Date.now()-6e4).toISOString(),isOptimal:!0}],Xs={"preset-1":{id:"preset-1",name:"Default Laser Settings",description:"Standard settings for laser cutting wood",config:{units:"mm",scale:1,spacing:2,rotations:4,populationSize:20,mutationRate:15,threads:4,placementType:"gravity",mergeLines:!0,timeRatio:.5,simplify:!1,tolerance:.1,endpointTolerance:.05,svgScale:1,dxfImportUnits:"mm",dxfExportUnits:"mm",exportSheetBounds:!0,exportSheetSpacing:!1,sheetSpacing:10,useQuantityFromFilename:!0,useSvgPreProcessor:!1,conversionServer:"https://converter.deepnest.app/convert"},createdAt:new Date(Date.now()-864e5).toISOString(),updatedAt:new Date(Date.now()-36e5).toISOString()},"preset-2":{id:"preset-2",name:"High Precision CNC",description:"Tight tolerances for CNC machining",config:{units:"inches",scale:72,spacing:.1,rotations:8,populationSize:50,mutationRate:5,threads:8,placementType:"bottom-left",mergeLines:!1,timeRatio:.8,simplify:!0,tolerance:.001,endpointTolerance:5e-4,svgScale:72,dxfImportUnits:"inches",dxfExportUnits:"inches",exportSheetBounds:!0,exportSheetSpacing:!0,sheetSpacing:.25,useQuantityFromFilename:!1,useSvgPreProcessor:!0,conversionServer:"https://converter.deepnest.app/convert"},createdAt:new Date(Date.now()-1728e5).toISOString(),updatedAt:new Date(Date.now()-72e5).toISOString()}};function Ys(t,e,r){const s=[];for(let a=0;a<=32;a++){const l=a/32*2*Math.PI,o=e+t*Math.cos(l),c=r+t*Math.sin(l);s.push([o,c])}return s}const en=()=>({ui:{activeTab:"parts",darkMode:!1,language:"en",theme:"auto",showTooltips:!0,showStatusBar:!0,modals:{presetModal:!1,helpModal:!1},panels:{partsWidth:300,resultsHeight:200}},config:{units:"mm",scale:1,spacing:2,rotations:4,populationSize:20,mutationRate:10,threads:4,placementType:"gravity",mergeLines:!0,timeRatio:.5,simplify:!1,tolerance:.1,endpointTolerance:.05,svgScale:1,dxfImportUnits:"mm",dxfExportUnits:"mm",exportSheetBounds:!1,exportSheetSpacing:!1,sheetSpacing:10,useQuantityFromFilename:!1,useSvgPreProcessor:!1,conversionServer:"https://converter.deepnest.app/convert"},app:{parts:Js,sheets:Zs,nests:Qs,presets:Xs,importedFiles:[]},process:{isNesting:!1,progress:0,currentNest:null,workerStatus:{isRunning:!1,currentOperation:"",threadsActive:0},lastError:null}}),it=()=>typeof window<"u"&&!window.electronAPI,vr={units:"inches",scale:72,spacing:0,rotations:4,populationSize:10,mutationRate:10,threads:4,placementType:"gravity",mergeLines:!0,timeRatio:.5,simplify:!1,tolerance:.72,endpointTolerance:.36,svgScale:72,dxfImportUnits:"mm",dxfExportUnits:"mm",exportSheetBounds:!1,exportSheetSpacing:!1,sheetSpacing:10,useQuantityFromFilename:!1,useSvgPreProcessor:!1,conversionServer:"https://converter.deepnest.app/convert"},Ut={activeTab:"parts",darkMode:!1,language:"en",modals:{presetModal:!1,helpModal:!1},panels:{partsWidth:300,resultsHeight:200}},us={parts:[],sheets:[],nests:[],presets:{},importedFiles:[]},fs={isNesting:!1,progress:0,currentNest:null,workerStatus:{isRunning:!1,currentOperation:"",threadsActive:0},lastError:null},tn=()=>{try{if(typeof localStorage<"u"){const t=localStorage.getItem("deepnest-ui-state");let e=Ut;if(t){const r=JSON.parse(t);e={...Ut,...r}}return"theme"in localStorage?e.darkMode=localStorage.theme==="dark":e.darkMode=window.matchMedia("(prefers-color-scheme: dark)").matches,e}}catch(t){console.warn("Failed to load UI state from localStorage:",t)}return Ut},hs=it()?en():{ui:tn(),config:vr,app:us,process:fs},[w,me]=Gs(hs);typeof document<"u"&&hs.ui.darkMode&&document.documentElement.classList.add("dark");it()&&console.info("ðŸ”§ Development mode: Global store initialized with mock data");const O={setActiveTab:t=>{me("ui","activeTab",t)},setDarkMode:t=>{if(me("ui","darkMode",t),typeof localStorage<"u")try{t?localStorage.theme="dark":localStorage.theme="light",localStorage.setItem("deepnest-ui-state",JSON.stringify(w.ui))}catch(e){console.warn("Failed to save theme to localStorage:",e)}},toggleDarkMode:()=>{const t=w.ui.darkMode;O.setDarkMode(!t)},setCurrentPanel:t=>{me("ui","activeTab",t)},setThemePreference:t=>{if(typeof localStorage<"u")try{if(t==="system"){localStorage.removeItem("theme");const e=window.matchMedia("(prefers-color-scheme: dark)").matches;me("ui","darkMode",e)}else localStorage.theme=t,me("ui","darkMode",t==="dark");localStorage.setItem("deepnest-ui-state",JSON.stringify(w.ui))}catch(e){console.warn("Failed to save theme preference to localStorage:",e)}},setLanguage:t=>{if(me("ui","language",t),typeof localStorage<"u")try{localStorage.setItem("deepnest-ui-state",JSON.stringify(w.ui))}catch(e){console.warn("Failed to save UI state to localStorage:",e)}},setPanelWidth:(t,e)=>{if(me("ui","panels",t,e),typeof localStorage<"u")try{localStorage.setItem("deepnest-ui-state",JSON.stringify(w.ui))}catch(r){console.warn("Failed to save UI state to localStorage:",r)}},openModal:t=>{me("ui","modals",t,!0)},closeModal:t=>{me("ui","modals",t,!1)},updateConfig:t=>{me("config",t)},resetConfig:()=>{me("config",vr)},setParts:t=>{me("app","parts",t)},addPart:t=>{me("app","parts",e=>[...e,t])},removePart:t=>{me("app","parts",e=>e.filter(r=>r.id!==t))},updatePart:(t,e)=>{me("app","parts",r=>r.id===t,e)},setNests:t=>{me("app","nests",t)},addNest:t=>{me("app","nests",e=>[...e,t])},setCurrentNest:t=>{me("process","currentNest",t)},setPresets:t=>{me("app","presets",t)},addPreset:t=>{me("app","presets",t.id,t)},removePreset:t=>{me("app","presets",e=>{const r={...e};return delete r[t],r})},updatePreset:(t,e)=>{me("app","presets",t,r=>({...r,...e}))},setNestingStatus:t=>{me("process","isNesting",t)},startNesting:()=>{me("process","isNesting",!0),me("process","progress",0),me("process","lastError",null),console.log("Starting nesting process...")},setNestingProgress:t=>{me("process","progress",t)},setWorkerStatus:t=>{me("process","workerStatus",t)},setError:t=>{me("process","lastError",t)},setMessage:t=>{t&&console.info("App Message:",t)},setShowTooltips:t=>{me("ui","showTooltips",t)},setShowStatusBar:t=>{me("ui","showStatusBar",t)},setTheme:t=>{me("ui","theme",t)},resetToDefaults:()=>{me("config",vr),me("ui",Ut)},reset:()=>{me("app",us),me("process",fs)}};class rn{eventListeners=new Map;nestingProgress=0;isNesting=!1;activeWorkers=new Set;nestResults=[];get isAvailable(){return it()||typeof window<"u"&&!!window.electronAPI}async invoke(e,...r){if(!this.isAvailable)throw new Error("IPC not available");if(it())return this.handleMockInvoke(e,...r);try{return await window.electronAPI.ipcRenderer.invoke(e,...r)}catch(s){throw console.error(`IPC invoke error on channel ${String(e)}:`,s),s}}async handleMockInvoke(e,...r){switch(await new Promise(s=>setTimeout(s,100)),console.info(`ðŸ”§ Mock IPC call: ${e}`,r),e){case"read-config":return{units:"mm",scale:1,spacing:2,rotations:4,populationSize:20,mutationRate:10,threads:4,placementType:"gravity",mergeLines:!0,timeRatio:.5,simplify:!1,tolerance:.1,endpointTolerance:.05,svgScale:1,dxfImportUnits:"mm",dxfExportUnits:"mm",exportSheetBounds:!1,exportSheetSpacing:!1,sheetSpacing:10,useQuantityFromFilename:!1,useSvgPreProcessor:!1,conversionServer:"https://converter.deepnest.app/convert"};case"write-config":case"save-preset":case"delete-preset":case"start-nesting":case"stop-nesting":return;case"load-presets":return{default:JSON.stringify({units:"mm",spacing:2,rotations:4}),precision:JSON.stringify({units:"inches",spacing:.1,rotations:8})};case"open-file-dialog":return{canceled:!1,filePaths:["/mock/path/example.svg"]};case"save-file-dialog":return{canceled:!1,filePath:"/mock/path/output.svg"};case"import-parts":return[{id:"mock-part-1",name:"Mock Part",bounds:{x:0,y:0,width:100,height:50},quantity:1,rotation:0}];default:console.warn(`ðŸ”§ Unhandled mock IPC channel: ${e}`);return}}simulateBackgroundWorker(){if(!it())return;console.info("ðŸ”§ Simulating background worker progress...");let e=0;const r=setInterval(()=>{e+=.1,this.emitToUIListeners("background-progress",{index:0,progress:Math.min(e,1)}),e>=1&&(clearInterval(r),this.emitToUIListeners("background-progress",{index:0,progress:-1}),setTimeout(()=>{this.emitToUIListeners("background-response",{index:0,fitness:.85,area:85e3,totalarea:1e5,mergedLength:0,utilisation:.85,placements:[{sheet:0,sheetid:1,sheetplacements:[{id:1,source:0,x:10,y:10,rotation:0}]}]})},500))},200)}async startNesting(e){return this.isNesting=!0,this.nestingProgress=0,this.nestResults=[],this.activeWorkers.clear(),this.eventListeners.has("background-progress")||this.initializeBackgroundWorkerListeners(),this.emitToUIListeners("nest-status",{isRunning:!0,operation:"Starting nesting..."}),it()?(setTimeout(()=>this.simulateBackgroundWorker(),1e3),Promise.resolve()):this.invoke("start-nesting",e)}async stopNesting(){return this.isNesting=!1,this.activeWorkers.clear(),this.emitToUIListeners("nest-status",{isRunning:!1,operation:"Stopped"}),it()?Promise.resolve():this.invoke("stop-nesting")}on(e,r){if(!this.isAvailable)return console.warn("IPC not available, listener not registered"),()=>{};const s=String(e);return this.eventListeners.has(s)||this.eventListeners.set(s,new Set),this.eventListeners.get(s).add(r),it()?(console.info(`ðŸ”§ Mock IPC listener registered for: ${s}`),()=>{const n=this.eventListeners.get(s);n&&(n.delete(r),n.size===0&&this.eventListeners.delete(s))}):(window.electronAPI.ipcRenderer.on(e,r),()=>{const n=this.eventListeners.get(s);n&&(n.delete(r),n.size===0&&(this.eventListeners.delete(s),window.electronAPI?.ipcRenderer&&window.electronAPI.ipcRenderer.removeAllListeners(e)))})}send(e,...r){if(!this.isAvailable){console.warn("IPC not available, message not sent");return}if(it()){console.info(`ðŸ”§ Mock IPC send: ${e}`,r);return}window.electronAPI.ipcRenderer.send(e,...r)}async readConfig(){return this.invoke("read-config")}async writeConfig(e){return this.invoke("write-config",JSON.stringify(e))}async savePreset(e,r){return this.invoke("save-preset",e,JSON.stringify(r))}async loadPresets(){return this.invoke("load-presets")}async deletePreset(e){return this.invoke("delete-preset",e)}async openFileDialog(){return this.invoke("open-file-dialog")}async saveFileDialog(){return this.invoke("save-file-dialog")}async importParts(e){return this.invoke("import-parts",e)}stopBackgroundWorker(){this.send("background-stop"),this.isNesting=!1,this.activeWorkers.clear()}initializeBackgroundWorkerListeners(){this.on("background-progress",e=>{this.activeWorkers.add(e.index),e.progress===-1&&this.activeWorkers.delete(e.index),this.nestingProgress=e.progress===-1?1:Math.max(this.nestingProgress,e.progress),this.emitToUIListeners("nest-progress",this.nestingProgress),this.emitToUIListeners("nest-status",{isRunning:this.isNesting&&this.activeWorkers.size>0,operation:e.progress===-1?"Complete":"Calculating placement..."})}),this.on("background-response",e=>{this.handleBackgroundWorkerResult(e)}),this.on("setPlacements",e=>{this.handleBackgroundWorkerResult(e)})}handleBackgroundWorkerResult(e){const r={id:`result-${e.index}`,fitness:e.fitness,area:e.area,totalArea:e.totalarea,utilisation:e.utilisation,sheets:e.placements.map(s=>({id:s.sheetid,parts:s.sheetplacements.map(n=>({id:n.id,x:n.x,y:n.y,rotation:n.rotation}))}))};this.nestResults.push(r),(this.nestResults.length===1||e.fitness<Math.min(...this.nestResults.map(s=>s.fitness)))&&this.emitToUIListeners("nest-complete",[...this.nestResults])}emitToUIListeners(e,r){const s=this.eventListeners.get(e);s&&s.forEach(n=>{try{n(r)}catch(a){console.error(`Error in ${e} listener:`,a)}})}onNestProgress(e){return this.on("nest-progress",e)}onNestComplete(e){return this.on("nest-complete",e)}onNestStatus(e){return this.on("nest-status",e)}onNestError(e){return this.on("nest-error",e)}onBackgroundProgress(e){return this.on("background-progress",e)}onBackgroundResponse(e){return this.on("background-response",e)}onSetPlacements(e){return this.on("setPlacements",e)}cleanup(){if(this.isAvailable){for(const e of this.eventListeners.keys())window.electronAPI.ipcRenderer.removeAllListeners(e);this.eventListeners.clear(),this.isNesting=!1,this.nestingProgress=0,this.activeWorkers.clear(),this.nestResults=[]}}}const ae=new rn,ce=t=>typeof t=="string",St=()=>{let t,e;const r=new Promise((s,n)=>{t=s,e=n});return r.resolve=t,r.reject=e,r},Nr=t=>t==null?"":""+t,sn=(t,e,r)=>{t.forEach(s=>{e[s]&&(r[s]=e[s])})},nn=/###/g,Rr=t=>t&&t.indexOf("###")>-1?t.replace(nn,"."):t,Tr=t=>!t||ce(t),At=(t,e,r)=>{const s=ce(e)?e.split("."):e;let n=0;for(;n<s.length-1;){if(Tr(t))return{};const a=Rr(s[n]);!t[a]&&r&&(t[a]=new r),Object.prototype.hasOwnProperty.call(t,a)?t=t[a]:t={},++n}return Tr(t)?{}:{obj:t,k:Rr(s[n])}},Dr=(t,e,r)=>{const{obj:s,k:n}=At(t,e,Object);if(s!==void 0||e.length===1){s[n]=r;return}let a=e[e.length-1],l=e.slice(0,e.length-1),o=At(t,l,Object);for(;o.obj===void 0&&l.length;)a=`${l[l.length-1]}.${a}`,l=l.slice(0,l.length-1),o=At(t,l,Object),o?.obj&&typeof o.obj[`${o.k}.${a}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${a}`]=r},an=(t,e,r,s)=>{const{obj:n,k:a}=At(t,e,Object);n[a]=n[a]||[],n[a].push(r)},er=(t,e)=>{const{obj:r,k:s}=At(t,e);if(r&&Object.prototype.hasOwnProperty.call(r,s))return r[s]},on=(t,e,r)=>{const s=er(t,r);return s!==void 0?s:er(e,r)},ps=(t,e,r)=>{for(const s in e)s!=="__proto__"&&s!=="constructor"&&(s in t?ce(t[s])||t[s]instanceof String||ce(e[s])||e[s]instanceof String?r&&(t[s]=e[s]):ps(t[s],e[s],r):t[s]=e[s]);return t},xt=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var ln={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const cn=t=>ce(t)?t.replace(/[&<>"'\/]/g,e=>ln[e]):t;class dn{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const r=this.regExpMap.get(e);if(r!==void 0)return r;const s=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,s),this.regExpQueue.push(e),s}}const gn=[" ",",","?","!",";"],un=new dn(20),fn=(t,e,r)=>{e=e||"",r=r||"";const s=gn.filter(l=>e.indexOf(l)<0&&r.indexOf(l)<0);if(s.length===0)return!0;const n=un.getRegExp(`(${s.map(l=>l==="?"?"\\?":l).join("|")})`);let a=!n.test(t);if(!a){const l=t.indexOf(r);l>0&&!n.test(t.substring(0,l))&&(a=!0)}return a},$r=(t,e,r=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const s=e.split(r);let n=t;for(let a=0;a<s.length;){if(!n||typeof n!="object")return;let l,o="";for(let c=a;c<s.length;++c)if(c!==a&&(o+=r),o+=s[c],l=n[o],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&c<s.length-1)continue;a+=c-a+1;break}n=l}return n},Tt=t=>t?.replace("_","-"),hn={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}};class tr{constructor(e,r={}){this.init(e,r)}init(e,r={}){this.prefix=r.prefix||"i18next:",this.logger=e||hn,this.options=r,this.debug=r.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,r,s,n){return n&&!this.debug?null:(ce(e[0])&&(e[0]=`${s}${this.prefix} ${e[0]}`),this.logger[r](e))}create(e){return new tr(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new tr(this.logger,e)}}var Ye=new tr;class lr{constructor(){this.observers={}}on(e,r){return e.split(" ").forEach(s=>{this.observers[s]||(this.observers[s]=new Map);const n=this.observers[s].get(r)||0;this.observers[s].set(r,n+1)}),this}off(e,r){if(this.observers[e]){if(!r){delete this.observers[e];return}this.observers[e].delete(r)}}emit(e,...r){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([n,a])=>{for(let l=0;l<a;l++)n(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([n,a])=>{for(let l=0;l<a;l++)n.apply(n,[e,...r])})}}class Or extends lr{constructor(e,r={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const r=this.options.ns.indexOf(e);r>-1&&this.options.ns.splice(r,1)}getResource(e,r,s,n={}){const a=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,l=n.ignoreJSONStructure!==void 0?n.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,r],s&&(Array.isArray(s)?o.push(...s):ce(s)&&a?o.push(...s.split(a)):o.push(s)));const c=er(this.data,o);return!c&&!r&&!s&&e.indexOf(".")>-1&&(e=o[0],r=o[1],s=o.slice(2).join(".")),c||!l||!ce(s)?c:$r(this.data?.[e]?.[r],s,a)}addResource(e,r,s,n,a={silent:!1}){const l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let o=[e,r];s&&(o=o.concat(l?s.split(l):s)),e.indexOf(".")>-1&&(o=e.split("."),n=r,r=o[1]),this.addNamespaces(r),Dr(this.data,o,n),a.silent||this.emit("added",e,r,s,n)}addResources(e,r,s,n={silent:!1}){for(const a in s)(ce(s[a])||Array.isArray(s[a]))&&this.addResource(e,r,a,s[a],{silent:!0});n.silent||this.emit("added",e,r,s)}addResourceBundle(e,r,s,n,a,l={silent:!1,skipCopy:!1}){let o=[e,r];e.indexOf(".")>-1&&(o=e.split("."),n=s,s=r,r=o[1]),this.addNamespaces(r);let c=er(this.data,o)||{};l.skipCopy||(s=JSON.parse(JSON.stringify(s))),n?ps(c,s,a):c={...c,...s},Dr(this.data,o,c),l.silent||this.emit("added",e,r,s)}removeResourceBundle(e,r){this.hasResourceBundle(e,r)&&delete this.data[e][r],this.removeNamespaces(r),this.emit("removed",e,r)}hasResourceBundle(e,r){return this.getResource(e,r)!==void 0}getResourceBundle(e,r){return r||(r=this.options.defaultNS),this.getResource(e,r)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const r=this.getDataByLanguage(e);return!!(r&&Object.keys(r)||[]).find(n=>r[n]&&Object.keys(r[n]).length>0)}toJSON(){return this.data}}var ms={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,r,s,n){return t.forEach(a=>{e=this.processors[a]?.process(e,r,s,n)??e}),e}};const Fr={},jr=t=>!ce(t)&&typeof t!="boolean"&&typeof t!="number";class rr extends lr{constructor(e,r={}){super(),sn(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Ye.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,r={interpolation:{}}){const s={...r};return e==null?!1:this.resolve(e,s)?.res!==void 0}extractFromKey(e,r){let s=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");const n=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let a=r.ns||this.options.defaultNS||[];const l=s&&e.indexOf(s)>-1,o=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!fn(e,s,n);if(l&&!o){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:ce(a)?[a]:a};const d=e.split(s);(s!==n||s===n&&this.options.ns.indexOf(d[0])>-1)&&(a=d.shift()),e=d.join(n)}return{key:e,namespaces:ce(a)?[a]:a}}translate(e,r,s){let n=typeof r=="object"?{...r}:r;if(typeof n!="object"&&this.options.overloadTranslationOptionHandler&&(n=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(n={...n}),n||(n={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const a=n.returnDetails!==void 0?n.returnDetails:this.options.returnDetails,l=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator,{key:o,namespaces:c}=this.extractFromKey(e[e.length-1],n),d=c[c.length-1];let u=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;u===void 0&&(u=":");const g=n.lng||this.language,x=n.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(g?.toLowerCase()==="cimode")return x?a?{res:`${d}${u}${o}`,usedKey:o,exactUsedKey:o,usedLng:g,usedNS:d,usedParams:this.getUsedParamsDetails(n)}:`${d}${u}${o}`:a?{res:o,usedKey:o,exactUsedKey:o,usedLng:g,usedNS:d,usedParams:this.getUsedParamsDetails(n)}:o;const m=this.resolve(e,n);let _=m?.res;const b=m?.usedKey||o,y=m?.exactUsedKey||o,M=["[object Number]","[object Function]","[object RegExp]"],E=n.joinArrays!==void 0?n.joinArrays:this.options.joinArrays,k=!this.i18nFormat||this.i18nFormat.handleAsObject,S=n.count!==void 0&&!ce(n.count),A=rr.hasDefaultValue(n),I=S?this.pluralResolver.getSuffix(g,n.count,n):"",R=n.ordinal&&S?this.pluralResolver.getSuffix(g,n.count,{ordinal:!1}):"",T=S&&!n.ordinal&&n.count===0,h=T&&n[`defaultValue${this.options.pluralSeparator}zero`]||n[`defaultValue${I}`]||n[`defaultValue${R}`]||n.defaultValue;let f=_;k&&!_&&A&&(f=h);const $=jr(f),v=Object.prototype.toString.apply(f);if(k&&f&&$&&M.indexOf(v)<0&&!(ce(E)&&Array.isArray(f))){if(!n.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const p=this.options.returnedObjectHandler?this.options.returnedObjectHandler(b,f,{...n,ns:c}):`key '${o} (${this.language})' returned an object instead of string.`;return a?(m.res=p,m.usedParams=this.getUsedParamsDetails(n),m):p}if(l){const p=Array.isArray(f),P=p?[]:{},D=p?y:b;for(const N in f)if(Object.prototype.hasOwnProperty.call(f,N)){const z=`${D}${l}${N}`;A&&!_?P[N]=this.translate(z,{...n,defaultValue:jr(h)?h[N]:void 0,joinArrays:!1,ns:c}):P[N]=this.translate(z,{...n,joinArrays:!1,ns:c}),P[N]===z&&(P[N]=f[N])}_=P}}else if(k&&ce(E)&&Array.isArray(_))_=_.join(E),_&&(_=this.extendTranslation(_,e,n,s));else{let p=!1,P=!1;!this.isValidLookup(_)&&A&&(p=!0,_=h),this.isValidLookup(_)||(P=!0,_=o);const N=(n.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&P?void 0:_,z=A&&h!==_&&this.options.updateMissing;if(P||p||z){if(this.logger.log(z?"updateKey":"missingKey",g,d,o,z?h:_),l){const H=this.resolve(o,{...n,keySeparator:!1});H&&H.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let V=[];const K=this.languageUtils.getFallbackCodes(this.options.fallbackLng,n.lng||this.language);if(this.options.saveMissingTo==="fallback"&&K&&K[0])for(let H=0;H<K.length;H++)V.push(K[H]);else this.options.saveMissingTo==="all"?V=this.languageUtils.toResolveHierarchy(n.lng||this.language):V.push(n.lng||this.language);const G=(H,ee,ne)=>{const j=A&&ne!==_?ne:N;this.options.missingKeyHandler?this.options.missingKeyHandler(H,d,ee,j,z,n):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(H,d,ee,j,z,n),this.emit("missingKey",H,d,ee,_)};this.options.saveMissing&&(this.options.saveMissingPlurals&&S?V.forEach(H=>{const ee=this.pluralResolver.getSuffixes(H,n);T&&n[`defaultValue${this.options.pluralSeparator}zero`]&&ee.indexOf(`${this.options.pluralSeparator}zero`)<0&&ee.push(`${this.options.pluralSeparator}zero`),ee.forEach(ne=>{G([H],o+ne,n[`defaultValue${ne}`]||h)})}):G(V,o,h))}_=this.extendTranslation(_,e,n,m,s),P&&_===o&&this.options.appendNamespaceToMissingKey&&(_=`${d}${u}${o}`),(P||p)&&this.options.parseMissingKeyHandler&&(_=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${d}${u}${o}`:o,p?_:void 0,n))}return a?(m.res=_,m.usedParams=this.getUsedParamsDetails(n),m):_}extendTranslation(e,r,s,n,a){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...s},s.lng||this.language||n.usedLng,n.usedNS,n.usedKey,{resolved:n});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init({...s,interpolation:{...this.options.interpolation,...s.interpolation}});const c=ce(e)&&(s?.interpolation?.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(c){const g=e.match(this.interpolator.nestingRegexp);d=g&&g.length}let u=s.replace&&!ce(s.replace)?s.replace:s;if(this.options.interpolation.defaultVariables&&(u={...this.options.interpolation.defaultVariables,...u}),e=this.interpolator.interpolate(e,u,s.lng||this.language||n.usedLng,s),c){const g=e.match(this.interpolator.nestingRegexp),x=g&&g.length;d<x&&(s.nest=!1)}!s.lng&&n&&n.res&&(s.lng=this.language||n.usedLng),s.nest!==!1&&(e=this.interpolator.nest(e,(...g)=>a?.[0]===g[0]&&!s.context?(this.logger.warn(`It seems you are nesting recursively key: ${g[0]} in key: ${r[0]}`),null):this.translate(...g,r),s)),s.interpolation&&this.interpolator.reset()}const l=s.postProcess||this.options.postProcess,o=ce(l)?[l]:l;return e!=null&&o?.length&&s.applyPostProcessor!==!1&&(e=ms.handle(o,e,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...n,usedParams:this.getUsedParamsDetails(s)},...s}:s,this)),e}resolve(e,r={}){let s,n,a,l,o;return ce(e)&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(s))return;const d=this.extractFromKey(c,r),u=d.key;n=u;let g=d.namespaces;this.options.fallbackNS&&(g=g.concat(this.options.fallbackNS));const x=r.count!==void 0&&!ce(r.count),m=x&&!r.ordinal&&r.count===0,_=r.context!==void 0&&(ce(r.context)||typeof r.context=="number")&&r.context!=="",b=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);g.forEach(y=>{this.isValidLookup(s)||(o=y,!Fr[`${b[0]}-${y}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(o)&&(Fr[`${b[0]}-${y}`]=!0,this.logger.warn(`key "${n}" for languages "${b.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),b.forEach(M=>{if(this.isValidLookup(s))return;l=M;const E=[u];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(E,u,M,y,r);else{let S;x&&(S=this.pluralResolver.getSuffix(M,r.count,r));const A=`${this.options.pluralSeparator}zero`,I=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(x&&(E.push(u+S),r.ordinal&&S.indexOf(I)===0&&E.push(u+S.replace(I,this.options.pluralSeparator)),m&&E.push(u+A)),_){const R=`${u}${this.options.contextSeparator}${r.context}`;E.push(R),x&&(E.push(R+S),r.ordinal&&S.indexOf(I)===0&&E.push(R+S.replace(I,this.options.pluralSeparator)),m&&E.push(R+A))}}let k;for(;k=E.pop();)this.isValidLookup(s)||(a=k,s=this.getResource(M,y,k,r))}))})}),{res:s,usedKey:n,exactUsedKey:a,usedLng:l,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,r,s,n={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,r,s,n):this.resourceStore.getResource(e,r,s,n)}getUsedParamsDetails(e={}){const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],s=e.replace&&!ce(e.replace);let n=s?e.replace:e;if(s&&typeof e.count<"u"&&(n.count=e.count),this.options.interpolation.defaultVariables&&(n={...this.options.interpolation.defaultVariables,...n}),!s){n={...n};for(const a of r)delete n[a]}return n}static hasDefaultValue(e){const r="defaultValue";for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)&&r===s.substring(0,r.length)&&e[s]!==void 0)return!0;return!1}}class zr{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Ye.create("languageUtils")}getScriptPartFromCode(e){if(e=Tt(e),!e||e.indexOf("-")<0)return null;const r=e.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(e){if(e=Tt(e),!e||e.indexOf("-")<0)return e;const r=e.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(e){if(ce(e)&&e.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(e)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let r;return e.forEach(s=>{if(r)return;const n=this.formatLanguageCode(s);(!this.options.supportedLngs||this.isSupportedCode(n))&&(r=n)}),!r&&this.options.supportedLngs&&e.forEach(s=>{if(r)return;const n=this.getScriptPartFromCode(s);if(this.isSupportedCode(n))return r=n;const a=this.getLanguagePartFromCode(s);if(this.isSupportedCode(a))return r=a;r=this.options.supportedLngs.find(l=>{if(l===a)return l;if(!(l.indexOf("-")<0&&a.indexOf("-")<0)&&(l.indexOf("-")>0&&a.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===a||l.indexOf(a)===0&&a.length>1))return l})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(e,r){if(!e)return[];if(typeof e=="function"&&(e=e(r)),ce(e)&&(e=[e]),Array.isArray(e))return e;if(!r)return e.default||[];let s=e[r];return s||(s=e[this.getScriptPartFromCode(r)]),s||(s=e[this.formatLanguageCode(r)]),s||(s=e[this.getLanguagePartFromCode(r)]),s||(s=e.default),s||[]}toResolveHierarchy(e,r){const s=this.getFallbackCodes((r===!1?[]:r)||this.options.fallbackLng||[],e),n=[],a=l=>{l&&(this.isSupportedCode(l)?n.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))};return ce(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):ce(e)&&a(this.formatLanguageCode(e)),s.forEach(l=>{n.indexOf(l)<0&&a(this.formatLanguageCode(l))}),n}}const Vr={zero:0,one:1,two:2,few:3,many:4,other:5},Br={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class pn{constructor(e,r={}){this.languageUtils=e,this.options=r,this.logger=Ye.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,r){this.rules[e]=r}clearCache(){this.pluralRulesCache={}}getRule(e,r={}){const s=Tt(e==="dev"?"en":e),n=r.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:s,type:n});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let l;try{l=new Intl.PluralRules(s,{type:n})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Br;if(!e.match(/-|_/))return Br;const c=this.languageUtils.getLanguagePartFromCode(e);l=this.getRule(c,r)}return this.pluralRulesCache[a]=l,l}needsPlural(e,r={}){let s=this.getRule(e,r);return s||(s=this.getRule("dev",r)),s?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,r,s={}){return this.getSuffixes(e,s).map(n=>`${r}${n}`)}getSuffixes(e,r={}){let s=this.getRule(e,r);return s||(s=this.getRule("dev",r)),s?s.resolvedOptions().pluralCategories.sort((n,a)=>Vr[n]-Vr[a]).map(n=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${n}`):[]}getSuffix(e,r,s={}){const n=this.getRule(e,s);return n?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${n.select(r)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",r,s))}}const Hr=(t,e,r,s=".",n=!0)=>{let a=on(t,e,r);return!a&&n&&ce(r)&&(a=$r(t,r,s),a===void 0&&(a=$r(e,r,s))),a},gr=t=>t.replace(/\$/g,"$$$$");class mn{constructor(e={}){this.logger=Ye.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:r,escapeValue:s,useRawValueToEscape:n,prefix:a,prefixEscaped:l,suffix:o,suffixEscaped:c,formatSeparator:d,unescapeSuffix:u,unescapePrefix:g,nestingPrefix:x,nestingPrefixEscaped:m,nestingSuffix:_,nestingSuffixEscaped:b,nestingOptionsSeparator:y,maxReplaces:M,alwaysFormat:E}=e.interpolation;this.escape=r!==void 0?r:cn,this.escapeValue=s!==void 0?s:!0,this.useRawValueToEscape=n!==void 0?n:!1,this.prefix=a?xt(a):l||"{{",this.suffix=o?xt(o):c||"}}",this.formatSeparator=d||",",this.unescapePrefix=u?"":g||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=x?xt(x):m||xt("$t("),this.nestingSuffix=_?xt(_):b||xt(")"),this.nestingOptionsSeparator=y||",",this.maxReplaces=M||1e3,this.alwaysFormat=E!==void 0?E:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(r,s)=>r?.source===s?(r.lastIndex=0,r):new RegExp(s,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,r,s,n){let a,l,o;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},d=m=>{if(m.indexOf(this.formatSeparator)<0){const M=Hr(r,c,m,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(M,void 0,s,{...n,...r,interpolationkey:m}):M}const _=m.split(this.formatSeparator),b=_.shift().trim(),y=_.join(this.formatSeparator).trim();return this.format(Hr(r,c,b,this.options.keySeparator,this.options.ignoreJSONStructure),y,s,{...n,...r,interpolationkey:b})};this.resetRegExp();const u=n?.missingInterpolationHandler||this.options.missingInterpolationHandler,g=n?.interpolation?.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:m=>gr(m)},{regex:this.regexp,safeValue:m=>this.escapeValue?gr(this.escape(m)):gr(m)}].forEach(m=>{for(o=0;a=m.regex.exec(e);){const _=a[1].trim();if(l=d(_),l===void 0)if(typeof u=="function"){const y=u(e,a,n);l=ce(y)?y:""}else if(n&&Object.prototype.hasOwnProperty.call(n,_))l="";else if(g){l=a[0];continue}else this.logger.warn(`missed to pass in variable ${_} for interpolating ${e}`),l="";else!ce(l)&&!this.useRawValueToEscape&&(l=Nr(l));const b=m.safeValue(l);if(e=e.replace(a[0],b),g?(m.regex.lastIndex+=l.length,m.regex.lastIndex-=a[0].length):m.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,r,s={}){let n,a,l;const o=(c,d)=>{const u=this.nestingOptionsSeparator;if(c.indexOf(u)<0)return c;const g=c.split(new RegExp(`${u}[ ]*{`));let x=`{${g[1]}`;c=g[0],x=this.interpolate(x,l);const m=x.match(/'/g),_=x.match(/"/g);((m?.length??0)%2===0&&!_||_.length%2!==0)&&(x=x.replace(/'/g,'"'));try{l=JSON.parse(x),d&&(l={...d,...l})}catch(b){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,b),`${c}${u}${x}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,c};for(;n=this.nestingRegexp.exec(e);){let c=[];l={...s},l=l.replace&&!ce(l.replace)?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;const d=/{.*}/.test(n[1])?n[1].lastIndexOf("}")+1:n[1].indexOf(this.formatSeparator);if(d!==-1&&(c=n[1].slice(d).split(this.formatSeparator).map(u=>u.trim()).filter(Boolean),n[1]=n[1].slice(0,d)),a=r(o.call(this,n[1].trim(),l),l),a&&n[0]===e&&!ce(a))return a;ce(a)||(a=Nr(a)),a||(this.logger.warn(`missed to resolve ${n[1]} for nesting ${e}`),a=""),c.length&&(a=c.reduce((u,g)=>this.format(u,g,s.lng,{...s,interpolationkey:n[1].trim()}),a.trim())),e=e.replace(n[0],a),this.regexp.lastIndex=0}return e}}const bn=t=>{let e=t.toLowerCase().trim();const r={};if(t.indexOf("(")>-1){const s=t.split("(");e=s[0].toLowerCase().trim();const n=s[1].substring(0,s[1].length-1);e==="currency"&&n.indexOf(":")<0?r.currency||(r.currency=n.trim()):e==="relativetime"&&n.indexOf(":")<0?r.range||(r.range=n.trim()):n.split(";").forEach(l=>{if(l){const[o,...c]=l.split(":"),d=c.join(":").trim().replace(/^'+|'+$/g,""),u=o.trim();r[u]||(r[u]=d),d==="false"&&(r[u]=!1),d==="true"&&(r[u]=!0),isNaN(d)||(r[u]=parseInt(d,10))}})}return{formatName:e,formatOptions:r}},Ur=t=>{const e={};return(r,s,n)=>{let a=n;n&&n.interpolationkey&&n.formatParams&&n.formatParams[n.interpolationkey]&&n[n.interpolationkey]&&(a={...a,[n.interpolationkey]:void 0});const l=s+JSON.stringify(a);let o=e[l];return o||(o=t(Tt(s),n),e[l]=o),o(r)}},xn=t=>(e,r,s)=>t(Tt(r),s)(e);class _n{constructor(e={}){this.logger=Ye.create("formatter"),this.options=e,this.init(e)}init(e,r={interpolation:{}}){this.formatSeparator=r.interpolation.formatSeparator||",";const s=r.cacheInBuiltFormats?Ur:xn;this.formats={number:s((n,a)=>{const l=new Intl.NumberFormat(n,{...a});return o=>l.format(o)}),currency:s((n,a)=>{const l=new Intl.NumberFormat(n,{...a,style:"currency"});return o=>l.format(o)}),datetime:s((n,a)=>{const l=new Intl.DateTimeFormat(n,{...a});return o=>l.format(o)}),relativetime:s((n,a)=>{const l=new Intl.RelativeTimeFormat(n,{...a});return o=>l.format(o,a.range||"day")}),list:s((n,a)=>{const l=new Intl.ListFormat(n,{...a});return o=>l.format(o)})}}add(e,r){this.formats[e.toLowerCase().trim()]=r}addCached(e,r){this.formats[e.toLowerCase().trim()]=Ur(r)}format(e,r,s,n={}){const a=r.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(o=>o.indexOf(")")>-1)){const o=a.findIndex(c=>c.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,o)].join(this.formatSeparator)}return a.reduce((o,c)=>{const{formatName:d,formatOptions:u}=bn(c);if(this.formats[d]){let g=o;try{const x=n?.formatParams?.[n.interpolationkey]||{},m=x.locale||x.lng||n.locale||n.lng||s;g=this.formats[d](o,m,{...u,...n,...x})}catch(x){this.logger.warn(x)}return g}else this.logger.warn(`there was no format function for ${d}`);return o},e)}}const yn=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class vn extends lr{constructor(e,r,s,n={}){super(),this.backend=e,this.store=r,this.services=s,this.languageUtils=s.languageUtils,this.options=n,this.logger=Ye.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=n.maxParallelReads||10,this.readingCalls=0,this.maxRetries=n.maxRetries>=0?n.maxRetries:5,this.retryTimeout=n.retryTimeout>=1?n.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(s,n.backend,n)}queueLoad(e,r,s,n){const a={},l={},o={},c={};return e.forEach(d=>{let u=!0;r.forEach(g=>{const x=`${d}|${g}`;!s.reload&&this.store.hasResourceBundle(d,g)?this.state[x]=2:this.state[x]<0||(this.state[x]===1?l[x]===void 0&&(l[x]=!0):(this.state[x]=1,u=!1,l[x]===void 0&&(l[x]=!0),a[x]===void 0&&(a[x]=!0),c[g]===void 0&&(c[g]=!0)))}),u||(o[d]=!0)}),(Object.keys(a).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:n}),{toLoad:Object.keys(a),pending:Object.keys(l),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(c)}}loaded(e,r,s){const n=e.split("|"),a=n[0],l=n[1];r&&this.emit("failedLoading",a,l,r),!r&&s&&this.store.addResourceBundle(a,l,s,void 0,void 0,{skipCopy:!0}),this.state[e]=r?-1:2,r&&s&&(this.state[e]=0);const o={};this.queue.forEach(c=>{an(c.loaded,[a],l),yn(c,e),r&&c.errors.push(r),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(d=>{o[d]||(o[d]={});const u=c.loaded[d];u.length&&u.forEach(g=>{o[d][g]===void 0&&(o[d][g]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(c=>!c.done)}read(e,r,s,n=0,a=this.retryTimeout,l){if(!e.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:r,fcName:s,tried:n,wait:a,callback:l});return}this.readingCalls++;const o=(d,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const g=this.waitingReads.shift();this.read(g.lng,g.ns,g.fcName,g.tried,g.wait,g.callback)}if(d&&u&&n<this.maxRetries){setTimeout(()=>{this.read.call(this,e,r,s,n+1,a*2,l)},a);return}l(d,u)},c=this.backend[s].bind(this.backend);if(c.length===2){try{const d=c(e,r);d&&typeof d.then=="function"?d.then(u=>o(null,u)).catch(o):o(null,d)}catch(d){o(d)}return}return c(e,r,o)}prepareLoading(e,r,s={},n){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();ce(e)&&(e=this.languageUtils.toResolveHierarchy(e)),ce(r)&&(r=[r]);const a=this.queueLoad(e,r,s,n);if(!a.toLoad.length)return a.pending.length||n(),null;a.toLoad.forEach(l=>{this.loadOne(l)})}load(e,r,s){this.prepareLoading(e,r,{},s)}reload(e,r,s){this.prepareLoading(e,r,{reload:!0},s)}loadOne(e,r=""){const s=e.split("|"),n=s[0],a=s[1];this.read(n,a,"read",void 0,void 0,(l,o)=>{l&&this.logger.warn(`${r}loading namespace ${a} for language ${n} failed`,l),!l&&o&&this.logger.log(`${r}loaded namespace ${a} for language ${n}`,o),this.loaded(e,l,o)})}saveMissing(e,r,s,n,a,l={},o=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(r)){this.logger.warn(`did not save key "${s}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(s==null||s==="")){if(this.backend?.create){const c={...l,isUpdate:a},d=this.backend.create.bind(this.backend);if(d.length<6)try{let u;d.length===5?u=d(e,r,s,n,c):u=d(e,r,s,n),u&&typeof u.then=="function"?u.then(g=>o(null,g)).catch(o):o(null,u)}catch(u){o(u)}else d(e,r,s,n,o,c)}!e||!e[0]||this.store.addResource(e[0],r,s,n)}}}const Kr=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),ce(t[1])&&(e.defaultValue=t[1]),ce(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const r=t[3]||t[2];Object.keys(r).forEach(s=>{e[s]=r[s]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Wr=t=>(ce(t.ns)&&(t.ns=[t.ns]),ce(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),ce(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),jt=()=>{},$n=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(r=>{typeof t[r]=="function"&&(t[r]=t[r].bind(t))})};class Dt extends lr{constructor(e={},r){if(super(),this.options=Wr(e),this.services={},this.logger=Ye,this.modules={external:[]},$n(this),r&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,r),this;setTimeout(()=>{this.init(e,r)},0)}}init(e={},r){this.isInitializing=!0,typeof e=="function"&&(r=e,e={}),e.defaultNS==null&&e.ns&&(ce(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const s=Kr();this.options={...s,...this.options,...Wr(e)},this.options.interpolation={...s.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const n=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?Ye.init(n(this.modules.logger),this.options):Ye.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:d=_n;const u=new zr(this.options);this.store=new Or(this.options.resources,this.options);const g=this.services;g.logger=Ye,g.resourceStore=this.store,g.languageUtils=u,g.pluralResolver=new pn(u,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==s.interpolation.format&&this.logger.warn("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),d&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(g.formatter=n(d),g.formatter.init&&g.formatter.init(g,this.options),this.options.interpolation.format=g.formatter.format.bind(g.formatter)),g.interpolator=new mn(this.options),g.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},g.backendConnector=new vn(n(this.modules.backend),g.resourceStore,g,this.options),g.backendConnector.on("*",(m,..._)=>{this.emit(m,..._)}),this.modules.languageDetector&&(g.languageDetector=n(this.modules.languageDetector),g.languageDetector.init&&g.languageDetector.init(g,this.options.detection,this.options)),this.modules.i18nFormat&&(g.i18nFormat=n(this.modules.i18nFormat),g.i18nFormat.init&&g.i18nFormat.init(this)),this.translator=new rr(this.services,this.options),this.translator.on("*",(m,..._)=>{this.emit(m,..._)}),this.modules.external.forEach(m=>{m.init&&m.init(this)})}if(this.format=this.options.interpolation.format,r||(r=jt),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=(...u)=>this.store[d](...u)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=(...u)=>(this.store[d](...u),this)});const o=St(),c=()=>{const d=(u,g)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(g),r(u,g)};if(this.languages&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),o}loadResources(e,r=jt){let s=r;const n=ce(e)?e:this.language;if(typeof e=="function"&&(s=e),!this.options.resources||this.options.partialBundledLanguages){if(n?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return s();const a=[],l=o=>{if(!o||o==="cimode")return;this.services.languageUtils.toResolveHierarchy(o).forEach(d=>{d!=="cimode"&&a.indexOf(d)<0&&a.push(d)})};n?l(n):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>l(c)),this.options.preload?.forEach?.(o=>l(o)),this.services.backendConnector.load(a,this.options.ns,o=>{!o&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),s(o)})}else s(null)}reloadResources(e,r,s){const n=St();return typeof e=="function"&&(s=e,e=void 0),typeof r=="function"&&(s=r,r=void 0),e||(e=this.languages),r||(r=this.options.ns),s||(s=jt),this.services.backendConnector.reload(e,r,a=>{n.resolve(),s(a)}),n}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&ms.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let r=0;r<this.languages.length;r++){const s=this.languages[r];if(!(["cimode","dev"].indexOf(s)>-1)&&this.store.hasLanguageSomeTranslations(s)){this.resolvedLanguage=s;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,r){this.isLanguageChangingTo=e;const s=St();this.emit("languageChanging",e);const n=o=>{this.language=o,this.languages=this.services.languageUtils.toResolveHierarchy(o),this.resolvedLanguage=void 0,this.setResolvedLanguage(o)},a=(o,c)=>{c?this.isLanguageChangingTo===e&&(n(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,s.resolve((...d)=>this.t(...d)),r&&r(o,(...d)=>this.t(...d))},l=o=>{!e&&!o&&this.services.languageDetector&&(o=[]);const c=ce(o)?o:o&&o[0],d=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(ce(o)?[o]:o);d&&(this.language||n(d),this.translator.language||this.translator.changeLanguage(d),this.services.languageDetector?.cacheUserLanguage?.(d)),this.loadResources(d,u=>{a(u,d)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e),s}getFixedT(e,r,s){const n=(a,l,...o)=>{let c;typeof l!="object"?c=this.options.overloadTranslationOptionHandler([a,l].concat(o)):c={...l},c.lng=c.lng||n.lng,c.lngs=c.lngs||n.lngs,c.ns=c.ns||n.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||s||n.keyPrefix);const d=this.options.keySeparator||".";let u;return c.keyPrefix&&Array.isArray(a)?u=a.map(g=>`${c.keyPrefix}${d}${g}`):u=c.keyPrefix?`${c.keyPrefix}${d}${a}`:a,this.t(u,c)};return ce(e)?n.lng=e:n.lngs=e,n.ns=r,n.keyPrefix=s,n}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,r={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const s=r.lng||this.resolvedLanguage||this.languages[0],n=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const l=(o,c)=>{const d=this.services.backendConnector.state[`${o}|${c}`];return d===-1||d===0||d===2};if(r.precheck){const o=r.precheck(this,l);if(o!==void 0)return o}return!!(this.hasResourceBundle(s,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(s,e)&&(!n||l(a,e)))}loadNamespaces(e,r){const s=St();return this.options.ns?(ce(e)&&(e=[e]),e.forEach(n=>{this.options.ns.indexOf(n)<0&&this.options.ns.push(n)}),this.loadResources(n=>{s.resolve(),r&&r(n)}),s):(r&&r(),Promise.resolve())}loadLanguages(e,r){const s=St();ce(e)&&(e=[e]);const n=this.options.preload||[],a=e.filter(l=>n.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return a.length?(this.options.preload=n.concat(a),this.loadResources(l=>{s.resolve(),r&&r(l)}),s):(r&&r(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const n=new Intl.Locale(e);if(n&&n.getTextInfo){const a=n.getTextInfo();if(a&&a.direction)return a.direction}}catch{}const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],s=this.services?.languageUtils||new zr(Kr());return e.toLowerCase().indexOf("-latn")>1?"ltr":r.indexOf(s.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},r){return new Dt(e,r)}cloneInstance(e={},r=jt){const s=e.forkResourceStore;s&&delete e.forkResourceStore;const n={...this.options,...e,isClone:!0},a=new Dt(n);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(o=>{a[o]=this[o]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},s){const o=Object.keys(this.store.data).reduce((c,d)=>(c[d]={...this.store.data[d]},c[d]=Object.keys(c[d]).reduce((u,g)=>(u[g]={...c[d][g]},u),c[d]),c),{});a.store=new Or(o,n),a.services.resourceStore=a.store}return a.translator=new rr(a.services,n),a.translator.on("*",(o,...c)=>{a.emit(o,...c)}),a.init(n,r),a.translator.options=n,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const je=Dt.createInstance();je.createInstance=Dt.createInstance;je.createInstance;je.dir;je.init;je.loadResources;je.reloadResources;je.use;je.changeLanguage;je.getFixedT;je.t;je.exists;je.setDefaultNamespace;je.hasLoadedNamespace;je.loadNamespaces;je.loadLanguages;const kn={page_title:"deepnest - Industrial nesting",parts:"Parts",nests:"Nests",sheets:"Sheets",settings:"Settings",imprint:"Imprint"},wn={stop_nest:"Stop nest",export:"Export",export_svg:"SVG file",export_dxf:"DXF file",export_json:"JSON file",back:"Back",import:"Import",start_nest:"Start nest",deselect:"Deselect",select:"Select",all:"all",add:"Add",cancel:"Cancel",save_preset:"Save Preset",load:"Load",delete:"Delete",save:"Save",reset_defaults:"set all to default"},Sn={size:"Size",sheet:"Sheet",quantity:"Quantity",add_sheet:"Add Sheet",width:"width",height:"height",nesting_config:"Nesting configuration",display_units:"Display units",inches:"inches",mm:"mm",space_between_parts:"Space between parts",curve_tolerance:"Curve tolerance",part_rotations:"Part rotations",optimization_type:"Optimization type",gravity:"Gravity",bounding_box:"Bounding Box",squeeze:"Squeeze",use_rough_approximation:"Use rough approximation",cpu_cores:"CPU cores",import_export:"Import/Export",use_svg_normalizer:"Use SVG Normalizer?",svg_scale:"SVG scale",units_per:"units/",endpoint_tolerance:"Endpoint tolerance",dxf_import_units:"DXF import units",points:"Points",picas:"Picas",inches_cap:"Inches",cm:"cm",dxf_export_units:"DXF export units",export_with_sheet_boundaries:"Export with Sheet Boundborders?",export_with_sheets_space:"Export with Space between Sheets?",distance_between_sheets:"Distance between Sheets?",laser_options:"Laser options",merge_common_lines:"Merge common lines",optimization_ratio:"Optimization ratio",meta_heuristic_tuning:"Meta-heuristic fine tuning",ga_population:"GA population",ga_mutation_rate:"GA mutation rate",other_settings:"Other Settings",use_quantity_from_filename:"Use Quantity from filename",presets:"Presets",save_config_presets:"Save Configuration Presets",load_delete_presets:"Load/Delete Configuration Presets",select_preset_default:"-- Select a preset --",save_preset_title:"Save Preset",enter_preset_name:"Enter preset name"},Cn={nesting_in_progress:"Nesting in progress...",error_occurred:"Error occurred",processing:"Processing...",ready:"Ready",threads_active:"{{count}} threads active",parts_loaded:"{{count}} parts loaded",nests_available:"{{count}} nests available"},Pn={zoom_in:"Zoom In",zoom_out:"Zoom Out",fit_to_content:"Fit to Content",center_view:"Center View",reset_view:"Reset View",zoom:"zoom",pan:"pan",reset:"reset",shortcuts:"Shortcuts"},Ln={select_all:"Select All",deselect_all:"Deselect All",invert_selection:"Invert Selection",selected_count:"{{count}} of {{total}} selected",no_selection:"No items selected",duplicate_selected:"Duplicate Selected",export_selected:"Export Selected",delete_selected:"Delete Selected",duplicate:"Duplicate",navigate:"navigate"},qr={navigation:kn,actions:wn,labels:Sn,status:Cn,viewport:Pn,selection:Ln},Mn="Please enter a preset name",An="Preset saved successfully!",En="Error saving preset",In="Please select a preset to load",Nn="Preset loaded successfully!",Rn="Selected preset not found",Tn="Error loading preset",Dn="Please select a preset to delete",On='Are you sure you want to delete the preset "{{presetName}}"?',Fn="Preset deleted successfully!",jn="Error deleting preset",zn="Please import some parts first",Vn="Please mark at least one part as the sheet",Bn="No file selected",Hn="An error occurred reading the file",Un="Error processing SVG",Kn="could not contact file conversion server",Wn="There was an Error while converting",qn={enter_preset_name:Mn,preset_saved:An,error_saving_preset:En,select_preset_to_load:In,preset_loaded:Nn,preset_not_found:Rn,error_loading_preset:Tn,select_preset_to_delete:Dn,confirm_delete_preset:On,preset_deleted:Fn,error_deleting_preset:jn,import_parts_first:zn,mark_part_as_sheet:Vn,no_file_selected:Bn,file_read_error:Hn,svg_processing_error:Un,conversion_server_error:Kn,conversion_error:Wn},Gn="Parts",Jn="Import Parts",Zn="Export Parts",Qn="Export Selected",Xn="Delete Selected",Yn="No parts selected",ei="Failed to import parts",ti="Failed to export parts",ri="Total Parts",si="Total Quantity",ni="Select All",ii="Deselect All",ai="No Parts Loaded",oi="Import SVG or DXF files to get started",li="Search parts...",ci="Sort by",di="Name",gi="Quantity",ui="Size",fi="Rotation",hi="Dimensions",pi="Area",mi="Preview Error",bi="Duplicate",xi="items selected",_i="Select",yi={parts_title:Gn,import:"Import",export:"Export",delete:"Delete",import_parts:Jn,export_parts:Zn,export_selected:Qn,delete_selected:Xn,no_parts_selected:Yn,import_failed:ei,export_failed:ti,total_parts:ri,total_quantity:si,select_all:ni,deselect_all:ii,no_parts_loaded:ai,import_parts_to_get_started:oi,search_parts:li,sort_by:ci,name:di,quantity:gi,size:ui,rotation:fi,dimensions:hi,area:pi,preview_error:mi,duplicate:bi,items_selected:xi,select:_i},vi="Nesting",$i="Start Nesting",ki="Stop Nesting",wi="Clear Results",Si="Cannot start nesting: need parts and sheets",Ci="Failed to start nesting",Pi="Failed to stop nesting",Li="Parts to Nest",Mi="Available Sheets",Ai="Results Count",Ei="No Nesting Results",Ii="Start nesting to see results here",Ni="Add parts and sheets first to enable nesting",Ri="Nesting in Progress",Ti="Est. time remaining",Di="Current Operation",Oi="Threads Active",Fi="Worker Status",ji="Running",zi="Stopped",Vi="Generation",Bi="Best Fitness",Hi="Refresh Status",Ui="Nesting Results",Ki="Sorted by efficiency",Wi="Result",qi="Best",Gi="Efficiency",Ji="Fitness",Zi="Sheets Used",Qi="Parts Placed",Xi="View Details",Yi="Back to Results",ea="Result Details",ta="Export Result",ra="Export failed",sa="Click to view",na="Zoom Out",ia="Zoom In",aa="Reset View",oa="Sheet",la="Statistics",ca="Material Efficiency",da="Fitness Score",ga="Material Waste",ua="Total Parts Placed",fa="Total Material Used",ha="Generation Time",pa="Generation Number",ma="Live Results",ba="Connected",xa="Disconnected",_a="Last Update",ya="Expand",va="Collapse",$a="Current Progress",ka="Best Result",wa="Utilization",Sa="Intermediate Results",Ca="No intermediate results yet",Pa="Connection Lost",La="Reconnect Attempts: {{count}}",Ma="Error Occurred",Aa="Just now",Ea="{{count}} seconds ago",Ia="{{count}} minutes ago",Na="{{count}} hours ago",Ra="Sheets",Ta={nesting_title:vi,start_nesting:$i,stop_nesting:ki,clear_results:wi,cannot_start_nesting:Si,start_nesting_failed:Ci,stop_nesting_failed:Pi,parts_to_nest:Li,available_sheets:Mi,results_count:Ai,no_nesting_results:Ei,start_nesting_to_see_results:Ii,add_parts_and_sheets_first:Ni,nesting_in_progress:Ri,estimated_time_remaining:Ti,current_operation:Di,threads_active:Oi,worker_status:Fi,running:ji,stopped:zi,current_generation:Vi,best_fitness:Bi,refresh_status:Hi,nesting_results:Ui,sorted_by_efficiency:Ki,result:Wi,best:qi,efficiency:Gi,fitness:Ji,sheets_used:Zi,parts_placed:Qi,view_details:Xi,export:"Export",delete:"Delete",back_to_results:Yi,result_details:ea,export_result:ta,export_failed:ra,click_to_view:sa,zoom_out:na,zoom_in:ia,reset_view:aa,sheet:oa,statistics:la,material_efficiency:ca,fitness_score:da,material_waste:ga,total_parts_placed:ua,total_material_used:fa,generation_time:ha,generation_number:pa,live_results:ma,connected:ba,disconnected:xa,last_update:_a,expand:ya,collapse:va,current_progress:$a,best_result:ka,utilization:wa,intermediate_results:Sa,no_intermediate_results:Ca,connection_lost:Pa,reconnect_attempts:La,error_occurred:Ma,just_now:Aa,seconds_ago:Ea,minutes_ago:Ia,hours_ago:Na,sheets:Ra},Da="Sheets",Oa="Add Sheet",Fa="Edit Sheet",ja="Add New Sheet",za="Total Sheets",Va="Total Area",Ba="No Sheets Loaded",Ha="Add sheets to define your material constraints",Ua="Quick Templates",Ka="Configured Sheets",Wa="Sheet",qa="Dimensions",Ga="Quantity",Ja="Material",Za="Margin",Qa="Edit",Xa="Basic Information",Ya="Sheet Name",eo="Enter sheet name (optional)",to="Width",ro="Height",so="Thickness",no="Properties",io="Area",ao="Preview",oo="Cancel",lo="Update Sheet",co="Swap Width/Height",go="Width must be greater than 0",uo="Height must be greater than 0",fo="Thickness must be greater than 0",ho="Quantity must be greater than 0",po="Margin cannot be negative",mo={sheets_title:Da,add_sheet:Oa,edit_sheet:Fa,add_new_sheet:ja,total_sheets:za,total_area:Va,no_sheets_loaded:Ba,add_sheets_to_get_started:Ha,quick_templates:Ua,configured_sheets:Ka,sheet:Wa,dimensions:qa,quantity:Ga,material:Ja,margin:Za,edit:Qa,delete:"Delete",basic_information:Xa,sheet_name:Ya,enter_sheet_name:eo,width:to,height:ro,thickness:so,properties:no,area:io,preview:ao,cancel:oo,update_sheet:lo,swap_dimensions:co,width_must_be_positive:go,height_must_be_positive:uo,thickness_must_be_positive:fo,quantity_must_be_positive:ho,margin_cannot_be_negative:po},bo="Settings",xo="Preset Management",_o="Algorithm Settings",yo="UI Preferences",vo="Advanced Settings",$o="Reset Defaults",ko="Import Configuration",wo="Export Configuration",So="Reset to Defaults",Co="Are you sure you want to reset all settings to defaults?",Po="Failed to reset settings",Lo="Failed to export configuration",Mo="Failed to import configuration",Ao="Presets allow you to save and restore complete nesting configurations.",Eo="Create Preset",Io="Create New Preset",No="Preset Name",Ro="Preset name is required",To="Enter preset name",Do="Description (optional)",Oo="Enter a description for this preset",Fo="Cancel",jo="No Presets Available",zo="Create a preset to save your current configuration",Vo="Export Preset",Bo="Delete Preset",Ho="Load Preset",Uo="Active",Ko="Created",Wo="Updated",qo="Are you sure you want to delete preset '{{name}}'?",Go="Failed to create preset",Jo="Failed to load preset",Zo="Failed to delete preset",Qo="Failed to export preset",Xo="Failed to import preset",Yo="Import Preset",el="Nesting Parameters",tl="Space Between Parts",rl="Minimum distance between parts in millimeters",sl="Curve Tolerance",nl="Tolerance for curve approximation. Lower values = more accurate but slower",il="Part Rotations",al="Number of rotation angles to try for each part",ol="No Rotation",ll="Free Rotation (any angle)",cl="Genetic Algorithm",dl="Population Size",gl="Number of solutions in each generation. Higher = better results but slower",ul="Mutation Rate",fl="Probability of random changes. Higher = more exploration but less stability",hl="Advanced Options",pl="Use Holes",ml="Consider holes in parts for nesting (experimental)",bl="Explore Concave",xl="Try placing parts in concave areas of other parts",_l="Merge Common Lines",yl="Combine overlapping cut lines to reduce cutting time",vl="Use Rough Approximation",$l="Use faster but less accurate calculations for initial placement",kl="Appearance",wl="Language",Sl="Select the interface language",Cl="Theme",Pl="Choose between light, dark, or automatic theme",Ll="Auto (follows system)",Ml="Light",Al="Dark",El="Dark Mode",Il="Use dark colors for the interface",Nl="Units and Formatting",Rl="Display Units",Tl="Units for displaying measurements",Dl="Millimeters (mm)",Ol="Inches (in)",Fl="Centimeters (cm)",jl="Show Grid",zl="Display grid lines in the viewport",Vl="Show Rulers",Bl="Display measurement rulers",Hl="Layout Preferences",Ul="Parts Panel Width",Kl="Width of the parts panel in pixels",Wl="Reset",ql="Show Tooltips",Gl="Display helpful tooltips on hover",Jl="Show Status Bar",Zl="Display the status bar at the bottom",Ql="Performance",Xl="Worker Threads",Yl="Number of CPU threads to use (max: {{max}})",ec="Enable GPU Acceleration",tc="Use graphics card for calculations (experimental)",rc="Enable Caching",sc="Cache calculations to improve performance",nc="Debugging",ic="Debug Mode",ac="Enable additional debugging information",oc="Verbose Logging",lc="Log detailed information to console",cc="Show Debug Info",dc="Hide Debug Info",gc="System Information",uc="Platform",fc="CPU Cores",hc="Viewport",pc="Memory Used",mc="Memory Total",bc="Export Debug Info",xc="Maintenance",_c="Clear Cache",yc="Clear all cached data and preferences",vc="Are you sure you want to clear all cached data?",$c="Cache cleared successfully",kc="Failed to clear cache",wc="Reset Layout",Sc="Reset panel sizes and positions to defaults",Cc="Auto-save Interval",Pc="minutes",Lc="How often to automatically save your work (0 = disabled)",Mc={settings_title:bo,preset_management:xo,algorithm_settings:_o,ui_preferences:yo,advanced_settings:vo,import:"Import",export:"Export",reset_defaults:$o,import_configuration:ko,export_configuration:wo,reset_to_defaults:So,confirm_reset_defaults:Co,reset_failed:Po,export_failed:Lo,import_failed:Mo,preset_description:Ao,create_preset:Eo,create_new_preset:Io,preset_name:No,preset_name_required:Ro,enter_preset_name:To,preset_description_optional:Do,enter_preset_description:Oo,cancel:Fo,no_presets_available:jo,create_preset_to_get_started:zo,export_preset:Vo,delete_preset:Bo,load_preset:Ho,active:Uo,created:Ko,updated:Wo,confirm_delete_preset:qo,preset_create_failed:Go,preset_load_failed:Jo,preset_delete_failed:Zo,preset_export_failed:Qo,preset_import_failed:Xo,import_preset:Yo,nesting_parameters:el,space_between_parts:tl,spacing_description:rl,curve_tolerance:sl,curve_tolerance_description:nl,part_rotations:il,rotations_description:al,no_rotation:ol,"2_rotations":"2 Rotations (0Â°, 180Â°)","4_rotations":"4 Rotations (0Â°, 90Â°, 180Â°, 270Â°)","8_rotations":"8 Rotations (45Â° steps)","12_rotations":"12 Rotations (30Â° steps)",free_rotation:ll,genetic_algorithm:cl,population_size:dl,population_size_description:gl,mutation_rate:ul,mutation_rate_description:fl,advanced_options:hl,use_holes:pl,use_holes_description:ml,explore_concave:bl,explore_concave_description:xl,merge_common_lines:_l,merge_lines_description:yl,use_rough_approximation:vl,rough_approximation_description:$l,appearance:kl,language:wl,language_description:Sl,theme:Cl,theme_description:Pl,auto_theme:Ll,light_theme:Ml,dark_theme:Al,dark_mode:El,dark_mode_description:Il,units_and_formatting:Nl,display_units:Rl,units_description:Tl,millimeters:Dl,inches:Ol,centimeters:Fl,show_grid:jl,show_grid_description:zl,show_rulers:Vl,show_rulers_description:Bl,layout_preferences:Hl,parts_panel_width:Ul,panel_width_description:Kl,reset:Wl,show_tooltips:ql,tooltips_description:Gl,show_status_bar:Jl,status_bar_description:Zl,performance:Ql,worker_threads:Xl,worker_threads_description:Yl,enable_gpu_acceleration:ec,gpu_acceleration_description:tc,enable_caching:rc,caching_description:sc,debugging:nc,debug_mode:ic,debug_mode_description:ac,verbose_logging:oc,verbose_logging_description:lc,show_debug_info:cc,hide_debug_info:dc,system_information:gc,platform:uc,cpu_cores:fc,viewport:hc,memory_used:pc,memory_total:mc,export_debug_info:bc,maintenance:xc,clear_cache:_c,clear_cache_description:yc,confirm_clear_cache:vc,cache_cleared_success:$c,cache_clear_failed:kc,reset_layout:wc,reset_layout_description:Sc,auto_save_interval:Cc,minutes:Pc,auto_save_description:Lc},Ac="File Operations",Ec="Drag & Drop Files",Ic="Import Files",Nc="Export Options",Rc="Recent Files",Tc="Drop files here to import",Dc="or click to browse",Oc="Supported formats: SVG, DXF, JSON",Fc="Select Files",jc="Browse Files",zc="Importing Files...",Vc="{{count}} files imported successfully",Bc="Importing {{current}} of {{total}} files",Hc="Failed to import files",Uc="File validation error",Kc="Invalid file format: {{format}}",Wc="File too large: {{size}}. Maximum size is {{max}}",qc="Failed to read file: {{filename}}",Gc="Export Format",Jc="Export Settings",Zc="Export All",Qc="Export Selected",Xc="Export Current",Yc="Files exported successfully",ed="Failed to export files",td="SVG Vector",rd="DXF CAD",sd="PDF Document",nd="JSON Data",id="Include Sheet Outline",ad="Include Part Labels",od="Optimize Cut Paths",ld="Merge Common Lines",cd="Export Scale",dd="Export Units",gd="No Recent Files",ud="Clear Recent",fd="Open Recent File",hd="Pin File",pd="Unpin File",md="Remove from Recent",bd="File not found: {{filename}}",xd="Quickly access your recently used files",_d="Maximum {{count}} recent files",yd="Pinned",vd="Size",$d="Modified",kd="Path",wd="Copy Path",Sd="Open File Location",Cd="File Information",Pd="Processing...",Ld="Cancel Import",Md="Retry Import",Ad="Skip File",Ed="Continue Import",Id="Validation Warning",Nd="File contains errors but can be imported",Rd="Import Anyway",Td="Fix Errors",Dd="Auto Fix",Od="Manual Fix",Fd="Error Details",jd="Line {{number}}",zd="Invalid geometry detected",Vd="Duplicate points found",Bd="Self-intersecting polygon",Hd="Unclosed path detected",Ud="File is empty",Kd="File appears to be corrupted",Wd="Unsupported file version",qd="Missing required data",Gd={file_operations:Ac,drag_drop_files:Ec,import_files:Ic,export_options:Nc,recent_files:Rc,drop_files_here:Tc,or_click_to_browse:Dc,supported_formats:Oc,select_files:Fc,browse_files:jc,importing_files:zc,files_imported:Vc,import_progress:Bc,import_failed:Hc,file_validation_error:Uc,invalid_file_format:Kc,file_too_large:Wc,file_read_error:qc,export_format:Gc,export_settings:Jc,export_all:Zc,export_selected:Qc,export_current:Xc,export_success:Yc,export_failed:ed,svg_format:td,dxf_format:rd,pdf_format:sd,json_format:nd,include_sheet:id,include_labels:ad,optimize_paths:od,merge_lines:ld,export_scale:cd,export_units:dd,no_recent_files:gd,clear_recent:ud,open_recent:fd,pin_file:hd,unpin_file:pd,remove_from_recent:md,file_not_found:bd,recent_files_description:xd,max_recent_files:_d,pinned:yd,file_size:vd,last_modified:$d,file_path:kd,copy_path:wd,open_location:Sd,file_info:Cd,processing:Pd,cancel_import:Ld,retry_import:Md,skip_file:Ad,continue_import:Ed,validation_warning:Id,file_contains_errors:Nd,import_anyway:Rd,fix_errors:Td,auto_fix:Dd,manual_fix:Od,error_details:Fd,line_number:jd,invalid_geometry:zd,duplicate_points:Vd,self_intersecting:Bd,unclosed_path:Hd,empty_file:Ud,corrupted_file:Kd,unsupported_version:Wd,missing_required_data:qd},Jd="Imprint",Zd="Advanced nesting software for CNC, laser cutters, and plotters",Qd="Version",Xd="Build Date",Yd="About DeepNest Next",eg="DeepNest Next is a powerful nesting software designed for CNC machines, laser cutters, and plotters. It optimizes the placement of parts on sheets to minimize material waste and maximize efficiency.",tg="Key features include:",rg="Advanced genetic algorithm for optimal part placement",sg="Support for multiple file formats (SVG, DXF, PDF)",ng="Real-time preview and progress tracking",ig="Advanced configuration options for fine-tuning",ag="Multi-language support with internationalization",og="Technical Information",lg="Frontend Technologies",cg="Backend Technologies",dg="Project Information",gg="Project Origin",ug="DeepNest Next is a modern fork of the original SVGnest and Deepnest projects, rebuilt with modern technologies while maintaining the powerful nesting algorithms.",fg="Open Source",hg="This project is open source and available under the MIT License. Contributions, bug reports, and feature requests are welcome.",pg="View Source Code",mg="View Releases",bg="Legal Information",xg="Please review our privacy policy and legal notices for important information about data handling and software usage.",_g="Privacy Policy",yg="Legal Notice",vg="Contact & Support",$g="For questions, bug reports, or feature requests, please use our GitHub repository.",kg="Report Issue",wg="Discussions",Sg="Close",Cg="Last Updated",Pg="Overview",Lg="DeepNest Next is a desktop application that processes your files locally. We are committed to protecting your privacy and ensuring your data remains secure.",Mg="Data Collection",Ag="DeepNest Next collects minimal data necessary for functionality:",Eg="Application settings and preferences",Ig="User interface preferences (theme, language)",Ng="Project files and nesting results (stored locally)",Rg="No personal information or tracking data",Tg="Data Storage",Dg="All data is stored locally on your device:",Og="Settings stored in application data directory",Fg="No data transmitted to external servers",jg="Full user control over data deletion",zg="Third-Party Services",Vg="DeepNest Next may use external services:",Bg="File conversion service (optional, user-controlled)",Hg="All external services are optional and user-initiated",Ug="No tracking or analytics services",Kg="User Rights",Wg="As a user of DeepNest Next, you have the right to:",qg="Access all your stored data",Gg="Delete your settings and data at any time",Jg="Modify or update your preferences",Zg="Export your projects and settings",Qg="Policy Updates",Xg="This privacy policy may be updated occasionally. Changes will be communicated through application updates and GitHub releases.",Yg="Contact Information",e0="For privacy-related questions or concerns, please contact us through our GitHub repository:",t0="GitHub Issues",r0="Last Updated",s0="Software Information",n0="Software Name",i0="Version",a0="Software Type",o0="Desktop Application for Nesting Optimization",l0="Project Website",c0="License",d0="DeepNest Next is licensed under the MIT License, which allows for free use, modification, and distribution.",g0="License Type",u0="License Text",f0="Disclaimer",h0="DeepNest Next is provided 'as is' without warranty of any kind. Users are responsible for verifying the accuracy of nesting results before production use.",p0="Important",m0="Always verify nesting results before cutting materials. The software is a tool to assist in optimization but should not be relied upon without human verification.",b0="Third-Party Software",x0="DeepNest Next incorporates several third-party libraries and components:",_0="Attribution",y0="DeepNest Next is based on previous work and incorporates algorithms from:",v0="Original SVGnest",$0="Previous Deepnest",k0="Contact",w0="For legal questions or licensing inquiries, please contact us through our GitHub repository:",S0="GitHub Issues",Gr={imprint_title:Jd,tagline:Zd,version:Qd,build_date:Xd,about_title:Yd,about_description:eg,about_features:tg,feature_genetic_algorithm:rg,feature_multiple_formats:sg,feature_real_time_preview:ng,feature_advanced_settings:ig,feature_multi_language:ag,technical_info_title:og,frontend_technologies:lg,backend_technologies:cg,project_info_title:dg,project_origin:gg,project_origin_description:ug,open_source:fg,open_source_description:hg,view_source:pg,releases:mg,legal_title:bg,legal_description:xg,privacy_policy:_g,legal_notice:yg,contact_title:vg,contact_description:$g,report_issue:kg,discussions:wg,close:Sg,privacy_last_updated:Cg,privacy_section_overview:Pg,privacy_overview_text:Lg,privacy_section_data_collection:Mg,privacy_data_collection_text:Ag,privacy_data_settings:Eg,privacy_data_preferences:Ig,privacy_data_projects:Ng,privacy_data_no_personal:Rg,privacy_section_data_storage:Tg,privacy_data_storage_text:Dg,privacy_storage_local:Og,privacy_storage_no_transmission:Fg,privacy_storage_user_control:jg,privacy_section_third_party:zg,privacy_third_party_text:Vg,privacy_third_party_converter:Bg,privacy_third_party_optional:Hg,privacy_third_party_no_tracking:Ug,privacy_section_user_rights:Kg,privacy_user_rights_text:Wg,privacy_rights_access:qg,privacy_rights_delete:Gg,privacy_rights_modify:Jg,privacy_rights_export:Zg,privacy_section_updates:Qg,privacy_updates_text:Xg,privacy_section_contact:Yg,privacy_contact_text:e0,privacy_contact_github:t0,legal_last_updated:r0,legal_section_software_info:s0,legal_software_name:n0,legal_software_version:i0,legal_software_type:a0,legal_software_type_description:o0,legal_project_website:l0,legal_section_license:c0,legal_license_text:d0,legal_license_type:g0,legal_license_link:u0,legal_section_disclaimer:f0,legal_disclaimer_text:h0,legal_disclaimer_warning:p0,legal_disclaimer_warning_text:m0,legal_section_third_party:b0,legal_third_party_text:x0,legal_section_attribution:_0,legal_attribution_text:y0,legal_attribution_original:v0,legal_attribution_previous:$0,legal_section_contact:k0,legal_contact_text:w0,legal_contact_github:S0},C0={page_title:"deepnest next - Nesting mit Industrie-Standard",parts:"Teile",nests:"Nester",sheets:"BlÃ¤tter",settings:"Einstellungen"},P0={stop_nest:"Nester stoppen",export:"Exportieren",export_svg:"SVG-Datei",export_dxf:"DXF-Datei",export_json:"JSON-Datei",back:"ZurÃ¼ck",import:"Importieren",start_nest:"Nester starten",deselect:"AbwÃ¤hlen",select:"AuswÃ¤hlen",all:"Alle",add:"HinzufÃ¼gen",cancel:"Abbrechen",save_preset:"Voreinstellung speichern",load:"Laden",delete:"LÃ¶schen",save:"Speichern",reset_defaults:"Alle auf Standard zurÃ¼cksetzen"},L0={size:"GrÃ¶ÃŸe",sheet:"Blatt",quantity:"Menge",add_sheet:"Blatt hinzufÃ¼gen",width:"Breite",height:"HÃ¶he",nesting_config:"Nesting-Konfiguration",display_units:"Anzeigeeinheiten",inches:"Zoll",mm:"mm",space_between_parts:"Abstand zwischen Teilen",curve_tolerance:"Kurventoleranz",part_rotations:"Teileinstellungen",optimization_type:"Optimierungstyp",gravity:"Schwerkraft",bounding_box:"Umrandungsbox",squeeze:"Quetschen",use_rough_approximation:"Grobe AnnÃ¤herung verwenden",cpu_cores:"CPU-Kerne",import_export:"Import/Export",use_svg_normalizer:"SVG-Normalisierer verwenden?",svg_scale:"SVG-Skalierung",units_per:"Einheiten/",endpoint_tolerance:"Endpunkt-Toleranz",dxf_import_units:"DXF-Importeinheiten",points:"Punkte",picas:"Picas",inches_cap:"Zoll",cm:"cm",dxf_export_units:"DXF-Exporteinheiten",export_with_sheet_boundaries:"Export mit Blattgrenzen?",export_with_sheets_space:"Export mit Abstand zwischen BlÃ¤ttern?",distance_between_sheets:"Abstand zwischen BlÃ¤ttern?",laser_options:"Laseroptionen",merge_common_lines:"Gemeinsame Linien zusammenfÃ¼hren",optimization_ratio:"OptimierungsverhÃ¤ltnis",meta_heuristic_tuning:"Meta-heuristische Feinabstimmung",ga_population:"GA-Population",ga_mutation_rate:"GA-Mutationsrate",other_settings:"Weitere Einstellungen",use_quantity_from_filename:"Menge aus Dateinamen verwenden",presets:"Voreinstellungen",save_config_presets:"Voreinstellungen speichern",load_delete_presets:"Voreinstellungen laden/lÃ¶schen",select_preset_default:"-- Voreinstellung auswÃ¤hlen --",save_preset_title:"Voreinstellung speichern",enter_preset_name:"Voreinstellungsnamen eingeben"},M0={nesting_in_progress:"Nesting wird durchgefÃ¼hrt...",error_occurred:"Fehler aufgetreten",processing:"Wird verarbeitet...",ready:"Bereit",threads_active:"{{count}} aktive Threads",parts_loaded:"{{count}} Teile geladen",nests_available:"{{count}} Nester verfÃ¼gbar"},Jr={navigation:C0,actions:P0,labels:L0,status:M0},A0="Please enter a preset name",E0="Preset saved successfully!",I0="Error saving preset",N0="Please select a preset to load",R0="Preset loaded successfully!",T0="Selected preset not found",D0="Error loading preset",O0="Please select a preset to delete",F0='Are you sure you want to delete the preset "{{presetName}}"?',j0="Preset deleted successfully!",z0="Error deleting preset",V0="Please import some parts first",B0="Please mark at least one part as the sheet",H0="No file selected",U0="An error occurred reading the file",K0="Error processing SVG",W0="could not contact file conversion server",q0="There was an Error while converting",G0={enter_preset_name:A0,preset_saved:E0,error_saving_preset:I0,select_preset_to_load:N0,preset_loaded:R0,preset_not_found:T0,error_loading_preset:D0,select_preset_to_delete:O0,confirm_delete_preset:F0,preset_deleted:j0,error_deleting_preset:z0,import_parts_first:V0,mark_part_as_sheet:B0,no_file_selected:H0,file_read_error:U0,svg_processing_error:K0,conversion_server_error:W0,conversion_error:q0},J0="Parts",Z0="Import Parts",Q0="Export Parts",X0="Export Selected",Y0="Delete Selected",eu="No parts selected",tu="Failed to import parts",ru="Failed to export parts",su="Total Parts",nu="Total Quantity",iu="Select All",au="Deselect All",ou="No Parts Loaded",lu="Import SVG or DXF files to get started",cu="Search parts...",du="Sort by",gu="Name",uu="Quantity",fu="Size",hu="Rotation",pu="Dimensions",mu="Area",bu="Preview Error",xu={parts_title:J0,import:"Import",export:"Export",delete:"Delete",import_parts:Z0,export_parts:Q0,export_selected:X0,delete_selected:Y0,no_parts_selected:eu,import_failed:tu,export_failed:ru,total_parts:su,total_quantity:nu,select_all:iu,deselect_all:au,no_parts_loaded:ou,import_parts_to_get_started:lu,search_parts:cu,sort_by:du,name:gu,quantity:uu,size:fu,rotation:hu,dimensions:pu,area:mu,preview_error:bu},_u="Nesting",yu="Start Nesting",vu="Stop Nesting",$u="Clear Results",ku="Cannot start nesting: need parts and sheets",wu="Failed to start nesting",Su="Failed to stop nesting",Cu="Parts to Nest",Pu="Available Sheets",Lu="Results Count",Mu="No Nesting Results",Au="Start nesting to see results here",Eu="Add parts and sheets first to enable nesting",Iu="Nesting in Progress",Nu="Est. time remaining",Ru="Current Operation",Tu="Threads Active",Du="Worker Status",Ou="Running",Fu="Stopped",ju="Generation",zu="Best Fitness",Vu="Refresh Status",Bu="Nesting Results",Hu="Sorted by efficiency",Uu="Result",Ku="Best",Wu="Efficiency",qu="Fitness",Gu="Sheets Used",Ju="Parts Placed",Zu="View Details",Qu="Back to Results",Xu="Result Details",Yu="Export Result",ef="Export failed",tf="Click to view",rf="Zoom Out",sf="Zoom In",nf="Reset View",af="Sheet",of="Statistics",lf="Material Efficiency",cf="Fitness Score",df="Material Waste",gf="Total Parts Placed",uf="Total Material Used",ff="Generation Time",hf="Generation Number",pf={nesting_title:_u,start_nesting:yu,stop_nesting:vu,clear_results:$u,cannot_start_nesting:ku,start_nesting_failed:wu,stop_nesting_failed:Su,parts_to_nest:Cu,available_sheets:Pu,results_count:Lu,no_nesting_results:Mu,start_nesting_to_see_results:Au,add_parts_and_sheets_first:Eu,nesting_in_progress:Iu,estimated_time_remaining:Nu,current_operation:Ru,threads_active:Tu,worker_status:Du,running:Ou,stopped:Fu,current_generation:ju,best_fitness:zu,refresh_status:Vu,nesting_results:Bu,sorted_by_efficiency:Hu,result:Uu,best:Ku,efficiency:Wu,fitness:qu,sheets_used:Gu,parts_placed:Ju,view_details:Zu,export:"Export",delete:"Delete",back_to_results:Qu,result_details:Xu,export_result:Yu,export_failed:ef,click_to_view:tf,zoom_out:rf,zoom_in:sf,reset_view:nf,sheet:af,statistics:of,material_efficiency:lf,fitness_score:cf,material_waste:df,total_parts_placed:gf,total_material_used:uf,generation_time:ff,generation_number:hf},mf="Sheets",bf="Add Sheet",xf="Edit Sheet",_f="Add New Sheet",yf="Total Sheets",vf="Total Area",$f="No Sheets Loaded",kf="Add sheets to define your material constraints",wf="Quick Templates",Sf="Configured Sheets",Cf="Sheet",Pf="Dimensions",Lf="Quantity",Mf="Material",Af="Margin",Ef="Edit",If="Basic Information",Nf="Sheet Name",Rf="Enter sheet name (optional)",Tf="Width",Df="Height",Of="Thickness",Ff="Properties",jf="Area",zf="Preview",Vf="Cancel",Bf="Update Sheet",Hf="Swap Width/Height",Uf="Width must be greater than 0",Kf="Height must be greater than 0",Wf="Thickness must be greater than 0",qf="Quantity must be greater than 0",Gf="Margin cannot be negative",Jf={sheets_title:mf,add_sheet:bf,edit_sheet:xf,add_new_sheet:_f,total_sheets:yf,total_area:vf,no_sheets_loaded:$f,add_sheets_to_get_started:kf,quick_templates:wf,configured_sheets:Sf,sheet:Cf,dimensions:Pf,quantity:Lf,material:Mf,margin:Af,edit:Ef,delete:"Delete",basic_information:If,sheet_name:Nf,enter_sheet_name:Rf,width:Tf,height:Df,thickness:Of,properties:Ff,area:jf,preview:zf,cancel:Vf,update_sheet:Bf,swap_dimensions:Hf,width_must_be_positive:Uf,height_must_be_positive:Kf,thickness_must_be_positive:Wf,quantity_must_be_positive:qf,margin_cannot_be_negative:Gf},Zf="Settings DE",Qf="Preset Management",Xf="Algorithm Settings",Yf="UI Preferences",eh="Advanced Settings",th="Reset Defaults",rh="Import Configuration",sh="Export Configuration",nh="Reset to Defaults",ih="Are you sure you want to reset all settings to defaults?",ah="Failed to reset settings",oh="Failed to export configuration",lh="Failed to import configuration",ch="Presets allow you to save and restore complete nesting configurations.",dh="Create Preset",gh="Create New Preset",uh="Preset Name",fh="Preset name is required",hh="Enter preset name",ph="Description (optional)",mh="Enter a description for this preset",bh="Cancel",xh="No Presets Available",_h="Create a preset to save your current configuration",yh="Export Preset",vh="Delete Preset",$h="Load Preset",kh="Active",wh="Created",Sh="Updated",Ch="Are you sure you want to delete preset '{{name}}'?",Ph="Failed to create preset",Lh="Failed to load preset",Mh="Failed to delete preset",Ah="Failed to export preset",Eh="Failed to import preset",Ih="Import Preset",Nh="Nesting Parameters",Rh="Space Between Parts",Th="Minimum distance between parts in millimeters",Dh="Curve Tolerance",Oh="Tolerance for curve approximation. Lower values = more accurate but slower",Fh="Part Rotations",jh="Number of rotation angles to try for each part",zh="No Rotation",Vh="Free Rotation (any angle)",Bh="Genetic Algorithm",Hh="Population Size",Uh="Number of solutions in each generation. Higher = better results but slower",Kh="Mutation Rate",Wh="Probability of random changes. Higher = more exploration but less stability",qh="Advanced Options",Gh="Use Holes",Jh="Consider holes in parts for nesting (experimental)",Zh="Explore Concave",Qh="Try placing parts in concave areas of other parts",Xh="Merge Common Lines",Yh="Combine overlapping cut lines to reduce cutting time",ep="Use Rough Approximation",tp="Use faster but less accurate calculations for initial placement",rp="Appearance",sp="Language",np="Select the interface language",ip="Theme",ap="Choose between light, dark, or automatic theme",op="Auto (follows system)",lp="Light",cp="Dark",dp="Dark Mode",gp="Use dark colors for the interface",up="Units and Formatting",fp="Display Units",hp="Units for displaying measurements",pp="Millimeters (mm)",mp="Inches (in)",bp="Centimeters (cm)",xp="Show Grid",_p="Display grid lines in the viewport",yp="Show Rulers",vp="Display measurement rulers",$p="Layout Preferences",kp="Parts Panel Width",wp="Width of the parts panel in pixels",Sp="Reset",Cp="Show Tooltips",Pp="Display helpful tooltips on hover",Lp="Show Status Bar",Mp="Display the status bar at the bottom",Ap="Performance",Ep="Worker Threads",Ip="Number of CPU threads to use (max: {{max}})",Np="Enable GPU Acceleration",Rp="Use graphics card for calculations (experimental)",Tp="Enable Caching",Dp="Cache calculations to improve performance",Op="Debugging",Fp="Debug Mode",jp="Enable additional debugging information",zp="Verbose Logging",Vp="Log detailed information to console",Bp="Show Debug Info",Hp="Hide Debug Info",Up="System Information",Kp="Platform",Wp="CPU Cores",qp="Viewport",Gp="Memory Used",Jp="Memory Total",Zp="Export Debug Info",Qp="Maintenance",Xp="Clear Cache",Yp="Clear all cached data and preferences",em="Are you sure you want to clear all cached data?",tm="Cache cleared successfully",rm="Failed to clear cache",sm="Reset Layout",nm="Reset panel sizes and positions to defaults",im="Auto-save Interval",am="minutes",om="How often to automatically save your work (0 = disabled)",lm={settings_title:Zf,preset_management:Qf,algorithm_settings:Xf,ui_preferences:Yf,advanced_settings:eh,import:"Import",export:"Export",reset_defaults:th,import_configuration:rh,export_configuration:sh,reset_to_defaults:nh,confirm_reset_defaults:ih,reset_failed:ah,export_failed:oh,import_failed:lh,preset_description:ch,create_preset:dh,create_new_preset:gh,preset_name:uh,preset_name_required:fh,enter_preset_name:hh,preset_description_optional:ph,enter_preset_description:mh,cancel:bh,no_presets_available:xh,create_preset_to_get_started:_h,export_preset:yh,delete_preset:vh,load_preset:$h,active:kh,created:wh,updated:Sh,confirm_delete_preset:Ch,preset_create_failed:Ph,preset_load_failed:Lh,preset_delete_failed:Mh,preset_export_failed:Ah,preset_import_failed:Eh,import_preset:Ih,nesting_parameters:Nh,space_between_parts:Rh,spacing_description:Th,curve_tolerance:Dh,curve_tolerance_description:Oh,part_rotations:Fh,rotations_description:jh,no_rotation:zh,"2_rotations":"2 Rotations (0Â°, 180Â°)","4_rotations":"4 Rotations (0Â°, 90Â°, 180Â°, 270Â°)","8_rotations":"8 Rotations (45Â° steps)","12_rotations":"12 Rotations (30Â° steps)",free_rotation:Vh,genetic_algorithm:Bh,population_size:Hh,population_size_description:Uh,mutation_rate:Kh,mutation_rate_description:Wh,advanced_options:qh,use_holes:Gh,use_holes_description:Jh,explore_concave:Zh,explore_concave_description:Qh,merge_common_lines:Xh,merge_lines_description:Yh,use_rough_approximation:ep,rough_approximation_description:tp,appearance:rp,language:sp,language_description:np,theme:ip,theme_description:ap,auto_theme:op,light_theme:lp,dark_theme:cp,dark_mode:dp,dark_mode_description:gp,units_and_formatting:up,display_units:fp,units_description:hp,millimeters:pp,inches:mp,centimeters:bp,show_grid:xp,show_grid_description:_p,show_rulers:yp,show_rulers_description:vp,layout_preferences:$p,parts_panel_width:kp,panel_width_description:wp,reset:Sp,show_tooltips:Cp,tooltips_description:Pp,show_status_bar:Lp,status_bar_description:Mp,performance:Ap,worker_threads:Ep,worker_threads_description:Ip,enable_gpu_acceleration:Np,gpu_acceleration_description:Rp,enable_caching:Tp,caching_description:Dp,debugging:Op,debug_mode:Fp,debug_mode_description:jp,verbose_logging:zp,verbose_logging_description:Vp,show_debug_info:Bp,hide_debug_info:Hp,system_information:Up,platform:Kp,cpu_cores:Wp,viewport:qp,memory_used:Gp,memory_total:Jp,export_debug_info:Zp,maintenance:Qp,clear_cache:Xp,clear_cache_description:Yp,confirm_clear_cache:em,cache_cleared_success:tm,cache_clear_failed:rm,reset_layout:sm,reset_layout_description:nm,auto_save_interval:im,minutes:am,auto_save_description:om},cm="File Operations",dm="Drag & Drop Files",gm="Import Files",um="Export Options",fm="Recent Files",hm="Drop files here to import",pm="or click to browse",mm="Supported formats: SVG, DXF, JSON",bm="Select Files",xm="Browse Files",_m="Importing Files...",ym="{{count}} files imported successfully",vm="Importing {{current}} of {{total}} files",$m="Failed to import files",km="File validation error",wm="Invalid file format: {{format}}",Sm="File too large: {{size}}. Maximum size is {{max}}",Cm="Failed to read file: {{filename}}",Pm="Export Format",Lm="Export Settings",Mm="Export All",Am="Export Selected",Em="Export Current",Im="Files exported successfully",Nm="Failed to export files",Rm="SVG Vector",Tm="DXF CAD",Dm="PDF Document",Om="JSON Data",Fm="Include Sheet Outline",jm="Include Part Labels",zm="Optimize Cut Paths",Vm="Merge Common Lines",Bm="Export Scale",Hm="Export Units",Um="No Recent Files",Km="Clear Recent",Wm="Open Recent File",qm="Pin File",Gm="Unpin File",Jm="Remove from Recent",Zm="File not found: {{filename}}",Qm="Quickly access your recently used files",Xm="Maximum {{count}} recent files",Ym="Pinned",eb="Size",tb="Modified",rb="Path",sb="Copy Path",nb="Open File Location",ib="File Information",ab="Processing...",ob="Cancel Import",lb="Retry Import",cb="Skip File",db="Continue Import",gb="Validation Warning",ub="File contains errors but can be imported",fb="Import Anyway",hb="Fix Errors",pb="Auto Fix",mb="Manual Fix",bb="Error Details",xb="Line {{number}}",_b="Invalid geometry detected",yb="Duplicate points found",vb="Self-intersecting polygon",$b="Unclosed path detected",kb="File is empty",wb="File appears to be corrupted",Sb="Unsupported file version",Cb="Missing required data",Pb={file_operations:cm,drag_drop_files:dm,import_files:gm,export_options:um,recent_files:fm,drop_files_here:hm,or_click_to_browse:pm,supported_formats:mm,select_files:bm,browse_files:xm,importing_files:_m,files_imported:ym,import_progress:vm,import_failed:$m,file_validation_error:km,invalid_file_format:wm,file_too_large:Sm,file_read_error:Cm,export_format:Pm,export_settings:Lm,export_all:Mm,export_selected:Am,export_current:Em,export_success:Im,export_failed:Nm,svg_format:Rm,dxf_format:Tm,pdf_format:Dm,json_format:Om,include_sheet:Fm,include_labels:jm,optimize_paths:zm,merge_lines:Vm,export_scale:Bm,export_units:Hm,no_recent_files:Um,clear_recent:Km,open_recent:Wm,pin_file:qm,unpin_file:Gm,remove_from_recent:Jm,file_not_found:Zm,recent_files_description:Qm,max_recent_files:Xm,pinned:Ym,file_size:eb,last_modified:tb,file_path:rb,copy_path:sb,open_location:nb,file_info:ib,processing:ab,cancel_import:ob,retry_import:lb,skip_file:cb,continue_import:db,validation_warning:gb,file_contains_errors:ub,import_anyway:fb,fix_errors:hb,auto_fix:pb,manual_fix:mb,error_details:bb,line_number:xb,invalid_geometry:_b,duplicate_points:yb,self_intersecting:vb,unclosed_path:$b,empty_file:kb,corrupted_file:wb,unsupported_version:Sb,missing_required_data:Cb},Lb={fallbackLng:"en",debug:!0,ns:["translation","common","parts","settings","nesting","sheets","files","messages","imprint"],defaultNS:"translation",languages:["en","de"],interpolation:{escapeValue:!1},resources:{en:{translation:qr,common:qr,messages:qn,parts:yi,nesting:Ta,sheets:mo,settings:Mc,files:Gd,imprint:Gr},de:{translation:Jr,common:Jr,messages:G0,parts:xu,nesting:pf,sheets:Jf,settings:lm,files:Pb,imprint:Gr}}},lt=je.createInstance();let kr=!1;const bs="deepnest-language",Mb=()=>{try{return localStorage.getItem(bs)}catch(t){return console.warn("Failed to read language from localStorage:",t),null}},wr=t=>{try{localStorage.setItem(bs,t),console.log("âœ… Stored language preference:",t)}catch(e){console.warn("Failed to store language in localStorage:",e)}},[Et,sr]=J("en"),[nr,Ab]=J(!1),ur=async t=>{kr?(await lt.changeLanguage(t),sr(t),wr(t),console.log("âœ… i18next language changed to:",t)):(await lt.init({...Lb,lng:t}).then(()=>{sr(t),Ab(!0),wr(t)}),kr=!0,console.log("âœ… i18next initialized with language:",t))},xs=Ms({t:lt.t.bind(lt),language:Et.bind(Et),changeLanguage:sr.bind(sr),isReady:nr.bind(nr)}),Eb=t=>{console.log("ðŸ—ï¸ I18nProvider: Initializing"),or(async()=>{const s=Mb(),n=w.ui.language,a=s||n||"en";console.log("ðŸš€ I18nProvider: Language preference check:",{stored:s,global:n,selected:a}),s&&s!==n&&(console.log(`ðŸ”„ Restoring language from localStorage: ${s}`),O.setLanguage(s)),await ur(a)}),qe(async()=>{const s=w.ui.language,n=Et();console.log(`ðŸ‘€ I18nProvider: globalState.ui.language changed to: ${s}, current: ${n}`),s&&s!==n&&kr&&(console.log(`ðŸ”„ I18nProvider: Changing language from ${n} to ${s}`),await ur(s))});const r={t:(s,n)=>{const a=nr(),l=Et();if(console.log(`ðŸ” Translation called: key="${s}", ready=${a}, lang=${l}, typeof key=${typeof s}`),!a)return console.log(`â³ Translation not ready, returning key: ${s}`),s;if(!s||typeof s!="string")return console.warn("ðŸš¨ Invalid translation key:",s),s||"";const o=n?.ns||"translation",c={...n,ns:o};console.log("ðŸ” About to call i18nInstance.t with:",{key:s,namespace:o,lang:lt.language,hasResources:!!lt.getDataByLanguage(l)?.[o],resources:lt.getDataByLanguage(l)});const d=lt.t(s,c);return console.log(`ðŸ” i18nInstance.t result: "${d}" for key "${s}"`),d||s},language:Et,changeLanguage:async s=>{console.log(`ðŸŽ¯ Changing language to: ${s}`),O.setLanguage(s),wr(s),await ur(s)},isReady:nr};return xs.Provider({value:r,children:t.children})},Ce=(t="translation")=>{const e=As(xs);return e?[(s,n)=>oe(()=>{e.language();const l={...n,ns:t};return e.t(s,l)})(),{changeLanguage:e.changeLanguage,language:e.language,isReady:e.isReady}]:(console.warn("useTranslation must be used within I18nProvider"),[s=>s,{changeLanguage:async()=>{},language:()=>"en"}])},Ib={enabled:!0,context:"global"},Nb=(t,e={})=>{const r={...Ib,...e},s=n=>{if(!r.enabled)return;const a=n.target;if(a.tagName==="INPUT"||a.tagName==="TEXTAREA"||a.isContentEditable)return;const l=t.find(o=>{const c=o.key.toLowerCase()===n.key.toLowerCase(),d=!!o.ctrlKey===n.ctrlKey,u=!!o.altKey===n.altKey,g=!!o.shiftKey===n.shiftKey,x=!!o.metaKey===n.metaKey;return c&&d&&u&&g&&x});l&&(l.preventDefault!==!1&&n.preventDefault(),l.action())};return qe(()=>{r.enabled&&(document.addEventListener("keydown",s),Xe(()=>{document.removeEventListener("keydown",s)}))}),{shortcuts:t,enabled:()=>r.enabled}},Be=(t,e,r,s={})=>({key:t,action:e,description:r,ctrlKey:s.ctrl,altKey:s.alt,shiftKey:s.shift,metaKey:s.meta}),Rb=t=>{const e=[];return t.ctrlKey&&e.push("Ctrl"),t.altKey&&e.push("Alt"),t.shiftKey&&e.push("Shift"),t.metaKey&&e.push("Cmd"),e.push(t.key.toUpperCase()),e.join(" + ")};var Tb=L('<header class="h-16 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between px-6 shadow-sm"><div class="flex items-center"><div class="flex items-center gap-3"><div class="w-8 h-8 bg-blue-600 dark:bg-blue-500 rounded-lg flex items-center justify-center"><span class="text-white font-bold text-sm">DN</span></div><h1 class="text-xl font-semibold text-gray-900 dark:text-gray-100"></h1></div></div><div class="flex items-center gap-4"><div class=relative><select class="bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100 px-3 py-2 pr-8 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent appearance-none cursor-pointer"><option value=en>ðŸ‡ºðŸ‡¸ EN</option><option value=de>ðŸ‡©ðŸ‡ª DE</option></select><div class="absolute right-2 top-1/2 transform -translate-y-1/2 pointer-events-none"><svg class="w-4 h-4 text-gray-500 dark:text-gray-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 9l-7 7-7-7"></path></svg></div></div><button class="flex items-center justify-center w-10 h-10 bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-300 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800">'),Db=L('<svg class="w-5 h-5"fill=currentColor viewBox="0 0 20 20"><path fill-rule=evenodd d="M10 2a1 1 0 011 1v1a1 1 0 11-2 0V3a1 1 0 011-1zm4 8a4 4 0 11-8 0 4 4 0 018 0zm-.464 4.95l.707.707a1 1 0 001.414-1.414l-.707-.707a1 1 0 00-1.414 1.414zm2.12-10.607a1 1 0 010 1.414l-.706.707a1 1 0 11-1.414-1.414l.707-.707a1 1 0 011.414 0zM17 11a1 1 0 100-2h-1a1 1 0 100 2h1zm-7 4a1 1 0 011 1v1a1 1 0 11-2 0v-1a1 1 0 011-1zM5.05 6.464A1 1 0 106.465 5.05l-.708-.707a1 1 0 00-1.414 1.414l.707.707zm1.414 8.486l-.707.707a1 1 0 01-1.414-1.414l.707-.707a1 1 0 011.414 1.414zM4 11a1 1 0 100-2H3a1 1 0 000 2h1z"clip-rule=evenodd>'),Ob=L('<svg class="w-5 h-5"fill=currentColor viewBox="0 0 20 20"><path d="M17.293 13.293A8 8 0 016.707 2.707a8.001 8.001 0 1010.586 10.586z">');const Fb=()=>{const[t,{changeLanguage:e}]=Ce("common"),r=()=>{const n=w.ui.darkMode?"light":"dark";O.setThemePreference(n)},s=async n=>{console.log(`Header: handleLanguageChange called with ${n}`),console.log("Header: current globalState.ui.language:",w.ui.language),O.setLanguage(n),console.log("Header: after globalActions.setLanguage, globalState.ui.language:",w.ui.language),await e(n),console.log("Header: after changeLanguage call completed")};return(()=>{var n=Tb(),a=n.firstChild,l=a.firstChild,o=l.firstChild,c=o.nextSibling,d=a.nextSibling,u=d.firstChild,g=u.firstChild,x=u.nextSibling;return i(c,()=>t("navigation.page_title")),g.addEventListener("change",m=>s(m.currentTarget.value)),x.$$click=r,i(x,(()=>{var m=Se(()=>!!w.ui.darkMode);return()=>m()?Db():Ob()})()),F(()=>re(x,"title",w.ui.darkMode?"Switch to light mode":"Switch to dark mode")),F(()=>g.value=w.ui.language),n})()};Ee(["click"]);const jb={version:"2.0.0",buildDate:new Date().toISOString().split("T")[0],name:"DeepNest Next",description:"Advanced nesting software for CNC, laser cutters, and plotters"},_s=()=>jb;var zb=L('<nav class="h-full bg-gray-50 dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 flex flex-col w-full"><div class="flex flex-col py-4"><div class="px-4 mb-4"><h2 class="text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider">Navigation</h2></div></div><div class=mt-auto><div class=p-2><button><span>â„¹ï¸</span><span class=font-medium></span></button></div><div class="p-4 border-t border-gray-200 dark:border-gray-700"><div class="text-xs text-gray-500 dark:text-gray-400 text-center"><div></div><div class="mt-1 opacity-75">v'),Vb=L("<button><span></span><span class=font-medium>"),Zr=L('<div class="ml-auto w-1 h-6 bg-blue-600 dark:bg-blue-400 rounded-full">');const Bb=()=>{const[t]=Ce("common"),e=_s(),r=[{id:"parts",labelKey:"navigation.parts",icon:"ðŸ“¦"},{id:"nests",labelKey:"navigation.nests",icon:"ðŸ”§"},{id:"sheets",labelKey:"navigation.sheets",icon:"ðŸ“„"},{id:"settings",labelKey:"navigation.settings",icon:"âš™ï¸"}],s=n=>{O.setActiveTab(n)};return(()=>{var n=zb(),a=n.firstChild;a.firstChild;var l=a.nextSibling,o=l.firstChild,c=o.firstChild,d=c.firstChild,u=d.nextSibling,g=o.nextSibling,x=g.firstChild,m=x.firstChild,_=m.nextSibling;return _.firstChild,i(a,C(Te,{each:r,children:b=>(()=>{var y=Vb(),M=y.firstChild,E=M.nextSibling;return y.$$click=()=>s(b.id),i(M,()=>b.icon),i(E,()=>t(b.labelKey)),i(y,(()=>{var k=Se(()=>w.ui.activeTab===b.id);return()=>k()&&Zr()})(),null),F(k=>{var S=`mx-2 mb-1 flex items-center px-4 py-3 text-left transition-all duration-200 rounded-lg group ${w.ui.activeTab===b.id?"bg-blue-100 dark:bg-blue-900 text-blue-900 dark:text-blue-100 shadow-sm border border-blue-200 dark:border-blue-700":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-gray-100"}`,A=t(b.labelKey),I=`text-xl mr-4 transition-transform duration-200 ${w.ui.activeTab===b.id?"scale-110":"group-hover:scale-105"}`;return S!==k.e&&ye(y,k.e=S),A!==k.t&&re(y,"title",k.t=A),I!==k.a&&ye(M,k.a=I),k},{e:void 0,t:void 0,a:void 0}),y})()}),null),c.$$click=()=>s("imprint"),i(u,()=>t("navigation.imprint")),i(c,(()=>{var b=Se(()=>w.ui.activeTab==="imprint");return()=>b()&&Zr()})(),null),i(m,()=>e.name),i(_,()=>e.version,null),F(b=>{var y=`w-full flex items-center px-4 py-3 text-left transition-all duration-200 rounded-lg group ${w.ui.activeTab==="imprint"?"bg-blue-100 dark:bg-blue-900 text-blue-900 dark:text-blue-100 shadow-sm border border-blue-200 dark:border-blue-700":"text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 hover:text-gray-900 dark:hover:text-gray-100"}`,M=t("navigation.imprint"),E=`text-xl mr-4 transition-transform duration-200 ${w.ui.activeTab==="imprint"?"scale-110":"group-hover:scale-105"}`;return y!==b.e&&ye(c,b.e=y),M!==b.t&&re(c,"title",b.t=M),E!==b.a&&ye(d,b.a=E),b},{e:void 0,t:void 0,a:void 0}),n})()};Ee(["click"]);const Hb={enableMultiSelect:!0,enableKeyboardShortcuts:!0,enableRangeSelect:!0,selectAllKey:"KeyA",deselectAllKey:"Escape"},Ub=(t,e={})=>{const r={...Hb,...e},[s,n]=J(new Set),[a,l]=J(null),[o,c]=J("single"),d=oe(()=>{const f=s();return t().filter($=>f.has($.id))}),u=oe(()=>s().size),g=oe(()=>{const f=t(),$=s();return f.length>0&&f.every(v=>$.has(v.id))}),x=oe(()=>s().size===0),m=oe(()=>{const f=u();return f>0&&f<t().length}),_=f=>{n($=>new Set([...$,f])),l(f)},b=f=>{n($=>{const v=new Set($);return v.delete(f),v}),a()===f&&l(null)},y=f=>{s().has(f)?b(f):_(f)},M=()=>{const f=t().map($=>$.id);n(new Set(f)),l(f[f.length-1]||null)},E=()=>{n(new Set),l(null)},k=(f,$)=>{const v=t(),p=v.findIndex(V=>V.id===f),P=v.findIndex(V=>V.id===$);if(p===-1||P===-1)return;const D=Math.min(p,P),N=Math.max(p,P),z=v.slice(D,N+1).map(V=>V.id);n(V=>new Set([...V,...z])),l($)},S=()=>{const f=t(),$=s(),v=new Set(f.filter(p=>!$.has(p.id)).map(p=>p.id));n(v),l(null)},A=(f,$)=>{if(!r.enableMultiSelect){s().has(f)?E():(n(new Set([f])),l(f));return}if($.ctrlKey||$.metaKey)c("multi"),y(f);else if($.shiftKey&&r.enableRangeSelect){c("range");const v=a();v?k(v,f):_(f)}else c("single"),n(new Set([f])),l(f)},I=f=>{if(!r.enableKeyboardShortcuts)return;const $=f.ctrlKey||f.metaKey,v=f.shiftKey;$&&f.code===r.selectAllKey?(f.preventDefault(),M()):f.code===r.deselectAllKey?(f.preventDefault(),E()):$&&f.code==="KeyI"?(f.preventDefault(),S()):(f.code==="ArrowUp"||f.code==="ArrowDown")&&(f.preventDefault(),R(f.code==="ArrowDown"?1:-1,v))},R=(f,$=!1)=>{const v=t();if(v.length===0)return;const p=a();let P=p?v.findIndex(z=>z.id===p):-1;if(P===-1){const z=f>0?0:v.length-1,V=v[z];V&&_(V.id);return}let D;f>0?D=P>=v.length-1?0:P+1:D=P<=0?v.length-1:P-1;const N=v[D];N&&($&&r.enableRangeSelect?k(p,N.id):(n(new Set([N.id])),l(N.id)))},T=f=>s().has(f),h=()=>({selectedIds:Array.from(s()),selectedItems:d(),selectedCount:u(),isAllSelected:g(),isNoneSelected:x(),isPartiallySelected:m(),lastSelectedId:a(),selectionMode:o()});return r.enableKeyboardShortcuts&&(document.addEventListener("keydown",I),Xe(()=>{document.removeEventListener("keydown",I)})),{selectedIds:s,selectedItems:d,selectedCount:u,isAllSelected:g,isNoneSelected:x,isPartiallySelected:m,lastSelectedId:a,selectionMode:o,selectItem:_,deselectItem:b,toggleItem:y,selectAll:M,deselectAll:E,selectRange:k,invertSelection:S,navigateSelection:R,handleItemClick:A,isSelected:T,getSelectionInfo:h}};var Kb=L('<span class="text-xs text-gray-500 dark:text-gray-400">(<!>%)'),Wb=L('<button class="p-1 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M6 18L18 6M6 6l12 12">'),qb=L('<button class="inline-flex items-center px-3 py-1 text-sm font-medium text-blue-700 dark:text-blue-300 bg-blue-100 dark:bg-blue-900 hover:bg-blue-200 dark:hover:bg-blue-800 rounded-md transition-colors"><svg class="w-4 h-4 mr-1"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z">'),Gb=L('<button class="inline-flex items-center px-3 py-1 text-sm font-medium text-green-700 dark:text-green-300 bg-green-100 dark:bg-green-900 hover:bg-green-200 dark:hover:bg-green-800 rounded-md transition-colors"><svg class="w-4 h-4 mr-1"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z">'),Jb=L('<div class="flex items-center gap-1">'),Zb=L('<button class="inline-flex items-center px-3 py-1 text-sm font-medium text-red-700 dark:text-red-300 bg-red-100 dark:bg-red-900 hover:bg-red-200 dark:hover:bg-red-800 rounded-md transition-colors"><svg class="w-4 h-4 mr-1"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16">'),Qb=L('<div class="flex items-center gap-2">'),Xb=L('<div class="flex items-center justify-between p-2 bg-gray-50 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700"><div class="flex items-center gap-4"><div class="flex items-center gap-2"><span class="text-sm font-medium text-gray-700 dark:text-gray-300"></span></div><div class="flex items-center gap-1"><button class="p-1 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors"><span class=text-sm></span></button><button class="p-1 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded transition-colors"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"></path></svg></button></div></div><div class="flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400"><span>:</span><kbd class="px-1 py-0.5 bg-gray-200 dark:bg-gray-600 rounded text-xs">Ctrl+A</kbd><span>,</span><kbd class="px-1 py-0.5 bg-gray-200 dark:bg-gray-600 rounded text-xs">Esc</kbd><span>,</span><kbd class="px-1 py-0.5 bg-gray-200 dark:bg-gray-600 rounded text-xs">â†‘â†“</kbd><span>'),Yb=L("<button><span class=mr-1>");const ex=t=>{const[e]=Ce("common"),r=()=>t.isAllSelected?e("deselect_all"):(t.isPartiallySelected,e("select_all")),s=()=>t.isAllSelected?"â˜‘ï¸":t.isPartiallySelected?"â—":"â˜",n=()=>{t.isAllSelected?t.onDeselectAll():t.onSelectAll()};return(()=>{var a=Xb(),l=a.firstChild,o=l.firstChild,c=o.firstChild,d=o.nextSibling,u=d.firstChild,g=u.firstChild,x=u.nextSibling,m=l.nextSibling,_=m.firstChild,b=_.firstChild,y=_.nextSibling,M=y.nextSibling,E=M.firstChild,k=M.nextSibling,S=k.nextSibling,A=S.firstChild,I=S.nextSibling,R=I.nextSibling;return i(c,(()=>{var T=Se(()=>t.selectedCount>0);return()=>T()?e("selected_count",{count:t.selectedCount,total:t.totalCount}):e("no_selection")})()),i(o,C(X,{get when(){return t.selectedCount>0},get children(){var T=Kb(),h=T.firstChild,f=h.nextSibling;return f.nextSibling,i(T,()=>Math.round(t.selectedCount/t.totalCount*100),f),T}}),null),u.$$click=n,i(g,s),Le(x,"click",t.onInvertSelection,!0),i(d,C(X,{get when(){return t.selectedCount>0},get children(){var T=Wb();return Le(T,"click",t.onDeselectAll,!0),F(()=>re(T,"title",e("deselect_all"))),T}}),null),i(a,C(X,{get when(){return t.selectedCount>0},get children(){var T=Qb();return i(T,C(X,{get when(){return t.onDuplicateSelected},get children(){var h=qb();return h.firstChild,Le(h,"click",t.onDuplicateSelected,!0),i(h,()=>e("duplicate"),null),F(()=>re(h,"title",e("duplicate_selected"))),h}}),null),i(T,C(X,{get when(){return t.onExportSelected},get children(){var h=Gb();return h.firstChild,Le(h,"click",t.onExportSelected,!0),i(h,()=>e("export"),null),F(()=>re(h,"title",e("export_selected"))),h}}),null),i(T,C(X,{get when(){return t.actions&&t.actions.length>0},get children(){var h=Jb();return i(h,()=>t.actions.map(f=>(()=>{var $=Yb(),v=$.firstChild;return Le($,"click",f.onClick,!0),i(v,()=>f.icon),i($,()=>f.label,null),F(p=>{var P=f.disabled,D=`inline-flex items-center px-3 py-1 text-sm font-medium rounded-md transition-colors ${f.color==="danger"?"text-red-700 dark:text-red-300 bg-red-100 dark:bg-red-900 hover:bg-red-200 dark:hover:bg-red-800 disabled:opacity-50":f.color==="primary"?"text-blue-700 dark:text-blue-300 bg-blue-100 dark:bg-blue-900 hover:bg-blue-200 dark:hover:bg-blue-800 disabled:opacity-50":"text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 disabled:opacity-50"}`,N=f.label;return P!==p.e&&($.disabled=p.e=P),D!==p.t&&ye($,p.t=D),N!==p.a&&re($,"title",p.a=N),p},{e:void 0,t:void 0,a:void 0}),$})())),h}}),null),i(T,C(X,{get when(){return t.onDeleteSelected},get children(){var h=Zb();return h.firstChild,Le(h,"click",t.onDeleteSelected,!0),i(h,()=>e("delete"),null),F(()=>re(h,"title",e("delete_selected"))),h}}),null),T}}),m),i(_,()=>e("shortcuts"),b),i(M,()=>e("select_all"),E),i(S,()=>e("deselect"),A),i(R,()=>e("navigate")),F(T=>{var h=r(),f=e("invert_selection");return h!==T.e&&re(u,"title",T.e=h),f!==T.t&&re(x,"title",T.t=f),T},{e:void 0,t:void 0}),a})()};Ee(["click"]);const tx={preventDefault:!0,closeOnClick:!0,closeOnScroll:!0,closeOnResize:!0},ys=(t={})=>{const e={...tx,...t},[r,s]=J(!1),[n,a]=J({x:0,y:0}),[l,o]=J([]),[c,d]=J(null),u=S=>{if(r()&&e.closeOnClick){const A=S.target,I=document.querySelector("[data-context-menu]");I&&!I.contains(A)&&b()}},g=()=>{r()&&e.closeOnScroll&&b()},x=()=>{r()&&e.closeOnResize&&b()},m=S=>{S.key==="Escape"&&r()&&(S.preventDefault(),b())};qe(()=>{r()&&(document.addEventListener("click",u),document.addEventListener("scroll",g),document.addEventListener("keydown",m),window.addEventListener("resize",x),Xe(()=>{document.removeEventListener("click",u),document.removeEventListener("scroll",g),document.removeEventListener("keydown",m),window.removeEventListener("resize",x)}))});const _=(S,A)=>{e.preventDefault&&S.preventDefault(),S.stopPropagation(),document.documentElement.getBoundingClientRect();const I=200,R=A.length*32;let T=S.clientX,h=S.clientY;T+I>window.innerWidth&&(T=window.innerWidth-I-10),h+R>window.innerHeight&&(h=window.innerHeight-R-10),a({x:T,y:h}),o(A),d(S.currentTarget),s(!0)},b=()=>{s(!1),o([]),d(null)};return{isOpen:r,position:n,menuItems:l,targetElement:c,openMenu:_,closeMenu:b,handleItemClick:S=>{S.disabled||S.submenu||(S.action(),b())},createContextMenuHandler:S=>A=>{const I=S(A);I.length>0&&_(A,I)},createMenuItem:(S,A,I,R={})=>({id:S,label:A,action:I,...R}),createSeparator:()=>({id:"separator",label:"",action:()=>{},separator:!0})}};var rx=L('<div data-context-menu class="fixed z-50 min-w-48 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg shadow-lg py-1 focus:outline-none"tabindex=-1>'),sx=L('<svg class="w-4 h-4 flex-shrink-0"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2>'),nx=L('<svg class="w-4 h-4 flex-shrink-0"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 5l7 7-7 7">'),ix=L("<button data-context-item tabindex=0><span class=flex-1>"),ax=L('<div class="h-px bg-gray-200 dark:bg-gray-700 mx-1 my-1">');const vs=t=>{let e;qe(()=>{t.isOpen&&e&&e.focus()});const r=l=>{if(t.isOpen)switch(l.key){case"Escape":l.preventDefault(),t.onClose();break;case"ArrowDown":l.preventDefault(),s();break;case"ArrowUp":l.preventDefault(),n();break;case"Enter":case" ":l.preventDefault();const o=e?.querySelector("[data-context-item]:focus");o&&o.click();break}},s=()=>{const l=e?.querySelectorAll("[data-context-item]:not([disabled])");if(!l?.length)return;const o=Array.from(l).findIndex(d=>d===document.activeElement);let c;o===-1||o>=l.length-1?c=0:c=o+1,l[c].focus()},n=()=>{const l=e?.querySelectorAll("[data-context-item]:not([disabled])");if(!l?.length)return;const o=Array.from(l).findIndex(d=>d===document.activeElement);let c;o===-1||o<=0?c=l.length-1:c=o-1,l[c].focus()},a=(l="default")=>{switch(l){case"primary":return"text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20";case"secondary":return"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-800";case"danger":return"text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20";default:return"text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800"}};return C(X,{get when(){return t.isOpen},get children(){return C(os,{get children(){var l=rx();l.$$keydown=r;var o=e;return typeof o=="function"?Jt(o,l):e=l,i(l,C(Te,{get each(){return t.items},children:c=>C(X,{get when(){return!c.separator},get fallback(){return ax()},get children(){var d=ix(),u=d.firstChild;return d.$$click=()=>!c.disabled&&t.onItemClick(c),i(d,C(X,{get when(){return c.icon},get children(){var g=sx(),x=g.firstChild;return F(()=>re(x,"d",c.icon)),g}}),u),i(u,()=>c.label),i(d,C(X,{get when(){return c.submenu},get children(){return nx()}}),null),F(g=>{var x=`w-full flex items-center gap-3 px-3 py-2 text-sm text-left transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-inset ${a(c.color)} ${c.disabled?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,m=c.disabled;return x!==g.e&&ye(d,g.e=x),m!==g.t&&(d.disabled=g.t=m),g},{e:void 0,t:void 0}),d}})})),F(c=>{var d=`${t.position.x}px`,u=`${t.position.y}px`;return d!==c.e&&((c.e=d)!=null?l.style.setProperty("left",d):l.style.removeProperty("left")),u!==c.t&&((c.t=u)!=null?l.style.setProperty("top",u):l.style.removeProperty("top")),c},{e:void 0,t:void 0}),l}})}})};Ee(["keydown","click"]);var ox=L('<div class="h-full flex flex-col bg-white dark:bg-gray-900"><div class="p-4 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700"><div class="flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between"><div class="relative flex-1 max-w-md"><div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"><svg class="w-4 h-4 text-gray-400 dark:text-gray-500"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></div><input type=text class="block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200"></div><div class="flex items-center gap-3"><span class="text-sm font-medium text-gray-700 dark:text-gray-300">:</span><select class="px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"><option value=name></option><option value=quantity></option><option value=size></option></select><button class="p-2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors duration-200"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"></svg></button></div></div></div><div class="flex-1 overflow-auto"><div class=min-w-full><div class="sticky top-0 bg-gray-50 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 z-10"><div class="grid grid-cols-12 gap-4 px-4 py-3 text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"><div class="col-span-1 flex items-center"><span class="text-xs text-gray-500 dark:text-gray-400"></span></div><button><span></span></button><button><span></span></button><button><span></span></button><div class="col-span-2 text-center"></div></div></div><div class="bg-white dark:bg-gray-900">'),zt=L('<svg><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M5 15l7-7 7 7"></svg>',!1,!0,!1),Vt=L('<svg><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 9l-7 7-7-7"></svg>',!1,!0,!1),fr=L('<svg class="w-3 h-3"fill=none stroke=currentColor viewBox="0 0 24 24">'),lx=L('<div><div class="col-span-1 flex items-center"><input type=checkbox class="w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-2"></div><div class="col-span-4 flex items-center"><div class="flex items-center gap-3"><div class="w-8 h-8 bg-gray-100 dark:bg-gray-700 rounded-lg flex items-center justify-center flex-shrink-0"><svg class="w-4 h-4 text-gray-500 dark:text-gray-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path></svg></div><div class="min-w-0 flex-1"><p class="text-sm font-medium text-gray-900 dark:text-gray-100 truncate"></p><p class="text-xs text-gray-500 dark:text-gray-400 truncate"></p></div></div></div><div class="col-span-2 flex items-center"><div class=relative><input type=number min=1 class="w-20 px-3 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"></div></div><div class="col-span-3 flex items-center"><div class="flex items-center gap-2"><div class="px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded text-xs font-mono text-gray-600 dark:text-gray-300"></div><span class="text-xs text-gray-500 dark:text-gray-400">mm</span></div></div><div class="col-span-2 flex items-center justify-center"><div class="flex items-center gap-1"><input type=number min=0 max=360 step=90 class="w-16 px-2 py-1.5 text-sm text-center border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"><span class="text-xs text-gray-500 dark:text-gray-400">Â°');const cx=t=>{const[e]=Ce("parts"),[r]=Ce("common"),[s,n]=J(""),[a,l]=J("name"),[o,c]=J("asc"),d=ys(),u=oe(()=>{let k=w.app.parts;if(s()){const S=s().toLowerCase();k=k.filter(A=>A.name.toLowerCase().includes(S)||A.source.toLowerCase().includes(S))}return k=[...k].sort((S,A)=>{let I,R;switch(a()){case"name":I=S.name,R=A.name;break;case"quantity":I=S.quantity,R=A.quantity;break;case"size":I=S.bounds.width*S.bounds.height,R=A.bounds.width*A.bounds.height;break;default:I=S.name,R=A.name}return typeof I=="string"&&typeof R=="string"?o()==="asc"?I.localeCompare(R):R.localeCompare(I):o()==="asc"?I-R:R-I}),k}),g=(k,S)=>{S<1&&(S=1),O.updatePart(k,{quantity:S})},x=(k,S)=>{O.updatePart(k,{rotation:S})},m=k=>{a()===k?c(o()==="asc"?"desc":"asc"):(l(k),c("asc"))},_=k=>`${k.width.toFixed(1)} Ã— ${k.height.toFixed(1)}`,b=k=>{const S={...k,id:`${k.id}-copy-${Date.now()}`,name:`${k.name} (Copy)`};O.setParts([...w.app.parts,S])},y=k=>{const S=w.app.parts.filter(A=>A.id!==k);O.setParts(S)},M=k=>{console.log("Exporting part:",k)},E=d.createContextMenuHandler(k=>{const A=k.currentTarget.dataset.partId,I=w.app.parts.find(h=>h.id===A);if(!I)return[];const R=t.isSelected?.(I.id),T=w.app.parts.filter(h=>t.isSelected?.(h.id)).length;return[d.createMenuItem("duplicate",e("duplicate"),()=>b(I),{icon:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z",color:"primary"}),d.createMenuItem("export",r("actions.export"),()=>M(I),{icon:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",color:"secondary"}),d.createSeparator(),d.createMenuItem("select",r(R?"actions.deselect":"actions.select"),()=>t.onItemClick?.(I.id,k),{icon:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",color:"primary"}),...T>1?[d.createMenuItem("bulk-actions",`${T} ${e("items_selected")}`,()=>{},{disabled:!0})]:[],d.createSeparator(),d.createMenuItem("delete",r("actions.delete"),()=>y(I.id),{icon:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16",color:"danger"})]});return(()=>{var k=ox(),S=k.firstChild,A=S.firstChild,I=A.firstChild,R=I.firstChild,T=R.nextSibling,h=I.nextSibling,f=h.firstChild,$=f.firstChild,v=f.nextSibling,p=v.firstChild,P=p.nextSibling,D=P.nextSibling,N=v.nextSibling,z=N.firstChild,V=S.nextSibling,K=V.firstChild,G=K.firstChild,H=G.firstChild,ee=H.firstChild,ne=ee.firstChild,j=ee.nextSibling,B=j.firstChild,Z=j.nextSibling,q=Z.firstChild,Q=Z.nextSibling,te=Q.firstChild,Y=Q.nextSibling,fe=G.nextSibling;return T.$$input=U=>n(U.currentTarget.value),i(f,()=>e("sort_by"),$),v.addEventListener("change",U=>l(U.currentTarget.value)),i(p,()=>e("name")),i(P,()=>e("quantity")),i(D,()=>e("size")),N.$$click=()=>c(o()==="asc"?"desc":"asc"),i(z,(()=>{var U=Se(()=>o()==="asc");return()=>U()?zt():Vt()})()),i(ne,()=>e("select")),j.$$click=()=>m("name"),i(B,()=>e("name")),i(j,(()=>{var U=Se(()=>a()==="name");return()=>U()&&(()=>{var ie=fr();return i(ie,(()=>{var le=Se(()=>o()==="asc");return()=>le()?zt():Vt()})()),ie})()})(),null),Z.$$click=()=>m("quantity"),i(q,()=>e("quantity")),i(Z,(()=>{var U=Se(()=>a()==="quantity");return()=>U()&&(()=>{var ie=fr();return i(ie,(()=>{var le=Se(()=>o()==="asc");return()=>le()?zt():Vt()})()),ie})()})(),null),Q.$$click=()=>m("size"),i(te,()=>e("size")),i(Q,(()=>{var U=Se(()=>a()==="size");return()=>U()&&(()=>{var ie=fr();return i(ie,(()=>{var le=Se(()=>o()==="asc");return()=>le()?zt():Vt()})()),ie})()})(),null),i(Y,()=>e("rotation")),i(fe,C(Te,{get each(){return u()},children:U=>(()=>{var ie=lx(),le=ie.firstChild,be=le.firstChild,he=le.nextSibling,se=he.firstChild,ue=se.firstChild,xe=ue.nextSibling,de=xe.firstChild,_e=de.nextSibling,pe=he.nextSibling,ke=pe.firstChild,we=ke.firstChild,Ae=pe.nextSibling,ve=Ae.firstChild,Re=ve.firstChild,Oe=Ae.nextSibling,He=Oe.firstChild,ze=He.firstChild;return Le(ie,"contextmenu",E,!0),ie.$$click=Me=>t.onItemClick?.(U.id,Me),be.addEventListener("change",()=>{}),be.$$click=Me=>{Me.stopPropagation();const Ue=new MouseEvent("click",{bubbles:!0,cancelable:!0,ctrlKey:!0,metaKey:!0,shiftKey:Me.shiftKey,altKey:Me.altKey});t.onItemClick?.(U.id,Ue)},i(de,()=>U.name),i(_e,()=>U.source),we.addEventListener("change",Me=>g(U.id,parseInt(Me.currentTarget.value))),i(Re,()=>_(U.bounds)),ze.addEventListener("change",Me=>x(U.id,parseInt(Me.currentTarget.value))),F(Me=>{var Ue=`grid grid-cols-12 gap-4 px-4 py-4 border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-200 cursor-pointer ${t.isSelected?.(U.id)?"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800":""}`,Ke=U.id,We=U.source;return Ue!==Me.e&&ye(ie,Me.e=Ue),Ke!==Me.t&&re(ie,"data-part-id",Me.t=Ke),We!==Me.a&&re(de,"title",Me.a=We),Me},{e:void 0,t:void 0,a:void 0}),F(()=>be.checked=t.isSelected?.(U.id)||!1),F(()=>we.value=U.quantity),F(()=>ze.value=U.rotation),ie})()})),i(k,C(vs,{get isOpen(){return d.isOpen()},get position(){return d.position()},get items(){return d.menuItems()},get onItemClick(){return d.handleItemClick},get onClose(){return d.closeMenu}}),null),F(U=>{var ie=e("search_parts"),le=o()==="asc"?"Sort descending":"Sort ascending",be=`col-span-4 flex items-center gap-2 text-left hover:text-gray-700 dark:hover:text-gray-200 transition-colors duration-200 ${a()==="name"?"text-blue-600 dark:text-blue-400":""}`,he=`col-span-2 flex items-center gap-2 text-left hover:text-gray-700 dark:hover:text-gray-200 transition-colors duration-200 ${a()==="quantity"?"text-blue-600 dark:text-blue-400":""}`,se=`col-span-3 flex items-center gap-2 text-left hover:text-gray-700 dark:hover:text-gray-200 transition-colors duration-200 ${a()==="size"?"text-blue-600 dark:text-blue-400":""}`;return ie!==U.e&&re(T,"placeholder",U.e=ie),le!==U.t&&re(N,"title",U.t=le),be!==U.a&&ye(j,U.a=be),he!==U.o&&ye(Z,U.o=he),se!==U.i&&ye(Q,U.i=se),U},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),F(()=>T.value=s()),F(()=>v.value=a()),k})()};Ee(["input","click","contextmenu"]);function dx(t){const{items:e,itemHeight:r,containerHeight:s,overscan:n=3}=t,[a,l]=J(0),[o,c]=J(!1);let d;const u=oe(()=>e().length*r),g=oe(()=>{const y=Math.floor(a()/r)-n;return Math.max(0,y)}),x=oe(()=>{const y=Math.ceil((a()+s)/r)+n;return Math.min(e().length-1,y)}),m=oe(()=>{const y=g(),M=x(),E=e(),k=[];for(let S=y;S<=M&&S<E.length;S++)k.push({item:E[S],index:S,offset:S*r});return k}),_=y=>{const M=y.target;l(M.scrollTop),c(!0),d&&clearTimeout(d),d=window.setTimeout(()=>{c(!1)},150)},b=(y,M="start")=>{const E=e().length-1,k=Math.max(0,Math.min(y,E));let S;switch(M){case"center":S=k*r-s/2+r/2;break;case"end":S=k*r-s+r;break;case"start":default:S=k*r;break}const A=u()-s;S=Math.max(0,Math.min(S,A)),l(S);const I=document.querySelector("[data-virtual-scroll-container]");I&&(I.scrollTop=S)};return Xe(()=>{d&&clearTimeout(d)}),{visibleItems:m,totalHeight:u,scrollTop:a,setScrollTop:l,startIndex:g,endIndex:x,handleScroll:_,scrollToIndex:b}}var gx=L("<div data-virtual-scroll-container><div>");const ux=t=>(()=>{var e=gx(),r=e.firstChild;return Le(e,"scroll",t.onScroll),r.style.setProperty("position","relative"),i(r,()=>t.children),F(s=>{var n=`overflow-auto ${t.class||""}`,a=`${t.height}px`,l=`${t.totalHeight}px`;return n!==s.e&&ye(e,s.e=n),a!==s.t&&((s.t=a)!=null?e.style.setProperty("height",a):e.style.removeProperty("height")),l!==s.a&&((s.a=l)!=null?r.style.setProperty("height",l):r.style.removeProperty("height")),s},{e:void 0,t:void 0,a:void 0}),e})();var Qr=L("<div>");function fx(t){const e=dx({items:()=>t.items,itemHeight:t.itemHeight,containerHeight:t.height,overscan:t.overscan||3,getItemKey:t.getItemKey});qe(()=>{t.scrollToIndex!==void 0&&t.scrollToIndex>=0&&e.scrollToIndex(t.scrollToIndex,t.scrollAlign)}),qe(()=>{t.onScroll?.(e.scrollTop(),!1)});const r=oe(()=>t.items.length===0);return C(X,{get when(){return!r()},get fallback(){return(()=>{var s=Qr();return i(s,()=>t.emptyMessage||"No items to display"),F(()=>ye(s,`flex items-center justify-center h-full text-gray-500 dark:text-gray-400 ${t.class||""}`)),s})()},get children(){return C(ux,{get height(){return t.height},get onScroll(){return e.handleScroll},get totalHeight(){return e.totalHeight()},get class(){return t.class},get children(){return C(Te,{get each(){return e.visibleItems()},children:({item:s,index:n,offset:a})=>(()=>{var l=Qr();return l.style.setProperty("position","absolute"),`${a}px`!=null?l.style.setProperty("top",`${a}px`):l.style.removeProperty("top"),l.style.setProperty("left","0"),l.style.setProperty("right","0"),i(l,()=>t.renderItem(s,n)),F(o=>(o=`${t.itemHeight}px`)!=null?l.style.setProperty("height",o):l.style.removeProperty("height")),l})()})}})}})}function hx(t){return C(fx,t)}var px=L('<div><div class="col-span-1 flex items-center"><input type=checkbox class="w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-2"></div><div class="col-span-4 flex items-center"><div class="flex items-center gap-3"><div class="w-8 h-8 bg-gray-100 dark:bg-gray-700 rounded-lg flex items-center justify-center flex-shrink-0"><svg class="w-4 h-4 text-gray-500 dark:text-gray-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path></svg></div><div class="min-w-0 flex-1"><p class="text-sm font-medium text-gray-900 dark:text-gray-100 truncate"></p><p class="text-xs text-gray-500 dark:text-gray-400 truncate"></p></div></div></div><div class="col-span-2 flex items-center"><div class=relative><input type=number min=1 class="w-20 px-3 py-1.5 text-sm border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"></div></div><div class="col-span-3 flex items-center"><div class="flex items-center gap-2"><div class="px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded text-xs font-mono text-gray-600 dark:text-gray-300"></div><span class="text-xs text-gray-500 dark:text-gray-400">mm</span></div></div><div class="col-span-2 flex items-center justify-center"><div class="flex items-center gap-1"><input type=number min=0 max=360 step=90 class="w-16 px-2 py-1.5 text-sm text-center border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"><span class="text-xs text-gray-500 dark:text-gray-400">Â°'),mx=L('<div class="mt-2 text-xs text-gray-500 dark:text-gray-400">Showing <!> parts with virtual scrolling for performance'),bx=L('<div class="h-full flex flex-col bg-white dark:bg-gray-900"><div class="p-4 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700"><div class="flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between"><div class="relative flex-1 max-w-md"><div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"><svg class="w-4 h-4 text-gray-400 dark:text-gray-500"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></div><input type=text class="block w-full pl-10 pr-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 transition-colors duration-200"></div><div class="flex items-center gap-3"><span class="text-sm font-medium text-gray-700 dark:text-gray-300">:</span><select class="px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"><option value=name></option><option value=quantity></option><option value=size></option></select><button class="p-2 text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors duration-200"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"></svg></button></div></div></div><div class="sticky top-0 bg-gray-50 dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 z-10"><div class="grid grid-cols-12 gap-4 px-4 py-3 text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider"><div class="col-span-1 flex items-center"><span class="text-xs text-gray-500 dark:text-gray-400"></span></div><button><span></span></button><button><span></span></button><button><span></span></button><div class="col-span-2 text-center"></div></div></div><div class="flex-1 bg-white dark:bg-gray-900">'),Bt=L('<svg><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M5 15l7-7 7 7"></svg>',!1,!0,!1),Ht=L('<svg><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 9l-7 7-7-7"></svg>',!1,!0,!1),hr=L('<svg class="w-3 h-3"fill=none stroke=currentColor viewBox="0 0 24 24">');const xx=t=>{const[e]=Ce("parts"),[r]=Ce("common"),[s,n]=J(""),[a,l]=J("name"),[o,c]=J("asc"),[d,u]=J(t.height||600),g=ys(),[x,m]=J(),_=oe(()=>{let h=w.app.parts;if(s()){const f=s().toLowerCase();h=h.filter($=>$.name.toLowerCase().includes(f)||$.source.toLowerCase().includes(f))}return h=[...h].sort((f,$)=>{let v,p;switch(a()){case"name":v=f.name,p=$.name;break;case"quantity":v=f.quantity,p=$.quantity;break;case"size":v=f.bounds.width*f.bounds.height,p=$.bounds.width*$.bounds.height;break;default:v=f.name,p=$.name}return typeof v=="string"&&typeof p=="string"?o()==="asc"?v.localeCompare(p):p.localeCompare(v):o()==="asc"?v-p:p-v}),h});let b;or(()=>{if(b){const h=new ResizeObserver(f=>{for(const $ of f)u($.contentRect.height)});h.observe(b),Xe(()=>{h.disconnect()})}}),qe(()=>{const h=_(),f=h.find($=>t.isSelected?.($.id));if(f){const $=h.indexOf(f);$>=0&&m($)}});const y=(h,f)=>{f<1&&(f=1),O.updatePart(h,{quantity:f})},M=(h,f)=>{O.updatePart(h,{rotation:f})},E=h=>{a()===h?c(o()==="asc"?"desc":"asc"):(l(h),c("asc"))},k=h=>`${h.width.toFixed(1)} Ã— ${h.height.toFixed(1)}`,S=h=>{const f={...h,id:`${h.id}-copy-${Date.now()}`,name:`${h.name} (Copy)`};O.setParts([...w.app.parts,f])},A=h=>{const f=w.app.parts.filter($=>$.id!==h);O.setParts(f)},I=h=>{console.log("Exporting part:",h)},R=g.createContextMenuHandler(h=>{const $=h.currentTarget.dataset.partId,v=w.app.parts.find(D=>D.id===$);if(!v)return[];const p=t.isSelected?.(v.id),P=w.app.parts.filter(D=>t.isSelected?.(D.id)).length;return[g.createMenuItem("duplicate",e("duplicate"),()=>S(v),{icon:"M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z",color:"primary"}),g.createMenuItem("export",r("actions.export"),()=>I(v),{icon:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z",color:"secondary"}),g.createSeparator(),g.createMenuItem("select",r(p?"actions.deselect":"actions.select"),()=>t.onItemClick?.(v.id,h),{icon:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z",color:"primary"}),...P>1?[g.createMenuItem("bulk-actions",`${P} ${e("items_selected")}`,()=>{},{disabled:!0})]:[],g.createSeparator(),g.createMenuItem("delete",r("actions.delete"),()=>A(v.id),{icon:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16",color:"danger"})]}),T=(h,f)=>(()=>{var $=px(),v=$.firstChild,p=v.firstChild,P=v.nextSibling,D=P.firstChild,N=D.firstChild,z=N.nextSibling,V=z.firstChild,K=V.nextSibling,G=P.nextSibling,H=G.firstChild,ee=H.firstChild,ne=G.nextSibling,j=ne.firstChild,B=j.firstChild,Z=ne.nextSibling,q=Z.firstChild,Q=q.firstChild;return Le($,"contextmenu",R,!0),$.$$click=te=>t.onItemClick?.(h.id,te),p.addEventListener("change",()=>{}),p.$$click=te=>{te.stopPropagation();const Y=new MouseEvent("click",{bubbles:!0,cancelable:!0,ctrlKey:!0,metaKey:!0,shiftKey:te.shiftKey,altKey:te.altKey});t.onItemClick?.(h.id,Y)},i(V,()=>h.name),i(K,()=>h.source),ee.addEventListener("change",te=>y(h.id,parseInt(te.currentTarget.value))),i(B,()=>k(h.bounds)),Q.addEventListener("change",te=>M(h.id,parseInt(te.currentTarget.value))),F(te=>{var Y=`grid grid-cols-12 gap-4 px-4 py-4 border-b border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors duration-200 cursor-pointer ${t.isSelected?.(h.id)?"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800":""}`,fe=h.id,U=h.source;return Y!==te.e&&ye($,te.e=Y),fe!==te.t&&re($,"data-part-id",te.t=fe),U!==te.a&&re(V,"title",te.a=U),te},{e:void 0,t:void 0,a:void 0}),F(()=>p.checked=t.isSelected?.(h.id)||!1),F(()=>ee.value=h.quantity),F(()=>Q.value=h.rotation),$})();return(()=>{var h=bx(),f=h.firstChild,$=f.firstChild,v=$.firstChild,p=v.firstChild,P=p.nextSibling,D=v.nextSibling,N=D.firstChild,z=N.firstChild,V=N.nextSibling,K=V.firstChild,G=K.nextSibling,H=G.nextSibling,ee=V.nextSibling,ne=ee.firstChild,j=f.nextSibling,B=j.firstChild,Z=B.firstChild,q=Z.firstChild,Q=Z.nextSibling,te=Q.firstChild,Y=Q.nextSibling,fe=Y.firstChild,U=Y.nextSibling,ie=U.firstChild,le=U.nextSibling,be=j.nextSibling,he=b;return typeof he=="function"?Jt(he,h):b=h,P.$$input=se=>n(se.currentTarget.value),i(N,()=>e("sort_by"),z),V.addEventListener("change",se=>l(se.currentTarget.value)),i(K,()=>e("name")),i(G,()=>e("quantity")),i(H,()=>e("size")),ee.$$click=()=>c(o()==="asc"?"desc":"asc"),i(ne,(()=>{var se=Se(()=>o()==="asc");return()=>se()?Bt():Ht()})()),i(f,C(X,{get when(){return _().length>100},get children(){var se=mx(),ue=se.firstChild,xe=ue.nextSibling;return xe.nextSibling,i(se,()=>_().length,xe),se}}),null),i(q,()=>e("select")),Q.$$click=()=>E("name"),i(te,()=>e("name")),i(Q,(()=>{var se=Se(()=>a()==="name");return()=>se()&&(()=>{var ue=hr();return i(ue,(()=>{var xe=Se(()=>o()==="asc");return()=>xe()?Bt():Ht()})()),ue})()})(),null),Y.$$click=()=>E("quantity"),i(fe,()=>e("quantity")),i(Y,(()=>{var se=Se(()=>a()==="quantity");return()=>se()&&(()=>{var ue=hr();return i(ue,(()=>{var xe=Se(()=>o()==="asc");return()=>xe()?Bt():Ht()})()),ue})()})(),null),U.$$click=()=>E("size"),i(ie,()=>e("size")),i(U,(()=>{var se=Se(()=>a()==="size");return()=>se()&&(()=>{var ue=hr();return i(ue,(()=>{var xe=Se(()=>o()==="asc");return()=>xe()?Bt():Ht()})()),ue})()})(),null),i(le,()=>e("rotation")),i(be,C(hx,{get items(){return _()},itemHeight:80,get height(){return d()-120},overscan:5,renderItem:T,getItemKey:se=>se.id,get emptyMessage(){return e("no_parts_loaded")},get scrollToIndex(){return x()},scrollAlign:"center"})),i(h,C(vs,{get isOpen(){return g.isOpen()},get position(){return g.position()},get items(){return g.menuItems()},get onItemClick(){return g.handleItemClick},get onClose(){return g.closeMenu}}),null),F(se=>{var ue=e("search_parts"),xe=o()==="asc"?"Sort descending":"Sort ascending",de=`col-span-4 flex items-center gap-2 text-left hover:text-gray-700 dark:hover:text-gray-200 transition-colors duration-200 ${a()==="name"?"text-blue-600 dark:text-blue-400":""}`,_e=`col-span-2 flex items-center gap-2 text-left hover:text-gray-700 dark:hover:text-gray-200 transition-colors duration-200 ${a()==="quantity"?"text-blue-600 dark:text-blue-400":""}`,pe=`col-span-3 flex items-center gap-2 text-left hover:text-gray-700 dark:hover:text-gray-200 transition-colors duration-200 ${a()==="size"?"text-blue-600 dark:text-blue-400":""}`;return ue!==se.e&&re(P,"placeholder",se.e=ue),xe!==se.t&&re(ee,"title",se.t=xe),de!==se.a&&ye(Q,se.a=de),_e!==se.o&&ye(Y,se.o=_e),pe!==se.i&&ye(U,se.i=pe),se},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),F(()=>P.value=s()),F(()=>V.value=a()),h})()};Ee(["click","contextmenu","input"]);var _x=L('<div class="flex items-center gap-2 px-3 py-1 bg-blue-50 dark:bg-blue-900/20 rounded-lg"><svg class="w-4 h-4 text-blue-600 dark:text-blue-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg><span class="text-sm text-blue-700 dark:text-blue-300 font-medium"> part<!> selected'),yx=L('<div class="h-full flex flex-col bg-white dark:bg-gray-900"><div class="bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700"><div class="px-6 py-4 flex items-center justify-between"><div class="flex items-center gap-3"><div class="w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center shadow-sm"><svg class="w-5 h-5 text-white"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"></path></svg></div><div><h1 class="text-xl font-semibold text-gray-900 dark:text-gray-100"></h1><p class="text-sm text-gray-500 dark:text-gray-400">Manage your parts and import new ones</p></div></div><div class="flex items-center gap-3"><button class="inline-flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg></button><div class="flex items-center gap-2"><span class="text-sm text-gray-600 dark:text-gray-400"></span></div></div></div></div><div class="bg-gray-50 dark:bg-gray-800/50 px-6 py-4 border-b border-gray-200 dark:border-gray-700"><div class="grid grid-cols-1 md:grid-cols-4 gap-4"><div class="bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border border-gray-200 dark:border-gray-700"><div class="flex items-center gap-3"><div class="w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center"><svg class="w-5 h-5 text-blue-600 dark:text-blue-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path></svg></div><div><p class="text-sm font-medium text-gray-600 dark:text-gray-400"></p><p class="text-2xl font-bold text-gray-900 dark:text-gray-100"></p></div></div></div><div class="bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border border-gray-200 dark:border-gray-700"><div class="flex items-center gap-3"><div class="w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center"><svg class="w-5 h-5 text-green-600 dark:text-green-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M7 12l3-3 3 3 4-4M8 21l4-4 4 4M3 4h18M4 4h16v12a1 1 0 01-1 1H5a1 1 0 01-1-1V4z"></path></svg></div><div><p class="text-sm font-medium text-gray-600 dark:text-gray-400"></p><p class="text-2xl font-bold text-gray-900 dark:text-gray-100"></p></div></div></div><div class="bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border border-gray-200 dark:border-gray-700"><div class="flex items-center gap-3"><div class="w-10 h-10 bg-purple-100 dark:bg-purple-900/30 rounded-lg flex items-center justify-center"><svg class="w-5 h-5 text-purple-600 dark:text-purple-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><div><p class="text-sm font-medium text-gray-600 dark:text-gray-400">Selected</p><p class="text-2xl font-bold text-gray-900 dark:text-gray-100"></p></div></div></div><div class="bg-white dark:bg-gray-800 rounded-lg p-4 shadow-sm border border-gray-200 dark:border-gray-700"><div class="flex items-center gap-3"><div class="w-10 h-10 bg-orange-100 dark:bg-orange-900/30 rounded-lg flex items-center justify-center"><svg class="w-5 h-5 text-orange-600 dark:text-orange-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"></path></svg></div><div><p class="text-sm font-medium text-gray-600 dark:text-gray-400">Total Area</p><p class="text-2xl font-bold text-gray-900 dark:text-gray-100"></p></div></div></div></div></div><div class="bg-white dark:bg-gray-800 px-6 py-3 border-b border-gray-200 dark:border-gray-700"><div class="flex items-center justify-between"><div class="flex items-center gap-4"><span class="text-sm text-gray-600 dark:text-gray-400">Bulk Actions:</span><div class="flex items-center gap-2"><button class="text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed"></button><span class="text-gray-300 dark:text-gray-600">â€¢</span><button class="text-sm text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 font-medium transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed"></button></div><div class="text-xs text-gray-500 dark:text-gray-400 italic">Tip: Hold Ctrl/Cmd for multi-select, Shift for range select</div></div></div></div><div class="flex-1 overflow-hidden bg-gray-50 dark:bg-gray-900">'),vx=L('<div class="h-full flex flex-col items-center justify-center text-center gap-6 p-8"><div class="w-24 h-24 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center"><svg class="w-12 h-12 text-gray-400 dark:text-gray-600"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=1.5 d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path></svg></div><div class="max-w-sm space-y-3"><h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100"></h3><p class="text-gray-600 dark:text-gray-400 leading-relaxed"></p></div><div class="flex flex-col sm:flex-row gap-3"><button class="inline-flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg shadow-sm transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-900"><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg></button><button class="inline-flex items-center gap-2 px-6 py-3 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 font-medium rounded-lg border border-gray-300 dark:border-gray-600 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-900"><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>Learn More</button></div><div class="text-xs text-gray-500 dark:text-gray-600 max-w-md"><p>Supported formats: SVG, DXF â€¢ Drag and drop files here');const $x=()=>{const[t]=Ce("parts"),[e]=Ce("common"),r=oe(()=>w.app.parts.length),s=oe(()=>w.app.parts.reduce((u,g)=>u+g.quantity,0)),n=oe(()=>w.app.parts.reduce((u,g)=>u+(g.area||0),0)),a=Ub(()=>w.app.parts,{enableMultiSelect:!0,enableKeyboardShortcuts:!0,enableRangeSelect:!0}),l=async()=>{if(!ae.isAvailable){console.warn("IPC not available");return}try{const u=await ae.openFileDialog({title:t("import_parts"),filters:[{name:"Vector Files",extensions:["svg","dxf"]},{name:"SVG Files",extensions:["svg"]},{name:"DXF Files",extensions:["dxf"]},{name:"All Files",extensions:["*"]}],properties:["openFile","multiSelections"]});if(u.canceled||!u.filePaths?.length)return;const g=await ae.importParts(u.filePaths);O.setParts([...w.app.parts,...g])}catch(u){console.error("Failed to import parts:",u),O.setError(t("import_failed"))}},o=async()=>{const u=a.selectedItems();if(u.length===0){O.setError(t("no_parts_selected"));return}try{const g=await ae.saveFileDialog();if(g.canceled||!g.filePath)return;console.log("Exporting parts:",u)}catch(g){console.error("Failed to export parts:",g),O.setError(t("export_failed"))}},c=()=>{const u=a.selectedIds();if(u.size===0){O.setError(t("no_parts_selected"));return}const g=w.app.parts.filter(x=>!u.has(x.id));O.setParts(g),a.deselectAll()},d=()=>{const u=a.selectedItems();if(u.length===0)return;const g=u.map(x=>({...x,id:`${x.id}-copy-${Date.now()}`,name:`${x.name} (Copy)`}));O.setParts([...w.app.parts,...g]),a.deselectAll(),g.forEach(x=>a.selectItem(x.id))};return(()=>{var u=yx(),g=u.firstChild,x=g.firstChild,m=x.firstChild,_=m.firstChild,b=_.nextSibling,y=b.firstChild,M=m.nextSibling,E=M.firstChild;E.firstChild;var k=E.nextSibling,S=k.firstChild,A=g.nextSibling,I=A.firstChild,R=I.firstChild,T=R.firstChild,h=T.firstChild,f=h.nextSibling,$=f.firstChild,v=$.nextSibling,p=R.nextSibling,P=p.firstChild,D=P.firstChild,N=D.nextSibling,z=N.firstChild,V=z.nextSibling,K=p.nextSibling,G=K.firstChild,H=G.firstChild,ee=H.nextSibling,ne=ee.firstChild,j=ne.nextSibling,B=K.nextSibling,Z=B.firstChild,q=Z.firstChild,Q=q.nextSibling,te=Q.firstChild,Y=te.nextSibling,fe=A.nextSibling,U=fe.firstChild,ie=U.firstChild,le=ie.firstChild,be=le.nextSibling,he=be.firstChild,se=he.nextSibling,ue=se.nextSibling,xe=fe.nextSibling;return i(y,()=>t("parts_title")),E.$$click=l,i(E,()=>t("import"),null),i(S,()=>t("parts_count",{count:r()})),i(u,C(ex,{get selectedCount(){return a.selectedCount()},get totalCount(){return r()},get isAllSelected(){return a.isAllSelected()},get isNoneSelected(){return a.isNoneSelected()},get isPartiallySelected(){return a.isPartiallySelected()},get onSelectAll(){return a.selectAll},get onDeselectAll(){return a.deselectAll},get onInvertSelection(){return a.invertSelection},onDeleteSelected:c,onDuplicateSelected:d,onExportSelected:o}),A),i($,()=>t("total_parts")),i(v,r),i(z,()=>t("total_quantity")),i(V,s),i(j,()=>a.selectedCount()),i(Y,()=>Math.round(n())),Le(he,"click",a.selectAll,!0),i(he,()=>t("select_all")),Le(ue,"click",a.deselectAll,!0),i(ue,()=>t("deselect_all")),i(U,C(X,{get when(){return a.selectedCount()>0},get children(){var de=_x(),_e=de.firstChild,pe=_e.nextSibling,ke=pe.firstChild,we=ke.nextSibling;return we.nextSibling,i(pe,()=>a.selectedCount(),ke),i(pe,()=>a.selectedCount()===1?"":"s",we),de}}),null),i(xe,C(X,{get when(){return r()>0},get fallback(){return(()=>{var de=vx(),_e=de.firstChild,pe=_e.nextSibling,ke=pe.firstChild,we=ke.nextSibling,Ae=pe.nextSibling,ve=Ae.firstChild;return ve.firstChild,i(ke,()=>t("no_parts_loaded")),i(we,()=>t("import_parts_to_get_started")),ve.$$click=l,i(ve,()=>t("import_parts"),null),de})()},get children(){return C(X,{get when(){return r()>50},get fallback(){return C(cx,{get onItemClick(){return a.handleItemClick},get isSelected(){return a.isSelected}})},get children(){return C(xx,{get onItemClick(){return a.handleItemClick},get isSelected(){return a.isSelected}})}})}})),F(de=>{var _e=t("import_parts"),pe=r()===0,ke=r()===0;return _e!==de.e&&re(E,"title",de.e=_e),pe!==de.t&&(he.disabled=de.t=pe),ke!==de.a&&(ue.disabled=de.a=ke),de},{e:void 0,t:void 0,a:void 0}),u})()};Ee(["click"]);class kx{progressCleanup=null;statusCleanup=null;completeCleanup=null;errorCleanup=null;constructor(){this.initializeEventListeners()}initializeEventListeners(){this.progressCleanup=ae.onNestProgress(e=>{O.setNestingProgress(e)}),this.statusCleanup=ae.onNestStatus(e=>{O.setNestingStatus(e.isRunning),O.setWorkerStatus({isRunning:e.isRunning,currentOperation:e.operation})}),this.completeCleanup=ae.onNestComplete(e=>{if(O.setNests(e),e.length>0){const r=e.reduce((s,n)=>n.fitness<s.fitness?n:s);O.setCurrentNest(r)}}),this.errorCleanup=ae.onNestError(e=>{O.setError(e)})}async startNesting(){try{O.setError(null);const e=w.config;if(!this.validateConfig(e))throw new Error("Invalid configuration");if(w.app.parts.length===0)throw new Error("No parts loaded. Please import parts before starting nesting.");if(w.app.sheets.length===0)throw new Error("No sheets configured. Please configure sheets before starting nesting.");await ae.startNesting(e)}catch(e){const r=e instanceof Error?e.message:"Unknown error occurred";throw O.setError(r),O.setNestingStatus(!1),e}}async stopNesting(){try{await ae.stopNesting(),O.setNestingStatus(!1),O.setNestingProgress(0),O.setError(null)}catch(e){const r=e instanceof Error?e.message:"Failed to stop nesting";throw O.setError(r),e}}stopBackgroundWorker(){ae.stopBackgroundWorker(),O.setNestingStatus(!1),O.setNestingProgress(0),O.setWorkerStatus({isRunning:!1,currentOperation:"Stopped"})}validateConfig(e){return!(!e||e.spacing<0||e.rotations<1||e.populationSize<1||e.mutationRate<0||e.mutationRate>100||e.threads<1||!e.units||!e.placementType)}get isNesting(){return w.process.isNesting}get progress(){return w.process.progress}get workerStatus(){return w.process.workerStatus}get results(){return w.app.nests}get lastError(){return w.process.lastError}onBackgroundProgress(e){return ae.onBackgroundProgress(e)}onBackgroundResponse(e){return ae.onBackgroundResponse(e)}cleanup(){this.progressCleanup?.(),this.statusCleanup?.(),this.completeCleanup?.(),this.errorCleanup?.(),this.progressCleanup=null,this.statusCleanup=null,this.completeCleanup=null,this.errorCleanup=null}}const ir=new kx;var wx=L('<div class="text-sm text-gray-600 dark:text-gray-400 text-center">: '),Sx=L('<div class="bg-gray-50 dark:bg-gray-700 p-3 rounded"><span class="text-sm font-medium text-gray-700 dark:text-gray-300">:</span><span class="ml-2 text-sm text-gray-900 dark:text-gray-100">'),Cx=L('<div class="grid grid-cols-2 gap-4 pt-4 border-t border-gray-200 dark:border-gray-600"><div class="flex justify-between"><span class="text-sm text-gray-600 dark:text-gray-400">:</span><span class="text-sm font-medium text-gray-900 dark:text-gray-100"></span></div><div class="flex justify-between"><span class="text-sm text-gray-600 dark:text-gray-400">:</span><span class="text-sm font-medium text-gray-900 dark:text-gray-100">'),Px=L('<div class="p-6 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 m-4"><div class="flex items-center justify-between mb-4"><h3 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h3><div class="text-2xl font-bold text-blue-600 dark:text-blue-400">%</div></div><div class=mb-6><div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3 mb-2 overflow-hidden"><div class="h-full bg-blue-500 dark:bg-blue-400 rounded-full transition-all duration-300 ease-out"></div></div></div><div class=space-y-4><div class="grid grid-cols-2 gap-4"><div class="flex justify-between"><span class="text-sm text-gray-600 dark:text-gray-400">:</span><span class="text-sm font-medium text-gray-900 dark:text-gray-100"></span></div><div class="flex justify-between"><span class="text-sm text-gray-600 dark:text-gray-400">:</span><span></span></div></div></div><div class="flex justify-center pt-4 border-t border-gray-200 dark:border-gray-600"><button class="text-blue-600 dark:text-blue-400 hover:underline text-sm">');const Lx=()=>{const[t]=Ce("nesting"),e=oe(()=>Math.max(0,Math.min(100,w.process.progress))),r=oe(()=>{const s=e();if(s===0)return null;const a=6e4*(100-s)/s;return a<6e4?`${Math.round(a/1e3)}s`:`${Math.round(a/6e4)}m`});return(()=>{var s=Px(),n=s.firstChild,a=n.firstChild,l=a.nextSibling,o=l.firstChild,c=n.nextSibling,d=c.firstChild,u=d.firstChild,g=c.nextSibling,x=g.firstChild,m=x.firstChild,_=m.firstChild,b=_.firstChild,y=_.nextSibling,M=m.nextSibling,E=M.firstChild,k=E.firstChild,S=E.nextSibling,A=g.nextSibling,I=A.firstChild;return i(a,()=>t("nesting_in_progress")),i(l,()=>e().toFixed(1),o),i(c,C(X,{get when(){return r()},get children(){var R=wx(),T=R.firstChild;return i(R,()=>t("estimated_time_remaining"),T),i(R,r,null),R}}),null),i(g,C(X,{get when(){return w.process.workerStatus.currentOperation},get children(){var R=Sx(),T=R.firstChild,h=T.firstChild,f=T.nextSibling;return i(T,()=>t("current_operation"),h),i(f,()=>w.process.workerStatus.currentOperation),R}}),x),i(_,()=>t("threads_active"),b),i(y,()=>w.process.workerStatus.threadsActive),i(E,()=>t("worker_status"),k),i(S,(()=>{var R=Se(()=>!!w.process.workerStatus.isRunning);return()=>R()?t("running"):t("stopped")})()),i(g,C(X,{get when(){return w.process.currentNest},get children(){var R=Cx(),T=R.firstChild,h=T.firstChild,f=h.firstChild,$=h.nextSibling,v=T.nextSibling,p=v.firstChild,P=p.firstChild,D=p.nextSibling;return i(h,()=>t("current_generation"),f),i($,()=>w.process.currentNest?.generation||0),i(p,()=>t("best_fitness"),P),i(D,()=>w.process.currentNest?.fitness?.toFixed(2)||"N/A"),R}}),null),I.$$click=()=>window.location.reload(),i(I,()=>t("refresh_status")),F(R=>{var T=`${e()}%`,h=`text-sm font-medium ${w.process.workerStatus.isRunning?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`;return T!==R.e&&((R.e=T)!=null?u.style.setProperty("width",T):u.style.removeProperty("width")),h!==R.t&&ye(S,R.t=h),R},{e:void 0,t:void 0}),s})()};Ee(["click"]);class Mx{isConnectedSignal=J(!1);lastHeartbeatSignal=J(Date.now());reconnectAttemptsSignal=J(0);connectionErrorSignal=J(null);get isConnected(){return this.isConnectedSignal[0]}get setIsConnected(){return this.isConnectedSignal[1]}get lastHeartbeat(){return this.lastHeartbeatSignal[0]}get setLastHeartbeat(){return this.lastHeartbeatSignal[1]}get reconnectAttempts(){return this.reconnectAttemptsSignal[0]}get setReconnectAttempts(){return this.reconnectAttemptsSignal[1]}get connectionError(){return this.connectionErrorSignal[0]}get setConnectionError(){return this.connectionErrorSignal[1]}heartbeatInterval=null;reconnectTimeout=null;maxReconnectAttempts=5;heartbeatInterval_ms=5e3;reconnectDelay_ms=2e3;constructor(){this.initializeConnection()}initializeConnection(){this.checkConnection(),this.startHeartbeat(),this.setupEventListeners()}async checkConnection(){try{if(ae.isAvailable)await ae.readConfig(),this.setConnectionStatus(!0),this.setReconnectAttempts(0),this.setConnectionError(null);else throw new Error("IPC not available")}catch(e){const r=e instanceof Error?e.message:"Connection failed";this.setConnectionStatus(!1),this.setConnectionError(r),this.reconnectAttempts()<this.maxReconnectAttempts&&this.scheduleReconnect()}}setConnectionStatus(e){this.setIsConnected(e),this.setLastHeartbeat(Date.now()),O.setWorkerStatus({isRunning:e&&w.process.isNesting,currentOperation:e?"Connected":"Disconnected"})}startHeartbeat(){this.heartbeatInterval&&clearInterval(this.heartbeatInterval),this.heartbeatInterval=setInterval(()=>{this.checkConnection()},this.heartbeatInterval_ms)}stopHeartbeat(){this.heartbeatInterval&&(clearInterval(this.heartbeatInterval),this.heartbeatInterval=null)}scheduleReconnect(){this.reconnectTimeout&&clearTimeout(this.reconnectTimeout);const e=this.reconnectAttempts();this.setReconnectAttempts(e+1);const r=Math.min(this.reconnectDelay_ms*Math.pow(2,e),3e4);this.reconnectTimeout=setTimeout(()=>{this.checkConnection()},r)}setupEventListeners(){ae.onNestError(e=>{(e.includes("IPC")||e.includes("connection")||e.includes("timeout"))&&(this.setConnectionError(e),this.setConnectionStatus(!1))}),qe(()=>{const e=this.isConnected(),r=this.connectionError();!e&&r?O.setError(`Connection lost: ${r}`):e&&w.process.lastError?.includes("Connection lost")&&O.setError(null)})}async forceReconnect(){this.setReconnectAttempts(0),this.setConnectionError(null),await this.checkConnection()}get connected(){return this.isConnected()}get error(){return this.connectionError()}get reconnectionAttempts(){return this.reconnectAttempts()}get lastHeartbeatTime(){return this.lastHeartbeat()}get isHealthy(){const e=Date.now(),r=this.lastHeartbeat(),s=e-r;return this.isConnected()&&s<this.heartbeatInterval_ms*2}get status(){return{connected:this.connected,healthy:this.isHealthy,error:this.error,reconnectAttempts:this.reconnectionAttempts,lastHeartbeat:this.lastHeartbeatTime}}cleanup(){this.stopHeartbeat(),this.reconnectTimeout&&(clearTimeout(this.reconnectTimeout),this.reconnectTimeout=null)}}const Ct=new Mx;var Ax=L('<div class="text-sm text-gray-600 dark:text-gray-400">'),Ex=L('<div class="p-4 border-b border-gray-200 dark:border-gray-700"><h4 class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"></h4><div class="grid grid-cols-2 gap-4"><div><span class="text-xs text-gray-500 dark:text-gray-400"></span><div class="font-mono text-sm text-gray-900 dark:text-gray-100"></div></div><div><span class="text-xs text-gray-500 dark:text-gray-400"></span><div class="font-mono text-sm text-gray-900 dark:text-gray-100">%'),Ix=L('<div class="space-y-2 max-h-64 overflow-y-auto">'),Nx=L('<div class=p-4><h4 class="text-sm font-medium text-gray-700 dark:text-gray-300 mb-3"> (<!>)'),Rx=L('<span class="text-xs text-red-600 dark:text-red-400">(<!>)'),Tx=L('<div class="p-4 bg-red-50 dark:bg-red-900/20 border-t border-red-200 dark:border-red-700"><div class="flex items-center space-x-2"><div class="w-2 h-2 rounded-full bg-red-500"></div><span class="text-sm text-red-700 dark:text-red-300">'),Dx=L('<div class="p-4 bg-red-50 dark:bg-red-900/20 border-t border-red-200 dark:border-red-700"><div class="flex items-start space-x-2"><div class="w-2 h-2 rounded-full bg-red-500 mt-1"></div><div><div class="text-sm font-medium text-red-700 dark:text-red-300"></div><div class="text-xs text-red-600 dark:text-red-400 mt-1">'),Ox=L('<div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 m-4"><div class="flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700"><div class="flex items-center space-x-3"><h3 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h3><div></div></div><div class="flex items-center space-x-2"><span class="text-sm text-gray-500 dark:text-gray-400">: </span><button class="text-blue-600 dark:text-blue-400 hover:underline text-sm"></button></div></div><div class="p-4 border-b border-gray-200 dark:border-gray-700"><div class="flex items-center justify-between mb-2"><span class="text-sm font-medium text-gray-700 dark:text-gray-300"></span><span class="text-sm font-bold text-blue-600 dark:text-blue-400">%</span></div><div class="w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2 mb-2"><div class="h-full bg-blue-500 dark:bg-blue-400 rounded-full transition-all duration-300">'),Fx=L('<div class="text-sm text-gray-500 dark:text-gray-400 text-center py-4">'),jx=L('<div class="flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded"><div class="flex items-center space-x-3"><div class="w-2 h-2 rounded-full bg-blue-500"></div><span class="text-sm font-medium text-gray-700 dark:text-gray-300">#</span></div><div class="flex items-center space-x-4"><div class=text-right><div class="text-xs text-gray-500 dark:text-gray-400"></div><div class="font-mono text-sm text-gray-900 dark:text-gray-100"></div></div><div class=text-right><div class="text-xs text-gray-500 dark:text-gray-400"></div><div class="font-mono text-sm text-gray-900 dark:text-gray-100">%</div></div><div class=text-right><div class="text-xs text-gray-500 dark:text-gray-400"></div><div class="font-mono text-sm text-gray-900 dark:text-gray-100">');const zx=()=>{const[t]=Ce("nesting"),[e,r]=J([]),[s,n]=J(Date.now()),[a,l]=J(!1),o=ir.onBackgroundProgress(m=>{n(Date.now()),console.log("Background progress:",m)}),c=ir.onBackgroundResponse(m=>{r(_=>[m,..._].slice(0,10)),n(Date.now())});Xe(()=>{o?.(),c?.()});const d=()=>{const m=Date.now(),_=s(),b=m-_;return b<1e3?t("just_now"):b<6e4?t("seconds_ago",{count:Math.floor(b/1e3)}):b<36e5?t("minutes_ago",{count:Math.floor(b/6e4)}):t("hours_ago",{count:Math.floor(b/36e5)})},u=()=>{const m=Ct.status;return m.connected?m.healthy?"text-green-500":"text-yellow-500":"text-red-500"},g=m=>m.toFixed(4),x=m=>(m*100).toFixed(1);return(()=>{var m=Ox(),_=m.firstChild,b=_.firstChild,y=b.firstChild,M=y.nextSibling,E=b.nextSibling,k=E.firstChild,S=k.firstChild,A=k.nextSibling,I=_.nextSibling,R=I.firstChild,T=R.firstChild,h=T.nextSibling,f=h.firstChild,$=R.nextSibling,v=$.firstChild;return i(y,()=>t("live_results")),i(k,()=>t("last_update"),S),i(k,d,null),A.$$click=()=>l(!a()),i(A,(()=>{var p=Se(()=>!!a());return()=>p()?t("collapse"):t("expand")})()),i(T,()=>t("current_progress")),i(h,()=>(w.process.progress*100).toFixed(1),f),i(I,C(X,{get when(){return w.process.workerStatus.currentOperation},get children(){var p=Ax();return i(p,()=>w.process.workerStatus.currentOperation),p}}),null),i(m,C(X,{get when(){return w.process.currentNest},get children(){var p=Ex(),P=p.firstChild,D=P.nextSibling,N=D.firstChild,z=N.firstChild,V=z.nextSibling,K=N.nextSibling,G=K.firstChild,H=G.nextSibling,ee=H.firstChild;return i(P,()=>t("best_result")),i(z,()=>t("fitness")),i(V,()=>g(w.process.currentNest.fitness)),i(G,()=>t("utilization")),i(H,()=>x(w.process.currentNest.utilisation),ee),p}}),null),i(m,C(X,{get when(){return a()},get children(){var p=Nx(),P=p.firstChild,D=P.firstChild,N=D.nextSibling;return N.nextSibling,i(P,()=>t("intermediate_results"),D),i(P,()=>e().length,N),i(p,C(X,{get when(){return e().length>0},get fallback(){return(()=>{var z=Fx();return i(z,()=>t("no_intermediate_results")),z})()},get children(){var z=Ix();return i(z,C(Te,{get each(){return e()},children:(V,K)=>(()=>{var G=jx(),H=G.firstChild,ee=H.firstChild,ne=ee.nextSibling;ne.firstChild;var j=H.nextSibling,B=j.firstChild,Z=B.firstChild,q=Z.nextSibling,Q=B.nextSibling,te=Q.firstChild,Y=te.nextSibling,fe=Y.firstChild,U=Q.nextSibling,ie=U.firstChild,le=ie.nextSibling;return i(ne,()=>V.index,null),i(Z,()=>t("fitness")),i(q,()=>g(V.fitness)),i(te,()=>t("utilization")),i(Y,()=>x(V.utilisation),fe),i(ie,()=>t("sheets")),i(le,()=>V.placements.length),G})()})),z}}),null),p}}),null),i(m,C(X,{get when(){return!Ct.status.connected},get children(){var p=Tx(),P=p.firstChild,D=P.firstChild,N=D.nextSibling;return i(N,()=>t("connection_lost")),i(P,C(X,{get when(){return Ct.status.reconnectAttempts>0},get children(){var z=Rx(),V=z.firstChild,K=V.nextSibling;return K.nextSibling,i(z,()=>t("reconnect_attempts",{count:Ct.status.reconnectAttempts}),K),z}}),null),p}}),null),i(m,C(X,{get when(){return w.process.lastError},get children(){var p=Dx(),P=p.firstChild,D=P.firstChild,N=D.nextSibling,z=N.firstChild,V=z.nextSibling;return i(z,()=>t("error_occurred")),i(V,()=>w.process.lastError),p}}),null),F(p=>{var P=`w-2 h-2 rounded-full ${u()}`,D=Ct.status.connected?t("connected"):t("disconnected"),N=`${w.process.progress*100}%`;return P!==p.e&&ye(M,p.e=P),D!==p.t&&re(M,"title",p.t=D),N!==p.a&&((p.a=N)!=null?v.style.setProperty("width",N):v.style.removeProperty("width")),p},{e:void 0,t:void 0,a:void 0}),m})()};Ee(["click"]);const Vx={initialZoom:1,initialPan:{x:0,y:0},bounds:{minZoom:.1,maxZoom:10},zoomStep:1.2,enableKeyboardShortcuts:!0,enableWheelZoom:!0,enablePan:!0},Bx=(t={})=>{const e={...Vx,...t},[r,s]=J(e.initialZoom),[n,a]=J(e.initialPan),[l,o]=J(!1),[c,d]=J({x:0,y:0}),[u,g]=J({x:0,y:0}),x=oe(()=>{const p=r(),P=n();return`translate(${P.x}, ${P.y}) scale(${p})`}),m=oe(()=>({zoom:r(),pan:n(),isDragging:l()})),_=p=>Math.max(e.bounds.minZoom,Math.min(e.bounds.maxZoom,p)),b=p=>{if(!e.bounds.panBounds)return p;const P=e.bounds.panBounds;return{x:Math.max(P.minX,Math.min(P.maxX,p.x)),y:Math.max(P.minY,Math.min(P.maxY,p.y))}},y=(p=e.zoomStep)=>{s(P=>_(P*p))},M=(p=e.zoomStep)=>{s(P=>_(P/p))},E=p=>{s(_(p))},k=p=>{const N=800/p.width,z=600/p.height,V=Math.min(N,z)*.9;if(s(_(V)),p.x!==void 0&&p.y!==void 0){const K=400-(p.x+p.width/2)*V,G=600/2-(p.y+p.height/2)*V;a(b({x:K,y:G}))}},S=p=>{a(b(p))},A=p=>{const P=n();S({x:P.x+p.x,y:P.y+p.y})},I=()=>{a({x:0,y:0})},R=()=>{s(e.initialZoom),a(e.initialPan),o(!1)},T=p=>{if(!e.enablePan)return;p.preventDefault(),o(!0);const P=n();d({x:p.clientX,y:p.clientY}),g(P)},h=p=>{if(!l()||!e.enablePan)return;p.preventDefault();const P=c(),D=u(),N={x:D.x+(p.clientX-P.x),y:D.y+(p.clientY-P.y)};a(b(N))},f=p=>{l()&&(p.preventDefault(),o(!1))},$=p=>{if(!e.enableWheelZoom)return;p.preventDefault();const D=p.deltaY>0?1/e.zoomStep:e.zoomStep,N=p.target.getBoundingClientRect(),z=p.clientX-N.left,V=p.clientY-N.top,K=r(),G=n(),H=_(K*D);if(H!==K){const ee=H/K,ne={x:z-(z-G.x)*ee,y:V-(V-G.y)*ee};s(H),a(b(ne))}},v=p=>{if(e.enableKeyboardShortcuts&&!(p.ctrlKey||p.metaKey||p.altKey))switch(p.key){case"+":case"=":p.preventDefault(),y();break;case"-":p.preventDefault(),M();break;case"0":p.preventDefault(),R();break;case"ArrowUp":p.preventDefault(),A({x:0,y:50});break;case"ArrowDown":p.preventDefault(),A({x:0,y:-50});break;case"ArrowLeft":p.preventDefault(),A({x:50,y:0});break;case"ArrowRight":p.preventDefault(),A({x:-50,y:0});break}};return e.enableKeyboardShortcuts&&(document.addEventListener("keydown",v),Xe(()=>{document.removeEventListener("keydown",v)})),{zoom:r,pan:n,isDragging:l,transform:x,viewportState:m,zoomIn:y,zoomOut:M,zoomTo:E,zoomToFit:k,panTo:S,panBy:A,centerView:I,resetView:R,handleMouseDown:T,handleMouseMove:h,handleMouseUp:f,handleWheel:$,cursor:oe(()=>l()?"grabbing":"grab")}};var Hx=L('<div class="flex items-center justify-center gap-2 p-2 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700"><div class="flex items-center gap-1 px-2 py-1 bg-gray-50 dark:bg-gray-700 rounded-md"><button class="p-1 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600 rounded transition-colors"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM13 10H7"></path></svg></button><span class="text-sm font-mono text-gray-700 dark:text-gray-300 min-w-12 text-center">%</span><button class="p-1 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600 rounded transition-colors"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0zM10 7v6m3-3H7"></path></svg></button></div><button class="p-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600 rounded transition-colors"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8"></path></svg></button><button class="p-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600 rounded transition-colors"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg></button><div class="flex items-center gap-2 px-2 py-1 bg-gray-50 dark:bg-gray-700 rounded-md ml-2"><span class="text-xs text-gray-500 dark:text-gray-400">Pan:</span><span class="text-xs font-mono text-gray-700 dark:text-gray-300"></span></div><div class="flex items-center gap-1 px-2 py-1 bg-gray-50 dark:bg-gray-700 rounded-md ml-2"><span class="text-xs text-gray-500 dark:text-gray-400">: +/- <!>, â†‘â†“â†â†’ <!>, 0 '),Ux=L('<button class="p-2 text-gray-600 dark:text-gray-400 hover:text-gray-800 dark:hover:text-gray-200 hover:bg-gray-100 dark:hover:bg-gray-600 rounded transition-colors"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4">');const Kx=t=>{const[e]=Ce("common"),r=oe(()=>Math.round(t.viewportState.zoom*100)),s=oe(()=>{const n=t.viewportState.pan;return`${Math.round(n.x)}, ${Math.round(n.y)}`});return(()=>{var n=Hx(),a=n.firstChild,l=a.firstChild,o=l.nextSibling,c=o.firstChild,d=o.nextSibling,u=a.nextSibling,g=u.nextSibling,x=g.nextSibling,m=x.firstChild,_=m.nextSibling,b=x.nextSibling,y=b.firstChild,M=y.firstChild,E=M.nextSibling,k=E.nextSibling,S=k.nextSibling;return S.nextSibling,Le(l,"click",t.onZoomOut,!0),i(o,r,c),Le(d,"click",t.onZoomIn,!0),i(n,(()=>{var A=Se(()=>!!t.showFitToContent);return()=>A()&&(()=>{var I=Ux();return Le(I,"click",t.onZoomToFit,!0),F(()=>re(I,"title",e("fit_to_content"))),I})()})(),u),Le(u,"click",t.onCenterView,!0),Le(g,"click",t.onResetView,!0),i(_,s),i(y,()=>e("shortcuts"),M),i(y,()=>e("zoom"),E),i(y,()=>e("pan"),S),i(y,()=>e("reset"),null),F(A=>{var I=e("zoom_out"),R=e("zoom_in"),T=e("center_view"),h=e("reset_view");return I!==A.e&&re(l,"title",A.e=I),R!==A.t&&re(d,"title",A.t=R),T!==A.a&&re(u,"title",A.a=T),h!==A.o&&re(g,"title",A.o=h),A},{e:void 0,t:void 0,a:void 0,o:void 0}),n})()};Ee(["click"]);var Wx=L('<div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100">ms'),qx=L('<div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100">'),Gx=L('<div class="h-full flex flex-col"><div class="flex-1 flex"><div class="flex-1 bg-white dark:bg-gray-900"><svg class="w-full h-96 border border-gray-200 dark:border-gray-700 rounded-lg bg-gray-50 dark:bg-gray-800"width=100% height=400 viewBox="0 0 800 400"><g><defs><pattern id=grid width=20 height=20 patternUnits=userSpaceOnUse><path d="M 20 0 L 0 0 0 20"fill=none stroke=#e0e0e0 stroke-width=1></path></pattern></defs><rect width=800 height=400 fill=url(#grid)></rect></g></svg></div><div class="w-80 bg-white dark:bg-gray-800 border-l border-gray-200 dark:border-gray-700 overflow-y-auto"><div class=p-4><h4 class="text-lg font-medium text-gray-900 dark:text-gray-100 mb-4"></h4><div class="grid grid-cols-2 gap-3 mb-6"><div class="bg-gray-50 dark:bg-gray-700 p-3 rounded text-center"><div class="text-2xl font-bold text-green-600 dark:text-green-400"></div><div class="text-xs text-gray-600 dark:text-gray-400 mt-1"></div></div><div class="bg-gray-50 dark:bg-gray-700 p-3 rounded text-center"><div class="text-2xl font-bold text-gray-900 dark:text-gray-100"></div><div class="text-xs text-gray-600 dark:text-gray-400 mt-1"></div></div><div class="bg-gray-50 dark:bg-gray-700 p-3 rounded text-center"><div class="text-2xl font-bold text-gray-900 dark:text-gray-100"></div><div class="text-xs text-gray-600 dark:text-gray-400 mt-1"></div></div><div class="bg-gray-50 dark:bg-gray-700 p-3 rounded text-center"><div class="text-2xl font-bold text-red-600 dark:text-red-400">%</div><div class="text-xs text-gray-600 dark:text-gray-400 mt-1"></div></div></div><div class=space-y-3><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100"></span></div><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100">'),Jx=L('<svg><g class=sheet-group><rect fill="rgba(200, 200, 200, 0.3)"stroke=#e5e7eb stroke-width=2></rect><text font-size=12 fill=#6b7280> </svg>',!1,!0,!1),Zx=L('<svg><g class=part-group><rect fill="rgba(59, 130, 246, 0.7)"stroke=#3b82f6 stroke-width=1></svg>',!1,!0,!1);const Qx=t=>{const[e]=Ce("nesting"),r=Bx({initialZoom:1,bounds:{minZoom:.1,maxZoom:10},enableKeyboardShortcuts:!0,enableWheelZoom:!0,enablePan:!0}),s=oe(()=>t.result.sheets?.reduce((c,d)=>c+d.width*d.height,0)||0),n=oe(()=>t.result.placedParts||0),a=oe(()=>{const c=s(),d=n();return c===0?0:(c-d)/c*100}),l=oe(()=>{const c=t.result.sheets||[];if(c.length===0)return{width:800,height:400,x:0,y:0};let d=1/0,u=1/0,g=-1/0,x=-1/0;return c.forEach(m=>{const _=m.x||0,b=m.y||0;d=Math.min(d,_),u=Math.min(u,b),g=Math.max(g,_+m.width),x=Math.max(x,b+m.height)}),{x:d,y:u,width:g-d,height:x-u}}),o=()=>{r.zoomToFit(l())};return(()=>{var c=Gx(),d=c.firstChild,u=d.firstChild,g=u.firstChild,x=g.firstChild,m=x.firstChild;m.nextSibling;var _=u.nextSibling,b=_.firstChild,y=b.firstChild,M=y.nextSibling,E=M.firstChild,k=E.firstChild,S=k.nextSibling,A=E.nextSibling,I=A.firstChild,R=I.nextSibling,T=A.nextSibling,h=T.firstChild,f=h.nextSibling,$=T.nextSibling,v=$.firstChild,p=v.firstChild,P=v.nextSibling,D=M.nextSibling,N=D.firstChild,z=N.firstChild,V=z.firstChild,K=z.nextSibling,G=N.nextSibling,H=G.firstChild,ee=H.firstChild,ne=H.nextSibling;return i(c,C(Kx,{get viewportState(){return r.viewportState()},get onZoomIn(){return r.zoomIn},get onZoomOut(){return r.zoomOut},onZoomToFit:o,get onResetView(){return r.resetView},get onCenterView(){return r.centerView},showFitToContent:!0,showPanControls:!0}),d),Le(g,"wheel",r.handleWheel),Le(g,"mouseleave",r.handleMouseUp),Le(g,"mouseup",r.handleMouseUp,!0),Le(g,"mousemove",r.handleMouseMove,!0),Le(g,"mousedown",r.handleMouseDown,!0),i(x,C(Te,{get each(){return t.result.sheets||[]},children:(j,B)=>(()=>{var Z=Jx(),q=Z.firstChild,Q=q.nextSibling,te=Q.firstChild;return i(Q,()=>e("sheet"),te),i(Q,()=>B()+1,null),F(Y=>{var fe=j.x||0,U=j.y||0,ie=j.width,le=j.height,be=(j.x||0)+10,he=(j.y||0)+25;return fe!==Y.e&&re(q,"x",Y.e=fe),U!==Y.t&&re(q,"y",Y.t=U),ie!==Y.a&&re(q,"width",Y.a=ie),le!==Y.o&&re(q,"height",Y.o=le),be!==Y.i&&re(Q,"x",Y.i=be),he!==Y.n&&re(Q,"y",Y.n=he),Y},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),Z})()}),null),i(x,C(Te,{get each(){return t.result.placements||[]},children:j=>(()=>{var B=Zx(),Z=B.firstChild;return F(q=>{var Q=j.x,te=j.y,Y=j.width||50,fe=j.height||50,U=`rotate(${j.rotation||0} ${j.x+(j.width||50)/2} ${j.y+(j.height||50)/2})`;return Q!==q.e&&re(Z,"x",q.e=Q),te!==q.t&&re(Z,"y",q.t=te),Y!==q.a&&re(Z,"width",q.a=Y),fe!==q.o&&re(Z,"height",q.o=fe),U!==q.i&&re(Z,"transform",q.i=U),q},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),B})()}),null),i(y,()=>e("statistics")),i(k,(()=>{var j=Se(()=>!!t.result.efficiency);return()=>j()?`${(t.result.efficiency*100).toFixed(1)}%`:"N/A"})()),i(S,()=>e("material_efficiency")),i(I,()=>t.result.fitness?.toFixed(2)||"N/A"),i(R,()=>e("fitness_score")),i(h,()=>t.result.sheets?.length||0),i(f,()=>e("sheets_used")),i(v,()=>a().toFixed(1),p),i(P,()=>e("material_waste")),i(z,()=>e("total_parts_placed"),V),i(K,()=>t.result.placedParts||0),i(H,()=>e("total_material_used"),ee),i(ne,()=>s().toFixed(2)),i(D,C(X,{get when(){return t.result.generationTime},get children(){var j=Wx(),B=j.firstChild,Z=B.firstChild,q=B.nextSibling,Q=q.firstChild;return i(B,()=>e("generation_time"),Z),i(q,()=>t.result.generationTime,Q),j}}),null),i(D,C(X,{get when(){return t.result.generation},get children(){var j=qx(),B=j.firstChild,Z=B.firstChild,q=B.nextSibling;return i(B,()=>e("generation_number"),Z),i(q,()=>t.result.generation),j}}),null),F(j=>{var B=r.cursor(),Z=r.transform();return B!==j.e&&((j.e=B)!=null?g.style.setProperty("cursor",B):g.style.removeProperty("cursor")),Z!==j.t&&re(x,"transform",j.t=Z),j},{e:void 0,t:void 0}),c})()};Ee(["mousedown","mousemove","mouseup"]);var Xx=L('<div class="h-full flex flex-col"><div class="flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"><button class="inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors duration-200">â† </button><h3 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h3><div class="flex gap-2"><button class="inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors duration-200">ðŸ“¤ '),Yx=L('<div class="flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"><h3 class="text-lg font-medium text-gray-900 dark:text-gray-100"> (<!>)</h3><div class="text-sm text-gray-600 dark:text-gray-400"><label>'),e_=L('<div class="flex-1 overflow-y-auto p-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">'),t_=L('<div class="h-full flex flex-col">'),r_=L('<span class="text-xs bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 px-2 py-1 rounded-full">'),s_=L('<div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100">'),n_=L('<div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-lg transition-shadow duration-200"><div class="h-32 bg-gray-50 dark:bg-gray-700 flex items-center justify-center cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors"><div class=text-center><div class="text-2xl mb-1">ðŸŽ¯</div><div class="text-sm text-gray-600 dark:text-gray-400"></div></div></div><div class=p-4><div class="flex items-center justify-between mb-3"><h4 class="font-medium text-gray-900 dark:text-gray-100"> #</h4></div><div class="space-y-2 mb-4"><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-green-600 dark:text-green-400"></span></div><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100"></span></div><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100"></span></div></div><div class="flex justify-between items-center pt-2 border-t border-gray-200 dark:border-gray-700"><button class="text-blue-600 dark:text-blue-400 hover:underline text-sm"></button><div class="flex gap-2"><button class="text-blue-600 dark:text-blue-400 hover:underline text-sm"></button><button class="text-red-600 dark:text-red-400 hover:underline text-sm">');const i_=()=>{const[t]=Ce("nesting"),[e,r]=J(null),[s,n]=J("grid"),a=oe(()=>[...w.app.nests].sort((x,m)=>x.efficiency!==m.efficiency?(m.efficiency||0)-(x.efficiency||0):(m.fitness||0)-(x.fitness||0))),l=x=>{r(x),n("detail")},o=()=>{r(null),n("grid")},c=async x=>{if(ae.isAvailable)try{const m=await ae.saveFileDialog({title:t("export_result"),defaultPath:`nest_result_${x.id}.svg`,filters:[{name:"SVG Files",extensions:["svg"]},{name:"DXF Files",extensions:["dxf"]},{name:"All Files",extensions:["*"]}]});if(m.canceled||!m.filePath)return;await ae.exportNestResult(x,m.filePath)}catch(m){console.error("Failed to export result:",m),O.setError(t("export_failed"))}},d=x=>{const m=w.app.nests.filter(_=>_.id!==x.id);O.setNests(m)},u=x=>x?`${(x*100).toFixed(1)}%`:"N/A",g=x=>x?x.toFixed(2):"N/A";return(()=>{var x=t_();return i(x,C(X,{get when(){return Se(()=>s()==="detail")()&&e()},get children(){var m=Xx(),_=m.firstChild,b=_.firstChild;b.firstChild;var y=b.nextSibling,M=y.nextSibling,E=M.firstChild;return E.firstChild,b.$$click=o,i(b,()=>t("back_to_results"),null),i(y,()=>t("result_details")),E.$$click=()=>c(e()),i(E,()=>t("export"),null),i(m,C(Qx,{get result(){return e()}}),null),m}}),null),i(x,C(X,{get when(){return s()==="grid"},get children(){return[(()=>{var m=Yx(),_=m.firstChild,b=_.firstChild,y=b.nextSibling;y.nextSibling;var M=_.nextSibling,E=M.firstChild;return i(_,()=>t("nesting_results"),b),i(_,()=>a().length,y),i(E,()=>t("sorted_by_efficiency")),m})(),(()=>{var m=e_();return i(m,C(Te,{get each(){return a()},children:(_,b)=>(()=>{var y=n_(),M=y.firstChild,E=M.firstChild,k=E.firstChild,S=k.nextSibling,A=M.nextSibling,I=A.firstChild,R=I.firstChild,T=R.firstChild,h=I.nextSibling,f=h.firstChild,$=f.firstChild,v=$.firstChild,p=$.nextSibling,P=f.nextSibling,D=P.firstChild,N=D.firstChild,z=D.nextSibling,V=P.nextSibling,K=V.firstChild,G=K.firstChild,H=K.nextSibling,ee=h.nextSibling,ne=ee.firstChild,j=ne.nextSibling,B=j.firstChild,Z=B.nextSibling;return M.$$click=()=>l(_),i(S,()=>t("click_to_view")),i(R,()=>t("result"),T),i(R,()=>b()+1,null),i(I,C(X,{get when(){return b()===0},get children(){var q=r_();return i(q,()=>t("best")),q}}),null),i($,()=>t("efficiency"),v),i(p,()=>u(_.efficiency)),i(D,()=>t("fitness"),N),i(z,()=>g(_.fitness)),i(K,()=>t("sheets_used"),G),i(H,()=>_.sheets?.length||0),i(h,C(X,{get when(){return _.placedParts},get children(){var q=s_(),Q=q.firstChild,te=Q.firstChild,Y=Q.nextSibling;return i(Q,()=>t("parts_placed"),te),i(Y,()=>_.placedParts),q}}),null),ne.$$click=()=>l(_),i(ne,()=>t("view_details")),B.$$click=()=>c(_),i(B,()=>t("export")),Z.$$click=()=>d(_),i(Z,()=>t("delete")),y})()})),m})()]}}),null),x})()};Ee(["click"]);var a_=L('<button class="inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition-colors duration-200">ðŸ—‘ï¸ '),o_=L('<div class="grid grid-cols-1 lg:grid-cols-2 gap-4 p-4">'),l_=L('<div class="h-full flex flex-col"><div class="flex items-center justify-between p-5 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"><h2 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h2><div class="flex gap-2"><button class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200">â–¶ï¸ </button><button class="inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 text-sm font-medium rounded-md text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors duration-200">â¹ï¸ </button></div></div><div class="flex items-center justify-between p-4 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700"><div class="flex gap-6"><div class="flex items-center gap-2"><span class="text-sm text-gray-600 dark:text-gray-400">:</span><span class="text-sm font-medium text-gray-900 dark:text-gray-100"></span></div><div class="flex items-center gap-2"><span class="text-sm text-gray-600 dark:text-gray-400">:</span><span class="text-sm font-medium text-gray-900 dark:text-gray-100"></span></div><div class="flex items-center gap-2"><span class="text-sm text-gray-600 dark:text-gray-400">:</span><span class="text-sm font-medium text-gray-900 dark:text-gray-100"></span></div></div></div><div class="flex-1 overflow-hidden">'),c_=L('<p class="text-amber-600 dark:text-amber-400">'),d_=L('<div class="h-full flex flex-col items-center justify-center text-center gap-4 p-8"><div class="text-6xl opacity-30">ðŸŽ¯</div><h3 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h3><p class="text-gray-600 dark:text-gray-400">');const g_=()=>{const[t]=Ce("nesting"),e=oe(()=>w.app.parts.length>0&&w.app.sheets.length>0&&!w.process.isNesting),r=oe(()=>w.app.nests.length>0),s=async()=>{if(e())try{await ir.startNesting()}catch(o){console.error("Failed to start nesting:",o)}},n=async()=>{if(w.process.isNesting)try{await ir.stopNesting()}catch(o){console.error("Failed to stop nesting:",o)}},a=()=>{O.setNests([])},l=oe(()=>w.app.parts.filter(o=>o.quantity>0).length);return(()=>{var o=l_(),c=o.firstChild,d=c.firstChild,u=d.nextSibling,g=u.firstChild;g.firstChild;var x=g.nextSibling;x.firstChild;var m=c.nextSibling,_=m.firstChild,b=_.firstChild,y=b.firstChild,M=y.firstChild,E=y.nextSibling,k=b.nextSibling,S=k.firstChild,A=S.firstChild,I=S.nextSibling,R=k.nextSibling,T=R.firstChild,h=T.firstChild,f=T.nextSibling,$=m.nextSibling;return i(d,()=>t("nesting_title")),g.$$click=s,i(g,()=>t("start_nesting"),null),x.$$click=n,i(x,()=>t("stop_nesting"),null),i(u,C(X,{get when(){return r()&&!w.process.isNesting},get children(){var v=a_();return v.firstChild,v.$$click=a,i(v,()=>t("clear_results"),null),F(()=>re(v,"title",t("clear_results"))),v}}),null),i(y,()=>t("parts_to_nest"),M),i(E,l),i(S,()=>t("available_sheets"),A),i(I,()=>w.app.sheets.length),i(T,()=>t("results_count"),h),i(f,()=>w.app.nests.length),i($,C(X,{get when(){return w.process.isNesting},get children(){var v=o_();return i(v,C(Lx,{}),null),i(v,C(zx,{}),null),v}}),null),i($,C(X,{get when(){return r()},get fallback(){return(()=>{var v=d_(),p=v.firstChild,P=p.nextSibling,D=P.nextSibling;return i(P,()=>t("no_nesting_results")),i(D,()=>t("start_nesting_to_see_results")),i(v,C(X,{get when(){return!e()},get children(){var N=c_();return i(N,()=>t("add_parts_and_sheets_first")),N}}),null),v})()},get children(){return C(i_,{})}}),null),F(v=>{var p=!e(),P=e()?t("start_nesting"):t("cannot_start_nesting"),D=!w.process.isNesting,N=t("stop_nesting");return p!==v.e&&(g.disabled=v.e=p),P!==v.t&&re(g,"title",v.t=P),D!==v.a&&(x.disabled=v.a=D),N!==v.o&&re(x,"title",v.o=N),v},{e:void 0,t:void 0,a:void 0,o:void 0}),o})()};Ee(["click"]);var Pt=L('<span class="text-red-500 dark:text-red-400 text-xs mt-1 block">'),u_=L('<div class="text-sm text-gray-600 dark:text-gray-400">: <!> mm'),f_=L('<div class="p-6 overflow-y-auto max-h-[calc(90vh-120px)]"><div class=space-y-6><div class=space-y-4><h4 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h4><div class=space-y-2><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"for=sheet-name>:</label><input id=sheet-name type=text class="block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"></div><div class=space-y-2><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"for=material>:</label><select id=material class="block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100"></select></div></div><div class=space-y-4><h4 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h4><div class="grid grid-cols-3 gap-2 mb-4"></div><div class="flex items-end gap-2"><div class=flex-1><label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"for=width> (mm):</label><input id=width type=number min=1 step=0.1></div><button type=button class="px-3 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition-colors duration-200 mb-1">â‡„</button><div class=flex-1><label class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1"for=height> (mm):</label><input id=height type=number min=1 step=0.1></div></div><div class="text-sm text-gray-600 dark:text-gray-400 mt-2">: <!> mmÂ²</div></div><div class=space-y-4><h4 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h4><div class="grid grid-cols-3 gap-4"><div class=space-y-2><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"for=thickness> (mm):</label><input id=thickness type=number min=0.1 step=0.1></div><div class=space-y-2><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"for=quantity>:</label><input id=quantity type=number min=1></div><div class=space-y-2><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"for=margin> (mm):</label><input id=margin type=number min=0 step=0.1></div></div></div><div class=space-y-4><h4 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h4><div class="flex items-center gap-6"><div class=flex-shrink-0><div class="bg-white dark:bg-gray-600 border-2 border-gray-300 dark:border-gray-500 rounded shadow-sm relative"><div class="absolute border border-dashed border-gray-400 dark:border-gray-400 rounded-sm"></div></div></div><div class=space-y-2><div class="text-sm text-gray-900 dark:text-gray-100"> Ã— <!> mm</div><div class="text-sm text-gray-600 dark:text-gray-400">: <!> mmÂ²'),h_=L('<div class="flex items-center justify-end gap-3 p-6 border-t border-gray-200 dark:border-gray-700"><button type=button class="px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition-colors duration-200"></button><button type=button class="px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition-colors duration-200">'),p_=L("<option>"),m_=L('<button type=button class="px-2 py-1 text-xs font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded hover:bg-gray-200 dark:hover:bg-gray-600 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 transition-colors duration-200">');const b_=t=>{const[e]=Ce("sheets"),[r,s]=J(""),[n,a]=J(200),[l,o]=J(200),[c,d]=J(3),[u,g]=J(1),[x,m]=J(5),[_,b]=J("Generic"),[y,M]=J({}),E=["Generic","Wood - Plywood","Wood - MDF","Wood - Hardwood","Metal - Aluminum","Metal - Steel","Metal - Brass","Plastic - Acrylic","Plastic - ABS","Cardboard","Fabric","Leather","Paper"],k=[{name:"A4",width:210,height:297},{name:"A3",width:297,height:420},{name:"A2",width:420,height:594},{name:"A1",width:594,height:841},{name:"Letter",width:216,height:279},{name:"Legal",width:216,height:356},{name:'12Ã—12"',width:305,height:305},{name:'24Ã—24"',width:610,height:610},{name:'48Ã—24"',width:1219,height:610}];qe(()=>{const h=t.sheet;h?(s(h.name||""),a(h.width),o(h.height),d(h.thickness||3),g(h.quantity||1),m(h.margin||5),b(h.material||"Generic")):(s(""),a(200),o(200),d(3),g(1),m(5),b("Generic")),M({})});const S=()=>{const h={};return n()<=0&&(h.width=e("width_must_be_positive")),l()<=0&&(h.height=e("height_must_be_positive")),c()<=0&&(h.thickness=e("thickness_must_be_positive")),u()<=0&&(h.quantity=e("quantity_must_be_positive")),x()<0&&(h.margin=e("margin_cannot_be_negative")),M(h),Object.keys(h).length===0},A=()=>{if(!S())return;const h={id:t.sheet?.id||`sheet_${Date.now()}`,name:r().trim()||`Sheet ${Date.now()}`,width:n(),height:l(),thickness:c(),quantity:u(),margin:x(),material:_()};t.onSave(h)},I=h=>{a(h.width),o(h.height),r().trim()||s(h.name)},R=()=>{const h=n();a(l()),o(h)},T=()=>(n()*l()).toFixed(0);return[(()=>{var h=f_(),f=h.firstChild,$=f.firstChild,v=$.firstChild,p=v.nextSibling,P=p.firstChild,D=P.firstChild,N=P.nextSibling,z=p.nextSibling,V=z.firstChild,K=V.firstChild,G=V.nextSibling,H=$.nextSibling,ee=H.firstChild,ne=ee.nextSibling,j=ne.nextSibling,B=j.firstChild,Z=B.firstChild,q=Z.firstChild,Q=Z.nextSibling,te=B.nextSibling,Y=te.nextSibling,fe=Y.firstChild,U=fe.firstChild,ie=fe.nextSibling,le=j.nextSibling,be=le.firstChild,he=be.nextSibling;he.nextSibling;var se=H.nextSibling,ue=se.firstChild,xe=ue.nextSibling,de=xe.firstChild,_e=de.firstChild,pe=_e.firstChild,ke=_e.nextSibling,we=de.nextSibling,Ae=we.firstChild,ve=Ae.firstChild,Re=Ae.nextSibling,Oe=we.nextSibling,He=Oe.firstChild,ze=He.firstChild,Me=He.nextSibling,Ue=se.nextSibling,Ke=Ue.firstChild,We=Ke.nextSibling,et=We.firstChild,Ge=et.firstChild,ge=Ge.firstChild,Ie=et.nextSibling,Qe=Ie.firstChild,dt=Qe.firstChild,gt=dt.nextSibling;gt.nextSibling;var tt=Qe.nextSibling,ut=tt.firstChild,rt=ut.nextSibling;return rt.nextSibling,i(v,()=>e("basic_information")),i(P,()=>e("sheet_name"),D),N.$$input=W=>s(W.currentTarget.value),i(V,()=>e("material"),K),G.addEventListener("change",W=>b(W.currentTarget.value)),i(G,C(Te,{each:E,children:W=>(()=>{var De=p_();return De.value=W,i(De,W),De})()})),i(ee,()=>e("dimensions")),i(ne,C(Te,{each:k,children:W=>(()=>{var De=m_();return De.$$click=()=>I(W),i(De,()=>W.name),F(()=>re(De,"title",`${W.width} Ã— ${W.height} mm`)),De})()})),i(Z,()=>e("width"),q),Q.$$input=W=>a(parseFloat(W.currentTarget.value)||0),i(B,C(X,{get when(){return y().width},get children(){var W=Pt();return i(W,()=>y().width),W}}),null),te.$$click=R,i(fe,()=>e("height"),U),ie.$$input=W=>o(parseFloat(W.currentTarget.value)||0),i(Y,C(X,{get when(){return y().height},get children(){var W=Pt();return i(W,()=>y().height),W}}),null),i(le,()=>e("area"),be),i(le,T,he),i(ue,()=>e("properties")),i(_e,()=>e("thickness"),pe),ke.$$input=W=>d(parseFloat(W.currentTarget.value)||0),i(de,C(X,{get when(){return y().thickness},get children(){var W=Pt();return i(W,()=>y().thickness),W}}),null),i(Ae,()=>e("quantity"),ve),Re.$$input=W=>g(parseInt(W.currentTarget.value)||0),i(we,C(X,{get when(){return y().quantity},get children(){var W=Pt();return i(W,()=>y().quantity),W}}),null),i(He,()=>e("margin"),ze),Me.$$input=W=>m(parseFloat(W.currentTarget.value)||0),i(Oe,C(X,{get when(){return y().margin},get children(){var W=Pt();return i(W,()=>y().margin),W}}),null),i(Ke,()=>e("preview")),Ge.style.setProperty("width","120px"),Ge.style.setProperty("max-height","120px"),i(Qe,n,dt),i(Qe,l,gt),i(tt,()=>e("area"),ut),i(tt,T,rt),i(Ie,C(X,{get when(){return x()>0},get children(){var W=u_(),De=W.firstChild,Ve=De.nextSibling;return Ve.nextSibling,i(W,()=>e("margin"),De),i(W,x,Ve),W}}),null),F(W=>{var De=e("enter_sheet_name"),Ve=`block w-full px-3 py-2 border rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 ${y().width?"border-red-500":"border-gray-300 dark:border-gray-600"}`,Je=e("swap_dimensions"),st=`block w-full px-3 py-2 border rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 ${y().height?"border-red-500":"border-gray-300 dark:border-gray-600"}`,nt=`block w-full px-3 py-2 border rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 ${y().thickness?"border-red-500":"border-gray-300 dark:border-gray-600"}`,Ft=`block w-full px-3 py-2 border rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 ${y().quantity?"border-red-500":"border-gray-300 dark:border-gray-600"}`,yt=`block w-full px-3 py-2 border rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 ${y().margin?"border-red-500":"border-gray-300 dark:border-gray-600"}`,pt=`${n()} / ${l()}`,vt=`${Math.max(x()/Math.max(n(),l())*100,2)}%`,mt=`${Math.max(x()/Math.max(n(),l())*100,2)}%`,$t=`${Math.max(x()/Math.max(n(),l())*100,2)}%`,kt=`${Math.max(x()/Math.max(n(),l())*100,2)}%`;return De!==W.e&&re(N,"placeholder",W.e=De),Ve!==W.t&&ye(Q,W.t=Ve),Je!==W.a&&re(te,"title",W.a=Je),st!==W.o&&ye(ie,W.o=st),nt!==W.i&&ye(ke,W.i=nt),Ft!==W.n&&ye(Re,W.n=Ft),yt!==W.s&&ye(Me,W.s=yt),pt!==W.h&&((W.h=pt)!=null?Ge.style.setProperty("aspect-ratio",pt):Ge.style.removeProperty("aspect-ratio")),vt!==W.r&&((W.r=vt)!=null?ge.style.setProperty("top",vt):ge.style.removeProperty("top")),mt!==W.d&&((W.d=mt)!=null?ge.style.setProperty("left",mt):ge.style.removeProperty("left")),$t!==W.l&&((W.l=$t)!=null?ge.style.setProperty("right",$t):ge.style.removeProperty("right")),kt!==W.u&&((W.u=kt)!=null?ge.style.setProperty("bottom",kt):ge.style.removeProperty("bottom")),W},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0}),F(()=>N.value=r()),F(()=>G.value=_()),F(()=>Q.value=n()),F(()=>ie.value=l()),F(()=>ke.value=c()),F(()=>Re.value=u()),F(()=>Me.value=x()),h})(),(()=>{var h=h_(),f=h.firstChild,$=f.nextSibling;return Le(f,"click",t.onCancel,!0),i(f,()=>e("cancel")),$.$$click=A,i($,(()=>{var v=Se(()=>!!t.sheet);return()=>v()?e("update_sheet"):e("add_sheet")})()),h})()]};Ee(["input","click"]);var x_=L('<div class="fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50"><div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-hidden"><div class="flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700"><h3 class="text-xl font-semibold text-gray-900 dark:text-gray-100"></h3><button class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 text-2xl leading-none">Ã—'),__=L('<div class="h-full flex flex-col"><div class="p-4 border-b border-gray-200 dark:border-gray-700"><h3 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h3></div><div class="flex-1 overflow-y-auto p-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">'),y_=L('<div class="h-full flex flex-col"><div class="flex items-center justify-between p-5 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"><h2 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h2><div class="flex gap-2"><button class="inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200">âž• </button></div></div><div class="flex items-center justify-between p-4 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700"><div class="flex gap-6"><div class="flex items-center gap-2"><span class="text-sm text-gray-600 dark:text-gray-400">:</span><span class="text-sm font-medium text-gray-900 dark:text-gray-100"></span></div><div class="flex items-center gap-2"><span class="text-sm text-gray-600 dark:text-gray-400">:</span><span class="text-sm font-medium text-gray-900 dark:text-gray-100"> mmÂ²</span></div></div></div><div class="flex-1 overflow-hidden">'),v_=L('<div class="h-full flex flex-col items-center justify-center text-center gap-6 p-8"><div class="text-6xl opacity-30">ðŸ“„</div><div><h3 class="text-lg font-medium text-gray-900 dark:text-gray-100 mb-2"></h3><p class="text-gray-600 dark:text-gray-400"></p></div><div class="w-full max-w-2xl"><h4 class="text-md font-medium text-gray-900 dark:text-gray-100 mb-4"></h4><div class="grid grid-cols-3 gap-3">'),$_=L('<button class="bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-lg p-3 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors text-center"><div class="font-medium text-gray-900 dark:text-gray-100 mb-1"></div><div class="text-sm text-gray-600 dark:text-gray-400"> Ã— '),k_=L('<div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100"> mm'),w_=L('<div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 overflow-hidden hover:shadow-lg transition-shadow duration-200"><div class="h-32 bg-gray-50 dark:bg-gray-700 flex items-center justify-center p-4"><div class=relative><div class="bg-white dark:bg-gray-600 border-2 border-gray-300 dark:border-gray-500 rounded shadow-sm"><div class="absolute inset-1 border border-dashed border-gray-400 dark:border-gray-400 rounded-sm"></div></div></div></div><div class=p-4><div class="font-medium text-gray-900 dark:text-gray-100 mb-3"></div><div class="space-y-2 mb-4"><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100"></span></div><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100"></span></div><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="font-medium text-gray-900 dark:text-gray-100"></span></div></div><div class="flex justify-between items-center pt-2 border-t border-gray-200 dark:border-gray-700"><button class="text-blue-600 dark:text-blue-400 hover:underline text-sm"></button><button class="text-red-600 dark:text-red-400 hover:underline text-sm">');const S_=()=>{const[t]=Ce("sheets"),[e,r]=J(!1),[s,n]=J(null),a=oe(()=>w.app.sheets.length),l=oe(()=>w.app.sheets.reduce((b,y)=>b+y.width*y.height,0)),o=[{name:"A4",width:210,height:297,units:"mm"},{name:"A3",width:297,height:420,units:"mm"},{name:"A2",width:420,height:594,units:"mm"},{name:"A1",width:594,height:841,units:"mm"},{name:"Letter",width:216,height:279,units:"mm"},{name:"Legal",width:216,height:356,units:"mm"},{name:'12x12"',width:305,height:305,units:"mm"},{name:'24x24"',width:610,height:610,units:"mm"},{name:'48x24"',width:1219,height:610,units:"mm"}],c=()=>{n(null),r(!0)},d=b=>{n(b),r(!0)},u=b=>{const y=w.app.sheets.filter(M=>M.id!==b);O.setSheets(y)},g=b=>{s()?O.updateSheet(b.id,b):O.addSheet(b),r(!1),n(null)},x=()=>{r(!1),n(null)},m=b=>{const y={name:b.name,width:b.width,height:b.height,thickness:3,quantity:1,margin:5,material:"Generic"};O.addSheet(y)},_=b=>`${b.width} Ã— ${b.height} mm`;return(()=>{var b=y_(),y=b.firstChild,M=y.firstChild,E=M.nextSibling,k=E.firstChild;k.firstChild;var S=y.nextSibling,A=S.firstChild,I=A.firstChild,R=I.firstChild,T=R.firstChild,h=R.nextSibling,f=I.nextSibling,$=f.firstChild,v=$.firstChild,p=$.nextSibling,P=p.firstChild,D=S.nextSibling;return i(M,()=>t("sheets_title")),k.$$click=c,i(k,()=>t("add_sheet"),null),i(R,()=>t("total_sheets"),T),i(h,a),i($,()=>t("total_area"),v),i(p,()=>l().toFixed(0),P),i(b,C(X,{get when(){return e()},get children(){var N=x_(),z=N.firstChild,V=z.firstChild,K=V.firstChild,G=K.nextSibling;return i(K,(()=>{var H=Se(()=>!!s());return()=>H()?t("edit_sheet"):t("add_new_sheet")})()),G.$$click=x,i(z,C(b_,{get sheet(){return s()},onSave:g,onCancel:x}),null),N}}),D),i(D,C(X,{get when(){return a()>0},get fallback(){return(()=>{var N=v_(),z=N.firstChild,V=z.nextSibling,K=V.firstChild,G=K.nextSibling,H=V.nextSibling,ee=H.firstChild,ne=ee.nextSibling;return i(K,()=>t("no_sheets_loaded")),i(G,()=>t("add_sheets_to_get_started")),i(ee,()=>t("quick_templates")),i(ne,C(Te,{each:o,children:j=>(()=>{var B=$_(),Z=B.firstChild,q=Z.nextSibling,Q=q.firstChild;return B.$$click=()=>m(j),i(Z,()=>j.name),i(q,()=>j.width,Q),i(q,()=>j.height,null),F(()=>re(B,"title",`${j.width} Ã— ${j.height} ${j.units}`)),B})()})),N})()},get children(){var N=__(),z=N.firstChild,V=z.firstChild,K=z.nextSibling;return i(V,()=>t("configured_sheets")),i(K,C(Te,{get each(){return w.app.sheets},children:(G,H)=>(()=>{var ee=w_(),ne=ee.firstChild,j=ne.firstChild,B=j.firstChild,Z=ne.nextSibling,q=Z.firstChild,Q=q.nextSibling,te=Q.firstChild,Y=te.firstChild,fe=Y.firstChild,U=Y.nextSibling,ie=te.nextSibling,le=ie.firstChild,be=le.firstChild,he=le.nextSibling,se=ie.nextSibling,ue=se.firstChild,xe=ue.firstChild,de=ue.nextSibling,_e=Q.nextSibling,pe=_e.firstChild,ke=pe.nextSibling;return B.style.setProperty("max-width","80px"),B.style.setProperty("max-height","80px"),B.style.setProperty("min-width","40px"),B.style.setProperty("min-height","40px"),i(q,()=>G.name||`${t("sheet")} ${H()+1}`),i(Y,()=>t("dimensions"),fe),i(U,()=>_(G)),i(le,()=>t("quantity"),be),i(he,()=>G.quantity),i(ue,()=>t("material"),xe),i(de,()=>G.material||"Generic"),i(Q,C(X,{get when(){return G.margin},get children(){var we=k_(),Ae=we.firstChild,ve=Ae.firstChild,Re=Ae.nextSibling,Oe=Re.firstChild;return i(Ae,()=>t("margin"),ve),i(Re,()=>G.margin,Oe),we}}),null),pe.$$click=()=>d(G),i(pe,()=>t("edit")),ke.$$click=()=>u(G.id),i(ke,()=>t("delete")),F(we=>(we=`${G.width} / ${G.height}`)!=null?B.style.setProperty("aspect-ratio",we):B.style.removeProperty("aspect-ratio")),ee})()})),N}})),F(()=>re(k,"title",t("add_sheet"))),b})()};Ee(["click"]);var C_=L('<div class="bg-gray-50 dark:bg-gray-700/50 rounded-lg p-6 space-y-4"><h4 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h4><div class=space-y-3><label for=preset-name class="block text-sm font-medium text-gray-700 dark:text-gray-300"></label><input id=preset-name type=text class="block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"></div><div class=space-y-3><label for=preset-description class="block text-sm font-medium text-gray-700 dark:text-gray-300"></label><textarea id=preset-description rows=3 class="block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"></textarea></div><div class="flex gap-3 pt-2"><button class="px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 border border-gray-300 dark:border-gray-600 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"></button><button class="px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 disabled:bg-gray-400 disabled:cursor-not-allowed border border-transparent rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800">'),P_=L('<div class="grid gap-4 md:grid-cols-2 lg:grid-cols-3">'),L_=L('<div class=space-y-6><div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 space-y-6"><div class="flex items-center justify-between pb-4 border-b border-gray-200 dark:border-gray-700"><div class="flex items-center gap-3"><div class="w-8 h-8 bg-violet-100 dark:bg-violet-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-violet-600 dark:text-violet-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg></div><h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100"></h3></div><div class="flex gap-3"><button class="inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 border border-gray-300 dark:border-gray-600 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"></path></svg></button><button class="inline-flex items-center gap-2 px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 border border-transparent rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg></button></div></div><p class="text-sm text-gray-500 dark:text-gray-400"></p><div class=space-y-4>'),M_=L('<div class="text-center py-12"><div class="mx-auto w-16 h-16 bg-gray-100 dark:bg-gray-700 rounded-full flex items-center justify-center mb-4"><svg class="w-8 h-8 text-gray-400 dark:text-gray-500"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M5 8h14M5 8a2 2 0 110-4h14a2 2 0 110 4M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8m-9 4h4"></path></svg></div><h4 class="text-lg font-medium text-gray-900 dark:text-gray-100 mb-2"></h4><p class="text-sm text-gray-500 dark:text-gray-400">'),A_=L('<p class="text-sm text-gray-600 dark:text-gray-400 mb-3 line-clamp-2">'),E_=L('<div class="flex justify-between text-xs text-gray-500 dark:text-gray-400"><span>:</span><span>'),I_=L('<div><div class=p-4><div class="flex items-center justify-between mb-3"><h4 class="text-base font-medium text-gray-900 dark:text-gray-100 truncate"></h4><div class="flex gap-1"><button class="p-1.5 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-md hover:bg-gray-100 dark:hover:bg-gray-600 transition-colors duration-200"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"></path></svg></button><button class="p-1.5 text-gray-400 hover:text-red-600 dark:hover:text-red-400 rounded-md hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors duration-200"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg></button></div></div><div class="space-y-1 mb-4"><div class="flex justify-between text-xs text-gray-500 dark:text-gray-400"><span>:</span><span></span></div></div><button>');const N_=()=>{const[t]=Ce("settings"),[e,r]=J(!1),[s,n]=J(""),[a,l]=J(""),[o,c]=J(""),d=async()=>{const b=s().trim();if(!b){O.setError(t("preset_name_required"));return}try{const y={id:`preset_${Date.now()}`,name:b,description:a().trim(),config:{...w.config},createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()};O.addPreset(y),ae.isAvailable&&await ae.savePreset(y),n(""),l(""),r(!1)}catch(y){console.error("Failed to create preset:",y),O.setError(t("preset_create_failed"))}},u=async b=>{const y=Object.values(w.app.presets||{}).find(M=>M.id===b);if(y)try{O.updateConfig(y.config),ae.isAvailable&&await ae.saveConfig(y.config),c(b)}catch(M){console.error("Failed to load preset:",M),O.setError(t("preset_load_failed"))}},g=async b=>{const y=Object.values(w.app.presets||{}).find(E=>E.id===b);if(!(!y||!confirm(t("confirm_delete_preset",{name:y.name}))))try{O.removePreset(b),ae.isAvailable&&await ae.deletePreset(b),o()===b&&c("")}catch(E){console.error("Failed to delete preset:",E),O.setError(t("preset_delete_failed"))}},x=async b=>{const y=Object.values(w.app.presets||{}).find(M=>M.id===b);if(!(!y||!ae.isAvailable))try{const M=await ae.saveFileDialog({title:t("export_preset"),defaultPath:`${y.name}.json`,filters:[{name:"JSON Files",extensions:["json"]},{name:"All Files",extensions:["*"]}]});if(M.canceled||!M.filePath)return;await ae.exportPreset(y,M.filePath)}catch(M){console.error("Failed to export preset:",M),O.setError(t("preset_export_failed"))}},m=async()=>{if(ae.isAvailable)try{const b=await ae.openFileDialog({title:t("import_preset"),filters:[{name:"JSON Files",extensions:["json"]},{name:"All Files",extensions:["*"]}],properties:["openFile","multiSelections"]});if(b.canceled||!b.filePaths?.length)return;for(const y of b.filePaths){const M=await ae.importPreset(y);O.addPreset({...M,id:`preset_${Date.now()}_${Math.random()}`,updatedAt:new Date().toISOString()})}}catch(b){console.error("Failed to import preset:",b),O.setError(t("preset_import_failed"))}},_=b=>new Date(b).toLocaleDateString();return(()=>{var b=L_(),y=b.firstChild,M=y.firstChild,E=M.firstChild,k=E.firstChild,S=k.nextSibling,A=E.nextSibling,I=A.firstChild;I.firstChild;var R=I.nextSibling;R.firstChild;var T=M.nextSibling,h=T.nextSibling;return i(S,()=>t("preset_management")),I.$$click=m,i(I,()=>t("import"),null),R.$$click=()=>r(!0),i(R,()=>t("create_preset"),null),i(T,()=>t("preset_description")),i(y,C(X,{get when(){return e()},get children(){var f=C_(),$=f.firstChild,v=$.nextSibling,p=v.firstChild,P=p.nextSibling,D=v.nextSibling,N=D.firstChild,z=N.nextSibling,V=D.nextSibling,K=V.firstChild,G=K.nextSibling;return i($,()=>t("create_new_preset")),i(p,()=>t("preset_name")),P.$$input=H=>n(H.currentTarget.value),i(N,()=>t("preset_description_optional")),z.$$input=H=>l(H.currentTarget.value),K.$$click=()=>{r(!1),n(""),l("")},i(K,()=>t("cancel")),G.$$click=d,i(G,()=>t("create_preset")),F(H=>{var ee=t("enter_preset_name"),ne=t("enter_preset_description"),j=!s().trim();return ee!==H.e&&re(P,"placeholder",H.e=ee),ne!==H.t&&re(z,"placeholder",H.t=ne),j!==H.a&&(G.disabled=H.a=j),H},{e:void 0,t:void 0,a:void 0}),F(()=>P.value=s()),F(()=>z.value=a()),f}}),h),i(h,C(X,{get when(){return Se(()=>!!w.app.presets)()&&Object.keys(w.app.presets).length>0},get fallback(){return(()=>{var f=M_(),$=f.firstChild,v=$.nextSibling,p=v.nextSibling;return i(v,()=>t("no_presets_available")),i(p,()=>t("create_preset_to_get_started")),f})()},get children(){var f=P_();return i(f,C(Te,{get each(){return Object.values(w.app.presets||{})},children:$=>(()=>{var v=I_(),p=v.firstChild,P=p.firstChild,D=P.firstChild,N=D.nextSibling,z=N.firstChild,V=z.nextSibling,K=P.nextSibling,G=K.firstChild,H=G.firstChild,ee=H.firstChild,ne=H.nextSibling,j=K.nextSibling;return i(D,()=>$.name),z.$$click=()=>x($.id),V.$$click=()=>g($.id),i(p,C(X,{get when(){return $.description},get children(){var B=A_();return i(B,()=>$.description),B}}),K),i(H,()=>t("created"),ee),i(ne,()=>_($.createdAt)),i(K,C(X,{get when(){return $.updatedAt!==$.createdAt},get children(){var B=E_(),Z=B.firstChild,q=Z.firstChild,Q=Z.nextSibling;return i(Z,()=>t("updated"),q),i(Q,()=>_($.updatedAt)),B}}),null),j.$$click=()=>u($.id),i(j,(()=>{var B=Se(()=>o()===$.id);return()=>B()?t("active"):t("load_preset")})()),F(B=>{var Z=`bg-white dark:bg-gray-700 rounded-lg border-2 transition-all duration-200 ${o()===$.id?"border-blue-500 ring-2 ring-blue-500/20":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"}`,q=t("export_preset"),Q=t("delete_preset"),te=o()===$.id,Y=`w-full px-3 py-2 text-sm font-medium rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 dark:focus:ring-offset-gray-700 ${o()===$.id?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 cursor-default":"bg-blue-600 hover:bg-blue-700 text-white focus:ring-blue-500"}`;return Z!==B.e&&ye(v,B.e=Z),q!==B.t&&re(z,"title",B.t=q),Q!==B.a&&re(V,"title",B.a=Q),te!==B.o&&(j.disabled=B.o=te),Y!==B.i&&ye(j,B.i=Y),B},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),v})()})),f}})),F(f=>{var $=t("import_preset"),v=t("create_new_preset");return $!==f.e&&re(I,"title",f.e=$),v!==f.t&&re(R,"title",f.t=v),f},{e:void 0,t:void 0}),b})()};Ee(["click","input"]);var R_=L('<div class=space-y-6><div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 space-y-6"><div class="flex items-center gap-3 pb-4 border-b border-gray-200 dark:border-gray-700"><div class="w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-blue-600 dark:text-blue-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path></svg></div><h4 class="text-lg font-semibold text-gray-900 dark:text-gray-100"></h4></div><div class=space-y-3><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"> (mm)</label><div class=space-y-3><input type=range min=0 max=20 step=0.1 class="w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer slider-thumb"><div class="flex items-center gap-3"><input type=number min=0 max=20 step=0.1 class="w-24 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"><span class="text-sm text-gray-500 dark:text-gray-400">mm</span></div></div><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><div class=space-y-3><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"> (mm)</label><div class=space-y-3><input type=range min=0.1 max=2 step=0.1 class="w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer slider-thumb"><div class="flex items-center gap-3"><input type=number min=0.1 max=2 step=0.1 class="w-24 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"><span class="text-sm text-gray-500 dark:text-gray-400">mm</span></div></div><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><div class=space-y-3><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"></label><select class="block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"></select><p class="text-sm text-gray-500 dark:text-gray-400"></p></div></div><div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 space-y-6"><div class="flex items-center gap-3 pb-4 border-b border-gray-200 dark:border-gray-700"><div class="w-8 h-8 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-green-600 dark:text-green-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M9 3v2m6-2v2M9 19v2m6-2v2M5 9H3m2 6H3m18-6h-2m2 6h-2M7 19h10a2 2 0 002-2V7a2 2 0 00-2-2H7a2 2 0 00-2 2v10a2 2 0 002 2zM9 9h6v6H9V9z"></path></svg></div><h4 class="text-lg font-semibold text-gray-900 dark:text-gray-100"></h4></div><div class=space-y-3><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"></label><div class=space-y-3><input type=range min=5 max=50 step=1 class="w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer slider-thumb"><div class="flex items-center gap-3"><input type=number min=5 max=50 step=1 class="w-24 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"><span class="text-sm text-gray-500 dark:text-gray-400">individuals</span></div></div><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><div class=space-y-3><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"> (%)</label><div class=space-y-3><input type=range min=1 max=50 step=1 class="w-full h-2 bg-gray-200 dark:bg-gray-700 rounded-lg appearance-none cursor-pointer slider-thumb"><div class="flex items-center gap-3"><input type=number min=1 max=50 step=1 class="w-24 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"><span class="text-sm text-gray-500 dark:text-gray-400">%</span></div></div><p class="text-sm text-gray-500 dark:text-gray-400"></p></div></div><div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 space-y-6"><div class="flex items-center gap-3 pb-4 border-b border-gray-200 dark:border-gray-700"><div class="w-8 h-8 bg-orange-100 dark:bg-orange-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-orange-600 dark:text-orange-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4"></path></svg></div><h4 class="text-lg font-semibold text-gray-900 dark:text-gray-100"></h4></div><div class=space-y-3><div class="flex items-center justify-between"><div><label class="text-sm font-medium text-gray-700 dark:text-gray-300"></label><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><input type=checkbox class="w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-2"></div></div><div class=space-y-3><div class="flex items-center justify-between"><div><label class="text-sm font-medium text-gray-700 dark:text-gray-300"></label><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><input type=checkbox class="w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-2"></div></div><div class=space-y-3><div class="flex items-center justify-between"><div><label class="text-sm font-medium text-gray-700 dark:text-gray-300"></label><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><input type=checkbox class="w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-2"></div></div><div class=space-y-3><div class="flex items-center justify-between"><div><label class="text-sm font-medium text-gray-700 dark:text-gray-300"></label><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><input type=checkbox class="w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-2">'),T_=L("<option>");const D_=()=>{const[t]=Ce("settings"),[e,r]=J(0),[s,n]=J(.3),[a,l]=J(4),[o,c]=J(10),[d,u]=J(10),[g,x]=J(!1),[m,_]=J(!1),[b,y]=J(!1),[M,E]=J(!0);qe(()=>{const f=w.config;r(f.spacing||0),n(f.curveTolerance||.3),l(f.rotations||4),c(f.populationSize||10),u(f.mutationRate||10),x(f.useHoles||!1),_(f.exploreConcave||!1),y(f.mergeLines||!1),E(f.useRoughApproximation!==!1)});const k=f=>{O.updateConfig({...w.config,...f})},S=f=>{r(f),k({spacing:f})},A=f=>{n(f),k({curveTolerance:f})},I=f=>{l(f),k({rotations:f})},R=f=>{c(f),k({populationSize:f})},T=f=>{u(f),k({mutationRate:f})},h=[{value:0,label:t("no_rotation")},{value:2,label:t("2_rotations")},{value:4,label:t("4_rotations")},{value:8,label:t("8_rotations")},{value:12,label:t("12_rotations")},{value:360,label:t("free_rotation")}];return(()=>{var f=R_(),$=f.firstChild,v=$.firstChild,p=v.firstChild,P=p.nextSibling,D=v.nextSibling,N=D.firstChild,z=N.firstChild,V=N.nextSibling,K=V.firstChild,G=K.nextSibling,H=G.firstChild,ee=V.nextSibling,ne=D.nextSibling,j=ne.firstChild,B=j.firstChild,Z=j.nextSibling,q=Z.firstChild,Q=q.nextSibling,te=Q.firstChild,Y=Z.nextSibling,fe=ne.nextSibling,U=fe.firstChild,ie=U.nextSibling,le=ie.nextSibling,be=$.nextSibling,he=be.firstChild,se=he.firstChild,ue=se.nextSibling,xe=he.nextSibling,de=xe.firstChild,_e=de.nextSibling,pe=_e.firstChild,ke=pe.nextSibling,we=ke.firstChild,Ae=_e.nextSibling,ve=xe.nextSibling,Re=ve.firstChild,Oe=Re.firstChild,He=Re.nextSibling,ze=He.firstChild,Me=ze.nextSibling,Ue=Me.firstChild,Ke=He.nextSibling,We=be.nextSibling,et=We.firstChild,Ge=et.firstChild,ge=Ge.nextSibling,Ie=et.nextSibling,Qe=Ie.firstChild,dt=Qe.firstChild,gt=dt.firstChild,tt=gt.nextSibling,ut=dt.nextSibling,rt=Ie.nextSibling,W=rt.firstChild,De=W.firstChild,Ve=De.firstChild,Je=Ve.nextSibling,st=De.nextSibling,nt=rt.nextSibling,Ft=nt.firstChild,yt=Ft.firstChild,pt=yt.firstChild,vt=pt.nextSibling,mt=yt.nextSibling,$t=nt.nextSibling,kt=$t.firstChild,Pr=kt.firstChild,Lr=Pr.firstChild,$s=Lr.nextSibling,Mr=Pr.nextSibling;return i(P,()=>t("nesting_parameters")),i(N,()=>t("space_between_parts"),z),K.$$input=$e=>S(parseFloat($e.currentTarget.value)),H.$$input=$e=>S(parseFloat($e.currentTarget.value)||0),i(ee,()=>t("spacing_description")),i(j,()=>t("curve_tolerance"),B),q.$$input=$e=>A(parseFloat($e.currentTarget.value)),te.$$input=$e=>A(parseFloat($e.currentTarget.value)||.3),i(Y,()=>t("curve_tolerance_description")),i(U,()=>t("part_rotations")),ie.addEventListener("change",$e=>I(parseInt($e.currentTarget.value))),i(ie,C(Te,{each:h,children:$e=>(()=>{var cr=T_();return i(cr,()=>$e.label),F(()=>cr.value=$e.value),cr})()})),i(le,()=>t("rotations_description")),i(ue,()=>t("genetic_algorithm")),i(de,()=>t("population_size")),pe.$$input=$e=>R(parseInt($e.currentTarget.value)),we.$$input=$e=>R(parseInt($e.currentTarget.value)||10),i(Ae,()=>t("population_size_description")),i(Re,()=>t("mutation_rate"),Oe),ze.$$input=$e=>T(parseInt($e.currentTarget.value)),Ue.$$input=$e=>T(parseInt($e.currentTarget.value)||10),i(Ke,()=>t("mutation_rate_description")),i(ge,()=>t("advanced_options")),i(gt,()=>t("use_holes")),i(tt,()=>t("use_holes_description")),ut.addEventListener("change",$e=>{x($e.currentTarget.checked),k({useHoles:$e.currentTarget.checked})}),i(Ve,()=>t("explore_concave")),i(Je,()=>t("explore_concave_description")),st.addEventListener("change",$e=>{_($e.currentTarget.checked),k({exploreConcave:$e.currentTarget.checked})}),i(pt,()=>t("merge_common_lines")),i(vt,()=>t("merge_lines_description")),mt.addEventListener("change",$e=>{y($e.currentTarget.checked),k({mergeLines:$e.currentTarget.checked})}),i(Lr,()=>t("use_rough_approximation")),i($s,()=>t("rough_approximation_description")),Mr.addEventListener("change",$e=>{E($e.currentTarget.checked),k({useRoughApproximation:$e.currentTarget.checked})}),F(()=>K.value=e()),F(()=>H.value=e()),F(()=>q.value=s()),F(()=>te.value=s()),F(()=>ie.value=a()),F(()=>pe.value=o()),F(()=>we.value=o()),F(()=>ze.value=d()),F(()=>Ue.value=d()),F(()=>ut.checked=g()),F(()=>st.checked=m()),F(()=>mt.checked=b()),F(()=>Mr.checked=M()),f})()};Ee(["input"]);var O_=L('<div class=space-y-6><div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 space-y-6"><div class="flex items-center gap-3 pb-4 border-b border-gray-200 dark:border-gray-700"><div class="w-8 h-8 bg-purple-100 dark:bg-purple-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-purple-600 dark:text-purple-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM21 5a2 2 0 00-2-2h-4a2 2 0 00-2 2v12a4 4 0 004 4h4a2 2 0 002-2V5z"></path></svg></div><h4 class="text-lg font-semibold text-gray-900 dark:text-gray-100"></h4></div><div class=space-y-3><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"></label><select class="block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"></select><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><div class=space-y-3><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"></label><select class="block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"></select><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><div class=space-y-3><div class="flex items-center justify-between"><div><label class="text-sm font-medium text-gray-700 dark:text-gray-300"></label><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><button type=button><span class=sr-only>Toggle dark mode</span><span></span></button></div></div></div><div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 space-y-6"><div class="flex items-center gap-3 pb-4 border-b border-gray-200 dark:border-gray-700"><div class="w-8 h-8 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-green-600 dark:text-green-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 6h16M4 12h16M4 18h7"></path></svg></div><h4 class="text-lg font-semibold text-gray-900 dark:text-gray-100"></h4></div><div class=space-y-3><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"></label><select class="block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"></select><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><div class=space-y-3><div class="flex items-center justify-between"><div><label class="text-sm font-medium text-gray-700 dark:text-gray-300"></label><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><input type=checkbox class="w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-2"></div></div><div class=space-y-3><div class="flex items-center justify-between"><div><label class="text-sm font-medium text-gray-700 dark:text-gray-300"></label><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><input type=checkbox class="w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-2"></div></div></div><div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 space-y-6"><div class="flex items-center gap-3 pb-4 border-b border-gray-200 dark:border-gray-700"><div class="w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-blue-600 dark:text-blue-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z"></path></svg></div><h4 class="text-lg font-semibold text-gray-900 dark:text-gray-100"></h4></div><div class=space-y-3><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"></label><div class="flex gap-3"><input type=number min=200 max=600 class="flex-1 px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"><button class="px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 border border-gray-300 dark:border-gray-600 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"></button></div><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><div class=space-y-3><div class="flex items-center justify-between"><div><label class="text-sm font-medium text-gray-700 dark:text-gray-300"></label><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><input type=checkbox class="w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-2"></div></div><div class=space-y-3><div class="flex items-center justify-between"><div><label class="text-sm font-medium text-gray-700 dark:text-gray-300"></label><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><input type=checkbox class="w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-2">'),pr=L("<option>");const F_=()=>{const[t,{changeLanguage:e}]=Ce("settings"),r=[{code:"en",name:"English"},{code:"de",name:"Deutsch"}],s=[{value:"mm",label:t("millimeters")},{value:"in",label:t("inches")},{value:"cm",label:t("centimeters")}],n=[{value:"system",label:t("auto_theme")},{value:"light",label:t("light_theme")},{value:"dark",label:t("dark_theme")}],a=async u=>{O.setLanguage(u),await e(u)},l=u=>{O.setThemePreference(u)},o=()=>typeof localStorage<"u"&&"theme"in localStorage?localStorage.theme:"system",c=u=>{O.updateConfig({...w.config,units:u})},d=()=>{O.setPanelWidth("partsWidth",300)};return(()=>{var u=O_(),g=u.firstChild,x=g.firstChild,m=x.firstChild,_=m.nextSibling,b=x.nextSibling,y=b.firstChild,M=y.nextSibling,E=M.nextSibling,k=b.nextSibling,S=k.firstChild,A=S.nextSibling,I=A.nextSibling,R=k.nextSibling,T=R.firstChild,h=T.firstChild,f=h.firstChild,$=f.nextSibling,v=h.nextSibling,p=v.firstChild,P=p.nextSibling,D=g.nextSibling,N=D.firstChild,z=N.firstChild,V=z.nextSibling,K=N.nextSibling,G=K.firstChild,H=G.nextSibling,ee=H.nextSibling,ne=K.nextSibling,j=ne.firstChild,B=j.firstChild,Z=B.firstChild,q=Z.nextSibling,Q=B.nextSibling,te=ne.nextSibling,Y=te.firstChild,fe=Y.firstChild,U=fe.firstChild,ie=U.nextSibling,le=fe.nextSibling,be=D.nextSibling,he=be.firstChild,se=he.firstChild,ue=se.nextSibling,xe=he.nextSibling,de=xe.firstChild,_e=de.nextSibling,pe=_e.firstChild,ke=pe.nextSibling,we=_e.nextSibling,Ae=xe.nextSibling,ve=Ae.firstChild,Re=ve.firstChild,Oe=Re.firstChild,He=Oe.nextSibling,ze=Re.nextSibling,Me=Ae.nextSibling,Ue=Me.firstChild,Ke=Ue.firstChild,We=Ke.firstChild,et=We.nextSibling,Ge=Ke.nextSibling;return i(_,()=>t("appearance")),i(y,()=>t("language")),M.addEventListener("change",ge=>a(ge.currentTarget.value)),i(M,C(Te,{each:r,children:ge=>(()=>{var Ie=pr();return i(Ie,()=>ge.name),F(()=>Ie.value=ge.code),Ie})()})),i(E,()=>t("language_description")),i(S,()=>t("theme")),A.addEventListener("change",ge=>l(ge.currentTarget.value)),i(A,C(Te,{each:n,children:ge=>(()=>{var Ie=pr();return i(Ie,()=>ge.label),F(()=>Ie.value=ge.value),Ie})()})),i(I,()=>t("theme_description")),i(f,()=>t("dark_mode")),i($,()=>t("dark_mode_description")),v.$$click=()=>O.setThemePreference(w.ui.darkMode?"light":"dark"),i(V,()=>t("units_and_formatting")),i(G,()=>t("display_units")),H.addEventListener("change",ge=>c(ge.currentTarget.value)),i(H,C(Te,{each:s,children:ge=>(()=>{var Ie=pr();return i(Ie,()=>ge.label),F(()=>Ie.value=ge.value),Ie})()})),i(ee,()=>t("units_description")),i(Z,()=>t("show_grid")),i(q,()=>t("show_grid_description")),Q.addEventListener("change",ge=>O.updateConfig({...w.config,showGrid:ge.currentTarget.checked})),i(U,()=>t("show_rulers")),i(ie,()=>t("show_rulers_description")),le.addEventListener("change",ge=>O.updateConfig({...w.config,showRulers:ge.currentTarget.checked})),i(ue,()=>t("layout_preferences")),i(de,()=>t("parts_panel_width")),pe.$$input=ge=>O.setPanelWidth("partsWidth",parseInt(ge.currentTarget.value)||300),ke.$$click=d,i(ke,()=>t("reset")),i(we,()=>t("panel_width_description")),i(Oe,()=>t("show_tooltips")),i(He,()=>t("tooltips_description")),ze.addEventListener("change",ge=>O.setShowTooltips(ge.currentTarget.checked)),i(We,()=>t("show_status_bar")),i(et,()=>t("status_bar_description")),Ge.addEventListener("change",ge=>O.setShowStatusBar(ge.currentTarget.checked)),F(ge=>{var Ie=`relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800 ${w.ui.darkMode?"bg-blue-600":"bg-gray-200 dark:bg-gray-700"}`,Qe=`pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out ${w.ui.darkMode?"translate-x-5":"translate-x-0"}`;return Ie!==ge.e&&ye(v,ge.e=Ie),Qe!==ge.t&&ye(P,ge.t=Qe),ge},{e:void 0,t:void 0}),F(()=>M.value=w.ui.language),F(()=>A.value=o()),F(()=>H.value=w.config.units||"mm"),F(()=>Q.checked=w.config.showGrid!==!1),F(()=>le.checked=w.config.showRulers!==!1),F(()=>pe.value=w.ui.panels.partsWidth||300),F(()=>ze.checked=w.ui.showTooltips!==!1),F(()=>Ge.checked=w.ui.showStatusBar!==!1),u})()};Ee(["click","input"]);var Xr=L('<div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="text-gray-900 dark:text-gray-100">'),j_=L('<div class="bg-gray-50 dark:bg-gray-700/50 rounded-lg p-4 space-y-4"><h5 class="text-sm font-medium text-gray-900 dark:text-gray-100"></h5><div class=space-y-2><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="text-gray-900 dark:text-gray-100"></span></div><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="text-gray-900 dark:text-gray-100"></span></div><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="text-gray-900 dark:text-gray-100"></span></div><div class="flex justify-between text-sm"><span class="text-gray-600 dark:text-gray-400">:</span><span class="text-gray-900 dark:text-gray-100"> Ã— </span></div></div><button class="w-full px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 border border-gray-300 dark:border-gray-600 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800">'),z_=L('<div class=space-y-6><div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 space-y-6"><div class="flex items-center gap-3 pb-4 border-b border-gray-200 dark:border-gray-700"><div class="w-8 h-8 bg-orange-100 dark:bg-orange-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-orange-600 dark:text-orange-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M13 10V3L4 14h7v7l9-11h-7z"></path></svg></div><h4 class="text-lg font-semibold text-gray-900 dark:text-gray-100"></h4></div><div class=space-y-3><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"></label><input type=number min=1 class="block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><div class=space-y-3><div class="flex items-center justify-between"><div><label class="text-sm font-medium text-gray-700 dark:text-gray-300"></label><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><input type=checkbox class="w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-2"></div></div><div class=space-y-3><div class="flex items-center justify-between"><div><label class="text-sm font-medium text-gray-700 dark:text-gray-300"></label><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><input type=checkbox class="w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-2"></div></div></div><div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 space-y-6"><div class="flex items-center gap-3 pb-4 border-b border-gray-200 dark:border-gray-700"><div class="w-8 h-8 bg-red-100 dark:bg-red-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-red-600 dark:text-red-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg></div><h4 class="text-lg font-semibold text-gray-900 dark:text-gray-100"></h4></div><div class=space-y-3><div class="flex items-center justify-between"><div><label class="text-sm font-medium text-gray-700 dark:text-gray-300"></label><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><input type=checkbox class="w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-2"></div></div><div class=space-y-3><div class="flex items-center justify-between"><div><label class="text-sm font-medium text-gray-700 dark:text-gray-300"></label><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><input type=checkbox class="w-4 h-4 text-blue-600 bg-white dark:bg-gray-700 border-gray-300 dark:border-gray-600 rounded focus:ring-blue-500 dark:focus:ring-blue-400 focus:ring-2"></div></div><div class=space-y-3><button class="px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 border border-gray-300 dark:border-gray-600 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"></button></div></div><div class="bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700 p-6 space-y-6"><div class="flex items-center gap-3 pb-4 border-b border-gray-200 dark:border-gray-700"><div class="w-8 h-8 bg-cyan-100 dark:bg-cyan-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-cyan-600 dark:text-cyan-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg></div><h4 class="text-lg font-semibold text-gray-900 dark:text-gray-100"></h4></div><div class=space-y-3><button class="px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 border border-gray-300 dark:border-gray-600 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"></button><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><div class=space-y-3><button class="px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 bg-gray-100 dark:bg-gray-700 hover:bg-gray-200 dark:hover:bg-gray-600 border border-gray-300 dark:border-gray-600 rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"></button><p class="text-sm text-gray-500 dark:text-gray-400"></p></div><div class=space-y-3><label class="block text-sm font-medium text-gray-700 dark:text-gray-300"> (<!>)</label><input type=number min=0 max=60 class="block w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 dark:focus:ring-blue-400 dark:focus:border-blue-400 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 transition-colors duration-200"><p class="text-sm text-gray-500 dark:text-gray-400">');const V_=()=>{const[t]=Ce("settings"),[e,r]=J(!1),s=()=>{if(confirm(t("confirm_clear_cache")))try{localStorage.clear(),O.setError(null),alert(t("cache_cleared_success"))}catch(c){console.error("Failed to clear cache:",c),O.setError(t("cache_clear_failed"))}},n=()=>{O.setPanelWidth("partsWidth",300),O.setActiveTab("parts")},a=()=>{const o={timestamp:new Date().toISOString(),platform:navigator.platform,userAgent:navigator.userAgent,language:navigator.language,viewport:{width:window.innerWidth,height:window.innerHeight},globalState:{ui:w.ui,config:w.config,partsCount:w.app.parts.length,sheetsCount:w.app.sheets.length,nestsCount:w.app.nests.length,presetsCount:w.presets.length},performance:{memory:performance.memory?{usedJSHeapSize:performance.memory.usedJSHeapSize,totalJSHeapSize:performance.memory.totalJSHeapSize,jsHeapSizeLimit:performance.memory.jsHeapSizeLimit}:null}},c=new Blob([JSON.stringify(o,null,2)],{type:"application/json"}),d=URL.createObjectURL(c),u=document.createElement("a");u.href=d,u.download=`deepnest-debug-${Date.now()}.json`,document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL(d)},l=o=>{if(o===0)return"0 Bytes";const c=1024,d=["Bytes","KB","MB","GB"],u=Math.floor(Math.log(o)/Math.log(c));return parseFloat((o/Math.pow(c,u)).toFixed(2))+" "+d[u]};return(()=>{var o=z_(),c=o.firstChild,d=c.firstChild,u=d.firstChild,g=u.nextSibling,x=d.nextSibling,m=x.firstChild,_=m.nextSibling,b=_.nextSibling,y=x.nextSibling,M=y.firstChild,E=M.firstChild,k=E.firstChild,S=k.nextSibling,A=E.nextSibling,I=y.nextSibling,R=I.firstChild,T=R.firstChild,h=T.firstChild,f=h.nextSibling,$=T.nextSibling,v=c.nextSibling,p=v.firstChild,P=p.firstChild,D=P.nextSibling,N=p.nextSibling,z=N.firstChild,V=z.firstChild,K=V.firstChild,G=K.nextSibling,H=V.nextSibling,ee=N.nextSibling,ne=ee.firstChild,j=ne.firstChild,B=j.firstChild,Z=B.nextSibling,q=j.nextSibling,Q=ee.nextSibling,te=Q.firstChild,Y=v.nextSibling,fe=Y.firstChild,U=fe.firstChild,ie=U.nextSibling,le=fe.nextSibling,be=le.firstChild,he=be.nextSibling,se=le.nextSibling,ue=se.firstChild,xe=ue.nextSibling,de=se.nextSibling,_e=de.firstChild,pe=_e.firstChild,ke=pe.nextSibling;ke.nextSibling;var we=_e.nextSibling,Ae=we.nextSibling;return i(g,()=>t("performance")),i(m,()=>t("worker_threads")),_.$$input=ve=>O.updateConfig({...w.config,workerThreads:parseInt(ve.currentTarget.value)||4}),i(b,()=>t("worker_threads_description",{max:navigator.hardwareConcurrency||8})),i(k,()=>t("enable_gpu_acceleration")),i(S,()=>t("gpu_acceleration_description")),A.addEventListener("change",ve=>O.updateConfig({...w.config,enableGPU:ve.currentTarget.checked})),i(h,()=>t("enable_caching")),i(f,()=>t("caching_description")),$.addEventListener("change",ve=>O.updateConfig({...w.config,enableCaching:ve.currentTarget.checked})),i(D,()=>t("debugging")),i(K,()=>t("debug_mode")),i(G,()=>t("debug_mode_description")),H.addEventListener("change",ve=>O.updateConfig({...w.config,debugMode:ve.currentTarget.checked})),i(B,()=>t("verbose_logging")),i(Z,()=>t("verbose_logging_description")),q.addEventListener("change",ve=>O.updateConfig({...w.config,verboseLogging:ve.currentTarget.checked})),te.$$click=()=>r(!e()),i(te,(()=>{var ve=Se(()=>!!e());return()=>ve()?t("hide_debug_info"):t("show_debug_info")})()),i(Q,C(X,{get when(){return e()},get children(){var ve=j_(),Re=ve.firstChild,Oe=Re.nextSibling,He=Oe.firstChild,ze=He.firstChild,Me=ze.firstChild,Ue=ze.nextSibling,Ke=He.nextSibling,We=Ke.firstChild,et=We.firstChild,Ge=We.nextSibling,ge=Ke.nextSibling,Ie=ge.firstChild,Qe=Ie.firstChild,dt=Ie.nextSibling,gt=ge.nextSibling,tt=gt.firstChild,ut=tt.firstChild,rt=tt.nextSibling,W=rt.firstChild,De=Oe.nextSibling;return i(Re,()=>t("system_information")),i(ze,()=>t("platform"),Me),i(Ue,()=>navigator.platform),i(We,()=>t("language"),et),i(Ge,()=>navigator.language),i(Ie,()=>t("cpu_cores"),Qe),i(dt,()=>navigator.hardwareConcurrency||"Unknown"),i(tt,()=>t("viewport"),ut),i(rt,()=>window.innerWidth,W),i(rt,()=>window.innerHeight,null),i(Oe,C(X,{get when(){return performance.memory},get children(){return[(()=>{var Ve=Xr(),Je=Ve.firstChild,st=Je.firstChild,nt=Je.nextSibling;return i(Je,()=>t("memory_used"),st),i(nt,()=>l(performance.memory.usedJSHeapSize)),Ve})(),(()=>{var Ve=Xr(),Je=Ve.firstChild,st=Je.firstChild,nt=Je.nextSibling;return i(Je,()=>t("memory_total"),st),i(nt,()=>l(performance.memory.totalJSHeapSize)),Ve})()]}}),null),De.$$click=a,i(De,()=>t("export_debug_info")),ve}}),null),i(ie,()=>t("maintenance")),be.$$click=s,i(be,()=>t("clear_cache")),i(he,()=>t("clear_cache_description")),ue.$$click=n,i(ue,()=>t("reset_layout")),i(xe,()=>t("reset_layout_description")),i(_e,()=>t("auto_save_interval"),pe),i(_e,()=>t("minutes"),ke),we.$$input=ve=>O.updateConfig({...w.config,autoSaveInterval:parseInt(ve.currentTarget.value)||5}),i(Ae,()=>t("auto_save_description")),F(()=>re(_,"max",navigator.hardwareConcurrency||8)),F(()=>_.value=w.config.workerThreads||navigator.hardwareConcurrency||4),F(()=>A.checked=w.config.enableGPU||!1),F(()=>$.checked=w.config.enableCaching!==!1),F(()=>H.checked=w.config.debugMode||!1),F(()=>q.checked=w.config.verboseLogging||!1),F(()=>we.value=w.config.autoSaveInterval||5),o})()};Ee(["input","click"]);var B_=L('<svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3-3m0 0l-3 3m3-3v12">'),H_=L('<svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M15 12a3 3 0 11-6 0 3 3 0 016 0z">'),U_=L('<svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM21 5a2 2 0 00-2-2h-4a2 2 0 00-2 2v12a4 4 0 004 4h4a2 2 0 002-2V5z">'),K_=L('<svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4">'),W_=L('<div class="bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700"><div class="p-6 border-b border-gray-200 dark:border-gray-700"><div class="flex items-center gap-3"><div class="w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-blue-600 dark:text-blue-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3-3m0 0l-3 3m3-3v12"></path></svg></div><div><h2 class="text-xl font-semibold text-gray-900 dark:text-gray-100"></h2><p class="text-sm text-gray-500 dark:text-gray-400">Save and manage configuration presets</p></div></div></div><div class=p-6>'),q_=L('<div class="bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700"><div class="p-6 border-b border-gray-200 dark:border-gray-700"><div class="flex items-center gap-3"><div class="w-8 h-8 bg-purple-100 dark:bg-purple-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-purple-600 dark:text-purple-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg></div><div><h2 class="text-xl font-semibold text-gray-900 dark:text-gray-100"></h2><p class="text-sm text-gray-500 dark:text-gray-400">Configure nesting algorithm parameters</p></div></div></div><div class=p-6>'),G_=L('<div class="bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700"><div class="p-6 border-b border-gray-200 dark:border-gray-700"><div class="flex items-center gap-3"><div class="w-8 h-8 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-green-600 dark:text-green-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M7 21a4 4 0 01-4-4V5a2 2 0 012-2h4a2 2 0 012 2v12a4 4 0 01-4 4zM21 5a2 2 0 00-2-2h-4a2 2 0 00-2 2v12a4 4 0 004 4h4a2 2 0 002-2V5z"></path></svg></div><div><h2 class="text-xl font-semibold text-gray-900 dark:text-gray-100"></h2><p class="text-sm text-gray-500 dark:text-gray-400">Customize interface and appearance</p></div></div></div><div class=p-6>'),J_=L('<div class="bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700"><div class="p-6 border-b border-gray-200 dark:border-gray-700"><div class="flex items-center gap-3"><div class="w-8 h-8 bg-orange-100 dark:bg-orange-900/30 rounded-lg flex items-center justify-center"><svg class="w-4 h-4 text-orange-600 dark:text-orange-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4"></path></svg></div><div><h2 class="text-xl font-semibold text-gray-900 dark:text-gray-100"></h2><p class="text-sm text-gray-500 dark:text-gray-400">Advanced configuration options</p></div></div></div><div class=p-6>'),Z_=L('<div class="h-full flex flex-col bg-white dark:bg-gray-900"><div class="bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700"><div class="px-6 py-4 flex items-center justify-between"><div class="flex items-center gap-3"><div class="w-10 h-10 bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg flex items-center justify-center shadow-sm"><svg class="w-5 h-5 text-white"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4"></path></svg></div><div><h1 class="text-xl font-semibold text-gray-900 dark:text-gray-100"></h1><p class="text-sm text-gray-500 dark:text-gray-400">Configure your preferences and application settings</p></div></div><div class="flex items-center gap-3"><button class="inline-flex items-center gap-2 px-3 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 font-medium rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m-3 3V10"></path></svg></button><button class="inline-flex items-center gap-2 px-3 py-2 text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 font-medium rounded-lg transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path></svg></button><button class="inline-flex items-center gap-2 px-4 py-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 font-medium rounded-lg border border-red-200 dark:border-red-800 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 dark:focus:ring-offset-gray-800"><svg class="w-4 h-4"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg></button></div></div></div><div class="flex-1 flex overflow-hidden bg-gray-50 dark:bg-gray-900"><div class="w-80 bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700"><div class=p-6><h3 class="text-sm font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-4">Settings Categories</h3><nav class=space-y-2></nav></div></div><div class="flex-1 overflow-y-auto bg-gray-50 dark:bg-gray-900"><div class=p-6>'),Q_=L('<button><div></div><div class="flex-1 min-w-0"><div></div><div>'),X_=L('<div class="w-1 h-8 bg-blue-500 dark:bg-blue-400 rounded-full flex-shrink-0">');const Y_=()=>{const[t]=Ce("settings"),[e,r]=J("presets"),s=async()=>{if(confirm(t("confirm_reset_defaults")))try{O.resetToDefaults(),ae.isAvailable&&await ae.saveConfig(w.config)}catch(c){console.error("Failed to reset to defaults:",c),O.setError(t("reset_failed"))}},n=async()=>{if(ae.isAvailable)try{const o=await ae.saveFileDialog({title:t("export_configuration"),defaultPath:"deepnest-config.json",filters:[{name:"JSON Files",extensions:["json"]},{name:"All Files",extensions:["*"]}]});if(o.canceled||!o.filePath)return;await ae.exportConfig(w.config,o.filePath)}catch(o){console.error("Failed to export config:",o),O.setError(t("export_failed"))}},a=async()=>{if(ae.isAvailable)try{const o=await ae.openFileDialog({title:t("import_configuration"),filters:[{name:"JSON Files",extensions:["json"]},{name:"All Files",extensions:["*"]}],properties:["openFile"]});if(o.canceled||!o.filePaths?.length)return;const c=await ae.importConfig(o.filePaths[0]);O.updateConfig(c)}catch(o){console.error("Failed to import config:",o),O.setError(t("import_failed"))}},l=[{id:"presets",label:t("preset_management"),description:"Save and manage configuration presets",icon:B_()},{id:"algorithm",label:t("algorithm_settings"),description:"Configure nesting algorithm parameters",icon:H_()},{id:"ui",label:t("ui_preferences"),description:"Customize interface and appearance",icon:U_()},{id:"advanced",label:t("advanced_settings"),description:"Advanced configuration options",icon:K_()}];return(()=>{var o=Z_(),c=o.firstChild,d=c.firstChild,u=d.firstChild,g=u.firstChild,x=g.nextSibling,m=x.firstChild,_=u.nextSibling,b=_.firstChild;b.firstChild;var y=b.nextSibling;y.firstChild;var M=y.nextSibling;M.firstChild;var E=c.nextSibling,k=E.firstChild,S=k.firstChild,A=S.firstChild,I=A.nextSibling,R=k.nextSibling,T=R.firstChild;return i(m,()=>t("settings_title")),b.$$click=a,i(b,()=>t("import"),null),y.$$click=n,i(y,()=>t("export"),null),M.$$click=s,i(M,()=>t("reset_defaults"),null),i(I,C(Te,{each:l,children:h=>(()=>{var f=Q_(),$=f.firstChild,v=$.nextSibling,p=v.firstChild,P=p.nextSibling;return f.$$click=()=>r(h.id),i($,()=>h.icon),i(p,()=>h.label),i(P,()=>h.description),i(f,(()=>{var D=Se(()=>e()===h.id);return()=>D()&&X_()})(),null),F(D=>{var N=`w-full flex items-start gap-4 px-4 py-3 rounded-xl text-left transition-all duration-200 group ${e()===h.id?"bg-blue-50 dark:bg-blue-900/30 border-2 border-blue-200 dark:border-blue-700 shadow-sm":"hover:bg-gray-50 dark:hover:bg-gray-700/50 border-2 border-transparent"}`,z=`w-10 h-10 rounded-lg flex items-center justify-center flex-shrink-0 transition-colors duration-200 ${e()===h.id?"bg-blue-100 dark:bg-blue-900/50 text-blue-600 dark:text-blue-400":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400 group-hover:bg-gray-200 dark:group-hover:bg-gray-600"}`,V=`font-medium transition-colors duration-200 ${e()===h.id?"text-blue-900 dark:text-blue-100":"text-gray-900 dark:text-gray-100 group-hover:text-gray-900 dark:group-hover:text-gray-100"}`,K=`text-sm mt-1 transition-colors duration-200 ${e()===h.id?"text-blue-700 dark:text-blue-300":"text-gray-500 dark:text-gray-400"}`;return N!==D.e&&ye(f,D.e=N),z!==D.t&&ye($,D.t=z),V!==D.a&&ye(p,D.a=V),K!==D.o&&ye(P,D.o=K),D},{e:void 0,t:void 0,a:void 0,o:void 0}),f})()})),i(T,C(X,{get when(){return e()==="presets"},get children(){var h=W_(),f=h.firstChild,$=f.firstChild,v=$.firstChild,p=v.nextSibling,P=p.firstChild,D=f.nextSibling;return i(P,()=>t("preset_management")),i(D,C(N_,{})),h}}),null),i(T,C(X,{get when(){return e()==="algorithm"},get children(){var h=q_(),f=h.firstChild,$=f.firstChild,v=$.firstChild,p=v.nextSibling,P=p.firstChild,D=f.nextSibling;return i(P,()=>t("algorithm_settings")),i(D,C(D_,{})),h}}),null),i(T,C(X,{get when(){return e()==="ui"},get children(){var h=G_(),f=h.firstChild,$=f.firstChild,v=$.firstChild,p=v.nextSibling,P=p.firstChild,D=f.nextSibling;return i(P,()=>t("ui_preferences")),i(D,C(F_,{})),h}}),null),i(T,C(X,{get when(){return e()==="advanced"},get children(){var h=J_(),f=h.firstChild,$=f.firstChild,v=$.firstChild,p=v.nextSibling,P=p.firstChild,D=f.nextSibling;return i(P,()=>t("advanced_settings")),i(D,C(V_,{})),h}}),null),F(h=>{var f=t("import_configuration"),$=t("export_configuration"),v=t("reset_to_defaults");return f!==h.e&&re(b,"title",h.e=f),$!==h.t&&re(y,"title",h.t=$),v!==h.a&&re(M,"title",h.a=v),h},{e:void 0,t:void 0,a:void 0}),o})()};Ee(["click"]);var ey=L('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"><div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden"><div class="flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700"><h2 class="text-xl font-semibold text-gray-900 dark:text-gray-100"></h2><button class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors"><span class=sr-only></span><svg class="w-6 h-6"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M6 18L18 6M6 6l12 12"></path></svg></button></div><div class="p-6 overflow-y-auto max-h-[70vh]"><div class="prose prose-gray dark:prose-invert max-w-none"><div class="mb-4 text-sm text-gray-600 dark:text-gray-400">: </div><section class=mb-6><h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3"></h3><p class="text-gray-600 dark:text-gray-400 mb-3"></p></section><section class=mb-6><h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3"></h3><p class="text-gray-600 dark:text-gray-400 mb-3"></p><ul class="list-disc pl-6 space-y-2 text-gray-600 dark:text-gray-400"><li></li><li></li><li></li><li></li></ul></section><section class=mb-6><h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3"></h3><p class="text-gray-600 dark:text-gray-400 mb-3"></p><ul class="list-disc pl-6 space-y-2 text-gray-600 dark:text-gray-400"><li></li><li></li><li></li></ul></section><section class=mb-6><h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3"></h3><p class="text-gray-600 dark:text-gray-400 mb-3"></p><ul class="list-disc pl-6 space-y-2 text-gray-600 dark:text-gray-400"><li></li><li></li><li></li></ul></section><section class=mb-6><h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3"></h3><p class="text-gray-600 dark:text-gray-400 mb-3"></p><ul class="list-disc pl-6 space-y-2 text-gray-600 dark:text-gray-400"><li></li><li></li><li></li><li></li></ul></section><section class=mb-6><h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3"></h3><p class="text-gray-600 dark:text-gray-400 mb-3"></p></section><section class=mb-6><h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3"></h3><p class="text-gray-600 dark:text-gray-400 mb-3"></p><div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"><p class="text-sm text-gray-600 dark:text-gray-400">: <a href=https://github.com/deepnest-next/deepnest/issues target=_blank rel="noopener noreferrer"class="text-blue-600 dark:text-blue-400 hover:underline ml-1">https://github.com/deepnest-next/deepnest/issues</a></p></div></section></div></div><div class="flex justify-end p-6 border-t border-gray-200 dark:border-gray-700"><button class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors">');const ty=t=>{const[e]=Ce("imprint"),r=s=>{s.target===s.currentTarget&&t.onClose()};return(()=>{var s=ey(),n=s.firstChild,a=n.firstChild,l=a.firstChild,o=l.nextSibling,c=o.firstChild,d=a.nextSibling,u=d.firstChild,g=u.firstChild,x=g.firstChild,m=g.nextSibling,_=m.firstChild,b=_.nextSibling,y=m.nextSibling,M=y.firstChild,E=M.nextSibling,k=E.nextSibling,S=k.firstChild,A=S.nextSibling,I=A.nextSibling,R=I.nextSibling,T=y.nextSibling,h=T.firstChild,f=h.nextSibling,$=f.nextSibling,v=$.firstChild,p=v.nextSibling,P=p.nextSibling,D=T.nextSibling,N=D.firstChild,z=N.nextSibling,V=z.nextSibling,K=V.firstChild,G=K.nextSibling,H=G.nextSibling,ee=D.nextSibling,ne=ee.firstChild,j=ne.nextSibling,B=j.nextSibling,Z=B.firstChild,q=Z.nextSibling,Q=q.nextSibling,te=Q.nextSibling,Y=ee.nextSibling,fe=Y.firstChild,U=fe.nextSibling,ie=Y.nextSibling,le=ie.firstChild,be=le.nextSibling,he=be.nextSibling,se=he.firstChild,ue=se.firstChild,xe=d.nextSibling,de=xe.firstChild;return s.$$click=r,i(l,()=>e("privacy_policy")),Le(o,"click",t.onClose,!0),i(c,()=>e("close")),i(g,()=>e("privacy_last_updated"),x),i(g,()=>new Date().toLocaleDateString(),null),i(_,()=>e("privacy_section_overview")),i(b,()=>e("privacy_overview_text")),i(M,()=>e("privacy_section_data_collection")),i(E,()=>e("privacy_data_collection_text")),i(S,()=>e("privacy_data_settings")),i(A,()=>e("privacy_data_preferences")),i(I,()=>e("privacy_data_projects")),i(R,()=>e("privacy_data_no_personal")),i(h,()=>e("privacy_section_data_storage")),i(f,()=>e("privacy_data_storage_text")),i(v,()=>e("privacy_storage_local")),i(p,()=>e("privacy_storage_no_transmission")),i(P,()=>e("privacy_storage_user_control")),i(N,()=>e("privacy_section_third_party")),i(z,()=>e("privacy_third_party_text")),i(K,()=>e("privacy_third_party_converter")),i(G,()=>e("privacy_third_party_optional")),i(H,()=>e("privacy_third_party_no_tracking")),i(ne,()=>e("privacy_section_user_rights")),i(j,()=>e("privacy_user_rights_text")),i(Z,()=>e("privacy_rights_access")),i(q,()=>e("privacy_rights_delete")),i(Q,()=>e("privacy_rights_modify")),i(te,()=>e("privacy_rights_export")),i(fe,()=>e("privacy_section_updates")),i(U,()=>e("privacy_updates_text")),i(le,()=>e("privacy_section_contact")),i(be,()=>e("privacy_contact_text")),i(se,()=>e("privacy_contact_github"),ue),Le(de,"click",t.onClose,!0),i(de,()=>e("close")),s})()};Ee(["click"]);var ry=L('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"><div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full max-h-[90vh] overflow-hidden"><div class="flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-700"><h2 class="text-xl font-semibold text-gray-900 dark:text-gray-100"></h2><button class="text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 transition-colors"><span class=sr-only></span><svg class="w-6 h-6"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M6 18L18 6M6 6l12 12"></path></svg></button></div><div class="p-6 overflow-y-auto max-h-[70vh]"><div class="prose prose-gray dark:prose-invert max-w-none"><div class="mb-4 text-sm text-gray-600 dark:text-gray-400">: </div><section class=mb-6><h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3"></h3><div class="space-y-2 text-gray-600 dark:text-gray-400"><p><strong>:</strong> DeepNest Next</p><p><strong>:</strong> 2.0.0</p><p><strong>:</strong> </p><p><strong>:</strong><a href=https://github.com/deepnest-next/deepnest target=_blank rel="noopener noreferrer"class="text-blue-600 dark:text-blue-400 hover:underline ml-1">https://github.com/deepnest-next/deepnest</a></p></div></section><section class=mb-6><h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3"></h3><p class="text-gray-600 dark:text-gray-400 mb-3"></p><div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"><p class="text-sm text-gray-600 dark:text-gray-400">: MIT License</p><p class="text-sm text-gray-600 dark:text-gray-400 mt-2">: <a href=https://github.com/deepnest-next/deepnest/blob/main/LICENSE target=_blank rel="noopener noreferrer"class="text-blue-600 dark:text-blue-400 hover:underline ml-1">https://github.com/deepnest-next/deepnest/blob/main/LICENSE</a></p></div></section><section class=mb-6><h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3"></h3><p class="text-gray-600 dark:text-gray-400 mb-3"></p><div class="bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 p-4 rounded-lg"><p class="text-sm text-yellow-800 dark:text-yellow-300"><strong>:</strong> </p></div></section><section class=mb-6><h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3"></h3><p class="text-gray-600 dark:text-gray-400 mb-3"></p><div class=space-y-3><div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"><h4 class="font-semibold text-gray-900 dark:text-gray-100 mb-2">Electron</h4><p class="text-sm text-gray-600 dark:text-gray-400">MIT License - <a href=https://github.com/electron/electron target=_blank rel="noopener noreferrer"class="text-blue-600 dark:text-blue-400 hover:underline">https://github.com/electron/electron</a></p></div><div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"><h4 class="font-semibold text-gray-900 dark:text-gray-100 mb-2">SolidJS</h4><p class="text-sm text-gray-600 dark:text-gray-400">MIT License - <a href=https://github.com/solidjs/solid target=_blank rel="noopener noreferrer"class="text-blue-600 dark:text-blue-400 hover:underline">https://github.com/solidjs/solid</a></p></div><div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"><h4 class="font-semibold text-gray-900 dark:text-gray-100 mb-2">Clipper Library</h4><p class="text-sm text-gray-600 dark:text-gray-400">Boost Software License - <a href=https://github.com/junmer/clipper-lib target=_blank rel="noopener noreferrer"class="text-blue-600 dark:text-blue-400 hover:underline">https://github.com/junmer/clipper-lib</a></p></div></div></section><section class=mb-6><h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3"></h3><p class="text-gray-600 dark:text-gray-400 mb-3"></p><div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"><p class="text-sm text-gray-600 dark:text-gray-400">: <a href=https://github.com/Jack000/SVGnest target=_blank rel="noopener noreferrer"class="text-blue-600 dark:text-blue-400 hover:underline ml-1">SVGnest by Jack000</a></p><p class="text-sm text-gray-600 dark:text-gray-400 mt-1">: <a href=https://github.com/deepnest-io/deepnest target=_blank rel="noopener noreferrer"class="text-blue-600 dark:text-blue-400 hover:underline ml-1">Deepnest by deepnest-io</a></p></div></section><section class=mb-6><h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 mb-3"></h3><p class="text-gray-600 dark:text-gray-400 mb-3"></p><div class="bg-gray-50 dark:bg-gray-700 p-4 rounded-lg"><p class="text-sm text-gray-600 dark:text-gray-400">: <a href=https://github.com/deepnest-next/deepnest/issues target=_blank rel="noopener noreferrer"class="text-blue-600 dark:text-blue-400 hover:underline ml-1">https://github.com/deepnest-next/deepnest/issues</a></p></div></section></div></div><div class="flex justify-end p-6 border-t border-gray-200 dark:border-gray-700"><button class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors">');const sy=t=>{const[e]=Ce("imprint"),r=s=>{s.target===s.currentTarget&&t.onClose()};return(()=>{var s=ry(),n=s.firstChild,a=n.firstChild,l=a.firstChild,o=l.nextSibling,c=o.firstChild,d=a.nextSibling,u=d.firstChild,g=u.firstChild,x=g.firstChild,m=g.nextSibling,_=m.firstChild,b=_.nextSibling,y=b.firstChild,M=y.firstChild,E=M.firstChild,k=y.nextSibling,S=k.firstChild,A=S.firstChild,I=k.nextSibling,R=I.firstChild,T=R.firstChild;R.nextSibling;var h=I.nextSibling,f=h.firstChild,$=f.firstChild,v=m.nextSibling,p=v.firstChild,P=p.nextSibling,D=P.nextSibling,N=D.firstChild,z=N.firstChild,V=N.nextSibling,K=V.firstChild,G=v.nextSibling,H=G.firstChild,ee=H.nextSibling,ne=ee.nextSibling,j=ne.firstChild,B=j.firstChild,Z=B.firstChild;B.nextSibling;var q=G.nextSibling,Q=q.firstChild,te=Q.nextSibling,Y=q.nextSibling,fe=Y.firstChild,U=fe.nextSibling,ie=U.nextSibling,le=ie.firstChild,be=le.firstChild,he=le.nextSibling,se=he.firstChild,ue=Y.nextSibling,xe=ue.firstChild,de=xe.nextSibling,_e=de.nextSibling,pe=_e.firstChild,ke=pe.firstChild,we=d.nextSibling,Ae=we.firstChild;return s.$$click=r,i(l,()=>e("legal_notice")),Le(o,"click",t.onClose,!0),i(c,()=>e("close")),i(g,()=>e("legal_last_updated"),x),i(g,()=>new Date().toLocaleDateString(),null),i(_,()=>e("legal_section_software_info")),i(M,()=>e("legal_software_name"),E),i(S,()=>e("legal_software_version"),A),i(R,()=>e("legal_software_type"),T),i(I,()=>e("legal_software_type_description"),null),i(f,()=>e("legal_project_website"),$),i(p,()=>e("legal_section_license")),i(P,()=>e("legal_license_text")),i(N,()=>e("legal_license_type"),z),i(V,()=>e("legal_license_link"),K),i(H,()=>e("legal_section_disclaimer")),i(ee,()=>e("legal_disclaimer_text")),i(B,()=>e("legal_disclaimer_warning"),Z),i(j,()=>e("legal_disclaimer_warning_text"),null),i(Q,()=>e("legal_section_third_party")),i(te,()=>e("legal_third_party_text")),i(fe,()=>e("legal_section_attribution")),i(U,()=>e("legal_attribution_text")),i(le,()=>e("legal_attribution_original"),be),i(he,()=>e("legal_attribution_previous"),se),i(xe,()=>e("legal_section_contact")),i(de,()=>e("legal_contact_text")),i(pe,()=>e("legal_contact_github"),ke),Le(Ae,"click",t.onClose,!0),i(Ae,()=>e("close")),s})()};Ee(["click"]);var ny=L('<div class="h-full flex flex-col bg-white dark:bg-gray-900"><div class="flex items-center justify-between p-5 border-b border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800"><h2 class="text-lg font-medium text-gray-900 dark:text-gray-100"></h2></div><div class="flex-1 overflow-y-auto p-6"><div class="max-w-4xl mx-auto space-y-8"><div class=text-center><div class="inline-flex items-center justify-center w-24 h-24 rounded-full bg-blue-100 dark:bg-blue-900 mb-6"><span class=text-4xl>ðŸ”§</span></div><h1 class="text-3xl font-bold text-gray-900 dark:text-gray-100 mb-2">DeepNest Next</h1><p class="text-lg text-gray-600 dark:text-gray-400 mb-4"></p><div class="flex items-center justify-center space-x-4 text-sm text-gray-500 dark:text-gray-400"><span>: </span><span>â€¢</span><span>: </span></div></div><section class="bg-gray-50 dark:bg-gray-800 rounded-lg p-6"><h2 class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4"></h2><div class="prose prose-gray dark:prose-invert max-w-none"><p class=mb-4></p><p class=mb-4></p><ul class="list-disc pl-6 space-y-2"><li></li><li></li><li></li><li></li><li></li></ul></div></section><section class="bg-gray-50 dark:bg-gray-800 rounded-lg p-6"><h2 class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4"></h2><div class="grid grid-cols-1 md:grid-cols-2 gap-6"><div><h3 class="font-semibold text-gray-900 dark:text-gray-100 mb-3"></h3><ul class="space-y-2 text-sm text-gray-600 dark:text-gray-400"><li>â€¢ SolidJS 1.8+</li><li>â€¢ TypeScript</li><li>â€¢ Tailwind CSS v4</li><li>â€¢ Vite</li><li>â€¢ i18next</li></ul></div><div><h3 class="font-semibold text-gray-900 dark:text-gray-100 mb-3"></h3><ul class="space-y-2 text-sm text-gray-600 dark:text-gray-400"><li>â€¢ Electron</li><li>â€¢ Node.js</li><li>â€¢ C++ Native Modules</li><li>â€¢ Clipper Library</li><li>â€¢ Genetic Algorithm</li></ul></div></div></section><section class="bg-gray-50 dark:bg-gray-800 rounded-lg p-6"><h2 class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4"></h2><div class=space-y-4><div><h3 class="font-semibold text-gray-900 dark:text-gray-100 mb-2"></h3><p class="text-gray-600 dark:text-gray-400"></p></div><div><h3 class="font-semibold text-gray-900 dark:text-gray-100 mb-2"></h3><p class="text-gray-600 dark:text-gray-400"></p></div><div class="flex space-x-4"><a href=https://github.com/deepnest-next/deepnest target=_blank rel="noopener noreferrer"class="inline-flex items-center px-4 py-2 bg-gray-900 dark:bg-gray-700 text-white rounded-lg hover:bg-gray-800 dark:hover:bg-gray-600 transition-colors"><span class=mr-2>ðŸ“š</span></a><a href=https://github.com/deepnest-next/deepnest/releases target=_blank rel="noopener noreferrer"class="inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"><span class=mr-2>ðŸ“¦</span></a></div></div></section><section class="bg-gray-50 dark:bg-gray-800 rounded-lg p-6"><h2 class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4"></h2><div class=space-y-4><p class="text-gray-600 dark:text-gray-400"></p><div class="flex space-x-4"><button class="inline-flex items-center px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors"><span class=mr-2>ðŸ”’</span></button><button class="inline-flex items-center px-4 py-2 bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors"><span class=mr-2>ðŸ“‹</span></button></div></div></section><section class="bg-gray-50 dark:bg-gray-800 rounded-lg p-6"><h2 class="text-xl font-semibold text-gray-900 dark:text-gray-100 mb-4"></h2><div class=space-y-4><p class="text-gray-600 dark:text-gray-400"></p><div class="flex space-x-4"><a href=https://github.com/deepnest-next/deepnest/issues target=_blank rel="noopener noreferrer"class="inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors"><span class=mr-2>ðŸ›</span></a><a href=https://github.com/deepnest-next/deepnest/discussions target=_blank rel="noopener noreferrer"class="inline-flex items-center px-4 py-2 bg-purple-600 text-white rounded-lg hover:bg-purple-700 transition-colors"><span class=mr-2>ðŸ’¬');const iy=()=>{const[t]=Ce("imprint"),[e,r]=J(!1),[s,n]=J(!1),a=_s();return(()=>{var l=ny(),o=l.firstChild,c=o.firstChild,d=o.nextSibling,u=d.firstChild,g=u.firstChild,x=g.firstChild,m=x.nextSibling,_=m.nextSibling,b=_.nextSibling,y=b.firstChild,M=y.firstChild,E=y.nextSibling,k=E.nextSibling,S=k.firstChild,A=g.nextSibling,I=A.firstChild,R=I.nextSibling,T=R.firstChild,h=T.nextSibling,f=h.nextSibling,$=f.firstChild,v=$.nextSibling,p=v.nextSibling,P=p.nextSibling,D=P.nextSibling,N=A.nextSibling,z=N.firstChild,V=z.nextSibling,K=V.firstChild,G=K.firstChild,H=K.nextSibling,ee=H.firstChild,ne=N.nextSibling,j=ne.firstChild,B=j.nextSibling,Z=B.firstChild,q=Z.firstChild,Q=q.nextSibling,te=Z.nextSibling,Y=te.firstChild,fe=Y.nextSibling,U=te.nextSibling,ie=U.firstChild;ie.firstChild;var le=ie.nextSibling;le.firstChild;var be=ne.nextSibling,he=be.firstChild,se=he.nextSibling,ue=se.firstChild,xe=ue.nextSibling,de=xe.firstChild;de.firstChild;var _e=de.nextSibling;_e.firstChild;var pe=be.nextSibling,ke=pe.firstChild,we=ke.nextSibling,Ae=we.firstChild,ve=Ae.nextSibling,Re=ve.firstChild;Re.firstChild;var Oe=Re.nextSibling;return Oe.firstChild,i(c,()=>t("imprint_title")),i(_,()=>t("tagline")),i(y,()=>t("version"),M),i(y,()=>a.version,null),i(k,()=>t("build_date"),S),i(k,()=>a.buildDate,null),i(I,()=>t("about_title")),i(T,()=>t("about_description")),i(h,()=>t("about_features")),i($,()=>t("feature_genetic_algorithm")),i(v,()=>t("feature_multiple_formats")),i(p,()=>t("feature_real_time_preview")),i(P,()=>t("feature_advanced_settings")),i(D,()=>t("feature_multi_language")),i(z,()=>t("technical_info_title")),i(G,()=>t("frontend_technologies")),i(ee,()=>t("backend_technologies")),i(j,()=>t("project_info_title")),i(q,()=>t("project_origin")),i(Q,()=>t("project_origin_description")),i(Y,()=>t("open_source")),i(fe,()=>t("open_source_description")),i(ie,()=>t("view_source"),null),i(le,()=>t("releases"),null),i(he,()=>t("legal_title")),i(ue,()=>t("legal_description")),de.$$click=()=>r(!0),i(de,()=>t("privacy_policy"),null),_e.$$click=()=>n(!0),i(_e,()=>t("legal_notice"),null),i(ke,()=>t("contact_title")),i(Ae,()=>t("contact_description")),i(Re,()=>t("report_issue"),null),i(Oe,()=>t("discussions"),null),i(l,C(X,{get when(){return e()},get children(){return C(ty,{onClose:()=>r(!1)})}}),null),i(l,C(X,{get when(){return s()},get children(){return C(sy,{onClose:()=>n(!1)})}}),null),l})()};Ee(["click"]);var ay=L('<main class="flex-1 overflow-hidden bg-gray-50 dark:bg-gray-900 w-full h-full">');const oy=()=>(()=>{var t=ay();return i(t,C(Fs,{get children(){return[C(wt,{get when(){return w.ui.activeTab==="parts"},get children(){return C($x,{})}}),C(wt,{get when(){return w.ui.activeTab==="nests"},get children(){return C(g_,{})}}),C(wt,{get when(){return w.ui.activeTab==="sheets"},get children(){return C(S_,{})}}),C(wt,{get when(){return w.ui.activeTab==="settings"},get children(){return C(Y_,{})}}),C(wt,{get when(){return w.ui.activeTab==="imprint"},get children(){return C(iy,{})}})]}})),t})();var ly=L('<div class="flex items-center gap-3"><div class="w-32 h-2 bg-gray-200 dark:bg-gray-700 rounded-full overflow-hidden"><div class="h-full bg-blue-500 dark:bg-blue-400 rounded-full transition-all duration-300 ease-out"></div></div><span class="text-gray-600 dark:text-gray-400 min-w-10 text-right font-mono">%'),cy=L('<div class="flex items-center gap-1"><svg class="w-3 h-3"fill=currentColor viewBox="0 0 20 20"><path fill-rule=evenodd d="M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z"clip-rule=evenodd></path></svg><span> threads'),dy=L('<div class="flex items-center gap-1"><svg class="w-3 h-3"fill=currentColor viewBox="0 0 20 20"><path fill-rule=evenodd d="M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z"clip-rule=evenodd></path></svg><span> parts'),gy=L('<div class="flex items-center gap-1"><svg class="w-3 h-3"fill=currentColor viewBox="0 0 20 20"><path fill-rule=evenodd d="M3 3a1 1 0 000 2v8a2 2 0 002 2h2.586l-1.293 1.293a1 1 0 101.414 1.414L10 15.414l2.293 2.293a1 1 0 001.414-1.414L12.414 15H15a2 2 0 002-2V5a1 1 0 100-2H3zm11.707 4.707a1 1 0 00-1.414-1.414L10 9.586 8.707 8.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z"clip-rule=evenodd></path></svg><span> results'),uy=L('<div class="flex items-center gap-1 text-red-500 dark:text-red-400"><svg class="w-3 h-3"fill=currentColor viewBox="0 0 20 20"><path fill-rule=evenodd d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z"clip-rule=evenodd></path></svg><span class="max-w-64 truncate">'),fy=L('<footer class="h-10 bg-gray-100 dark:bg-gray-800 border-t border-gray-200 dark:border-gray-700 flex items-center justify-between px-4 text-xs"><div class="flex items-center gap-4"><div class="flex items-center gap-2"><div></div><span class="text-gray-900 dark:text-gray-100 font-medium"></span></div></div><div class="flex items-center gap-6 text-gray-600 dark:text-gray-400">');const hy=()=>{const[t]=Ce("common"),e=oe(()=>{const{process:s}=w;return s.isNesting?t("status.nesting_in_progress"):s.lastError?t("status.error_occurred"):s.workerStatus.isRunning?s.workerStatus.currentOperation||t("status.processing"):t("status.ready")}),r=oe(()=>Math.max(0,Math.min(100,w.process.progress)));return(()=>{var s=fy(),n=s.firstChild,a=n.firstChild,l=a.firstChild,o=l.nextSibling,c=n.nextSibling;return i(o,e),i(n,C(X,{get when(){return w.process.isNesting},get children(){var d=ly(),u=d.firstChild,g=u.firstChild,x=u.nextSibling,m=x.firstChild;return i(x,()=>r().toFixed(1),m),F(_=>(_=`${r()}%`)!=null?g.style.setProperty("width",_):g.style.removeProperty("width")),d}}),null),i(c,C(X,{get when(){return w.process.workerStatus.threadsActive>0},get children(){var d=cy(),u=d.firstChild,g=u.nextSibling,x=g.firstChild;return i(g,()=>w.process.workerStatus.threadsActive,x),d}}),null),i(c,C(X,{get when(){return w.app.parts.length>0},get children(){var d=dy(),u=d.firstChild,g=u.nextSibling,x=g.firstChild;return i(g,()=>w.app.parts.length,x),d}}),null),i(c,C(X,{get when(){return w.app.nests.length>0},get children(){var d=gy(),u=d.firstChild,g=u.nextSibling,x=g.firstChild;return i(g,()=>w.app.nests.length,x),d}}),null),i(c,C(X,{get when(){return w.process.lastError},get children(){var d=uy(),u=d.firstChild,g=u.nextSibling;return i(g,()=>w.process.lastError),d}}),null),F(()=>ye(l,`w-2 h-2 rounded-full ${w.process.isNesting?"bg-blue-500 animate-pulse":w.process.lastError?"bg-red-500":"bg-green-500"}`)),s})()};var py=L('<div><div class="flex-shrink-0 h-full w-full"></div><div title="Drag to resize panels"><div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-1 h-8 bg-gray-400 dark:bg-gray-500 group-hover:bg-blue-300 dark:group-hover:bg-blue-300 rounded-full transition-colors duration-200"></div><div class="absolute -left-1 -right-1 top-0 bottom-0 opacity-0 group-hover:opacity-100 transition-opacity duration-200"><div class="w-full h-full bg-blue-500/20 dark:bg-blue-400/20"></div></div></div><div class="flex-1 h-full min-w-0 w-full">');const my=t=>{const{minLeftWidth:e=250,maxLeftWidth:r=500,defaultLeftWidth:s=300}=t,[n,a]=J(!1),[l,o]=J(w.ui.panels.partsWidth||s);let c,d;const u=m=>{m.preventDefault(),a(!0),document.addEventListener("mousemove",g),document.addEventListener("mouseup",x),document.body.style.cursor="col-resize",document.body.style.userSelect="none"},g=m=>{if(!n()||!c)return;const _=c.getBoundingClientRect(),b=m.clientX-_.left,y=Math.max(e,Math.min(r,b));o(y),O.setPanelWidth("partsWidth",y)},x=()=>{a(!1),document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",x),document.body.style.cursor="",document.body.style.userSelect=""};return or(()=>{o(w.ui.panels.partsWidth||s)}),Xe(()=>{document.removeEventListener("mousemove",g),document.removeEventListener("mouseup",x),document.body.style.cursor="",document.body.style.userSelect=""}),(()=>{var m=py(),_=m.firstChild,b=_.nextSibling,y=b.nextSibling,M=c;typeof M=="function"?Jt(M,m):c=m,i(_,()=>t.left),b.$$mousedown=u;var E=d;return typeof E=="function"?Jt(E,b):d=b,i(y,()=>t.right),F(k=>{var S=`flex h-full w-full ${n()?"select-none":""}`,A=`${l()}px`,I=`w-1 bg-gray-200 dark:bg-gray-700 hover:bg-blue-500 dark:hover:bg-blue-400 cursor-col-resize transition-colors duration-200 relative group ${n()?"bg-blue-500 dark:bg-blue-400":""}`;return S!==k.e&&ye(m,k.e=S),A!==k.t&&((k.t=A)!=null?_.style.setProperty("width",A):_.style.removeProperty("width")),I!==k.a&&ye(b,k.a=I),k},{e:void 0,t:void 0,a:void 0}),m})()};Ee(["mousedown"]);var by=L('<div class="h-screen flex flex-col bg-gray-50 text-gray-900 dark:bg-gray-900 dark:text-gray-100"><div class="flex-1 flex overflow-hidden">');const xy=()=>(()=>{var t=by(),e=t.firstChild;return i(t,C(Fb,{}),e),i(e,C(my,{get left(){return C(Bb,{})},get right(){return C(oy,{})},minLeftWidth:200,maxLeftWidth:600,defaultLeftWidth:300})),i(t,C(hy,{}),null),t})();var _y=L('<div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50"><div class="bg-white dark:bg-gray-800 rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-hidden"><div class="px-6 py-4 border-b border-gray-200 dark:border-gray-700 flex items-center justify-between"><div class="flex items-center gap-3"><div class="w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center"><svg class="w-5 h-5 text-blue-600 dark:text-blue-400"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 100 4m0-4v2m0-6V4"></path></svg></div><div><h2 class="text-xl font-semibold text-gray-900 dark:text-gray-100">Keyboard Shortcuts</h2><p class="text-sm text-gray-500 dark:text-gray-400">Navigate and control the application using keyboard shortcuts</p></div></div><button class="p-2 text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg transition-colors duration-200"><svg class="w-5 h-5"fill=none stroke=currentColor viewBox="0 0 24 24"><path stroke-linecap=round stroke-linejoin=round stroke-width=2 d="M6 18L18 6M6 6l12 12"></path></svg></button></div><div class="p-6 overflow-y-auto max-h-[calc(90vh-120px)]"><div class="grid grid-cols-1 lg:grid-cols-2 gap-6"></div></div><div class="px-6 py-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-700/50"><div class="flex items-center justify-between"><p class="text-sm text-gray-500 dark:text-gray-400">Press <kbd class="px-2 py-1 bg-white dark:bg-gray-600 border border-gray-200 dark:border-gray-500 rounded text-xs font-mono text-gray-600 dark:text-gray-300 shadow-sm">?</kbd> anytime to show this help</p><button class="px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white font-medium rounded-lg transition-colors duration-200">Close'),yy=L('<div class=space-y-3><h3 class="text-lg font-semibold text-gray-900 dark:text-gray-100 border-b border-gray-200 dark:border-gray-700 pb-2"></h3><div class=space-y-2>'),vy=L('<div class="flex items-center justify-between py-2 px-3 bg-gray-50 dark:bg-gray-700/50 rounded-lg"><span class="text-sm text-gray-700 dark:text-gray-300"></span><div class="flex items-center gap-1">'),$y=L('<span class="text-xs text-gray-400 dark:text-gray-500">+'),ky=L('<kbd class="px-2 py-1 bg-white dark:bg-gray-600 border border-gray-200 dark:border-gray-500 rounded text-xs font-mono text-gray-600 dark:text-gray-300 shadow-sm">');const wy=t=>{const[e]=Ce("common"),r=[{title:"Navigation",shortcuts:t.shortcuts.filter(n=>n.description.toLowerCase().includes("nav")||n.description.toLowerCase().includes("switch")||n.description.toLowerCase().includes("tab"))},{title:"Selection",shortcuts:t.shortcuts.filter(n=>n.description.toLowerCase().includes("select")||n.description.toLowerCase().includes("deselect"))},{title:"Actions",shortcuts:t.shortcuts.filter(n=>n.description.toLowerCase().includes("duplicate")||n.description.toLowerCase().includes("delete")||n.description.toLowerCase().includes("export")||n.description.toLowerCase().includes("import")||n.description.toLowerCase().includes("save"))},{title:"Viewport",shortcuts:t.shortcuts.filter(n=>n.description.toLowerCase().includes("zoom")||n.description.toLowerCase().includes("pan")||n.description.toLowerCase().includes("fit")||n.description.toLowerCase().includes("reset"))},{title:"General",shortcuts:t.shortcuts.filter(n=>!n.description.toLowerCase().includes("nav")&&!n.description.toLowerCase().includes("switch")&&!n.description.toLowerCase().includes("tab")&&!n.description.toLowerCase().includes("select")&&!n.description.toLowerCase().includes("deselect")&&!n.description.toLowerCase().includes("duplicate")&&!n.description.toLowerCase().includes("delete")&&!n.description.toLowerCase().includes("export")&&!n.description.toLowerCase().includes("import")&&!n.description.toLowerCase().includes("save")&&!n.description.toLowerCase().includes("zoom")&&!n.description.toLowerCase().includes("pan")&&!n.description.toLowerCase().includes("fit")&&!n.description.toLowerCase().includes("reset"))}].filter(n=>n.shortcuts.length>0),s=n=>{n.target===n.currentTarget&&t.onClose()};return C(X,{get when(){return t.isOpen},get children(){return C(os,{get children(){var n=_y(),a=n.firstChild,l=a.firstChild,o=l.firstChild,c=o.nextSibling,d=l.nextSibling,u=d.firstChild,g=d.nextSibling,x=g.firstChild,m=x.firstChild,_=m.nextSibling;return n.$$click=s,Le(c,"click",t.onClose,!0),i(u,C(Te,{each:r,children:b=>(()=>{var y=yy(),M=y.firstChild,E=M.nextSibling;return i(M,()=>b.title),i(E,C(Te,{get each(){return b.shortcuts},children:k=>(()=>{var S=vy(),A=S.firstChild,I=A.nextSibling;return i(A,()=>k.description),i(I,C(Te,{get each(){return Rb(k).split(" + ")},children:(R,T)=>[C(X,{get when(){return T()>0},get children(){return $y()}}),(()=>{var h=ky();return i(h,R),h})()]})),S})()})),y})()})),Le(_,"click",t.onClose,!0),n}})}})};Ee(["click"]);var Sy=L('<div class="app min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100 transition-colors duration-200">');const Cy=()=>{const[t]=Ce("common"),[e,r]=J(!1),s=Nb([Be("?",()=>r(!0),"Show keyboard shortcuts help"),Be("Escape",()=>r(!1),"Close modal/dialog"),Be("1",()=>O.setCurrentPanel("parts"),"Switch to Parts panel",{ctrl:!0}),Be("2",()=>O.setCurrentPanel("nests"),"Switch to Nests panel",{ctrl:!0}),Be("3",()=>O.setCurrentPanel("sheets"),"Switch to Sheets panel",{ctrl:!0}),Be("4",()=>O.setCurrentPanel("settings"),"Switch to Settings panel",{ctrl:!0}),Be("5",()=>O.setCurrentPanel("imprint"),"Switch to Imprint panel",{ctrl:!0}),Be("n",()=>O.startNesting(),"Start nesting",{ctrl:!0}),Be("s",()=>{console.log("Save shortcut triggered")},"Save current state",{ctrl:!0}),Be("i",()=>{console.log("Import shortcut triggered")},"Import parts",{ctrl:!0}),Be("e",()=>{console.log("Export shortcut triggered")},"Export results",{ctrl:!0}),Be("d",()=>O.toggleDarkMode(),"Toggle dark mode",{ctrl:!0,shift:!0}),Be("r",()=>{console.log("Reset view shortcut triggered")},"Reset viewport",{ctrl:!0}),Be("f",()=>{console.log("Fit to content shortcut triggered")},"Fit viewport to content",{ctrl:!0})]);qe(()=>{const a=w.ui.darkMode;typeof document<"u"&&(document.documentElement.classList.toggle("dark",a),document.documentElement.setAttribute("data-theme",a?"dark":"light"))}),or(async()=>{if(n(),ae.isAvailable)try{const a=await ae.readConfig();O.updateConfig(a)}catch(a){console.warn("Failed to load initial config:",a)}});const n=()=>{ae.isAvailable&&(ae.onNestProgress(a=>{O.setNestingProgress(a)}),ae.onNestComplete(a=>{O.setNests(a),O.setNestingStatus(!1)}),ae.onBackgroundProgress(a=>{O.setNestingProgress(a.progress)}),ae.onWorkerStatus(a=>{O.setWorkerStatus(a)}),ae.onNestError(a=>{O.setError(a),O.setNestingStatus(!1)}))};return(()=>{var a=Sy();return i(a,C(xy,{}),null),i(a,C(wy,{get isOpen(){return e()},onClose:()=>r(!1),get shortcuts(){return s.shortcuts}}),null),a})()},Py=document.getElementById("root"),[,{isReady:Ly}]=Ce("common");zs(()=>C(Eb,{get children(){return C(X,{get when(){return Ly()},get children(){return C(Cy,{})}})}}),Py);
